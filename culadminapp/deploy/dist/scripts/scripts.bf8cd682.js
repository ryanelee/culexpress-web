window.Modernizr=function(a,b,c){function d(a){t.cssText=a}function e(a,b){return d(w.join(a+";")+(b||""))}function f(a,b){return typeof a===b}function g(a,b){return!!~(""+a).indexOf(b)}function h(a,b){for(var d in a){var e=a[d];if(!g(e,"-")&&t[e]!==c)return"pfx"==b?e:!0}return!1}function i(a,b,d){for(var e in a){var g=b[a[e]];if(g!==c)return d===!1?a[e]:f(g,"function")?g.bind(d||b):g}return!1}function j(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+y.join(d+" ")+d).split(" ");return f(b,"string")||f(b,"undefined")?h(e,b):(e=(a+" "+z.join(d+" ")+d).split(" "),i(e,b,c))}function k(){o.input=function(c){for(var d=0,e=c.length;e>d;d++)C[c[d]]=c[d]in u;return C.list&&(C.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),C}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),o.inputtypes=function(a){for(var d,e,f,g=0,h=a.length;h>g;g++)u.setAttribute("type",e=a[g]),d="text"!==u.type,d&&(u.value=v,u.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(e)&&u.style.WebkitAppearance!==c?(q.appendChild(u),f=b.defaultView,d=f.getComputedStyle&&"textfield"!==f.getComputedStyle(u,null).WebkitAppearance&&0!==u.offsetHeight,q.removeChild(u)):/^(search|tel)$/.test(e)||(d=/^(url|email)$/.test(e)?u.checkValidity&&u.checkValidity()===!1:u.value!=v)),B[a[g]]=!!d;return B}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var l,m,n="2.6.2",o={},p=!0,q=b.documentElement,r="modernizr",s=b.createElement(r),t=s.style,u=b.createElement("input"),v=":)",w=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),x="Webkit Moz O ms",y=x.split(" "),z=x.toLowerCase().split(" "),A={},B={},C={},D=[],E=D.slice,F=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:r+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',r,'">',a,"</style>"].join(""),j.id=r,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=q.style.overflow,q.style.overflow="hidden",q.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),q.style.overflow=i),!!g},G=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b).matches;var d;return F("@media "+b+" { #"+r+" { position: absolute; } }",function(b){d="absolute"==(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).position}),d},H=function(){function a(a,e){e=e||b.createElement(d[a]||"div"),a="on"+a;var g=a in e;return g||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(a,""),g=f(e[a],"function"),f(e[a],"undefined")||(e[a]=c),e.removeAttribute(a))),e=null,g}var d={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return a}(),I={}.hasOwnProperty;m=f(I,"undefined")||f(I.call,"undefined")?function(a,b){return b in a&&f(a.constructor.prototype[b],"undefined")}:function(a,b){return I.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=E.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(E.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(E.call(arguments)))};return d}),A.flexbox=function(){return j("flexWrap")},A.flexboxlegacy=function(){return j("boxDirection")},A.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},A.canvastext=function(){return!!o.canvas&&!!f(b.createElement("canvas").getContext("2d").fillText,"function")},A.postmessage=function(){return!!a.postMessage},A.websqldatabase=function(){return!!a.openDatabase},A.indexedDB=function(){return!!j("indexedDB",a)},A.hashchange=function(){return H("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},A.history=function(){return!!a.history&&!!history.pushState},A.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},A.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a},A.rgba=function(){return d("background-color:rgba(150,255,150,.5)"),g(t.backgroundColor,"rgba")},A.hsla=function(){return d("background-color:hsla(120,40%,100%,.5)"),g(t.backgroundColor,"rgba")||g(t.backgroundColor,"hsla")},A.multiplebgs=function(){return d("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(t.background)},A.backgroundsize=function(){return j("backgroundSize")},A.borderimage=function(){return j("borderImage")},A.borderradius=function(){return j("borderRadius")},A.boxshadow=function(){return j("boxShadow")},A.textshadow=function(){return""===b.createElement("div").style.textShadow},A.opacity=function(){return e("opacity:.55"),/^0.55$/.test(t.opacity)},A.cssanimations=function(){return j("animationName")},A.csscolumns=function(){return j("columnCount")},A.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return d((a+"-webkit- ".split(" ").join(b+a)+w.join(c+a)).slice(0,-a.length)),g(t.backgroundImage,"gradient")},A.cssreflections=function(){return j("boxReflect")},A.csstransforms=function(){return!!j("transform")},A.csstransforms3d=function(){var a=!!j("perspective");return a&&"webkitPerspective"in q.style&&F("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=9===b.offsetLeft&&3===b.offsetHeight}),a},A.csstransitions=function(){return j("transition")},A.fontface=function(){var a;return F('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&0===g.indexOf(d.split(" ")[0])}),a},A.generatedcontent=function(){var a;return F(["#",r,"{font:0/0 a}#",r,':after{content:"',v,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a},A.video=function(){var a=b.createElement("video"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(d){}return c},A.audio=function(){var a=b.createElement("audio"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(d){}return c},A.localstorage=function(){try{return localStorage.setItem(r,r),localStorage.removeItem(r),!0}catch(a){return!1}},A.sessionstorage=function(){try{return sessionStorage.setItem(r,r),sessionStorage.removeItem(r),!0}catch(a){return!1}},A.webworkers=function(){return!!a.Worker},A.applicationcache=function(){return!!a.applicationCache};for(var J in A)m(A,J)&&(l=J.toLowerCase(),o[l]=A[J](),D.push((o[l]?"":"no-")+l));return o.input||k(),o.addTest=function(a,b){if("object"==typeof a)for(var d in a)m(a,d)&&o.addTest(d,a[d]);else{if(a=a.toLowerCase(),o[a]!==c)return o;b="function"==typeof b?b():b,"undefined"!=typeof p&&p&&(q.className+=" "+(b?"":"no-")+a),o[a]=b}return o},d(""),s=u=null,function(a,b){function c(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function d(){var a=r.elements;return"string"==typeof a?a.split(" "):a}function e(a){var b=q[a[o]];return b||(b={},p++,a[o]=p,q[p]=b),b}function f(a,c,d){if(c||(c=b),k)return c.createElement(a);d||(d=e(c));var f;return f=d.cache[a]?d.cache[a].cloneNode():n.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a),f.canHaveChildren&&!m.test(a)?d.frag.appendChild(f):f}function g(a,c){if(a||(a=b),k)return a.createDocumentFragment();c=c||e(a);for(var f=c.frag.cloneNode(),g=0,h=d(),i=h.length;i>g;g++)f.createElement(h[g]);return f}function h(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return r.shivMethods?f(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(r,b.frag)}function i(a){a||(a=b);var d=e(a);return r.shivCSS&&!j&&!d.hasCSS&&(d.hasCSS=!!c(a,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),k||h(a,d),a}var j,k,l=a.html5||{},m=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,n=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,o="_html5shiv",p=0,q={};!function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",j="hidden"in a,k=1==a.childNodes.length||function(){b.createElement("a");var a=b.createDocumentFragment();return"undefined"==typeof a.cloneNode||"undefined"==typeof a.createDocumentFragment||"undefined"==typeof a.createElement}()}catch(c){j=!0,k=!0}}();var r={elements:l.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:l.shivCSS!==!1,supportsUnknownElements:k,shivMethods:l.shivMethods!==!1,type:"default",shivDocument:i,createElement:f,createDocumentFragment:g};a.html5=r,i(b)}(this,b),o._version=n,o._prefixes=w,o._domPrefixes=z,o._cssomPrefixes=y,o.mq=G,o.hasEvent=H,o.testProp=function(a){return h([a])},o.testAllProps=j,o.testStyles=F,q.className=q.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+D.join(" "):""),o}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==q.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=r.shift();s=1,a?a.t?o(function(){("c"==a.t?m.injectCss:m.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):s=0}function i(a,c,d,e,f,i,j){function k(b){if(!n&&g(l.readyState)&&(t.r=n=1,!s&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&o(function(){v.removeChild(l)},50);for(var d in A[c])A[c].hasOwnProperty(d)&&A[c][d].onload()}}var j=j||m.errorTimeout,l=b.createElement(a),n=0,q=0,t={t:d,s:c,e:f,a:i,x:j};1===A[c]&&(q=1,A[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,q)},r.splice(e,0,t),"img"!=a&&(q||2===A[c]?(v.insertBefore(l,u?null:p),o(k,j)):A[c].push(l))}function j(a,b,c,d,f){return s=0,b=b||"j",e(a)?i("c"==b?x:w,a,b,this.i++,c,d,f):(r.splice(this.i++,0,a),1==r.length&&h()),this}function k(){var a=m;return a.loader={load:j,i:0},a}var l,m,n=b.documentElement,o=a.setTimeout,p=b.getElementsByTagName("script")[0],q={}.toString,r=[],s=0,t="MozAppearance"in n.style,u=t&&!!b.createRange().compareNode,v=u?n:p.parentNode,n=a.opera&&"[object Opera]"==q.call(a.opera),n=!!b.attachEvent&&!n,w=t?"object":n?"script":"img",x=n?"script":w,y=Array.isArray||function(a){return"[object Array]"==q.call(a)},z=[],A={},B={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}};m=function(a){function b(a){var b,c,d,a=a.split("!"),e=z.length,f=a.pop(),g=a.length,f={url:f,origUrl:f,prefixes:a};for(c=0;g>c;c++)d=a[c].split("="),(b=B[d.shift()])&&(f=b(f,d));for(c=0;e>c;c++)f=z[c](f);return f}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(A[i.url]?i.noexec=!0:A[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),A[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(l=function(){var a=[].slice.call(arguments);m.apply(this,a),n()}),g(a,l,b,0,j);else if(Object(a)===a)for(i in h=function(){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c}(),a)a.hasOwnProperty(i)&&(!c&&!--h&&(d(l)?l=function(){var a=[].slice.call(arguments);m.apply(this,a),n()}:l[i]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),n()}}(m[i])),g(a[i],l,b,i,j))}else!c&&n()}var h,i,j=!!a.test,k=a.load||a.both,l=a.callback||f,m=l,n=a.complete||f;c(j?a.yep:a.nope,!!k),k&&c(k)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(y(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):y(j)?m(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},m.addPrefix=function(a,b){B[a]=b},m.addFilter=function(a){z.push(a)},m.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",l=function(){b.removeEventListener("DOMContentLoaded",l,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k,l,n=b.createElement("script"),e=e||m.errorTimeout;n.src=a;for(l in d)n.setAttribute(l,d[l]);c=j?h:c||f,n.onreadystatechange=n.onload=function(){!k&&g(n.readyState)&&(k=1,c(),n.onload=n.onreadystatechange=null)},o(function(){k||(k=1,c(1))},e),i?n.onload():p.parentNode.insertBefore(n,p)},a.yepnope.injectCss=function(a,c,d,e,g,i){var j,e=b.createElement("link"),c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(p.parentNode.insertBefore(e,p),o(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(a,b){var c,d;return d=b.document,c=function(){function c(c){this._options=a.extend({name:"tour",steps:[],container:"body",keyboard:!0,storage:b.localStorage,debug:!1,backdrop:!1,redirect:!0,orphan:!1,duration:!1,basePath:"",template:"<div class='popover'> <div class='arrow'></div> <h3 class='popover-title'></h3> <div class='popover-content'></div> <div class='popover-navigation'> <div class='btn-group'> <button class='btn btn-sm btn-default' data-role='prev'>&laquo; Prev</button> <button class='btn btn-sm btn-default' data-role='next'>Next &raquo;</button> <button class='btn btn-sm btn-default' data-role='pause-resume' data-pause-text='Pause' data-resume-text='Resume'>Pause</button> </div> <button class='btn btn-sm btn-default' data-role='end'>End tour</button> </div> </div>",afterSetState:function(a,b){},afterGetState:function(a,b){},afterRemoveState:function(a){},onStart:function(a){},onEnd:function(a){},onShow:function(a){},onShown:function(a){},onHide:function(a){},onHidden:function(a){},onNext:function(a){},onPrev:function(a){},onPause:function(a,b){},onResume:function(a,b){}},c),this._force=!1,this._inited=!1,this.backdrop={overlay:null,$element:null,$background:null,backgroundShown:!1,overlayElementShown:!1}}return c.prototype.addSteps=function(a){var b,c,d;for(c=0,d=a.length;d>c;c++)b=a[c],this.addStep(b);return this},c.prototype.addStep=function(a){return this._options.steps.push(a),this},c.prototype.getStep=function(b){return null!=this._options.steps[b]?a.extend({id:"step-"+b,path:"",placement:"right",title:"",content:"<p></p>",next:b===this._options.steps.length-1?-1:b+1,prev:b-1,animation:!0,container:this._options.container,backdrop:this._options.backdrop,redirect:this._options.redirect,orphan:this._options.orphan,duration:this._options.duration,template:this._options.template,onShow:this._options.onShow,onShown:this._options.onShown,onHide:this._options.onHide,onHidden:this._options.onHidden,onNext:this._options.onNext,onPrev:this._options.onPrev,onPause:this._options.onPause,onResume:this._options.onResume},this._options.steps[b]):void 0},c.prototype.init=function(a){return this._force=a,this.ended()?(this._debug("Tour ended, init prevented."),this):(this.setCurrentStep(),this._initMouseNavigation(),this._initKeyboardNavigation(),this._onResize(function(a){return function(){return a.showStep(a._current)}}(this)),null!==this._current&&this.showStep(this._current),this._inited=!0,this)},c.prototype.start=function(a){var b;return null==a&&(a=!1),this._inited||this.init(a),null===this._current&&(b=this._makePromise(null!=this._options.onStart?this._options.onStart(this):void 0),this._callOnPromiseDone(b,this.showStep,0)),this},c.prototype.next=function(){var a;return a=this.hideStep(this._current),this._callOnPromiseDone(a,this._showNextStep)},c.prototype.prev=function(){var a;return a=this.hideStep(this._current),this._callOnPromiseDone(a,this._showPrevStep)},c.prototype.goTo=function(a){var b;return b=this.hideStep(this._current),this._callOnPromiseDone(b,this.showStep,a)},c.prototype.end=function(){var c,e;return c=function(c){return function(e){return a(d).off("click.tour-"+c._options.name),a(d).off("keyup.tour-"+c._options.name),a(b).off("resize.tour-"+c._options.name),c._setState("end","yes"),c._inited=!1,c._force=!1,c._clearTimer(),null!=c._options.onEnd?c._options.onEnd(c):void 0}}(this),e=this.hideStep(this._current),this._callOnPromiseDone(e,c)},c.prototype.ended=function(){return!this._force&&!!this._getState("end")},c.prototype.restart=function(){return this._removeState("current_step"),this._removeState("end"),this.setCurrentStep(0),this.start()},c.prototype.pause=function(){var a;return a=this.getStep(this._current),a&&a.duration?(this._paused=!0,this._duration-=(new Date).getTime()-this._start,b.clearTimeout(this._timer),this._debug("Paused/Stopped step "+(this._current+1)+" timer ("+this._duration+" remaining)."),null!=a.onPause?a.onPause(this,this._duration):void 0):this},c.prototype.resume=function(){var a;return a=this.getStep(this._current),a&&a.duration?(this._paused=!1,this._start=(new Date).getTime(),this._duration=this._duration||a.duration,this._timer=b.setTimeout(function(a){return function(){return a._isLast()?a.next():a.end()}}(this),this._duration),this._debug("Started step "+(this._current+1)+" timer with duration "+this._duration),null!=a.onResume&&this._duration!==a.duration?a.onResume(this,this._duration):void 0):this},c.prototype.hideStep=function(b){var c,d,e;return(e=this.getStep(b))?(this._clearTimer(),d=this._makePromise(null!=e.onHide?e.onHide(this,b):void 0),c=function(c){return function(d){var f;return f=a(e.element),f.data("bs.popover")||f.data("popover")||(f=a("body")),f.popover("destroy").removeClass("tour-"+c._options.name+"-element tour-"+c._options.name+"-"+b+"-element"),e.reflex&&f.css("cursor","").off("click.tour-"+c._options.name),e.backdrop&&c._hideBackdrop(),null!=e.onHidden?e.onHidden(c):void 0}}(this),this._callOnPromiseDone(d,c),d):void 0},c.prototype.showStep=function(a){var b,c,e,f;return this.ended()?(this._debug("Tour ended, showStep prevented."),this):(f=this.getStep(a))?(e=a<this._current,b=this._makePromise(null!=f.onShow?f.onShow(this,a):void 0),c=function(b){return function(c){var g,h;if(b.setCurrentStep(a),h=function(){switch({}.toString.call(f.path)){case"[object Function]":return f.path();case"[object String]":return this._options.basePath+f.path;default:return f.path}}.call(b),g=[d.location.pathname,d.location.hash].join(""),b._isRedirect(h,g))return void b._redirect(f,h);if(b._isOrphan(f)){if(!f.orphan)return b._debug("Skip the orphan step "+(b._current+1)+". Orphan option is false and the element doesn't exist or is hidden."),void(e?b._showPrevStep():b._showNextStep());b._debug("Show the orphan step "+(b._current+1)+". Orphans option is true.")}return f.backdrop&&b._showBackdrop(b._isOrphan(f)?void 0:f.element),b._scrollIntoView(f.element,function(){return null!=f.element&&f.backdrop&&b._showOverlayElement(f.element),b._showPopover(f,a),null!=f.onShown&&f.onShown(b),b._debug("Step "+(b._current+1)+" of "+b._options.steps.length)}),f.duration?b.resume():void 0}}(this),this._callOnPromiseDone(b,c),b):void 0},c.prototype.getCurrentStep=function(){return this._current},c.prototype.setCurrentStep=function(a){return null!=a?(this._current=a,this._setState("current_step",a)):(this._current=this._getState("current_step"),this._current=null===this._current?null:parseInt(this._current,10)),this},c.prototype._setState=function(a,b){var c,d;if(this._options.storage){d=""+this._options.name+"_"+a;try{this._options.storage.setItem(d,b)}catch(e){c=e,c.code===DOMException.QUOTA_EXCEEDED_ERR&&this.debug("LocalStorage quota exceeded. State storage failed.")}return this._options.afterSetState(d,b)}return null==this._state&&(this._state={}),this._state[a]=b},c.prototype._removeState=function(a){var b;return this._options.storage?(b=""+this._options.name+"_"+a,this._options.storage.removeItem(b),this._options.afterRemoveState(b)):null!=this._state?delete this._state[a]:void 0},c.prototype._getState=function(a){var b,c;return this._options.storage?(b=""+this._options.name+"_"+a,c=this._options.storage.getItem(b)):null!=this._state&&(c=this._state[a]),(void 0===c||"null"===c)&&(c=null),this._options.afterGetState(a,c),c},c.prototype._showNextStep=function(){var a,b,c;return c=this.getStep(this._current),b=function(a){return function(b){return a.showStep(c.next)}}(this),a=this._makePromise(null!=c.onNext?c.onNext(this):void 0),this._callOnPromiseDone(a,b)},c.prototype._showPrevStep=function(){var a,b,c;return c=this.getStep(this._current),b=function(a){return function(b){return a.showStep(c.prev)}}(this),a=this._makePromise(null!=c.onPrev?c.onPrev(this):void 0),this._callOnPromiseDone(a,b)},c.prototype._debug=function(a){return this._options.debug?b.console.log("Bootstrap Tour '"+this._options.name+"' | "+a):void 0},c.prototype._isRedirect=function(a,b){return null!=a&&""!==a&&("[object RegExp]"===Object.prototype.toString.call(a)&&!a.test(b)||"[object String]"===Object.prototype.toString.call(a)&&a.replace(/\?.*$/,"").replace(/\/?$/,"")!==b.replace(/\/?$/,""))},c.prototype._redirect=function(b,c){return a.isFunction(b.redirect)?b.redirect.call(this,c):b.redirect===!0?(this._debug("Redirect to "+c),d.location.href=c):void 0},c.prototype._isOrphan=function(b){return null==b.element||!a(b.element).length||a(b.element).is(":hidden")&&"http://www.w3.org/2000/svg"!==a(b.element)[0].namespaceURI},c.prototype._isLast=function(){return this._current<this._options.steps.length-1},c.prototype._showPopover=function(b,c){var d,e,f,g,h,i;return i=a.extend({},this._options),f=a(a.isFunction(b.template)?b.template(c,b):b.template),e=f.find(".popover-navigation"),h=this._isOrphan(b),h&&(b.element="body",b.placement="top",f=f.addClass("orphan")),d=a(b.element),f.addClass("tour-"+this._options.name+" tour-"+this._options.name+"-"+c),d.addClass("tour-"+this._options.name+"-element tour-"+this._options.name+"-"+c+"-element"),b.options&&a.extend(i,b.options),b.reflex&&d.css("cursor","pointer").on("click.tour-"+this._options.name,function(a){return function(){return a._isLast()?a.next():a.end()}}(this)),b.prev<0&&e.find("[data-role='prev']").addClass("disabled"),b.next<0&&e.find("[data-role='next']").addClass("disabled"),b.duration||e.find("[data-role='pause-resume']").remove(),b.template=f.clone().wrap("<div>").parent().html(),d.popover({placement:b.placement,trigger:"manual",title:b.title,content:b.content,html:!0,animation:b.animation,container:b.container,template:b.template,selector:b.element}).popover("show"),g=d.data("bs.popover")?d.data("bs.popover").tip():d.data("popover").tip(),g.attr("id",b.id),this._reposition(g,b),h?this._center(g):void 0},c.prototype._reposition=function(b,c){var e,f,g,h,i,j,k;if(h=b[0].offsetWidth,f=b[0].offsetHeight,k=b.offset(),i=k.left,j=k.top,e=a(d).outerHeight()-k.top-b.outerHeight(),0>e&&(k.top=k.top+e),g=a("html").outerWidth()-k.left-b.outerWidth(),0>g&&(k.left=k.left+g),k.top<0&&(k.top=0),k.left<0&&(k.left=0),b.offset(k),"bottom"===c.placement||"top"===c.placement){if(i!==k.left)return this._replaceArrow(b,2*(k.left-i),h,"left")}else if(j!==k.top)return this._replaceArrow(b,2*(k.top-j),f,"top")},c.prototype._center=function(c){return c.css("top",a(b).outerHeight()/2-c.outerHeight()/2)},c.prototype._replaceArrow=function(a,b,c,d){return a.find(".arrow").css(d,b?50*(1-b/c)+"%":"")},c.prototype._scrollIntoView=function(c,d){var e,f,g,h,i,j;return e=a(c),e.length?(f=a(b),h=e.offset().top,j=f.height(),i=Math.max(0,h-j/2),this._debug("Scroll into view. ScrollTop: "+i+". Element offset: "+h+". Window height: "+j+"."),g=0,a("body,html").stop(!0,!0).animate({scrollTop:Math.ceil(i)},function(a){return function(){return 2===++g?(d(),a._debug("Scroll into view. Animation end element offset: "+e.offset().top+". Window height: "+f.height()+".")):void 0}}(this))):d()},c.prototype._onResize=function(c,d){return a(b).on("resize.tour-"+this._options.name,function(){return clearTimeout(d),d=setTimeout(c,100)})},c.prototype._initMouseNavigation=function(){var b;return b=this,a(d).off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']:not(.disabled)").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']:not(.disabled)").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']").on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']:not(.disabled)",function(a){return function(b){return b.preventDefault(),a.next()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']:not(.disabled)",function(a){return function(b){return b.preventDefault(),a.prev()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']",function(a){return function(b){return b.preventDefault(),a.end()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']",function(c){var d;return c.preventDefault(),d=a(this),d.text(b._paused?d.data("pause-text"):d.data("resume-text")),b._paused?b.resume():b.pause()})},c.prototype._initKeyboardNavigation=function(){return this._options.keyboard?a(d).on("keyup.tour-"+this._options.name,function(a){return function(b){if(b.which)switch(b.which){case 39:return b.preventDefault(),a._isLast()?a.next():a.end();case 37:if(b.preventDefault(),a._current>0)return a.prev();break;case 27:return b.preventDefault(),a.end()}}}(this)):void 0},c.prototype._makePromise=function(b){return b&&a.isFunction(b.then)?b:null},c.prototype._callOnPromiseDone=function(a,b,c){return a?a.then(function(a){return function(d){return b.call(a,c)}}(this)):b.call(this,c)},c.prototype._showBackdrop=function(b){return this.backdrop.backgroundShown?void 0:(this.backdrop=a("<div/>",{"class":"tour-backdrop"}),this.backdrop.backgroundShown=!0,a("body").append(this.backdrop))},c.prototype._hideBackdrop=function(){return this._hideOverlayElement(),this._hideBackground()},c.prototype._hideBackground=function(){return this.backdrop.remove(),this.backdrop.overlay=null,this.backdrop.backgroundShown=!1},c.prototype._showOverlayElement=function(b){var c,d,e;return d=a(b),d&&0!==d.length&&!this.backdrop.overlayElementShown?(this.backdrop.overlayElementShown=!0,c=a("<div/>"),e=d.offset(),e.top=e.top,e.left=e.left,c.width(d.innerWidth()).height(d.innerHeight()).addClass("tour-step-background").offset(e),d.addClass("tour-step-backdrop"),a("body").append(c),this.backdrop.$element=d,this.backdrop.$background=c):void 0},c.prototype._hideOverlayElement=function(){return this.backdrop.overlayElementShown?(this.backdrop.$element.removeClass("tour-step-backdrop"),this.backdrop.$background.remove(),this.backdrop.$element=null,this.backdrop.$background=null,this.backdrop.overlayElementShown=!1):void 0},c.prototype._clearTimer=function(){return b.clearTimeout(this._timer),this._timer=null,this._duration=null},c}(),b.Tour=c}(jQuery,window),!function(a){"use strict";a.fn.bootstrapSwitch=function(b){var c='input[type!="hidden"]',d={init:function(){return this.each(function(){var b,d,e,f,g,h,i=a(this),j=i.closest("form"),k="",l=i.attr("class"),m="ON",n="OFF",o=!1,p=!1;a.each(["switch-mini","switch-small","switch-large"],function(a,b){l.indexOf(b)>=0&&(k=b)}),i.addClass("has-switch"),void 0!==i.data("on")&&(g="switch-"+i.data("on")),void 0!==i.data("on-label")&&(m=i.data("on-label")),void 0!==i.data("off-label")&&(n=i.data("off-label")),void 0!==i.data("label-icon")&&(o=i.data("label-icon")),void 0!==i.data("text-label")&&(p=i.data("text-label")),d=a("<span>").addClass("switch-left").addClass(k).addClass(g).html(""+m),g="",void 0!==i.data("off")&&(g="switch-"+i.data("off")),e=a("<span>").addClass("switch-right").addClass(k).addClass(g).html(""+n),f=a("<label>").html("&nbsp;").addClass(k).attr("for",i.find(c).attr("id")),o&&f.html('<i class="icon '+o+'"></i>'),p&&f.html(""+p),b=i.find(c).wrap(a("<div>")).parent().data("animated",!1),i.data("animated")!==!1&&b.addClass("switch-animate").data("animated",!0),b.append(d).append(f).append(e),i.find(">div").addClass(i.find(c).is(":checked")?"switch-on":"switch-off"),i.find(c).is(":disabled")&&a(this).addClass("deactivate");var q=function(a){i.parent("label").is(".label-change-switch")||a.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};i.on("keydown",function(b){32===b.keyCode&&(b.stopImmediatePropagation(),b.preventDefault(),q(a(b.target).find("span:first")))}),d.on("click",function(b){q(a(this))}),e.on("click",function(b){q(a(this))}),i.find(c).on("change",function(b,c){var d=a(this),e=d.parent(),f=d.is(":checked"),g=e.is(".switch-off");if(b.preventDefault(),e.css("left",""),g===f){if(f?e.removeClass("switch-off").addClass("switch-on"):e.removeClass("switch-on").addClass("switch-off"),e.data("animated")!==!1&&e.addClass("switch-animate"),"boolean"==typeof c&&c)return;e.parent().trigger("switch-change",{el:d,value:f})}}),i.find("label").on("mousedown touchstart",function(b){var c=a(this);h=!1,b.preventDefault(),b.stopImmediatePropagation(),c.closest("div").removeClass("switch-animate"),c.closest(".has-switch").is(".deactivate")?c.unbind("click"):c.closest(".switch-on").parent().is(".radio-no-uncheck")?c.unbind("click"):(c.on("mousemove touchmove",function(b){var c=a(this).closest(".make-switch"),d=(b.pageX||b.originalEvent.targetTouches[0].pageX)-c.offset().left,e=d/c.width()*100,f=25,g=75;h=!0,f>e?e=f:e>g&&(e=g),c.find(">div").css("left",e-g+"%")}),c.on("click touchend",function(b){var c=a(this),d=c.siblings("input");b.stopImmediatePropagation(),b.preventDefault(),c.unbind("mouseleave"),h?d.prop("checked",!(parseInt(c.parent().css("left"))<-25)):d.prop("checked",!d.is(":checked")),h=!1,d.trigger("change")}),c.on("mouseleave",function(b){var c=a(this),d=c.siblings("input");b.preventDefault(),b.stopImmediatePropagation(),c.unbind("mouseleave mousemove"),c.trigger("mouseup"),d.prop("checked",!(parseInt(c.parent().css("left"))<-25)).trigger("change")}),c.on("mouseup",function(b){b.stopImmediatePropagation(),b.preventDefault(),a(this).trigger("mouseleave")}))}),"injected"!==j.data("bootstrapSwitch")&&(j.bind("reset",function(){setTimeout(function(){j.find(".make-switch").each(function(){var b=a(this).find(c);b.prop("checked",b.is(":checked")).trigger("change")})},1)}),j.data("bootstrapSwitch","injected"))})},toggleActivation:function(){var b=a(this);b.toggleClass("deactivate"),b.find(c).prop("disabled",b.is(".deactivate"))},isActive:function(){return!a(this).hasClass("deactivate")},setActive:function(b){var d=a(this);b?(d.removeClass("deactivate"),d.find(c).removeAttr("disabled")):(d.addClass("deactivate"),d.find(c).attr("disabled","disabled"))},toggleState:function(b){var c=a(this).find(":checkbox");c.prop("checked",!c.is(":checked")).trigger("change",b)},toggleRadioState:function(b){
var c=a(this).find(":radio");c.not(":checked").prop("checked",!c.is(":checked")).trigger("change",b)},toggleRadioStateAllowUncheck:function(b,c){var d=a(this).find(":radio");b?d.not(":checked").trigger("change",c):d.not(":checked").prop("checked",!d.is(":checked")).trigger("change",c)},setState:function(b,d){a(this).find(c).prop("checked",b).trigger("change",d)},setOnLabel:function(b){var c=a(this).find(".switch-left");c.html(b)},setOffLabel:function(b){var c=a(this).find(".switch-right");c.html(b)},setOnClass:function(b){var c=a(this).find(".switch-left"),d="";void 0!==b&&(void 0!==a(this).attr("data-on")&&(d="switch-"+a(this).attr("data-on")),c.removeClass(d),d="switch-"+b,c.addClass(d))},setOffClass:function(b){var c=a(this).find(".switch-right"),d="";void 0!==b&&(void 0!==a(this).attr("data-off")&&(d="switch-"+a(this).attr("data-off")),c.removeClass(d),d="switch-"+b,c.addClass(d))},setAnimated:function(b){var d=a(this).find(c).parent();void 0===b&&(b=!1),d.data("animated",b),d.attr("data-animated",b),d.data("animated")!==!1?d.addClass("switch-animate"):d.removeClass("switch-animate")},setSizeClass:function(b){var c=a(this),d=c.find(".switch-left"),e=c.find(".switch-right"),f=c.find("label");a.each(["switch-mini","switch-small","switch-large"],function(a,c){c!==b?(d.removeClass(c),e.removeClass(c),f.removeClass(c)):(d.addClass(c),e.addClass(c),f.addClass(c))})},status:function(){return a(this).find(c).is(":checked")},destroy:function(){var b,c=a(this),d=c.find("div"),e=c.closest("form");return d.find(":not(input)").remove(),b=d.children(),b.unwrap().unwrap(),b.unbind("change"),e&&(e.unbind("reset"),e.removeData("bootstrapSwitch")),b}};return d[b]?d[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist!"):d.init.apply(this,arguments)}}(jQuery),function(a){a(function(){a(".make-switch").bootstrapSwitch()})}(jQuery),!function(a,b){"object"==typeof exports?module.exports=b(require("jquery")):"function"==typeof define&&define.amd?define("EasyPieChart",["jquery"],b):b(a.jQuery)}(this,function(a){var b=function(a,b){var c,d=document.createElement("canvas");"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(d);var e=d.getContext("2d");d.width=d.height=b.size,a.appendChild(d);var f=1;window.devicePixelRatio>1&&(f=window.devicePixelRatio,d.style.width=d.style.height=[b.size,"px"].join(""),d.width=d.height=b.size*f,e.scale(f,f)),e.translate(b.size/2,b.size/2),e.rotate((-.5+b.rotate/180)*Math.PI);var g=(b.size-b.lineWidth)/2;b.scaleColor&&b.scaleLength&&(g-=b.scaleLength+2),Date.now=Date.now||function(){return+new Date};var h=function(a,b,c){c=Math.min(Math.max(-1,c||0),1);var d=0>=c?!0:!1;e.beginPath(),e.arc(0,0,g,0,2*Math.PI*c,d),e.strokeStyle=a,e.lineWidth=b,e.stroke()},i=function(){var a,c,d=24;e.lineWidth=1,e.fillStyle=b.scaleColor,e.save();for(var d=24;d>0;--d)0===d%6?(c=b.scaleLength,a=0):(c=.6*b.scaleLength,a=b.scaleLength-c),e.fillRect(-b.size/2+a,0,c,1),e.rotate(Math.PI/12);e.restore()},j=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),k=function(){b.scaleColor&&i(),b.trackColor&&h(b.trackColor,b.lineWidth,1)};this.clear=function(){e.clearRect(b.size/-2,b.size/-2,b.size,b.size)},this.draw=function(a){b.scaleColor||b.trackColor?e.getImageData&&e.putImageData?c?e.putImageData(c,0,0):(k(),c=e.getImageData(0,0,b.size*f,b.size*f)):(this.clear(),k()):this.clear(),e.lineCap=b.lineCap;var d;d="function"==typeof b.barColor?b.barColor(a):b.barColor,h(d,b.lineWidth,a/100)}.bind(this),this.animate=function(a,c){var d=Date.now();b.onStart(a,c);var e=function(){var f=Math.min(Date.now()-d,b.animate),g=b.easing(this,f,a,c-a,b.animate);this.draw(g),b.onStep(a,c,g),f>=b.animate?b.onStop(a,c):j(e)}.bind(this);j(e)}.bind(this)},c=function(a,c){var d={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:1e3,easing:function(a,b,c,d,e){return b/=e/2,1>b?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},onStart:function(){},onStep:function(){},onStop:function(){}};if("undefined"!=typeof b)d.renderer=b;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");d.renderer=SVGRenderer}var e={},f=0,g=function(){this.el=a,this.options=e;for(var b in d)d.hasOwnProperty(b)&&(e[b]=c&&"undefined"!=typeof c[b]?c[b]:d[b],"function"==typeof e[b]&&(e[b]=e[b].bind(this)));e.easing="string"==typeof e.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[e.easing])?jQuery.easing[e.easing]:d.easing,this.renderer=new e.renderer(a,e),this.renderer.draw(f),a.dataset&&a.dataset.percent?this.update(parseFloat(a.dataset.percent)):a.getAttribute&&a.getAttribute("data-percent")&&this.update(parseFloat(a.getAttribute("data-percent")))}.bind(this);this.update=function(a){return a=parseFloat(a),e.animate?this.renderer.animate(f,a):this.renderer.draw(a),f=a,this}.bind(this),g()};a.fn.easyPieChart=function(b){return this.each(function(){var d;a.data(this,"easyPieChart")||(d=a.extend({},b,a(this).data()),a.data(this,"easyPieChart",new c(this,d)))})}}),function(a){var b,c,d="0.3.4",e="hasOwnProperty",f=/[\.\/]/,g="*",h=function(){},i=function(a,b){return a-b},j={n:{}},k=function(a,d){var e,f=c,g=Array.prototype.slice.call(arguments,2),h=k.listeners(a),j=0,l=[],m={},n=[],o=b;b=a,c=0;for(var p=0,q=h.length;q>p;p++)"zIndex"in h[p]&&(l.push(h[p].zIndex),h[p].zIndex<0&&(m[h[p].zIndex]=h[p]));for(l.sort(i);l[j]<0;)if(e=m[l[j++]],n.push(e.apply(d,g)),c)return c=f,n;for(p=0;q>p;p++)if(e=h[p],"zIndex"in e)if(e.zIndex==l[j]){if(n.push(e.apply(d,g)),c)break;do if(j++,e=m[l[j]],e&&n.push(e.apply(d,g)),c)break;while(e)}else m[e.zIndex]=e;else if(n.push(e.apply(d,g)),c)break;return c=f,b=o,n.length?n:null};k.listeners=function(a){var b,c,d,e,h,i,k,l,m=a.split(f),n=j,o=[n],p=[];for(e=0,h=m.length;h>e;e++){for(l=[],i=0,k=o.length;k>i;i++)for(n=o[i].n,c=[n[m[e]],n[g]],d=2;d--;)b=c[d],b&&(l.push(b),p=p.concat(b.f||[]));o=l}return p},k.on=function(a,b){for(var c=a.split(f),d=j,e=0,g=c.length;g>e;e++)d=d.n,!d[c[e]]&&(d[c[e]]={n:{}}),d=d[c[e]];for(d.f=d.f||[],e=0,g=d.f.length;g>e;e++)if(d.f[e]==b)return h;return d.f.push(b),function(a){+a==+a&&(b.zIndex=+a)}},k.stop=function(){c=1},k.nt=function(a){return a?new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)").test(b):b},k.off=k.unbind=function(a,b){var c,d,h,i,k,l,m,n=a.split(f),o=[j];for(i=0,k=n.length;k>i;i++)for(l=0;l<o.length;l+=h.length-2){if(h=[l,1],c=o[l].n,n[i]!=g)c[n[i]]&&h.push(c[n[i]]);else for(d in c)c[e](d)&&h.push(c[d]);o.splice.apply(o,h)}for(i=0,k=o.length;k>i;i++)for(c=o[i];c.n;){if(b){if(c.f){for(l=0,m=c.f.length;m>l;l++)if(c.f[l]==b){c.f.splice(l,1);break}!c.f.length&&delete c.f}for(d in c.n)if(c.n[e](d)&&c.n[d].f){var p=c.n[d].f;for(l=0,m=p.length;m>l;l++)if(p[l]==b){p.splice(l,1);break}!p.length&&delete c.n[d].f}}else{delete c.f;for(d in c.n)c.n[e](d)&&c.n[d].f&&delete c.n[d].f}c=c.n}},k.once=function(a,b){var c=function(){var d=b.apply(this,arguments);return k.unbind(a,c),d};return k.on(a,c)},k.version=d,k.toString=function(){return"You are running Eve "+d},"undefined"!=typeof module&&module.exports?module.exports=k:"undefined"!=typeof define?define("eve",[],function(){return k}):a.eve=k}(this),function(){function a(a){for(var b=0;b<fb.length;b++)fb[b].el.paper==a&&fb.splice(b--,1)}function b(a,b,c,e,g,h){c=Z(c);var i,j,k,l,m,n,o=a.ms,p={},q={},s={};if(e)for(v=0,w=fb.length;w>v;v++){var t=fb[v];if(t.el.id==b.id&&t.anim==a){t.percent!=c?(fb.splice(v,1),k=1):j=t,b.attr(t.totalOrigin);break}}else e=+q;for(var v=0,w=a.percents.length;w>v;v++){if(a.percents[v]==c||a.percents[v]>e*a.top){c=a.percents[v],m=a.percents[v-1]||0,o=o/a.top*(c-m),l=a.percents[v+1],i=a.anim[c];break}e&&b.attr(a.anim[a.percents[v]])}if(i){if(j)j.initstatus=e,j.start=new Date-j.ms*e;else{for(var y in i)if(i[x](y)&&(ba[x](y)||b.paper.customAttributes[x](y)))switch(p[y]=b.attr(y),null==p[y]&&(p[y]=aa[y]),q[y]=i[y],ba[y]){case R:s[y]=(q[y]-p[y])/o;break;case"colour":p[y]=r.getRGB(p[y]);var z=r.getRGB(q[y]);s[y]={r:(z.r-p[y].r)/o,g:(z.g-p[y].g)/o,b:(z.b-p[y].b)/o};break;case"path":var A=Ia(p[y],q[y]),B=A[1];for(p[y]=A[0],s[y]=[],v=0,w=p[y].length;w>v;v++){s[y][v]=[0];for(var D=1,E=p[y][v].length;E>D;D++)s[y][v][D]=(B[v][D]-p[y][v][D])/o}break;case"transform":var F=b._,I=Na(F[y],q[y]);if(I)for(p[y]=I.from,q[y]=I.to,s[y]=[],s[y].real=!0,v=0,w=p[y].length;w>v;v++)for(s[y][v]=[p[y][v][0]],D=1,E=p[y][v].length;E>D;D++)s[y][v][D]=(q[y][v][D]-p[y][v][D])/o;else{var J=b.matrix||new f,K={_:{transform:F.transform},getBBox:function(){return b.getBBox(1)}};p[y]=[J.a,J.b,J.c,J.d,J.e,J.f],La(K,q[y]),q[y]=K._.transform,s[y]=[(K.matrix.a-J.a)/o,(K.matrix.b-J.b)/o,(K.matrix.c-J.c)/o,(K.matrix.d-J.d)/o,(K.matrix.e-J.e)/o,(K.matrix.f-J.f)/o]}break;case"csv":var L=G(i[y])[H](u),M=G(p[y])[H](u);if("clip-rect"==y)for(p[y]=M,s[y]=[],v=M.length;v--;)s[y][v]=(L[v]-p[y][v])/o;q[y]=L;break;default:for(L=[][C](i[y]),M=[][C](p[y]),s[y]=[],v=b.paper.customAttributes[y].length;v--;)s[y][v]=((L[v]||0)-(M[v]||0))/o}var N=i.easing,O=r.easing_formulas[N];if(!O)if(O=G(N).match(X),O&&5==O.length){var P=O;O=function(a){return d(a,+P[1],+P[2],+P[3],+P[4],o)}}else O=la;if(n=i.start||a.start||+new Date,t={anim:a,percent:c,timestamp:n,start:n+(a.del||0),status:0,initstatus:e||0,stop:!1,ms:o,easing:O,from:p,diff:s,to:q,el:b,callback:i.callback,prev:m,next:l,repeat:h||a.times,origin:b.attr(),totalOrigin:g},fb.push(t),e&&!j&&!k&&(t.stop=!0,t.start=new Date-o*e,1==fb.length))return hb();k&&(t.start=new Date-t.ms*e),1==fb.length&&gb(hb)}eve("raphael.anim.start."+b.id,b,a)}}function c(a,b){var c=[],d={};if(this.ms=b,this.times=1,a){for(var e in a)a[x](e)&&(d[Z(e)]=a[e],c.push(Z(e)));c.sort(ja)}this.anim=d,this.top=c[c.length-1],this.percents=c}function d(a,b,c,d,e,f){function g(a,b){var c,d,e,f,g,h;for(e=a,h=0;8>h;h++){if(f=i(e)-a,O(f)<b)return e;if(g=(3*l*e+2*k)*e+j,O(g)<1e-6)break;e-=f/g}if(c=0,d=1,e=a,c>e)return c;if(e>d)return d;for(;d>c;){if(f=i(e),O(f-a)<b)return e;a>f?c=e:d=e,e=(d-c)/2+c}return e}function h(a,b){var c=g(a,b);return((o*c+n)*c+m)*c}function i(a){return((l*a+k)*a+j)*a}var j=3*b,k=3*(d-b)-j,l=1-j-k,m=3*c,n=3*(e-c)-m,o=1-m-n;return h(a,1/(200*f))}function e(){return this.x+F+this.y+F+this.width+" × "+this.height}function f(a,b,c,d,e,f){null!=a?(this.a=+a,this.b=+b,this.c=+c,this.d=+d,this.e=+e,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function g(a,b,c){a=r._path2curve(a),b=r._path2curve(b);for(var d,e,f,g,i,j,k,l,m,n,o=c?0:[],p=0,q=a.length;q>p;p++){var s=a[p];if("M"==s[0])d=i=s[1],e=j=s[2];else{"C"==s[0]?(m=[d,e].concat(s.slice(1)),d=m[6],e=m[7]):(m=[d,e,d,e,i,j,i,j],d=i,e=j);for(var t=0,u=b.length;u>t;t++){var v=b[t];if("M"==v[0])f=k=v[1],g=l=v[2];else{"C"==v[0]?(n=[f,g].concat(v.slice(1)),f=n[6],g=n[7]):(n=[f,g,f,g,k,l,k,l],f=k,g=l);var w=h(m,n,c);if(c)o+=w;else{for(var x=0,y=w.length;y>x;x++)w[x].segment1=p,w[x].segment2=t,w[x].bez1=m,w[x].bez2=n;o=o.concat(w)}}}}}return o}function h(a,b,c){var d=r.bezierBBox(a),e=r.bezierBBox(b);if(!r.isBBoxIntersect(d,e))return c?0:[];for(var f=k.apply(0,a),g=k.apply(0,b),h=~~(f/5),j=~~(g/5),l=[],m=[],n={},o=c?0:[],p=0;h+1>p;p++){var q=r.findDotsAtSegment.apply(r,a.concat(p/h));l.push({x:q.x,y:q.y,t:p/h})}for(p=0;j+1>p;p++)q=r.findDotsAtSegment.apply(r,b.concat(p/j)),m.push({x:q.x,y:q.y,t:p/j});for(p=0;h>p;p++)for(var s=0;j>s;s++){var t=l[p],u=l[p+1],v=m[s],w=m[s+1],x=O(u.x-t.x)<.001?"y":"x",y=O(w.x-v.x)<.001?"y":"x",z=i(t.x,t.y,u.x,u.y,v.x,v.y,w.x,w.y);if(z){if(n[z.x.toFixed(4)]==z.y.toFixed(4))continue;n[z.x.toFixed(4)]=z.y.toFixed(4);var A=t.t+O((z[x]-t[x])/(u[x]-t[x]))*(u.t-t.t),B=v.t+O((z[y]-v[y])/(w[y]-v[y]))*(w.t-v.t);A>=0&&1>=A&&B>=0&&1>=B&&(c?o++:o.push({x:z.x,y:z.y,t1:A,t2:B}))}}return o}function i(a,b,c,d,e,f,g,h){if(!(M(a,c)<N(e,g)||N(a,c)>M(e,g)||M(b,d)<N(f,h)||N(b,d)>M(f,h))){var i=(a*d-b*c)*(e-g)-(a-c)*(e*h-f*g),j=(a*d-b*c)*(f-h)-(b-d)*(e*h-f*g),k=(a-c)*(f-h)-(b-d)*(e-g);if(!k)return;var l=i/k,m=j/k,n=+l.toFixed(2),o=+m.toFixed(2);if(n<+N(a,c).toFixed(2)||n>+M(a,c).toFixed(2)||n<+N(e,g).toFixed(2)||n>+M(e,g).toFixed(2)||o<+N(b,d).toFixed(2)||o>+M(b,d).toFixed(2)||o<+N(f,h).toFixed(2)||o>+M(f,h).toFixed(2))return;return{x:l,y:m}}}function j(a,b,c,d,e,f,g,h,i){if(!(0>i||k(a,b,c,d,e,f,g,h)<i)){var j,l=1,m=l/2,n=l-m,o=.01;for(j=k(a,b,c,d,e,f,g,h,n);O(j-i)>o;)m/=2,n+=(i>j?1:-1)*m,j=k(a,b,c,d,e,f,g,h,n);return n}}function k(a,b,c,d,e,f,g,h,i){null==i&&(i=1),i=i>1?1:0>i?0:i;for(var j=i/2,k=12,m=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],n=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],o=0,p=0;k>p;p++){var q=j*m[p]+j,r=l(q,a,c,e,g),s=l(q,b,d,f,h),t=r*r+s*s;o+=n[p]*L.sqrt(t)}return j*o}function l(a,b,c,d,e){var f=-3*b+9*c-9*d+3*e,g=a*f+6*b-12*c+6*d;return a*g-3*b+3*c}function m(a,b){for(var c=[],d=0,e=a.length;e-2*!b>d;d+=2){var f=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?f[3]={x:+a[0],y:+a[1]}:e-2==d&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?f[3]=f[2]:d||(f[0]={x:+a[d],y:+a[d+1]}),c.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y])}return c}function n(){return this.hex}function o(a,b,c){function d(){var e=Array.prototype.slice.call(arguments,0),f=e.join("␀"),g=d.cache=d.cache||{},h=d.count=d.count||[];return g[x](f)?(p(h,f),c?c(g[f]):g[f]):(h.length>=1e3&&delete g[h.shift()],h.push(f),g[f]=a[B](b,e),c?c(g[f]):g[f])}return d}function p(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return a.push(a.splice(c,1)[0])}function q(a){if(Object(a)!==a)return a;var b=new a.constructor;for(var c in a)a[x](c)&&(b[c]=q(a[c]));return b}function r(a){if(r.is(a,"function"))return s?a():eve.on("raphael.DOMload",a);if(r.is(a,T))return r._engine.create[B](r,a.splice(0,3+r.is(a[0],R))).add(a);var b=Array.prototype.slice.call(arguments,0);if(r.is(b[b.length-1],"function")){var c=b.pop();return s?c.call(r._engine.create[B](r,b)):eve.on("raphael.DOMload",function(){c.call(r._engine.create[B](r,b))})}return r._engine.create[B](r,arguments)}r.version="2.1.0",r.eve=eve;var s,t,u=/[, ]+/,v={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},w=/\{(\d+)\}/g,x="hasOwnProperty",y={doc:document,win:window},z={was:Object.prototype[x].call(y.win,"Raphael"),is:y.win.Raphael},A=function(){this.ca=this.customAttributes={}},B="apply",C="concat",D="createTouch"in y.doc,E="",F=" ",G=String,H="split",I="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[H](F),J={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},K=G.prototype.toLowerCase,L=Math,M=L.max,N=L.min,O=L.abs,P=L.pow,Q=L.PI,R="number",S="string",T="array",U=Object.prototype.toString,V=(r._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),W={NaN:1,Infinity:1,"-Infinity":1},X=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Y=L.round,Z=parseFloat,$=parseInt,_=G.prototype.toUpperCase,aa=r._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},ba=r._availableAnimAttrs={blur:R,"clip-rect":"csv",cx:R,cy:R,fill:"colour","fill-opacity":R,"font-size":R,height:R,opacity:R,path:"path",r:R,rx:R,ry:R,stroke:"colour","stroke-opacity":R,"stroke-width":R,transform:"transform",width:R,x:R,y:R},ca=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,da={hs:1,rg:1},ea=/,?([achlmqrstvxz]),?/gi,fa=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ga=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ha=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ia=(r._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ja=function(a,b){return Z(a)-Z(b)},ka=function(){},la=function(a){return a},ma=r._rectPath=function(a,b,c,d,e){return e?[["M",a+e,b],["l",c-2*e,0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]]:[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]]},na=function(a,b,c,d){return null==d&&(d=c),[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]]},oa=r._getPath={path:function(a){return a.attr("path")},circle:function(a){var b=a.attrs;return na(b.cx,b.cy,b.r)},ellipse:function(a){var b=a.attrs;return na(b.cx,b.cy,b.rx,b.ry)},rect:function(a){var b=a.attrs;return ma(b.x,b.y,b.width,b.height,b.r)},image:function(a){var b=a.attrs;return ma(b.x,b.y,b.width,b.height)},text:function(a){var b=a._getBBox();return ma(b.x,b.y,b.width,b.height)}},pa=r.mapPath=function(a,b){if(!b)return a;var c,d,e,f,g,h,i;for(a=Ia(a),e=0,g=a.length;g>e;e++)for(i=a[e],f=1,h=i.length;h>f;f+=2)c=b.x(i[f],i[f+1]),d=b.y(i[f],i[f+1]),i[f]=c,i[f+1]=d;return a};if(r._g=y,r.type=y.win.SVGAngle||y.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==r.type){var qa,ra=y.doc.createElement("div");if(ra.innerHTML='<v:shape adj="1"/>',qa=ra.firstChild,qa.style.behavior="url(#default#VML)",!qa||"object"!=typeof qa.adj)return r.type=E;ra=null}r.svg=!(r.vml="VML"==r.type),r._Paper=A,r.fn=t=A.prototype=r.prototype,r._id=0,r._oid=0,r.is=function(a,b){return b=K.call(b),"finite"==b?!W[x](+a):"array"==b?a instanceof Array:"null"==b&&null===a||b==typeof a&&null!==a||"object"==b&&a===Object(a)||"array"==b&&Array.isArray&&Array.isArray(a)||U.call(a).slice(8,-1).toLowerCase()==b},r.angle=function(a,b,c,d,e,f){if(null==e){var g=a-c,h=b-d;return g||h?(180+180*L.atan2(-h,-g)/Q+360)%360:0}return r.angle(a,b,e,f)-r.angle(c,d,e,f)},r.rad=function(a){return a%360*Q/180},r.deg=function(a){return 180*a/Q%360},r.snapTo=function(a,b,c){if(c=r.is(c,"finite")?c:10,r.is(a,T)){for(var d=a.length;d--;)if(O(a[d]-b)<=c)return a[d]}else{a=+a;var e=b%a;if(c>e)return b-e;if(e>a-c)return b-e+a}return b};r.createUUID=function(a,b){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,b).toUpperCase()}}(/[xy]/g,function(a){var b=16*L.random()|0,c="x"==a?b:3&b|8;return c.toString(16)});r.setWindow=function(a){eve("raphael.setWindow",r,y.win,a),y.win=a,y.doc=y.win.document,r._engine.initWin&&r._engine.initWin(y.win)};var sa=function(a){if(r.vml){var b,c=/^\s+|\s+$/g;try{var d=new ActiveXObject("htmlfile");d.write("<body>"),d.close(),b=d.body}catch(e){b=createPopup().document.body}var f=b.createTextRange();sa=o(function(a){try{b.style.color=G(a).replace(c,E);var d=f.queryCommandValue("ForeColor");return d=(255&d)<<16|65280&d|(16711680&d)>>>16,"#"+("000000"+d.toString(16)).slice(-6)}catch(e){return"none"}})}else{var g=y.doc.createElement("i");g.title="Raphaël Colour Picker",g.style.display="none",y.doc.body.appendChild(g),sa=o(function(a){return g.style.color=a,y.doc.defaultView.getComputedStyle(g,E).getPropertyValue("color")})}return sa(a)},ta=function(){return"hsb("+[this.h,this.s,this.b]+")"},ua=function(){return"hsl("+[this.h,this.s,this.l]+")"},va=function(){return this.hex},wa=function(a,b,c){if(null==b&&r.is(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(c=a.b,b=a.g,a=a.r),null==b&&r.is(a,S)){var d=r.getRGB(a);a=d.r,b=d.g,c=d.b}return(a>1||b>1||c>1)&&(a/=255,b/=255,c/=255),[a,b,c]},xa=function(a,b,c,d){a*=255,b*=255,c*=255;var e={r:a,g:b,b:c,hex:r.rgb(a,b,c),toString:va};return r.is(d,"finite")&&(e.opacity=d),e};r.color=function(a){var b;return r.is(a,"object")&&"h"in a&&"s"in a&&"b"in a?(b=r.hsb2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.hex=b.hex):r.is(a,"object")&&"h"in a&&"s"in a&&"l"in a?(b=r.hsl2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.hex=b.hex):(r.is(a,"string")&&(a=r.getRGB(a)),r.is(a,"object")&&"r"in a&&"g"in a&&"b"in a?(b=r.rgb2hsl(a),a.h=b.h,a.s=b.s,a.l=b.l,b=r.rgb2hsb(a),a.v=b.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1)),a.toString=va,a},r.hsb2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(c=a.b,b=a.s,a=a.h,d=a.o),a*=360;var e,f,g,h,i;return a=a%360/60,i=c*b,h=i*(1-O(a%2-1)),e=f=g=c-i,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],xa(e,f,g,d)},r.hsl2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(c=a.l,b=a.s,a=a.h),(a>1||b>1||c>1)&&(a/=360,b/=100,c/=100),a*=360;var e,f,g,h,i;return a=a%360/60,i=2*b*(.5>c?c:1-c),h=i*(1-O(a%2-1)),e=f=g=c-i/2,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],xa(e,f,g,d)},r.rgb2hsb=function(a,b,c){c=wa(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g;return f=M(a,b,c),g=f-N(a,b,c),d=0==g?null:f==a?(b-c)/g:f==b?(c-a)/g+2:(a-b)/g+4,d=(d+360)%6*60/360,e=0==g?0:g/f,{h:d,s:e,b:f,toString:ta}},r.rgb2hsl=function(a,b,c){c=wa(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g,h,i;return g=M(a,b,c),h=N(a,b,c),i=g-h,d=0==i?null:g==a?(b-c)/i:g==b?(c-a)/i+2:(a-b)/i+4,d=(d+360)%6*60/360,f=(g+h)/2,e=0==i?0:.5>f?i/(2*f):i/(2-2*f),{h:d,s:e,l:f,toString:ua}},r._path2string=function(){return this.join(",").replace(ea,"$1")};r._preload=function(a,b){var c=y.doc.createElement("img");c.style.cssText="position:absolute;left:-9999em;top:-9999em",c.onload=function(){b.call(this),this.onload=null,y.doc.body.removeChild(this)},c.onerror=function(){y.doc.body.removeChild(this)},y.doc.body.appendChild(c),c.src=a};r.getRGB=o(function(a){if(!a||(a=G(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:n};if("none"==a)return{r:-1,g:-1,b:-1,hex:"none",toString:n};!da[x](a.toLowerCase().substring(0,2))&&"#"!=a.charAt()&&(a=sa(a));var b,c,d,e,f,g,h=a.match(V);return h?(h[2]&&(d=$(h[2].substring(5),16),c=$(h[2].substring(3,5),16),b=$(h[2].substring(1,3),16)),h[3]&&(d=$((f=h[3].charAt(3))+f,16),c=$((f=h[3].charAt(2))+f,16),b=$((f=h[3].charAt(1))+f,16)),h[4]&&(g=h[4][H](ca),b=Z(g[0]),"%"==g[0].slice(-1)&&(b*=2.55),c=Z(g[1]),"%"==g[1].slice(-1)&&(c*=2.55),d=Z(g[2]),"%"==g[2].slice(-1)&&(d*=2.55),"rgba"==h[1].toLowerCase().slice(0,4)&&(e=Z(g[3])),g[3]&&"%"==g[3].slice(-1)&&(e/=100)),h[5]?(g=h[5][H](ca),b=Z(g[0]),"%"==g[0].slice(-1)&&(b*=2.55),c=Z(g[1]),"%"==g[1].slice(-1)&&(c*=2.55),d=Z(g[2]),"%"==g[2].slice(-1)&&(d*=2.55),("deg"==g[0].slice(-3)||"°"==g[0].slice(-1))&&(b/=360),"hsba"==h[1].toLowerCase().slice(0,4)&&(e=Z(g[3])),g[3]&&"%"==g[3].slice(-1)&&(e/=100),r.hsb2rgb(b,c,d,e)):h[6]?(g=h[6][H](ca),b=Z(g[0]),"%"==g[0].slice(-1)&&(b*=2.55),c=Z(g[1]),"%"==g[1].slice(-1)&&(c*=2.55),d=Z(g[2]),"%"==g[2].slice(-1)&&(d*=2.55),("deg"==g[0].slice(-3)||"°"==g[0].slice(-1))&&(b/=360),"hsla"==h[1].toLowerCase().slice(0,4)&&(e=Z(g[3])),g[3]&&"%"==g[3].slice(-1)&&(e/=100),r.hsl2rgb(b,c,d,e)):(h={r:b,g:c,b:d,toString:n},h.hex="#"+(16777216|d|c<<8|b<<16).toString(16).slice(1),r.is(e,"finite")&&(h.opacity=e),h)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:n}},r),r.hsb=o(function(a,b,c){return r.hsb2rgb(a,b,c).hex}),r.hsl=o(function(a,b,c){return r.hsl2rgb(a,b,c).hex}),r.rgb=o(function(a,b,c){return"#"+(16777216|c|b<<8|a<<16).toString(16).slice(1)}),r.getColor=function(a){var b=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||.75},c=this.hsb2rgb(b.h,b.s,b.b);return b.h+=.075,b.h>1&&(b.h=0,b.s-=.2,b.s<=0&&(this.getColor.start={h:0,s:1,b:b.b})),c.hex},r.getColor.reset=function(){delete this.start},r.parsePathString=function(a){if(!a)return null;var b=ya(a);if(b.arr)return Aa(b.arr);var c={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},d=[];return r.is(a,T)&&r.is(a[0],T)&&(d=Aa(a)),d.length||G(a).replace(fa,function(a,b,e){var f=[],g=b.toLowerCase();if(e.replace(ha,function(a,b){b&&f.push(+b)}),"m"==g&&f.length>2&&(d.push([b][C](f.splice(0,2))),g="l",b="m"==b?"l":"L"),"r"==g)d.push([b][C](f));else for(;f.length>=c[g]&&(d.push([b][C](f.splice(0,c[g]))),c[g]););}),d.toString=r._path2string,b.arr=Aa(d),d},r.parseTransformString=o(function(a){if(!a)return null;var b=[];return r.is(a,T)&&r.is(a[0],T)&&(b=Aa(a)),b.length||G(a).replace(ga,function(a,c,d){var e=[];K.call(c);d.replace(ha,function(a,b){b&&e.push(+b)}),b.push([c][C](e))}),b.toString=r._path2string,b});var ya=function(a){var b=ya.ps=ya.ps||{};return b[a]?b[a].sleep=100:b[a]={sleep:100},setTimeout(function(){for(var c in b)b[x](c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])}),b[a]};r.findDotsAtSegment=function(a,b,c,d,e,f,g,h,i){var j=1-i,k=P(j,3),l=P(j,2),m=i*i,n=m*i,o=k*a+3*l*i*c+3*j*i*i*e+n*g,p=k*b+3*l*i*d+3*j*i*i*f+n*h,q=a+2*i*(c-a)+m*(e-2*c+a),r=b+2*i*(d-b)+m*(f-2*d+b),s=c+2*i*(e-c)+m*(g-2*e+c),t=d+2*i*(f-d)+m*(h-2*f+d),u=j*a+i*c,v=j*b+i*d,w=j*e+i*g,x=j*f+i*h,y=90-180*L.atan2(q-s,r-t)/Q;return(q>s||t>r)&&(y+=180),{x:o,y:p,m:{x:q,y:r},n:{x:s,y:t},start:{x:u,y:v},end:{x:w,y:x},alpha:y}},r.bezierBBox=function(a,b,c,d,e,f,g,h){r.is(a,"array")||(a=[a,b,c,d,e,f,g,h]);var i=Ha.apply(null,a);return{x:i.min.x,y:i.min.y,x2:i.max.x,y2:i.max.y,width:i.max.x-i.min.x,height:i.max.y-i.min.y}},r.isPointInsideBBox=function(a,b,c){return b>=a.x&&b<=a.x2&&c>=a.y&&c<=a.y2},r.isBBoxIntersect=function(a,b){var c=r.isPointInsideBBox;return c(b,a.x,a.y)||c(b,a.x2,a.y)||c(b,a.x,a.y2)||c(b,a.x2,a.y2)||c(a,b.x,b.y)||c(a,b.x2,b.y)||c(a,b.x,b.y2)||c(a,b.x2,b.y2)||(a.x<b.x2&&a.x>b.x||b.x<a.x2&&b.x>a.x)&&(a.y<b.y2&&a.y>b.y||b.y<a.y2&&b.y>a.y)},r.pathIntersection=function(a,b){return g(a,b)},r.pathIntersectionNumber=function(a,b){return g(a,b,1)},r.isPointInsidePath=function(a,b,c){var d=r.pathBBox(a);return r.isPointInsideBBox(d,b,c)&&g(a,[["M",b,c],["H",d.x2+10]],1)%2==1},r._removedFactory=function(a){return function(){eve("raphael.log",null,"Raphaël: you are calling to method “"+a+"” of removed object",a)}};var za=r.pathBBox=function(a){var b=ya(a);if(b.bbox)return b.bbox;if(!a)return{x:0,y:0,width:0,height:0,x2:0,y2:0};a=Ia(a);for(var c,d=0,e=0,f=[],g=[],h=0,i=a.length;i>h;h++)if(c=a[h],"M"==c[0])d=c[1],e=c[2],f.push(d),g.push(e);else{var j=Ha(d,e,c[1],c[2],c[3],c[4],c[5],c[6]);f=f[C](j.min.x,j.max.x),g=g[C](j.min.y,j.max.y),d=c[5],e=c[6]}var k=N[B](0,f),l=N[B](0,g),m=M[B](0,f),n=M[B](0,g),o={x:k,y:l,x2:m,y2:n,width:m-k,height:n-l};return b.bbox=q(o),o},Aa=function(a){var b=q(a);return b.toString=r._path2string,b},Ba=r._pathToRelative=function(a){var b=ya(a);if(b.rel)return Aa(b.rel);r.is(a,T)&&r.is(a&&a[0],T)||(a=r.parsePathString(a));var c=[],d=0,e=0,f=0,g=0,h=0;"M"==a[0][0]&&(d=a[0][1],e=a[0][2],f=d,g=e,h++,c.push(["M",d,e]));for(var i=h,j=a.length;j>i;i++){var k=c[i]=[],l=a[i];if(l[0]!=K.call(l[0]))switch(k[0]=K.call(l[0]),k[0]){case"a":k[1]=l[1],k[2]=l[2],k[3]=l[3],k[4]=l[4],k[5]=l[5],k[6]=+(l[6]-d).toFixed(3),k[7]=+(l[7]-e).toFixed(3);break;case"v":k[1]=+(l[1]-e).toFixed(3);break;case"m":f=l[1],g=l[2];default:for(var m=1,n=l.length;n>m;m++)k[m]=+(l[m]-(m%2?d:e)).toFixed(3)}else{k=c[i]=[],"m"==l[0]&&(f=l[1]+d,g=l[2]+e);for(var o=0,p=l.length;p>o;o++)c[i][o]=l[o]}var q=c[i].length;switch(c[i][0]){case"z":d=f,e=g;break;case"h":d+=+c[i][q-1];break;case"v":e+=+c[i][q-1];break;default:d+=+c[i][q-2],e+=+c[i][q-1]}}return c.toString=r._path2string,b.rel=Aa(c),c},Ca=r._pathToAbsolute=function(a){var b=ya(a);if(b.abs)return Aa(b.abs);if(r.is(a,T)&&r.is(a&&a[0],T)||(a=r.parsePathString(a)),!a||!a.length)return[["M",0,0]];var c=[],d=0,e=0,f=0,g=0,h=0;"M"==a[0][0]&&(d=+a[0][1],e=+a[0][2],f=d,g=e,h++,c[0]=["M",d,e]);for(var i,j,k=3==a.length&&"M"==a[0][0]&&"R"==a[1][0].toUpperCase()&&"Z"==a[2][0].toUpperCase(),l=h,n=a.length;n>l;l++){if(c.push(i=[]),j=a[l],j[0]!=_.call(j[0]))switch(i[0]=_.call(j[0]),i[0]){case"A":i[1]=j[1],i[2]=j[2],i[3]=j[3],i[4]=j[4],i[5]=j[5],i[6]=+(j[6]+d),i[7]=+(j[7]+e);break;case"V":i[1]=+j[1]+e;break;case"H":i[1]=+j[1]+d;break;case"R":for(var o=[d,e][C](j.slice(1)),p=2,q=o.length;q>p;p++)o[p]=+o[p]+d,o[++p]=+o[p]+e;c.pop(),c=c[C](m(o,k));break;case"M":f=+j[1]+d,g=+j[2]+e;default:for(p=1,q=j.length;q>p;p++)i[p]=+j[p]+(p%2?d:e)}else if("R"==j[0])o=[d,e][C](j.slice(1)),c.pop(),c=c[C](m(o,k)),i=["R"][C](j.slice(-2));else for(var s=0,t=j.length;t>s;s++)i[s]=j[s];switch(i[0]){case"Z":d=f,e=g;break;case"H":d=i[1];break;case"V":e=i[1];break;case"M":f=i[i.length-2],g=i[i.length-1];default:d=i[i.length-2],e=i[i.length-1]}}return c.toString=r._path2string,b.abs=Aa(c),c},Da=function(a,b,c,d){return[a,b,c,d,c,d]},Ea=function(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]},Fa=function(a,b,c,d,e,f,g,h,i,j){var k,l=120*Q/180,m=Q/180*(+e||0),n=[],p=o(function(a,b,c){var d=a*L.cos(c)-b*L.sin(c),e=a*L.sin(c)+b*L.cos(c);return{x:d,y:e}});if(j)y=j[0],z=j[1],w=j[2],x=j[3];else{k=p(a,b,-m),a=k.x,b=k.y,k=p(h,i,-m),h=k.x,i=k.y;var q=(L.cos(Q/180*e),L.sin(Q/180*e),(a-h)/2),r=(b-i)/2,s=q*q/(c*c)+r*r/(d*d);s>1&&(s=L.sqrt(s),c=s*c,d=s*d);var t=c*c,u=d*d,v=(f==g?-1:1)*L.sqrt(O((t*u-t*r*r-u*q*q)/(t*r*r+u*q*q))),w=v*c*r/d+(a+h)/2,x=v*-d*q/c+(b+i)/2,y=L.asin(((b-x)/d).toFixed(9)),z=L.asin(((i-x)/d).toFixed(9));y=w>a?Q-y:y,z=w>h?Q-z:z,0>y&&(y=2*Q+y),0>z&&(z=2*Q+z),g&&y>z&&(y-=2*Q),!g&&z>y&&(z-=2*Q)}var A=z-y;if(O(A)>l){var B=z,D=h,E=i;z=y+l*(g&&z>y?1:-1),h=w+c*L.cos(z),i=x+d*L.sin(z),n=Fa(h,i,c,d,e,0,g,D,E,[z,B,w,x])}A=z-y;var F=L.cos(y),G=L.sin(y),I=L.cos(z),J=L.sin(z),K=L.tan(A/4),M=4/3*c*K,N=4/3*d*K,P=[a,b],R=[a+M*G,b-N*F],S=[h+M*J,i-N*I],T=[h,i];if(R[0]=2*P[0]-R[0],R[1]=2*P[1]-R[1],j)return[R,S,T][C](n);n=[R,S,T][C](n).join()[H](",");for(var U=[],V=0,W=n.length;W>V;V++)U[V]=V%2?p(n[V-1],n[V],m).y:p(n[V],n[V+1],m).x;return U},Ga=function(a,b,c,d,e,f,g,h,i){var j=1-i;return{x:P(j,3)*a+3*P(j,2)*i*c+3*j*i*i*e+P(i,3)*g,y:P(j,3)*b+3*P(j,2)*i*d+3*j*i*i*f+P(i,3)*h}},Ha=o(function(a,b,c,d,e,f,g,h){var i,j=e-2*c+a-(g-2*e+c),k=2*(c-a)-2*(e-c),l=a-c,m=(-k+L.sqrt(k*k-4*j*l))/2/j,n=(-k-L.sqrt(k*k-4*j*l))/2/j,o=[b,h],p=[a,g];return O(m)>"1e12"&&(m=.5),O(n)>"1e12"&&(n=.5),m>0&&1>m&&(i=Ga(a,b,c,d,e,f,g,h,m),p.push(i.x),o.push(i.y)),n>0&&1>n&&(i=Ga(a,b,c,d,e,f,g,h,n),p.push(i.x),o.push(i.y)),j=f-2*d+b-(h-2*f+d),k=2*(d-b)-2*(f-d),l=b-d,m=(-k+L.sqrt(k*k-4*j*l))/2/j,n=(-k-L.sqrt(k*k-4*j*l))/2/j,
O(m)>"1e12"&&(m=.5),O(n)>"1e12"&&(n=.5),m>0&&1>m&&(i=Ga(a,b,c,d,e,f,g,h,m),p.push(i.x),o.push(i.y)),n>0&&1>n&&(i=Ga(a,b,c,d,e,f,g,h,n),p.push(i.x),o.push(i.y)),{min:{x:N[B](0,p),y:N[B](0,o)},max:{x:M[B](0,p),y:M[B](0,o)}}}),Ia=r._path2curve=o(function(a,b){var c=!b&&ya(a);if(!b&&c.curve)return Aa(c.curve);for(var d=Ca(a),e=b&&Ca(b),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=(function(a,b){var c,d;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null),a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"][C](Fa[B](0,[b.x,b.y][C](a.slice(1))));break;case"S":c=b.x+(b.x-(b.bx||b.x)),d=b.y+(b.y-(b.by||b.y)),a=["C",c,d][C](a.slice(1));break;case"T":b.qx=b.x+(b.x-(b.qx||b.x)),b.qy=b.y+(b.y-(b.qy||b.y)),a=["C"][C](Ea(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"][C](Ea(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"][C](Da(b.x,b.y,a[1],a[2]));break;case"H":a=["C"][C](Da(b.x,b.y,a[1],b.y));break;case"V":a=["C"][C](Da(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"][C](Da(b.x,b.y,b.X,b.Y))}return a}),i=function(a,b){if(a[b].length>7){a[b].shift();for(var c=a[b];c.length;)a.splice(b++,0,["C"][C](c.splice(0,6)));a.splice(b,1),l=M(d.length,e&&e.length||0)}},j=function(a,b,c,f,g){a&&b&&"M"==a[g][0]&&"M"!=b[g][0]&&(b.splice(g,0,["M",f.x,f.y]),c.bx=0,c.by=0,c.x=a[g][1],c.y=a[g][2],l=M(d.length,e&&e.length||0))},k=0,l=M(d.length,e&&e.length||0);l>k;k++){d[k]=h(d[k],f),i(d,k),e&&(e[k]=h(e[k],g)),e&&i(e,k),j(d,e,f,g,k),j(e,d,g,f,k);var m=d[k],n=e&&e[k],o=m.length,p=e&&n.length;f.x=m[o-2],f.y=m[o-1],f.bx=Z(m[o-4])||f.x,f.by=Z(m[o-3])||f.y,g.bx=e&&(Z(n[p-4])||g.x),g.by=e&&(Z(n[p-3])||g.y),g.x=e&&n[p-2],g.y=e&&n[p-1]}return e||(c.curve=Aa(d)),e?[d,e]:d},null,Aa),Ja=(r._parseDots=o(function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e={},f=a[c].match(/^([^:]*):?([\d\.]*)/);if(e.color=r.getRGB(f[1]),e.color.error)return null;e.color=e.color.hex,f[2]&&(e.offset=f[2]+"%"),b.push(e)}for(c=1,d=b.length-1;d>c;c++)if(!b[c].offset){for(var g=Z(b[c-1].offset||0),h=0,i=c+1;d>i;i++)if(b[i].offset){h=b[i].offset;break}h||(h=100,i=d),h=Z(h);for(var j=(h-g)/(i-c+1);i>c;c++)g+=j,b[c].offset=g+"%"}return b}),r._tear=function(a,b){a==b.top&&(b.top=a.prev),a==b.bottom&&(b.bottom=a.next),a.next&&(a.next.prev=a.prev),a.prev&&(a.prev.next=a.next)}),Ka=(r._tofront=function(a,b){b.top!==a&&(Ja(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a)},r._toback=function(a,b){b.bottom!==a&&(Ja(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)},r._insertafter=function(a,b,c){Ja(a,c),b==c.top&&(c.top=a),b.next&&(b.next.prev=a),a.next=b.next,a.prev=b,b.next=a},r._insertbefore=function(a,b,c){Ja(a,c),b==c.bottom&&(c.bottom=a),b.prev&&(b.prev.next=a),a.prev=b.prev,b.prev=a,a.next=b},r.toMatrix=function(a,b){var c=za(a),d={_:{transform:E},getBBox:function(){return c}};return La(d,b),d.matrix}),La=(r.transformPath=function(a,b){return pa(a,Ka(a,b))},r._extractTransform=function(a,b){if(null==b)return a._.transform;b=G(b).replace(/\.{3}|\u2026/g,a._.transform||E);var c=r.parseTransformString(b),d=0,e=0,g=0,h=1,i=1,j=a._,k=new f;if(j.transform=c||[],c)for(var l=0,m=c.length;m>l;l++){var n,o,p,q,s,t=c[l],u=t.length,v=G(t[0]).toLowerCase(),w=t[0]!=v,x=w?k.invert():0;"t"==v&&3==u?w?(n=x.x(0,0),o=x.y(0,0),p=x.x(t[1],t[2]),q=x.y(t[1],t[2]),k.translate(p-n,q-o)):k.translate(t[1],t[2]):"r"==v?2==u?(s=s||a.getBBox(1),k.rotate(t[1],s.x+s.width/2,s.y+s.height/2),d+=t[1]):4==u&&(w?(p=x.x(t[2],t[3]),q=x.y(t[2],t[3]),k.rotate(t[1],p,q)):k.rotate(t[1],t[2],t[3]),d+=t[1]):"s"==v?2==u||3==u?(s=s||a.getBBox(1),k.scale(t[1],t[u-1],s.x+s.width/2,s.y+s.height/2),h*=t[1],i*=t[u-1]):5==u&&(w?(p=x.x(t[3],t[4]),q=x.y(t[3],t[4]),k.scale(t[1],t[2],p,q)):k.scale(t[1],t[2],t[3],t[4]),h*=t[1],i*=t[2]):"m"==v&&7==u&&k.add(t[1],t[2],t[3],t[4],t[5],t[6]),j.dirtyT=1,a.matrix=k}a.matrix=k,j.sx=h,j.sy=i,j.deg=d,j.dx=e=k.e,j.dy=g=k.f,1==h&&1==i&&!d&&j.bbox?(j.bbox.x+=+e,j.bbox.y+=+g):j.dirtyT=1}),Ma=function(a){var b=a[0];switch(b.toLowerCase()){case"t":return[b,0,0];case"m":return[b,1,0,0,1,0,0];case"r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case"s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}},Na=r._equaliseTransform=function(a,b){b=G(b).replace(/\.{3}|\u2026/g,a),a=r.parseTransformString(a)||[],b=r.parseTransformString(b)||[];for(var c,d,e,f,g=M(a.length,b.length),h=[],i=[],j=0;g>j;j++){if(e=a[j]||Ma(b[j]),f=b[j]||Ma(e),e[0]!=f[0]||"r"==e[0].toLowerCase()&&(e[2]!=f[2]||e[3]!=f[3])||"s"==e[0].toLowerCase()&&(e[3]!=f[3]||e[4]!=f[4]))return;for(h[j]=[],i[j]=[],c=0,d=M(e.length,f.length);d>c;c++)c in e&&(h[j][c]=e[c]),c in f&&(i[j][c]=f[c])}return{from:h,to:i}};r._getContainer=function(a,b,c,d){var e;return e=null!=d||r.is(a,"object")?a:y.doc.getElementById(a),null!=e?e.tagName?null==b?{container:e,width:e.style.pixelWidth||e.offsetWidth,height:e.style.pixelHeight||e.offsetHeight}:{container:e,width:b,height:c}:{container:1,x:a,y:b,width:c,height:d}:void 0},r.pathToRelative=Ba,r._engine={},r.path2curve=Ia,r.matrix=function(a,b,c,d,e,g){return new f(a,b,c,d,e,g)},function(a){function b(a){var b=L.sqrt(c(a));a[0]&&(a[0]/=b),a[1]&&(a[1]/=b)}function c(a){return a[0]*a[0]+a[1]*a[1]}a.add=function(a,b,c,d,e,g){var h,i,j,k,l=[[],[],[]],m=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],n=[[a,c,e],[b,d,g],[0,0,1]];for(a&&a instanceof f&&(n=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]),h=0;3>h;h++)for(i=0;3>i;i++){for(k=0,j=0;3>j;j++)k+=m[h][j]*n[j][i];l[h][i]=k}this.a=l[0][0],this.b=l[1][0],this.c=l[0][1],this.d=l[1][1],this.e=l[0][2],this.f=l[1][2]},a.invert=function(){var a=this,b=a.a*a.d-a.b*a.c;return new f(a.d/b,-a.b/b,-a.c/b,a.a/b,(a.c*a.f-a.d*a.e)/b,(a.b*a.e-a.a*a.f)/b)},a.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},a.translate=function(a,b){this.add(1,0,0,1,a,b)},a.scale=function(a,b,c,d){null==b&&(b=a),(c||d)&&this.add(1,0,0,1,c,d),this.add(a,0,0,b,0,0),(c||d)&&this.add(1,0,0,1,-c,-d)},a.rotate=function(a,b,c){a=r.rad(a),b=b||0,c=c||0;var d=+L.cos(a).toFixed(9),e=+L.sin(a).toFixed(9);this.add(d,e,-e,d,b,c),this.add(1,0,0,1,-b,-c)},a.x=function(a,b){return a*this.a+b*this.c+this.e},a.y=function(a,b){return a*this.b+b*this.d+this.f},a.get=function(a){return+this[G.fromCharCode(97+a)].toFixed(4)},a.toString=function(){return r.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},a.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},a.split=function(){var a={};a.dx=this.e,a.dy=this.f;var d=[[this.a,this.c],[this.b,this.d]];a.scalex=L.sqrt(c(d[0])),b(d[0]),a.shear=d[0][0]*d[1][0]+d[0][1]*d[1][1],d[1]=[d[1][0]-d[0][0]*a.shear,d[1][1]-d[0][1]*a.shear],a.scaley=L.sqrt(c(d[1])),b(d[1]),a.shear/=a.scaley;var e=-d[0][1],f=d[1][1];return 0>f?(a.rotate=r.deg(L.acos(f)),0>e&&(a.rotate=360-a.rotate)):a.rotate=r.deg(L.asin(e)),a.isSimple=!(+a.shear.toFixed(9)||a.scalex.toFixed(9)!=a.scaley.toFixed(9)&&a.rotate),a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate,a.noRotation=!+a.shear.toFixed(9)&&!a.rotate,a},a.toTransformString=function(a){var b=a||this[H]();return b.isSimple?(b.scalex=+b.scalex.toFixed(4),b.scaley=+b.scaley.toFixed(4),b.rotate=+b.rotate.toFixed(4),(b.dx||b.dy?"t"+[b.dx,b.dy]:E)+(1!=b.scalex||1!=b.scaley?"s"+[b.scalex,b.scaley,0,0]:E)+(b.rotate?"r"+[b.rotate,0,0]:E)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(f.prototype);var Oa=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&(Oa&&Oa[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Oa&&Oa[1]<8?t.safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){a.remove()})}:t.safari=ka;for(var Pa=function(){this.returnValue=!1},Qa=function(){return this.originalEvent.preventDefault()},Ra=function(){this.cancelBubble=!0},Sa=function(){return this.originalEvent.stopPropagation()},Ta=function(){return y.doc.addEventListener?function(a,b,c,d){var e=D&&J[b]?J[b]:b,f=function(e){var f=y.doc.documentElement.scrollTop||y.doc.body.scrollTop,g=y.doc.documentElement.scrollLeft||y.doc.body.scrollLeft,h=e.clientX+g,i=e.clientY+f;if(D&&J[x](b))for(var j=0,k=e.targetTouches&&e.targetTouches.length;k>j;j++)if(e.targetTouches[j].target==a){var l=e;e=e.targetTouches[j],e.originalEvent=l,e.preventDefault=Qa,e.stopPropagation=Sa;break}return c.call(d,e,h,i)};return a.addEventListener(e,f,!1),function(){return a.removeEventListener(e,f,!1),!0}}:y.doc.attachEvent?function(a,b,c,d){var e=function(a){a=a||y.win.event;var b=y.doc.documentElement.scrollTop||y.doc.body.scrollTop,e=y.doc.documentElement.scrollLeft||y.doc.body.scrollLeft,f=a.clientX+e,g=a.clientY+b;return a.preventDefault=a.preventDefault||Pa,a.stopPropagation=a.stopPropagation||Ra,c.call(d,a,f,g)};a.attachEvent("on"+b,e);var f=function(){return a.detachEvent("on"+b,e),!0};return f}:void 0}(),Ua=[],Va=function(a){for(var b,c=a.clientX,d=a.clientY,e=y.doc.documentElement.scrollTop||y.doc.body.scrollTop,f=y.doc.documentElement.scrollLeft||y.doc.body.scrollLeft,g=Ua.length;g--;){if(b=Ua[g],D){for(var h,i=a.touches.length;i--;)if(h=a.touches[i],h.identifier==b.el._drag.id){c=h.clientX,d=h.clientY,(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();var j,k=b.el.node,l=k.nextSibling,m=k.parentNode,n=k.style.display;y.win.opera&&m.removeChild(k),k.style.display="none",j=b.el.paper.getElementByPoint(c,d),k.style.display=n,y.win.opera&&(l?m.insertBefore(k,l):m.appendChild(k)),j&&eve("raphael.drag.over."+b.el.id,b.el,j),c+=f,d+=e,eve("raphael.drag.move."+b.el.id,b.move_scope||b.el,c-b.el._drag.x,d-b.el._drag.y,c,d,a)}},Wa=function(a){r.unmousemove(Va).unmouseup(Wa);for(var b,c=Ua.length;c--;)b=Ua[c],b.el._drag={},eve("raphael.drag.end."+b.el.id,b.end_scope||b.start_scope||b.move_scope||b.el,a);Ua=[]},Xa=r.el={},Ya=I.length;Ya--;)(function(a){r[a]=Xa[a]=function(b,c){return r.is(b,"function")&&(this.events=this.events||[],this.events.push({name:a,f:b,unbind:Ta(this.shape||this.node||y.doc,a,b,c||this)})),this},r["un"+a]=Xa["un"+a]=function(b){for(var c=this.events||[],d=c.length;d--;)if(c[d].name==a&&c[d].f==b)return c[d].unbind(),c.splice(d,1),!c.length&&delete this.events,this;return this}})(I[Ya]);Xa.data=function(a,b){var c=ia[this.id]=ia[this.id]||{};if(1==arguments.length){if(r.is(a,"object")){for(var d in a)a[x](d)&&this.data(d,a[d]);return this}return eve("raphael.data.get."+this.id,this,c[a],a),c[a]}return c[a]=b,eve("raphael.data.set."+this.id,this,b,a),this},Xa.removeData=function(a){return null==a?ia[this.id]={}:ia[this.id]&&delete ia[this.id][a],this},Xa.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)},Xa.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var Za=[];Xa.drag=function(a,b,c,d,e,f){function g(g){(g.originalEvent||g).preventDefault();var h=y.doc.documentElement.scrollTop||y.doc.body.scrollTop,i=y.doc.documentElement.scrollLeft||y.doc.body.scrollLeft;this._drag.x=g.clientX+i,this._drag.y=g.clientY+h,this._drag.id=g.identifier,!Ua.length&&r.mousemove(Va).mouseup(Wa),Ua.push({el:this,move_scope:d,start_scope:e,end_scope:f}),b&&eve.on("raphael.drag.start."+this.id,b),a&&eve.on("raphael.drag.move."+this.id,a),c&&eve.on("raphael.drag.end."+this.id,c),eve("raphael.drag.start."+this.id,e||d||this,g.clientX+i,g.clientY+h,g)}return this._drag={},Za.push({el:this,start:g}),this.mousedown(g),this},Xa.onDragOver=function(a){a?eve.on("raphael.drag.over."+this.id,a):eve.unbind("raphael.drag.over."+this.id)},Xa.undrag=function(){for(var a=Za.length;a--;)Za[a].el==this&&(this.unmousedown(Za[a].start),Za.splice(a,1),eve.unbind("raphael.drag.*."+this.id));!Za.length&&r.unmousemove(Va).unmouseup(Wa)},t.circle=function(a,b,c){var d=r._engine.circle(this,a||0,b||0,c||0);return this.__set__&&this.__set__.push(d),d},t.rect=function(a,b,c,d,e){var f=r._engine.rect(this,a||0,b||0,c||0,d||0,e||0);return this.__set__&&this.__set__.push(f),f},t.ellipse=function(a,b,c,d){var e=r._engine.ellipse(this,a||0,b||0,c||0,d||0);return this.__set__&&this.__set__.push(e),e},t.path=function(a){a&&!r.is(a,S)&&!r.is(a[0],T)&&(a+=E);var b=r._engine.path(r.format[B](r,arguments),this);return this.__set__&&this.__set__.push(b),b},t.image=function(a,b,c,d,e){var f=r._engine.image(this,a||"about:blank",b||0,c||0,d||0,e||0);return this.__set__&&this.__set__.push(f),f},t.text=function(a,b,c){var d=r._engine.text(this,a||0,b||0,G(c));return this.__set__&&this.__set__.push(d),d},t.set=function(a){!r.is(a,"array")&&(a=Array.prototype.splice.call(arguments,0,arguments.length));var b=new jb(a);return this.__set__&&this.__set__.push(b),b},t.setStart=function(a){this.__set__=a||this.set()},t.setFinish=function(a){var b=this.__set__;return delete this.__set__,b},t.setSize=function(a,b){return r._engine.setSize.call(this,a,b)},t.setViewBox=function(a,b,c,d,e){return r._engine.setViewBox.call(this,a,b,c,d,e)},t.top=t.bottom=null,t.raphael=r;var $a=function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,d=c.body,e=c.documentElement,f=e.clientTop||d.clientTop||0,g=e.clientLeft||d.clientLeft||0,h=b.top+(y.win.pageYOffset||e.scrollTop||d.scrollTop)-f,i=b.left+(y.win.pageXOffset||e.scrollLeft||d.scrollLeft)-g;return{y:h,x:i}};t.getElementByPoint=function(a,b){var c=this,d=c.canvas,e=y.doc.elementFromPoint(a,b);if(y.win.opera&&"svg"==e.tagName){var f=$a(d),g=d.createSVGRect();g.x=a-f.x,g.y=b-f.y,g.width=g.height=1;var h=d.getIntersectionList(g,null);h.length&&(e=h[h.length-1])}if(!e)return null;for(;e.parentNode&&e!=d.parentNode&&!e.raphael;)e=e.parentNode;return e==c.canvas.parentNode&&(e=d),e=e&&e.raphael?c.getById(e.raphaelid):null},t.getById=function(a){for(var b=this.bottom;b;){if(b.id==a)return b;b=b.next}return null},t.forEach=function(a,b){for(var c=this.bottom;c;){if(a.call(b,c)===!1)return this;c=c.next}return this},t.getElementsByPoint=function(a,b){var c=this.set();return this.forEach(function(d){d.isPointInside(a,b)&&c.push(d)}),c},Xa.isPointInside=function(a,b){var c=this.realPath=this.realPath||oa[this.type](this);return r.isPointInsidePath(c,a,b)},Xa.getBBox=function(a){if(this.removed)return{};var b=this._;return a?((b.dirty||!b.bboxwt)&&(this.realPath=oa[this.type](this),b.bboxwt=za(this.realPath),b.bboxwt.toString=e,b.dirty=0),b.bboxwt):((b.dirty||b.dirtyT||!b.bbox)&&((b.dirty||!this.realPath)&&(b.bboxwt=0,this.realPath=oa[this.type](this)),b.bbox=za(pa(this.realPath,this.matrix)),b.bbox.toString=e,b.dirty=b.dirtyT=0),b.bbox)},Xa.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(a),a},Xa.glow=function(a){if("text"==this.type)return null;a=a||{};var b={width:(a.width||10)+(+this.attr("stroke-width")||1),fill:a.fill||!1,opacity:a.opacity||.5,offsetx:a.offsetx||0,offsety:a.offsety||0,color:a.color||"#000"},c=b.width/2,d=this.paper,e=d.set(),f=this.realPath||oa[this.type](this);f=this.matrix?pa(f,this.matrix):f;for(var g=1;c+1>g;g++)e.push(d.path(f).attr({stroke:b.color,fill:b.fill?b.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(b.width/c*g).toFixed(3),opacity:+(b.opacity/c).toFixed(3)}));return e.insertBefore(this).translate(b.offsetx,b.offsety)};var _a=function(a,b,c,d,e,f,g,h,i){return null==i?k(a,b,c,d,e,f,g,h):r.findDotsAtSegment(a,b,c,d,e,f,g,h,j(a,b,c,d,e,f,g,h,i))},ab=function(a,b){return function(c,d,e){c=Ia(c);for(var f,g,h,i,j,k="",l={},m=0,n=0,o=c.length;o>n;n++){if(h=c[n],"M"==h[0])f=+h[1],g=+h[2];else{if(i=_a(f,g,h[1],h[2],h[3],h[4],h[5],h[6]),m+i>d){if(b&&!l.start){if(j=_a(f,g,h[1],h[2],h[3],h[4],h[5],h[6],d-m),k+=["C"+j.start.x,j.start.y,j.m.x,j.m.y,j.x,j.y],e)return k;l.start=k,k=["M"+j.x,j.y+"C"+j.n.x,j.n.y,j.end.x,j.end.y,h[5],h[6]].join(),m+=i,f=+h[5],g=+h[6];continue}if(!a&&!b)return j=_a(f,g,h[1],h[2],h[3],h[4],h[5],h[6],d-m),{x:j.x,y:j.y,alpha:j.alpha}}m+=i,f=+h[5],g=+h[6]}k+=h.shift()+h}return l.end=k,j=a?m:b?l:r.findDotsAtSegment(f,g,h[0],h[1],h[2],h[3],h[4],h[5],1),j.alpha&&(j={x:j.x,y:j.y,alpha:j.alpha}),j}},bb=ab(1),cb=ab(),db=ab(0,1);r.getTotalLength=bb,r.getPointAtLength=cb,r.getSubpath=function(a,b,c){if(this.getTotalLength(a)-c<1e-6)return db(a,b).end;var d=db(a,c,1);return b?db(d,b).end:d},Xa.getTotalLength=function(){return"path"==this.type?this.node.getTotalLength?this.node.getTotalLength():bb(this.attrs.path):void 0},Xa.getPointAtLength=function(a){return"path"==this.type?cb(this.attrs.path,a):void 0},Xa.getSubpath=function(a,b){return"path"==this.type?r.getSubpath(this.attrs.path,a,b):void 0};var eb=r.easing_formulas={linear:function(a){return a},"<":function(a){return P(a,1.7)},">":function(a){return P(a,.48)},"<>":function(a){var b=.48-a/1.04,c=L.sqrt(.1734+b*b),d=c-b,e=P(O(d),1/3)*(0>d?-1:1),f=-c-b,g=P(O(f),1/3)*(0>f?-1:1),h=e+g+.5;return 3*(1-h)*h*h+h*h*h},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){a-=1;var b=1.70158;return a*a*((b+1)*a+b)+1},elastic:function(a){return a==!!a?a:P(2,-10*a)*L.sin(2*(a-.075)*Q/.3)+1},bounce:function(a){var b,c=7.5625,d=2.75;return 1/d>a?b=c*a*a:2/d>a?(a-=1.5/d,b=c*a*a+.75):2.5/d>a?(a-=2.25/d,b=c*a*a+.9375):(a-=2.625/d,b=c*a*a+.984375),b}};eb.easeIn=eb["ease-in"]=eb["<"],eb.easeOut=eb["ease-out"]=eb[">"],eb.easeInOut=eb["ease-in-out"]=eb["<>"],eb["back-in"]=eb.backIn,eb["back-out"]=eb.backOut;var fb=[],gb=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,16)},hb=function(){for(var a=+new Date,c=0;c<fb.length;c++){var d=fb[c];if(!d.el.removed&&!d.paused){var e,f,g=a-d.start,h=d.ms,i=d.easing,j=d.from,k=d.diff,l=d.to,m=(d.t,d.el),n={},o={};if(d.initstatus?(g=(d.initstatus*d.anim.top-d.prev)/(d.percent-d.prev)*h,d.status=d.initstatus,delete d.initstatus,d.stop&&fb.splice(c--,1)):d.status=(d.prev+(d.percent-d.prev)*(g/h))/d.anim.top,!(0>g))if(h>g){var p=i(g/h);for(var q in j)if(j[x](q)){switch(ba[q]){case R:e=+j[q]+p*h*k[q];break;case"colour":e="rgb("+[ib(Y(j[q].r+p*h*k[q].r)),ib(Y(j[q].g+p*h*k[q].g)),ib(Y(j[q].b+p*h*k[q].b))].join(",")+")";break;case"path":e=[];for(var s=0,t=j[q].length;t>s;s++){e[s]=[j[q][s][0]];for(var u=1,v=j[q][s].length;v>u;u++)e[s][u]=+j[q][s][u]+p*h*k[q][s][u];e[s]=e[s].join(F)}e=e.join(F);break;case"transform":if(k[q].real)for(e=[],s=0,t=j[q].length;t>s;s++)for(e[s]=[j[q][s][0]],u=1,v=j[q][s].length;v>u;u++)e[s][u]=j[q][s][u]+p*h*k[q][s][u];else{var w=function(a){return+j[q][a]+p*h*k[q][a]};e=[["m",w(0),w(1),w(2),w(3),w(4),w(5)]]}break;case"csv":if("clip-rect"==q)for(e=[],s=4;s--;)e[s]=+j[q][s]+p*h*k[q][s];break;default:var y=[][C](j[q]);for(e=[],s=m.paper.customAttributes[q].length;s--;)e[s]=+y[s]+p*h*k[q][s]}n[q]=e}m.attr(n),function(a,b,c){setTimeout(function(){eve("raphael.anim.frame."+a,b,c)})}(m.id,m,d.anim)}else{if(function(a,b,c){setTimeout(function(){eve("raphael.anim.frame."+b.id,b,c),eve("raphael.anim.finish."+b.id,b,c),r.is(a,"function")&&a.call(b)})}(d.callback,m,d.anim),m.attr(l),fb.splice(c--,1),d.repeat>1&&!d.next){for(f in l)l[x](f)&&(o[f]=d.totalOrigin[f]);d.el.attr(o),b(d.anim,d.el,d.anim.percents[0],null,d.totalOrigin,d.repeat-1)}d.next&&!d.stop&&b(d.anim,d.el,d.next,null,d.totalOrigin,d.repeat)}}}r.svg&&m&&m.paper&&m.paper.safari(),fb.length&&gb(hb)},ib=function(a){return a>255?255:0>a?0:a};Xa.animateWith=function(a,d,e,f,g,h){var i=this;if(i.removed)return h&&h.call(i),i;var j=e instanceof c?e:r.animation(e,f,g,h);b(j,i,j.percents[0],null,i.attr());for(var k=0,l=fb.length;l>k;k++)if(fb[k].anim==d&&fb[k].el==a){fb[l-1].start=fb[k].start;break}return i},Xa.onAnimation=function(a){return a?eve.on("raphael.anim.frame."+this.id,a):eve.unbind("raphael.anim.frame."+this.id),this},c.prototype.delay=function(a){var b=new c(this.anim,this.ms);return b.times=this.times,b.del=+a||0,b},c.prototype.repeat=function(a){var b=new c(this.anim,this.ms);return b.del=this.del,b.times=L.floor(M(a,0))||1,b},r.animation=function(a,b,d,e){if(a instanceof c)return a;(r.is(d,"function")||!d)&&(e=e||d||null,d=null),a=Object(a),b=+b||0;var f,g,h={};for(g in a)a[x](g)&&Z(g)!=g&&Z(g)+"%"!=g&&(f=!0,h[g]=a[g]);return f?(d&&(h.easing=d),e&&(h.callback=e),new c({100:h},b)):new c(a,b)},Xa.animate=function(a,d,e,f){var g=this;if(g.removed)return f&&f.call(g),g;var h=a instanceof c?a:r.animation(a,d,e,f);return b(h,g,h.percents[0],null,g.attr()),g},Xa.setTime=function(a,b){return a&&null!=b&&this.status(a,N(b,a.ms)/a.ms),this},Xa.status=function(a,c){var d,e,f=[],g=0;if(null!=c)return b(a,this,-1,N(c,1)),this;for(d=fb.length;d>g;g++)if(e=fb[g],e.el.id==this.id&&(!a||e.anim==a)){if(a)return e.status;f.push({anim:e.anim,status:e.status})}return a?0:f},Xa.pause=function(a){for(var b=0;b<fb.length;b++)fb[b].el.id==this.id&&(!a||fb[b].anim==a)&&eve("raphael.anim.pause."+this.id,this,fb[b].anim)!==!1&&(fb[b].paused=!0);return this},Xa.resume=function(a){for(var b=0;b<fb.length;b++)if(fb[b].el.id==this.id&&(!a||fb[b].anim==a)){var c=fb[b];eve("raphael.anim.resume."+this.id,this,c.anim)!==!1&&(delete c.paused,this.status(c.anim,c.status))}return this},Xa.stop=function(a){for(var b=0;b<fb.length;b++)fb[b].el.id==this.id&&(!a||fb[b].anim==a)&&eve("raphael.anim.stop."+this.id,this,fb[b].anim)!==!1&&fb.splice(b--,1);return this},eve.on("raphael.remove",a),eve.on("raphael.clear",a),Xa.toString=function(){return"Raphaël’s object"};var jb=function(a){if(this.items=[],this.length=0,this.type="set",a)for(var b=0,c=a.length;c>b;b++)a[b]&&(a[b].constructor==Xa.constructor||a[b].constructor==jb)&&(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},kb=jb.prototype;kb.push=function(){for(var a,b,c=0,d=arguments.length;d>c;c++)a=arguments[c],a&&(a.constructor==Xa.constructor||a.constructor==jb)&&(b=this.items.length,this[b]=this.items[b]=a,this.length++);return this},kb.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},kb.forEach=function(a,b){for(var c=0,d=this.items.length;d>c;c++)if(a.call(b,this.items[c],c)===!1)return this;return this};for(var lb in Xa)Xa[x](lb)&&(kb[lb]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a][B](c,b)})}}(lb));kb.attr=function(a,b){if(a&&r.is(a,T)&&r.is(a[0],"object"))for(var c=0,d=a.length;d>c;c++)this.items[c].attr(a[c]);else for(var e=0,f=this.items.length;f>e;e++)this.items[e].attr(a,b);return this},kb.clear=function(){for(;this.length;)this.pop()},kb.splice=function(a,b,c){a=0>a?M(this.length+a,0):a,b=M(0,N(this.length-a,b));var d,e=[],f=[],g=[];for(d=2;d<arguments.length;d++)g.push(arguments[d]);for(d=0;b>d;d++)f.push(this[a+d]);for(;d<this.length-a;d++)e.push(this[a+d]);var h=g.length;for(d=0;d<h+e.length;d++)this.items[a+d]=this[a+d]=h>d?g[d]:e[d-h];for(d=this.items.length=this.length-=b-h;this[d];)delete this[d++];return new jb(f)},kb.exclude=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]==a)return this.splice(b,1),!0},kb.animate=function(a,b,c,d){(r.is(c,"function")||!c)&&(d=c||null);var e,f,g=this.items.length,h=g,i=this;if(!g)return this;d&&(f=function(){!--g&&d.call(i)}),c=r.is(c,S)?c:f;var j=r.animation(a,b,c,f);for(e=this.items[--h].animate(j);h--;)this.items[h]&&!this.items[h].removed&&this.items[h].animateWith(e,j,j);return this},kb.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);return this},kb.getBBox=function(){for(var a=[],b=[],c=[],d=[],e=this.items.length;e--;)if(!this.items[e].removed){var f=this.items[e].getBBox();a.push(f.x),b.push(f.y),c.push(f.x+f.width),d.push(f.y+f.height)}return a=N[B](0,a),b=N[B](0,b),c=M[B](0,c),d=M[B](0,d),{x:a,y:b,x2:c,y2:d,width:c-a,height:d-b}},kb.clone=function(a){a=new jb;for(var b=0,c=this.items.length;c>b;b++)a.push(this.items[b].clone());return a},kb.toString=function(){return"Raphaël‘s set"},r.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"];for(var d in a.face)a.face[x](d)&&(b.face[d]=a.face[d]);if(this.fonts[c]?this.fonts[c].push(b):this.fonts[c]=[b],!a.svg){b.face["units-per-em"]=$(a.face["units-per-em"],10);for(var e in a.glyphs)if(a.glyphs[x](e)){var f=a.glyphs[e];if(b.glyphs[e]={w:f.w,k:{},d:f.d&&"M"+f.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},f.k)for(var g in f.k)f[x](g)&&(b.glyphs[e].k[g]=f.k[g])}}return a},t.getFont=function(a,b,c,d){if(d=d||"normal",c=c||"normal",b=+b||{normal:400,bold:700,lighter:300,bolder:800}[b]||400,r.fonts){var e=r.fonts[a];if(!e){var f=new RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,E)+"(\\s|$)","i");for(var g in r.fonts)if(r.fonts[x](g)&&f.test(g)){e=r.fonts[g];break}}var h;if(e)for(var i=0,j=e.length;j>i&&(h=e[i],h.face["font-weight"]!=b||h.face["font-style"]!=c&&h.face["font-style"]||h.face["font-stretch"]!=d);i++);return h}},t.print=function(a,b,c,d,e,f,g){f=f||"middle",g=M(N(g||0,1),-1);var h,i=G(c)[H](E),j=0,k=0,l=E;if(r.is(d,c)&&(d=this.getFont(d)),d){h=(e||16)/d.face["units-per-em"];for(var m=d.face.bbox[H](u),n=+m[0],o=m[3]-m[1],p=0,q=+m[1]+("baseline"==f?o+ +d.face.descent:o/2),s=0,t=i.length;t>s;s++){if("\n"==i[s])j=0,w=0,k=0,p+=o;else{var v=k&&d.glyphs[i[s-1]]||{},w=d.glyphs[i[s]];j+=k?(v.w||d.w)+(v.k&&v.k[i[s]]||0)+d.w*g:0,k=1}w&&w.d&&(l+=r.transformPath(w.d,["t",j*h,p*h,"s",h,h,n,q,"t",(a-n)/h,(b-q)/h]))}}return this.path(l).attr({fill:"#000",stroke:"none"})},t.add=function(a){if(r.is(a,"array"))for(var b,c=this.set(),d=0,e=a.length;e>d;d++)b=a[d]||{},v[x](b.type)&&c.push(this[b.type]().attr(b));return c},r.format=function(a,b){var c=r.is(b,T)?[0][C](b):arguments;return a&&r.is(a,S)&&c.length-1&&(a=a.replace(w,function(a,b){return null==c[++b]?E:c[b]})),a||E},r.fullfill=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var e=d;return c.replace(b,function(a,b,c,d,f){b=b||d,e&&(b in e&&(e=e[b]),"function"==typeof e&&f&&(e=e()))}),e=(null==e||e==d?a:e)+""};return function(b,d){return String(b).replace(a,function(a,b){return c(a,b,d)})}}(),r.ninja=function(){return z.was?y.win.Raphael=z.is:delete Raphael,r},r.st=kb,function(a,b,c){function d(){/in/.test(a.readyState)?setTimeout(d,9):r.eve("raphael.DOMload")}null==a.readyState&&a.addEventListener&&(a.addEventListener(b,c=function(){a.removeEventListener(b,c,!1),a.readyState="complete"},!1),a.readyState="loading"),d()}(document,"DOMContentLoaded"),z.was?y.win.Raphael=r:Raphael=r,eve.on("raphael.DOMload",function(){s=!0})}(),window.Raphael.svg&&function(a){var b="hasOwnProperty",c=String,d=parseFloat,e=parseInt,f=Math,g=f.max,h=f.abs,i=f.pow,j=/[, ]+/,k=a.eve,l="",m=" ",n="http://www.w3.org/1999/xlink",o={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},p={};a.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var q=function(d,e){if(e){"string"==typeof d&&(d=q(d));for(var f in e)e[b](f)&&("xlink:"==f.substring(0,6)?d.setAttributeNS(n,f.substring(6),c(e[f])):d.setAttribute(f,c(e[f])))}else d=a._g.doc.createElementNS("http://www.w3.org/2000/svg",d),d.style&&(d.style.webkitTapHighlightColor="rgba(0,0,0,0)");return d},r=function(b,e){var j="linear",k=b.id+e,m=.5,n=.5,o=b.node,p=b.paper,r=o.style,s=a._g.doc.getElementById(k);if(!s){if(e=c(e).replace(a._radial_gradient,function(a,b,c){if(j="radial",b&&c){m=d(b),n=d(c);var e=2*(n>.5)-1;i(m-.5,2)+i(n-.5,2)>.25&&(n=f.sqrt(.25-i(m-.5,2))*e+.5)&&.5!=n&&(n=n.toFixed(5)-1e-5*e)}return l}),e=e.split(/\s*\-\s*/),"linear"==j){var t=e.shift();if(t=-d(t),isNaN(t))return null;var u=[0,0,f.cos(a.rad(t)),f.sin(a.rad(t))],v=1/(g(h(u[2]),h(u[3]))||1);u[2]*=v,u[3]*=v,u[2]<0&&(u[0]=-u[2],u[2]=0),u[3]<0&&(u[1]=-u[3],u[3]=0)}var w=a._parseDots(e);if(!w)return null;if(k=k.replace(/[\(\)\s,\xb0#]/g,"_"),b.gradient&&k!=b.gradient.id&&(p.defs.removeChild(b.gradient),delete b.gradient),!b.gradient){s=q(j+"Gradient",{id:k}),b.gradient=s,q(s,"radial"==j?{fx:m,fy:n}:{x1:u[0],y1:u[1],x2:u[2],y2:u[3],gradientTransform:b.matrix.invert()}),p.defs.appendChild(s);for(var x=0,y=w.length;y>x;x++)s.appendChild(q("stop",{offset:w[x].offset?w[x].offset:x?"100%":"0%","stop-color":w[x].color||"#fff"}))}}return q(o,{fill:"url(#"+k+")",opacity:1,"fill-opacity":1}),r.fill=l,r.opacity=1,r.fillOpacity=1,1},s=function(a){var b=a.getBBox(1);q(a.pattern,{patternTransform:a.matrix.invert()+" translate("+b.x+","+b.y+")"})},t=function(d,e,f){if("path"==d.type){for(var g,h,i,j,k,m=c(e).toLowerCase().split("-"),n=d.paper,r=f?"end":"start",s=d.node,t=d.attrs,u=t["stroke-width"],v=m.length,w="classic",x=3,y=3,z=5;v--;)switch(m[v]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=m[v];break;case"wide":y=5;break;case"narrow":y=2;break;case"long":x=5;break;case"short":x=2}if("open"==w?(x+=2,y+=2,z+=2,i=1,j=f?4:1,k={fill:"none",stroke:t.stroke}):(j=i=x/2,k={fill:t.stroke,stroke:"none"}),d._.arrows?f?(d._.arrows.endPath&&p[d._.arrows.endPath]--,d._.arrows.endMarker&&p[d._.arrows.endMarker]--):(d._.arrows.startPath&&p[d._.arrows.startPath]--,d._.arrows.startMarker&&p[d._.arrows.startMarker]--):d._.arrows={},"none"!=w){var A="raphael-marker-"+w,B="raphael-marker-"+r+w+x+y;a._g.doc.getElementById(A)?p[A]++:(n.defs.appendChild(q(q("path"),{"stroke-linecap":"round",d:o[w],id:A})),p[A]=1);var C,D=a._g.doc.getElementById(B);D?(p[B]++,C=D.getElementsByTagName("use")[0]):(D=q(q("marker"),{id:B,markerHeight:y,markerWidth:x,orient:"auto",refX:j,refY:y/2}),C=q(q("use"),{"xlink:href":"#"+A,transform:(f?"rotate(180 "+x/2+" "+y/2+") ":l)+"scale("+x/z+","+y/z+")","stroke-width":(1/((x/z+y/z)/2)).toFixed(4)}),D.appendChild(C),n.defs.appendChild(D),p[B]=1),q(C,k);var E=i*("diamond"!=w&&"oval"!=w);f?(g=d._.arrows.startdx*u||0,h=a.getTotalLength(t.path)-E*u):(g=E*u,h=a.getTotalLength(t.path)-(d._.arrows.enddx*u||0)),k={},k["marker-"+r]="url(#"+B+")",(h||g)&&(k.d=Raphael.getSubpath(t.path,g,h)),q(s,k),d._.arrows[r+"Path"]=A,d._.arrows[r+"Marker"]=B,d._.arrows[r+"dx"]=E,d._.arrows[r+"Type"]=w,d._.arrows[r+"String"]=e}else f?(g=d._.arrows.startdx*u||0,h=a.getTotalLength(t.path)-g):(g=0,h=a.getTotalLength(t.path)-(d._.arrows.enddx*u||0)),d._.arrows[r+"Path"]&&q(s,{d:Raphael.getSubpath(t.path,g,h)}),delete d._.arrows[r+"Path"],delete d._.arrows[r+"Marker"],delete d._.arrows[r+"dx"],delete d._.arrows[r+"Type"],delete d._.arrows[r+"String"];for(k in p)if(p[b](k)&&!p[k]){var F=a._g.doc.getElementById(k);F&&F.parentNode.removeChild(F)}}},u={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},v=function(a,b,d){if(b=u[c(b).toLowerCase()]){for(var e=a.attrs["stroke-width"]||"1",f={round:e,square:e,butt:0}[a.attrs["stroke-linecap"]||d["stroke-linecap"]]||0,g=[],h=b.length;h--;)g[h]=b[h]*e+(h%2?1:-1)*f;q(a.node,{"stroke-dasharray":g.join(",")})}},w=function(d,f){var i=d.node,k=d.attrs,m=i.style.visibility;i.style.visibility="hidden";for(var o in f)if(f[b](o)){if(!a._availableAttrs[b](o))continue;var p=f[o];switch(k[o]=p,o){case"blur":d.blur(p);break;case"href":case"title":case"target":var u=i.parentNode;if("a"!=u.tagName.toLowerCase()){var w=q("a");u.insertBefore(w,i),w.appendChild(i),u=w}"target"==o?u.setAttributeNS(n,"show","blank"==p?"new":p):u.setAttributeNS(n,o,p);break;case"cursor":i.style.cursor=p;break;case"transform":d.transform(p);break;case"arrow-start":t(d,p);break;case"arrow-end":t(d,p,1);break;case"clip-rect":var x=c(p).split(j);if(4==x.length){d.clip&&d.clip.parentNode.parentNode.removeChild(d.clip.parentNode);var z=q("clipPath"),A=q("rect");
z.id=a.createUUID(),q(A,{x:x[0],y:x[1],width:x[2],height:x[3]}),z.appendChild(A),d.paper.defs.appendChild(z),q(i,{"clip-path":"url(#"+z.id+")"}),d.clip=A}if(!p){var B=i.getAttribute("clip-path");if(B){var C=a._g.doc.getElementById(B.replace(/(^url\(#|\)$)/g,l));C&&C.parentNode.removeChild(C),q(i,{"clip-path":l}),delete d.clip}}break;case"path":"path"==d.type&&(q(i,{d:p?k.path=a._pathToAbsolute(p):"M0,0"}),d._.dirty=1,d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1)));break;case"width":if(i.setAttribute(o,p),d._.dirty=1,!k.fx)break;o="x",p=k.x;case"x":k.fx&&(p=-k.x-(k.width||0));case"rx":if("rx"==o&&"rect"==d.type)break;case"cx":i.setAttribute(o,p),d.pattern&&s(d),d._.dirty=1;break;case"height":if(i.setAttribute(o,p),d._.dirty=1,!k.fy)break;o="y",p=k.y;case"y":k.fy&&(p=-k.y-(k.height||0));case"ry":if("ry"==o&&"rect"==d.type)break;case"cy":i.setAttribute(o,p),d.pattern&&s(d),d._.dirty=1;break;case"r":"rect"==d.type?q(i,{rx:p,ry:p}):i.setAttribute(o,p),d._.dirty=1;break;case"src":"image"==d.type&&i.setAttributeNS(n,"href",p);break;case"stroke-width":(1!=d._.sx||1!=d._.sy)&&(p/=g(h(d._.sx),h(d._.sy))||1),d.paper._vbSize&&(p*=d.paper._vbSize),i.setAttribute(o,p),k["stroke-dasharray"]&&v(d,k["stroke-dasharray"],f),d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1));break;case"stroke-dasharray":v(d,p,f);break;case"fill":var D=c(p).match(a._ISURL);if(D){z=q("pattern");var E=q("image");z.id=a.createUUID(),q(z,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),q(E,{x:0,y:0,"xlink:href":D[1]}),z.appendChild(E),function(b){a._preload(D[1],function(){var a=this.offsetWidth,c=this.offsetHeight;q(b,{width:a,height:c}),q(E,{width:a,height:c}),d.paper.safari()})}(z),d.paper.defs.appendChild(z),q(i,{fill:"url(#"+z.id+")"}),d.pattern=z,d.pattern&&s(d);break}var F=a.getRGB(p);if(F.error){if(("circle"==d.type||"ellipse"==d.type||"r"!=c(p).charAt())&&r(d,p)){if("opacity"in k||"fill-opacity"in k){var G=a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,l));if(G){var H=G.getElementsByTagName("stop");q(H[H.length-1],{"stop-opacity":("opacity"in k?k.opacity:1)*("fill-opacity"in k?k["fill-opacity"]:1)})}}k.gradient=p,k.fill="none";break}}else delete f.gradient,delete k.gradient,!a.is(k.opacity,"undefined")&&a.is(f.opacity,"undefined")&&q(i,{opacity:k.opacity}),!a.is(k["fill-opacity"],"undefined")&&a.is(f["fill-opacity"],"undefined")&&q(i,{"fill-opacity":k["fill-opacity"]});F[b]("opacity")&&q(i,{"fill-opacity":F.opacity>1?F.opacity/100:F.opacity});case"stroke":F=a.getRGB(p),i.setAttribute(o,F.hex),"stroke"==o&&F[b]("opacity")&&q(i,{"stroke-opacity":F.opacity>1?F.opacity/100:F.opacity}),"stroke"==o&&d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1));break;case"gradient":("circle"==d.type||"ellipse"==d.type||"r"!=c(p).charAt())&&r(d,p);break;case"opacity":k.gradient&&!k[b]("stroke-opacity")&&q(i,{"stroke-opacity":p>1?p/100:p});case"fill-opacity":if(k.gradient){G=a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,l)),G&&(H=G.getElementsByTagName("stop"),q(H[H.length-1],{"stop-opacity":p}));break}default:"font-size"==o&&(p=e(p,10)+"px");var I=o.replace(/(\-.)/g,function(a){return a.substring(1).toUpperCase()});i.style[I]=p,d._.dirty=1,i.setAttribute(o,p)}}y(d,f),i.style.visibility=m},x=1.2,y=function(d,f){if("text"==d.type&&(f[b]("text")||f[b]("font")||f[b]("font-size")||f[b]("x")||f[b]("y"))){var g=d.attrs,h=d.node,i=h.firstChild?e(a._g.doc.defaultView.getComputedStyle(h.firstChild,l).getPropertyValue("font-size"),10):10;if(f[b]("text")){for(g.text=f.text;h.firstChild;)h.removeChild(h.firstChild);for(var j,k=c(f.text).split("\n"),m=[],n=0,o=k.length;o>n;n++)j=q("tspan"),n&&q(j,{dy:i*x,x:g.x}),j.appendChild(a._g.doc.createTextNode(k[n])),h.appendChild(j),m[n]=j}else for(m=h.getElementsByTagName("tspan"),n=0,o=m.length;o>n;n++)n?q(m[n],{dy:i*x,x:g.x}):q(m[0],{dy:0});q(h,{x:g.x,y:g.y}),d._.dirty=1;var p=d._getBBox(),r=g.y-(p.y+p.height/2);r&&a.is(r,"finite")&&q(m[0],{dy:r})}},z=function(b,c){this[0]=this.node=b,b.raphael=!0,this.id=a._oid++,b.raphaelid=this.id,this.matrix=a.matrix(),this.realPath=null,this.paper=c,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null},A=a.el;z.prototype=A,A.constructor=z,a._engine.path=function(a,b){var c=q("path");b.canvas&&b.canvas.appendChild(c);var d=new z(c,b);return d.type="path",w(d,{fill:"none",stroke:"#000",path:a}),d},A.rotate=function(a,b,e){if(this.removed)return this;if(a=c(a).split(j),a.length-1&&(b=d(a[1]),e=d(a[2])),a=d(a[0]),null==e&&(b=e),null==b||null==e){var f=this.getBBox(1);b=f.x+f.width/2,e=f.y+f.height/2}return this.transform(this._.transform.concat([["r",a,b,e]])),this},A.scale=function(a,b,e,f){if(this.removed)return this;if(a=c(a).split(j),a.length-1&&(b=d(a[1]),e=d(a[2]),f=d(a[3])),a=d(a[0]),null==b&&(b=a),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",a,b,e,f]])),this},A.translate=function(a,b){return this.removed?this:(a=c(a).split(j),a.length-1&&(b=d(a[1])),a=d(a[0])||0,b=+b||0,this.transform(this._.transform.concat([["t",a,b]])),this)},A.transform=function(c){var d=this._;if(null==c)return d.transform;if(a._extractTransform(this,c),this.clip&&q(this.clip,{transform:this.matrix.invert()}),this.pattern&&s(this),this.node&&q(this.node,{transform:this.matrix}),1!=d.sx||1!=d.sy){var e=this.attrs[b]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":e})}return this},A.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},A.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},A.remove=function(){if(!this.removed&&this.node.parentNode){var b=this.paper;b.__set__&&b.__set__.exclude(this),k.unbind("raphael.*.*."+this.id),this.gradient&&b.defs.removeChild(this.gradient),a._tear(this,b),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var c in this)this[c]="function"==typeof this[c]?a._removedFactory(c):null;this.removed=!0}},A._getBBox=function(){if("none"==this.node.style.display){this.show();var a=!0}var b={};try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}return a&&this.hide(),b},A.attr=function(c,d){if(this.removed)return this;if(null==c){var e={};for(var f in this.attrs)this.attrs[b](f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if("fill"==c&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==c)return this._.transform;for(var g=c.split(j),h={},i=0,l=g.length;l>i;i++)c=g[i],c in this.attrs?h[c]=this.attrs[c]:a.is(this.paper.customAttributes[c],"function")?h[c]=this.paper.customAttributes[c].def:h[c]=a._availableAttrs[c];return l-1?h:h[g[0]]}if(null==d&&a.is(c,"array")){for(h={},i=0,l=c.length;l>i;i++)h[c[i]]=this.attr(c[i]);return h}if(null!=d){var m={};m[c]=d}else null!=c&&a.is(c,"object")&&(m=c);for(var n in m)k("raphael.attr."+n+"."+this.id,this,m[n]);for(n in this.paper.customAttributes)if(this.paper.customAttributes[b](n)&&m[b](n)&&a.is(this.paper.customAttributes[n],"function")){var o=this.paper.customAttributes[n].apply(this,[].concat(m[n]));this.attrs[n]=m[n];for(var p in o)o[b](p)&&(m[p]=o[p])}return w(this,m),this},A.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var b=this.paper;return b.top!=this&&a._tofront(this,b),this},A.toBack=function(){if(this.removed)return this;var b=this.node.parentNode;"a"==b.tagName.toLowerCase()?b.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):b.firstChild!=this.node&&b.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper);this.paper;return this},A.insertAfter=function(b){if(this.removed)return this;var c=b.node||b[b.length-1].node;return c.nextSibling?c.parentNode.insertBefore(this.node,c.nextSibling):c.parentNode.appendChild(this.node),a._insertafter(this,b,this.paper),this},A.insertBefore=function(b){if(this.removed)return this;var c=b.node||b[0].node;return c.parentNode.insertBefore(this.node,c),a._insertbefore(this,b,this.paper),this},A.blur=function(b){var c=this;if(0!==+b){var d=q("filter"),e=q("feGaussianBlur");c.attrs.blur=b,d.id=a.createUUID(),q(e,{stdDeviation:+b||1.5}),d.appendChild(e),c.paper.defs.appendChild(d),c._blur=d,q(c.node,{filter:"url(#"+d.id+")"})}else c._blur&&(c._blur.parentNode.removeChild(c._blur),delete c._blur,delete c.attrs.blur),c.node.removeAttribute("filter")},a._engine.circle=function(a,b,c,d){var e=q("circle");a.canvas&&a.canvas.appendChild(e);var f=new z(e,a);return f.attrs={cx:b,cy:c,r:d,fill:"none",stroke:"#000"},f.type="circle",q(e,f.attrs),f},a._engine.rect=function(a,b,c,d,e,f){var g=q("rect");a.canvas&&a.canvas.appendChild(g);var h=new z(g,a);return h.attrs={x:b,y:c,width:d,height:e,r:f||0,rx:f||0,ry:f||0,fill:"none",stroke:"#000"},h.type="rect",q(g,h.attrs),h},a._engine.ellipse=function(a,b,c,d,e){var f=q("ellipse");a.canvas&&a.canvas.appendChild(f);var g=new z(f,a);return g.attrs={cx:b,cy:c,rx:d,ry:e,fill:"none",stroke:"#000"},g.type="ellipse",q(f,g.attrs),g},a._engine.image=function(a,b,c,d,e,f){var g=q("image");q(g,{x:c,y:d,width:e,height:f,preserveAspectRatio:"none"}),g.setAttributeNS(n,"href",b),a.canvas&&a.canvas.appendChild(g);var h=new z(g,a);return h.attrs={x:c,y:d,width:e,height:f,src:b},h.type="image",h},a._engine.text=function(b,c,d,e){var f=q("text");b.canvas&&b.canvas.appendChild(f);var g=new z(f,b);return g.attrs={x:c,y:d,"text-anchor":"middle",text:e,font:a._availableAttrs.font,stroke:"none",fill:"#000"},g.type="text",w(g,g.attrs),g},a._engine.setSize=function(a,b){return this.width=a||this.width,this.height=b||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},a._engine.create=function(){var b=a._getContainer.apply(0,arguments),c=b&&b.container,d=b.x,e=b.y,f=b.width,g=b.height;if(!c)throw new Error("SVG container not found.");var h,i=q("svg"),j="overflow:hidden;";return d=d||0,e=e||0,f=f||512,g=g||342,q(i,{height:g,version:1.1,width:f,xmlns:"http://www.w3.org/2000/svg"}),1==c?(i.style.cssText=j+"position:absolute;left:"+d+"px;top:"+e+"px",a._g.doc.body.appendChild(i),h=1):(i.style.cssText=j+"position:relative",c.firstChild?c.insertBefore(i,c.firstChild):c.appendChild(i)),c=new a._Paper,c.width=f,c.height=g,c.canvas=i,c.clear(),c._left=c._top=0,h&&(c.renderfix=function(){}),c.renderfix(),c},a._engine.setViewBox=function(a,b,c,d,e){k("raphael.setViewBox",this,this._viewBox,[a,b,c,d,e]);var f,h,i=g(c/this.width,d/this.height),j=this.top,l=e?"meet":"xMinYMin";for(null==a?(this._vbSize&&(i=1),delete this._vbSize,f="0 0 "+this.width+m+this.height):(this._vbSize=i,f=a+m+b+m+c+m+d),q(this.canvas,{viewBox:f,preserveAspectRatio:l});i&&j;)h="stroke-width"in j.attrs?j.attrs["stroke-width"]:1,j.attr({"stroke-width":h}),j._.dirty=1,j._.dirtyT=1,j=j.prev;return this._viewBox=[a,b,c,d,!!e],this},a.prototype.renderfix=function(){var a,b=this.canvas,c=b.style;try{a=b.getScreenCTM()||b.createSVGMatrix()}catch(d){a=b.createSVGMatrix()}var e=-a.e%1,f=-a.f%1;(e||f)&&(e&&(this._left=(this._left+e)%1,c.left=this._left+"px"),f&&(this._top=(this._top+f)%1,c.top=this._top+"px"))},a.prototype.clear=function(){a.eve("raphael.clear",this);for(var b=this.canvas;b.firstChild;)b.removeChild(b.firstChild);this.bottom=this.top=null,(this.desc=q("desc")).appendChild(a._g.doc.createTextNode("Created with Raphaël "+a.version)),b.appendChild(this.desc),b.appendChild(this.defs=q("defs"))},a.prototype.remove=function(){k("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null};var B=a.st;for(var C in A)A[b](C)&&!B[b](C)&&(B[C]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(C))}(window.Raphael),window.Raphael.vml&&function(a){var b="hasOwnProperty",c=String,d=parseFloat,e=Math,f=e.round,g=e.max,h=e.min,i=e.abs,j="fill",k=/[, ]+/,l=a.eve,m=" progid:DXImageTransform.Microsoft",n=" ",o="",p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},q=/([clmz]),?([^clmz]*)/gi,r=/ progid:\S+Blur\([^\)]+\)/g,s=/-?[^,\s-]+/g,t="position:absolute;left:0;top:0;width:1px;height:1px",u=21600,v={path:1,rect:1,image:1},w={circle:1,ellipse:1},x=function(b){var d=/[ahqstv]/gi,e=a._pathToAbsolute;if(c(b).match(d)&&(e=a._path2curve),d=/[clmz]/g,e==a._pathToAbsolute&&!c(b).match(d)){var g=c(b).replace(q,function(a,b,c){var d=[],e="m"==b.toLowerCase(),g=p[b];return c.replace(s,function(a){e&&2==d.length&&(g+=d+p["m"==b?"l":"L"],d=[]),d.push(f(a*u))}),g+d});return g}var h,i,j=e(b);g=[];for(var k=0,l=j.length;l>k;k++){h=j[k],i=j[k][0].toLowerCase(),"z"==i&&(i="x");for(var m=1,r=h.length;r>m;m++)i+=f(h[m]*u)+(m!=r-1?",":o);g.push(i)}return g.join(n)},y=function(b,c,d){var e=a.matrix();return e.rotate(-b,.5,.5),{dx:e.x(c,d),dy:e.y(c,d)}},z=function(a,b,c,d,e,f){var g=a._,h=a.matrix,k=g.fillpos,l=a.node,m=l.style,o=1,p="",q=u/b,r=u/c;if(m.visibility="hidden",b&&c){if(l.coordsize=i(q)+n+i(r),m.rotation=f*(0>b*c?-1:1),f){var s=y(f,d,e);d=s.dx,e=s.dy}if(0>b&&(p+="x"),0>c&&(p+=" y")&&(o=-1),m.flip=p,l.coordorigin=d*-q+n+e*-r,k||g.fillsize){var t=l.getElementsByTagName(j);t=t&&t[0],l.removeChild(t),k&&(s=y(f,h.x(k[0],k[1]),h.y(k[0],k[1])),t.position=s.dx*o+n+s.dy*o),g.fillsize&&(t.size=g.fillsize[0]*i(b)+n+g.fillsize[1]*i(c)),l.appendChild(t)}m.visibility="visible"}};a.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var A=function(a,b,d){for(var e=c(b).toLowerCase().split("-"),f=d?"end":"start",g=e.length,h="classic",i="medium",j="medium";g--;)switch(e[g]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":h=e[g];break;case"wide":case"narrow":j=e[g];break;case"long":case"short":i=e[g]}var k=a.node.getElementsByTagName("stroke")[0];k[f+"arrow"]=h,k[f+"arrowlength"]=i,k[f+"arrowwidth"]=j},B=function(e,i){e.attrs=e.attrs||{};var l=e.node,m=e.attrs,p=l.style,q=v[e.type]&&(i.x!=m.x||i.y!=m.y||i.width!=m.width||i.height!=m.height||i.cx!=m.cx||i.cy!=m.cy||i.rx!=m.rx||i.ry!=m.ry||i.r!=m.r),r=w[e.type]&&(m.cx!=i.cx||m.cy!=i.cy||m.r!=i.r||m.rx!=i.rx||m.ry!=i.ry),s=e;for(var t in i)i[b](t)&&(m[t]=i[t]);if(q&&(m.path=a._getPath[e.type](e),e._.dirty=1),i.href&&(l.href=i.href),i.title&&(l.title=i.title),i.target&&(l.target=i.target),i.cursor&&(p.cursor=i.cursor),"blur"in i&&e.blur(i.blur),(i.path&&"path"==e.type||q)&&(l.path=x(~c(m.path).toLowerCase().indexOf("r")?a._pathToAbsolute(m.path):m.path),"image"==e.type&&(e._.fillpos=[m.x,m.y],e._.fillsize=[m.width,m.height],z(e,1,1,0,0,0))),"transform"in i&&e.transform(i.transform),r){var y=+m.cx,B=+m.cy,D=+m.rx||+m.r||0,E=+m.ry||+m.r||0;l.path=a.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",f((y-D)*u),f((B-E)*u),f((y+D)*u),f((B+E)*u),f(y*u))}if("clip-rect"in i){var G=c(i["clip-rect"]).split(k);if(4==G.length){G[2]=+G[2]+ +G[0],G[3]=+G[3]+ +G[1];var H=l.clipRect||a._g.doc.createElement("div"),I=H.style;I.clip=a.format("rect({1}px {2}px {3}px {0}px)",G),l.clipRect||(I.position="absolute",I.top=0,I.left=0,I.width=e.paper.width+"px",I.height=e.paper.height+"px",l.parentNode.insertBefore(H,l),H.appendChild(l),l.clipRect=H)}i["clip-rect"]||l.clipRect&&(l.clipRect.style.clip="auto")}if(e.textpath){var J=e.textpath.style;i.font&&(J.font=i.font),i["font-family"]&&(J.fontFamily='"'+i["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,o)+'"'),i["font-size"]&&(J.fontSize=i["font-size"]),i["font-weight"]&&(J.fontWeight=i["font-weight"]),i["font-style"]&&(J.fontStyle=i["font-style"])}if("arrow-start"in i&&A(s,i["arrow-start"]),"arrow-end"in i&&A(s,i["arrow-end"],1),null!=i.opacity||null!=i["stroke-width"]||null!=i.fill||null!=i.src||null!=i.stroke||null!=i["stroke-width"]||null!=i["stroke-opacity"]||null!=i["fill-opacity"]||null!=i["stroke-dasharray"]||null!=i["stroke-miterlimit"]||null!=i["stroke-linejoin"]||null!=i["stroke-linecap"]){var K=l.getElementsByTagName(j),L=!1;if(K=K&&K[0],!K&&(L=K=F(j)),"image"==e.type&&i.src&&(K.src=i.src),i.fill&&(K.on=!0),(null==K.on||"none"==i.fill||null===i.fill)&&(K.on=!1),K.on&&i.fill){var M=c(i.fill).match(a._ISURL);if(M){K.parentNode==l&&l.removeChild(K),K.rotate=!0,K.src=M[1],K.type="tile";var N=e.getBBox(1);K.position=N.x+n+N.y,e._.fillpos=[N.x,N.y],a._preload(M[1],function(){e._.fillsize=[this.offsetWidth,this.offsetHeight]})}else K.color=a.getRGB(i.fill).hex,K.src=o,K.type="solid",a.getRGB(i.fill).error&&(s.type in{circle:1,ellipse:1}||"r"!=c(i.fill).charAt())&&C(s,i.fill,K)&&(m.fill="none",m.gradient=i.fill,K.rotate=!1)}if("fill-opacity"in i||"opacity"in i){var O=((+m["fill-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+a.getRGB(i.fill).o+1||2)-1);O=h(g(O,0),1),K.opacity=O,K.src&&(K.color="none")}l.appendChild(K);var P=l.getElementsByTagName("stroke")&&l.getElementsByTagName("stroke")[0],Q=!1;!P&&(Q=P=F("stroke")),(i.stroke&&"none"!=i.stroke||i["stroke-width"]||null!=i["stroke-opacity"]||i["stroke-dasharray"]||i["stroke-miterlimit"]||i["stroke-linejoin"]||i["stroke-linecap"])&&(P.on=!0),("none"==i.stroke||null===i.stroke||null==P.on||0==i.stroke||0==i["stroke-width"])&&(P.on=!1);var R=a.getRGB(i.stroke);P.on&&i.stroke&&(P.color=R.hex),O=((+m["stroke-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+R.o+1||2)-1);var S=.75*(d(i["stroke-width"])||1);if(O=h(g(O,0),1),null==i["stroke-width"]&&(S=m["stroke-width"]),i["stroke-width"]&&(P.weight=S),S&&1>S&&(O*=S)&&(P.weight=1),P.opacity=O,i["stroke-linejoin"]&&(P.joinstyle=i["stroke-linejoin"]||"miter"),P.miterlimit=i["stroke-miterlimit"]||8,i["stroke-linecap"]&&(P.endcap="butt"==i["stroke-linecap"]?"flat":"square"==i["stroke-linecap"]?"square":"round"),i["stroke-dasharray"]){var T={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};P.dashstyle=T[b](i["stroke-dasharray"])?T[i["stroke-dasharray"]]:o}Q&&l.appendChild(P)}if("text"==s.type){s.paper.canvas.style.display=o;var U=s.paper.span,V=100,W=m.font&&m.font.match(/\d+(?:\.\d*)?(?=px)/);p=U.style,m.font&&(p.font=m.font),m["font-family"]&&(p.fontFamily=m["font-family"]),m["font-weight"]&&(p.fontWeight=m["font-weight"]),m["font-style"]&&(p.fontStyle=m["font-style"]),W=d(m["font-size"]||W&&W[0])||10,p.fontSize=W*V+"px",s.textpath.string&&(U.innerHTML=c(s.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var X=U.getBoundingClientRect();s.W=m.w=(X.right-X.left)/V,s.H=m.h=(X.bottom-X.top)/V,s.X=m.x,s.Y=m.y+s.H/2,("x"in i||"y"in i)&&(s.path.v=a.format("m{0},{1}l{2},{1}",f(m.x*u),f(m.y*u),f(m.x*u)+1));for(var Y=["x","y","text","font","font-family","font-weight","font-style","font-size"],Z=0,$=Y.length;$>Z;Z++)if(Y[Z]in i){s._.dirty=1;break}switch(m["text-anchor"]){case"start":s.textpath.style["v-text-align"]="left",s.bbx=s.W/2;break;case"end":s.textpath.style["v-text-align"]="right",s.bbx=-s.W/2;break;default:s.textpath.style["v-text-align"]="center",s.bbx=0}s.textpath.style["v-text-kern"]=!0}},C=function(b,f,g){b.attrs=b.attrs||{};var h=(b.attrs,Math.pow),i="linear",j=".5 .5";if(b.attrs.gradient=f,f=c(f).replace(a._radial_gradient,function(a,b,c){return i="radial",b&&c&&(b=d(b),c=d(c),h(b-.5,2)+h(c-.5,2)>.25&&(c=e.sqrt(.25-h(b-.5,2))*(2*(c>.5)-1)+.5),j=b+n+c),o}),f=f.split(/\s*\-\s*/),"linear"==i){var k=f.shift();if(k=-d(k),isNaN(k))return null}var l=a._parseDots(f);if(!l)return null;if(b=b.shape||b.node,l.length){b.removeChild(g),g.on=!0,g.method="none",g.color=l[0].color,g.color2=l[l.length-1].color;for(var m=[],p=0,q=l.length;q>p;p++)l[p].offset&&m.push(l[p].offset+n+l[p].color);g.colors=m.length?m.join():"0% "+g.color,"radial"==i?(g.type="gradientTitle",g.focus="100%",g.focussize="0 0",g.focusposition=j,g.angle=0):(g.type="gradient",g.angle=(270-k)%360),b.appendChild(g)}return 1},D=function(b,c){this[0]=this.node=b,b.raphael=!0,this.id=a._oid++,b.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=c,this.matrix=a.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null},E=a.el;D.prototype=E,E.constructor=D,E.transform=function(b){if(null==b)return this._.transform;var d,e=this.paper._viewBoxShift,f=e?"s"+[e.scale,e.scale]+"-1-1t"+[e.dx,e.dy]:o;e&&(d=b=c(b).replace(/\.{3}|\u2026/g,this._.transform||o)),a._extractTransform(this,f+b);var g,h=this.matrix.clone(),i=this.skew,j=this.node,k=~c(this.attrs.fill).indexOf("-"),l=!c(this.attrs.fill).indexOf("url(");if(h.translate(-.5,-.5),l||k||"image"==this.type)if(i.matrix="1 0 0 1",i.offset="0 0",g=h.split(),k&&g.noRotation||!g.isSimple){j.style.filter=h.toFilter();var m=this.getBBox(),p=this.getBBox(1),q=m.x-p.x,r=m.y-p.y;j.coordorigin=q*-u+n+r*-u,z(this,1,1,q,r,0)}else j.style.filter=o,z(this,g.scalex,g.scaley,g.dx,g.dy,g.rotate);else j.style.filter=o,i.matrix=c(h),i.offset=h.offset();return d&&(this._.transform=d),this},E.rotate=function(a,b,e){if(this.removed)return this;if(null!=a){if(a=c(a).split(k),a.length-1&&(b=d(a[1]),e=d(a[2])),a=d(a[0]),null==e&&(b=e),null==b||null==e){var f=this.getBBox(1);b=f.x+f.width/2,e=f.y+f.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",a,b,e]])),this}},E.translate=function(a,b){return this.removed?this:(a=c(a).split(k),a.length-1&&(b=d(a[1])),a=d(a[0])||0,b=+b||0,this._.bbox&&(this._.bbox.x+=a,this._.bbox.y+=b),this.transform(this._.transform.concat([["t",a,b]])),this)},E.scale=function(a,b,e,f){if(this.removed)return this;if(a=c(a).split(k),a.length-1&&(b=d(a[1]),e=d(a[2]),f=d(a[3]),isNaN(e)&&(e=null),isNaN(f)&&(f=null)),a=d(a[0]),null==b&&(b=a),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",a,b,e,f]])),this._.dirtyT=1,this},E.hide=function(){return!this.removed&&(this.node.style.display="none"),this},E.show=function(){return!this.removed&&(this.node.style.display=o),this},E._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},E.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),a.eve.unbind("raphael.*.*."+this.id),a._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null;this.removed=!0}},E.attr=function(c,d){if(this.removed)return this;if(null==c){var e={};for(var f in this.attrs)this.attrs[b](f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if(c==j&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var g=c.split(k),h={},i=0,m=g.length;m>i;i++)c=g[i],c in this.attrs?h[c]=this.attrs[c]:a.is(this.paper.customAttributes[c],"function")?h[c]=this.paper.customAttributes[c].def:h[c]=a._availableAttrs[c];return m-1?h:h[g[0]]}if(this.attrs&&null==d&&a.is(c,"array")){for(h={},i=0,m=c.length;m>i;i++)h[c[i]]=this.attr(c[i]);return h}var n;null!=d&&(n={},n[c]=d),null==d&&a.is(c,"object")&&(n=c);for(var o in n)l("raphael.attr."+o+"."+this.id,this,n[o]);if(n){for(o in this.paper.customAttributes)if(this.paper.customAttributes[b](o)&&n[b](o)&&a.is(this.paper.customAttributes[o],"function")){var p=this.paper.customAttributes[o].apply(this,[].concat(n[o]));this.attrs[o]=n[o];for(var q in p)p[b](q)&&(n[q]=p[q])}n.text&&"text"==this.type&&(this.textpath.string=n.text),B(this,n)}return this},E.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&a._tofront(this,this.paper),this},E.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper)),this)},E.insertAfter=function(b){return this.removed?this:(b.constructor==a.st.constructor&&(b=b[b.length-1]),b.node.nextSibling?b.node.parentNode.insertBefore(this.node,b.node.nextSibling):b.node.parentNode.appendChild(this.node),a._insertafter(this,b,this.paper),this)},E.insertBefore=function(b){return this.removed?this:(b.constructor==a.st.constructor&&(b=b[0]),b.node.parentNode.insertBefore(this.node,b.node),a._insertbefore(this,b,this.paper),this)},E.blur=function(b){var c=this.node.runtimeStyle,d=c.filter;d=d.replace(r,o),0!==+b?(this.attrs.blur=b,c.filter=d+n+m+".Blur(pixelradius="+(+b||1.5)+")",c.margin=a.format("-{0}px 0 0 -{0}px",f(+b||1.5))):(c.filter=d,c.margin=0,delete this.attrs.blur)},a._engine.path=function(a,b){var c=F("shape");c.style.cssText=t,c.coordsize=u+n+u,c.coordorigin=b.coordorigin;var d=new D(c,b),e={fill:"none",stroke:"#000"};a&&(e.path=a),d.type="path",d.path=[],d.Path=o,B(d,e),b.canvas.appendChild(c);var f=F("skew");return f.on=!0,c.appendChild(f),d.skew=f,d.transform(o),d},a._engine.rect=function(b,c,d,e,f,g){var h=a._rectPath(c,d,e,f,g),i=b.path(h),j=i.attrs;return i.X=j.x=c,i.Y=j.y=d,i.W=j.width=e,i.H=j.height=f,j.r=g,j.path=h,i.type="rect",i},a._engine.ellipse=function(a,b,c,d,e){var f=a.path();f.attrs;return f.X=b-d,f.Y=c-e,f.W=2*d,f.H=2*e,f.type="ellipse",B(f,{cx:b,cy:c,rx:d,ry:e}),f},a._engine.circle=function(a,b,c,d){var e=a.path();e.attrs;return e.X=b-d,e.Y=c-d,e.W=e.H=2*d,e.type="circle",B(e,{cx:b,cy:c,r:d}),e},a._engine.image=function(b,c,d,e,f,g){var h=a._rectPath(d,e,f,g),i=b.path(h).attr({stroke:"none"}),k=i.attrs,l=i.node,m=l.getElementsByTagName(j)[0];return k.src=c,i.X=k.x=d,i.Y=k.y=e,i.W=k.width=f,i.H=k.height=g,k.path=h,i.type="image",m.parentNode==l&&l.removeChild(m),m.rotate=!0,m.src=c,m.type="tile",i._.fillpos=[d,e],i._.fillsize=[f,g],l.appendChild(m),z(i,1,1,0,0,0),i},a._engine.text=function(b,d,e,g){var h=F("shape"),i=F("path"),j=F("textpath");d=d||0,e=e||0,g=g||"",i.v=a.format("m{0},{1}l{2},{1}",f(d*u),f(e*u),f(d*u)+1),i.textpathok=!0,j.string=c(g),j.on=!0,h.style.cssText=t,h.coordsize=u+n+u,h.coordorigin="0 0";var k=new D(h,b),l={fill:"#000",stroke:"none",font:a._availableAttrs.font,text:g};k.shape=h,k.path=i,k.textpath=j,k.type="text",k.attrs.text=c(g),k.attrs.x=d,k.attrs.y=e,k.attrs.w=1,k.attrs.h=1,B(k,l),h.appendChild(j),h.appendChild(i),b.canvas.appendChild(h);var m=F("skew");return m.on=!0,h.appendChild(m),k.skew=m,k.transform(o),k},a._engine.setSize=function(b,c){var d=this.canvas.style;return this.width=b,this.height=c,b==+b&&(b+="px"),c==+c&&(c+="px"),d.width=b,d.height=c,d.clip="rect(0 "+b+" "+c+" 0)",this._viewBox&&a._engine.setViewBox.apply(this,this._viewBox),this},a._engine.setViewBox=function(b,c,d,e,f){a.eve("raphael.setViewBox",this,this._viewBox,[b,c,d,e,f]);var h,i,j=this.width,k=this.height,l=1/g(d/j,e/k);return f&&(h=k/e,i=j/d,j>d*h&&(b-=(j-d*h)/2/h),k>e*i&&(c-=(k-e*i)/2/i)),this._viewBox=[b,c,d,e,!!f],this._viewBoxShift={dx:-b,dy:-c,scale:l},this.forEach(function(a){a.transform("...")}),this};var F;a._engine.initWin=function(a){var b=a.document;b.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!b.namespaces.rvml&&b.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),F=function(a){return b.createElement("<rvml:"+a+' class="rvml">')}}catch(c){F=function(a){return b.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},a._engine.initWin(a._g.win),a._engine.create=function(){var b=a._getContainer.apply(0,arguments),c=b.container,d=b.height,e=b.width,f=b.x,g=b.y;if(!c)throw new Error("VML container not found.");var h=new a._Paper,i=h.canvas=a._g.doc.createElement("div"),j=i.style;return f=f||0,g=g||0,e=e||512,d=d||342,h.width=e,h.height=d,e==+e&&(e+="px"),d==+d&&(d+="px"),h.coordsize=1e3*u+n+1e3*u,h.coordorigin="0 0",h.span=a._g.doc.createElement("span"),h.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",i.appendChild(h.span),j.cssText=a.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",e,d),1==c?(a._g.doc.body.appendChild(i),j.left=f+"px",j.top=g+"px",j.position="absolute"):c.firstChild?c.insertBefore(i,c.firstChild):c.appendChild(i),h.renderfix=function(){},h},a.prototype.clear=function(){a.eve("raphael.clear",this),this.canvas.innerHTML=o,this.span=a._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},a.prototype.remove=function(){a.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null;return!0};var G=a.st;for(var H in E)E[b](H)&&!G[b](H)&&(G[H]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(H))}(window.Raphael)(function(a,b,c){function d(){e=b[h](function(){f.each(function(){var b=a(this),c=b.width(),d=b.height(),e=a.data(this,j);(c!==e.w||d!==e.h)&&b.trigger(i,[e.w=c,e.h=d])}),d()},g[k])}var e,f=a([]),g=a.resize=a.extend(a.resize,{}),h="setTimeout",i="resize",j=i+"-special-event",k="delay",l="throttleWindow";g[k]=250,g[l]=!0,a.event.special[i]={setup:function(){if(!g[l]&&this[h])return!1;var b=a(this);f=f.add(b),a.data(this,j,{w:b.width(),h:b.height()}),1===f.length&&d()},teardown:function(){if(!g[l]&&this[h])return!1;var b=a(this);f=f.not(b),b.removeData(j),f.length||clearTimeout(e)},add:function(b){function d(b,d,f){var g=a(this),h=a.data(this,j);h.w=d!==c?d:g.width(),h.h=f!==c?f:g.height(),e.apply(this,arguments)}if(!g[l]&&this[h])return!1;var e;return a.isFunction(b)?(e=b,d):(e=b.handler,void(b.handler=d))}}})(jQuery,this),function(a){function b(a){function b(){var b=a.getPlaceholder();0!=b.width()&&0!=b.height()&&(a.resize(),a.setupGrid(),a.draw())}function c(a,c){a.getPlaceholder().resize(b)}function d(a,c){a.getPlaceholder().unbind("resize",b)}a.hooks.bindEvents.push(c),a.hooks.shutdown.push(d)}var c={};a.plot.plugins.push({init:b,options:c,name:"resize",version:"1.0"})}(jQuery),function(a){function b(a,b){return b*Math.floor(a/b)}function c(a,b,c,d){if("function"==typeof a.strftime)return a.strftime(b);var e=function(a,b){return a=""+a,b=""+(null==b?"0":b),1==a.length?b+a:a},f=[],g=!1,h=a.getHours(),i=12>h;null==c&&(c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==d&&(d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var j;j=h>12?h-12:0==h?12:h;for(var k=0;k<b.length;++k){var l=b.charAt(k);if(g){switch(l){case"a":l=""+d[a.getDay()];break;case"b":l=""+c[a.getMonth()];break;case"d":l=e(a.getDate());break;case"e":l=e(a.getDate()," ");break;case"h":case"H":l=e(h);break;case"I":l=e(j);break;case"l":l=e(j," ");break;case"m":l=e(a.getMonth()+1);break;case"M":l=e(a.getMinutes());break;case"q":l=""+(Math.floor(a.getMonth()/3)+1);break;case"S":l=e(a.getSeconds());break;case"y":l=e(a.getFullYear()%100);break;case"Y":l=""+a.getFullYear();break;case"p":l=i?"am":"pm";break;case"P":l=i?"AM":"PM";break;case"w":l=""+a.getDay()}f.push(l),g=!1}else"%"==l?g=!0:f.push(l)}return f.join("")}function d(a){function b(a,b,c,d){a[b]=function(){return c[d].apply(c,arguments)}}var c={date:a
};void 0!=a.strftime&&b(c,"strftime",a,"strftime"),b(c,"getTime",a,"getTime"),b(c,"setTime",a,"setTime");for(var d=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],e=0;e<d.length;e++)b(c,"get"+d[e],a,"getUTC"+d[e]),b(c,"set"+d[e],a,"setUTC"+d[e]);return c}function e(a,b){if("browser"==b.timezone)return new Date(a);if(!b.timezone||"utc"==b.timezone)return d(new Date(a));if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var c=new timezoneJS.Date;return c.setTimezone(b.timezone),c.setTime(a),c}return d(new Date(a))}function f(d){d.hooks.processOptions.push(function(d,f){a.each(d.getAxes(),function(a,d){var f=d.options;"time"==f.mode&&(d.tickGenerator=function(a){var c=[],d=e(a.min,f),g=0,i=f.tickSize&&"quarter"===f.tickSize[1]||f.minTickSize&&"quarter"===f.minTickSize[1]?k:j;null!=f.minTickSize&&(g="number"==typeof f.tickSize?f.tickSize:f.minTickSize[0]*h[f.minTickSize[1]]);for(var l=0;l<i.length-1&&!(a.delta<(i[l][0]*h[i[l][1]]+i[l+1][0]*h[i[l+1][1]])/2&&i[l][0]*h[i[l][1]]>=g);++l);var m=i[l][0],n=i[l][1];if("year"==n){if(null!=f.minTickSize&&"year"==f.minTickSize[1])m=Math.floor(f.minTickSize[0]);else{var o=Math.pow(10,Math.floor(Math.log(a.delta/h.year)/Math.LN10)),p=a.delta/h.year/o;m=1.5>p?1:3>p?2:7.5>p?5:10,m*=o}1>m&&(m=1)}a.tickSize=f.tickSize||[m,n];var q=a.tickSize[0];n=a.tickSize[1];var r=q*h[n];"second"==n?d.setSeconds(b(d.getSeconds(),q)):"minute"==n?d.setMinutes(b(d.getMinutes(),q)):"hour"==n?d.setHours(b(d.getHours(),q)):"month"==n?d.setMonth(b(d.getMonth(),q)):"quarter"==n?d.setMonth(3*b(d.getMonth()/3,q)):"year"==n&&d.setFullYear(b(d.getFullYear(),q)),d.setMilliseconds(0),r>=h.minute&&d.setSeconds(0),r>=h.hour&&d.setMinutes(0),r>=h.day&&d.setHours(0),r>=4*h.day&&d.setDate(1),r>=2*h.month&&d.setMonth(b(d.getMonth(),3)),r>=2*h.quarter&&d.setMonth(b(d.getMonth(),6)),r>=h.year&&d.setMonth(0);var s,t=0,u=Number.NaN;do if(s=u,u=d.getTime(),c.push(u),"month"==n||"quarter"==n)if(1>q){d.setDate(1);var v=d.getTime();d.setMonth(d.getMonth()+("quarter"==n?3:1));var w=d.getTime();d.setTime(u+t*h.hour+(w-v)*q),t=d.getHours(),d.setHours(0)}else d.setMonth(d.getMonth()+q*("quarter"==n?3:1));else"year"==n?d.setFullYear(d.getFullYear()+q):d.setTime(u+r);while(u<a.max&&u!=s);return c},d.tickFormatter=function(a,b){var d=e(a,b.options);if(null!=f.timeformat)return c(d,f.timeformat,f.monthNames,f.dayNames);var g,i=b.options.tickSize&&"quarter"==b.options.tickSize[1]||b.options.minTickSize&&"quarter"==b.options.minTickSize[1],j=b.tickSize[0]*h[b.tickSize[1]],k=b.max-b.min,l=f.twelveHourClock?" %p":"",m=f.twelveHourClock?"%I":"%H";g=j<h.minute?m+":%M:%S"+l:j<h.day?k<2*h.day?m+":%M"+l:"%b %d "+m+":%M"+l:j<h.month?"%b %d":i&&j<h.quarter||!i&&j<h.year?k<h.year?"%b":"%b %Y":i&&j<h.year?k<h.year?"Q%q":"Q%q %Y":"%Y";var n=c(d,g,f.monthNames,f.dayNames);return n})})})}var g={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},h={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},i=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],j=i.concat([[3,"month"],[6,"month"],[1,"year"]]),k=i.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);a.plot.plugins.push({init:f,options:g,name:"time",version:"1.0"}),a.plot.formatDate=c}(jQuery),function(a){function b(b){function f(b,c,d){x||(x=!0,s=b.getCanvas(),t=a(s).parent(),e=b.getOptions(),b.setData(g(b.getData())))}function g(b){for(var c=0,d=0,f=0,g=e.series.pie.combine.color,h=[],i=0;i<b.length;++i){var j=b[i].data;a.isArray(j)&&1==j.length&&(j=j[0]),a.isArray(j)?!isNaN(parseFloat(j[1]))&&isFinite(j[1])?j[1]=+j[1]:j[1]=0:j=!isNaN(parseFloat(j))&&isFinite(j)?[1,+j]:[1,0],b[i].data=[j]}for(var i=0;i<b.length;++i)c+=b[i].data[0][1];for(var i=0;i<b.length;++i){var j=b[i].data[0][1];j/c<=e.series.pie.combine.threshold&&(d+=j,f++,g||(g=b[i].color))}for(var i=0;i<b.length;++i){var j=b[i].data[0][1];(2>f||j/c>e.series.pie.combine.threshold)&&h.push({data:[[1,j]],color:b[i].color,label:b[i].label,angle:j*Math.PI*2/c,percent:j/(c/100)})}return f>1&&h.push({data:[[1,d]],color:g,label:e.series.pie.combine.label,angle:d*Math.PI*2/c,percent:d/(c/100)}),h}function h(b,f){function g(){y.clearRect(0,0,k,l),t.children().filter(".pieLabel, .pieLabelBackground").remove()}function h(){var a=e.series.pie.shadow.left,b=e.series.pie.shadow.top,c=10,d=e.series.pie.shadow.alpha,f=e.series.pie.radius>1?e.series.pie.radius:u*e.series.pie.radius;if(!(f>=k/2-a||f*e.series.pie.tilt>=l/2-b||c>=f)){y.save(),y.translate(a,b),y.globalAlpha=d,y.fillStyle="#000",y.translate(v,w),y.scale(1,e.series.pie.tilt);for(var g=1;c>=g;g++)y.beginPath(),y.arc(0,0,f,0,2*Math.PI,!1),y.fill(),f-=g;y.restore()}}function j(){function b(a,b,c){0>=a||isNaN(a)||(c?y.fillStyle=b:(y.strokeStyle=b,y.lineJoin="round"),y.beginPath(),Math.abs(a-2*Math.PI)>1e-9&&y.moveTo(0,0),y.arc(0,0,f,g,g+a/2,!1),y.arc(0,0,f,g+a/2,g+a,!1),y.closePath(),g+=a,c?y.fill():y.stroke())}function c(){function b(b,c,d){if(0==b.data[0][1])return!0;var g,h=e.legend.labelFormatter,i=e.series.pie.label.formatter;g=h?h(b.label,b):b.label,i&&(g=i(g,b));var j=(c+b.angle+c)/2,m=v+Math.round(Math.cos(j)*f),n=w+Math.round(Math.sin(j)*f)*e.series.pie.tilt,o="<span class='pieLabel' id='pieLabel"+d+"' style='position:absolute;top:"+n+"px;left:"+m+"px;'>"+g+"</span>";t.append(o);var p=t.children("#pieLabel"+d),q=n-p.height()/2,r=m-p.width()/2;if(p.css("top",q),p.css("left",r),0-q>0||0-r>0||l-(q+p.height())<0||k-(r+p.width())<0)return!1;if(0!=e.series.pie.label.background.opacity){var s=e.series.pie.label.background.color;null==s&&(s=b.color);var u="top:"+q+"px;left:"+r+"px;";a("<div class='pieLabelBackground' style='position:absolute;width:"+p.width()+"px;height:"+p.height()+"px;"+u+"background-color:"+s+";'></div>").css("opacity",e.series.pie.label.background.opacity).insertBefore(p)}return!0}for(var c=d,f=e.series.pie.label.radius>1?e.series.pie.label.radius:u*e.series.pie.label.radius,g=0;g<n.length;++g){if(n[g].percent>=100*e.series.pie.label.threshold&&!b(n[g],c,g))return!1;c+=n[g].angle}return!0}var d=Math.PI*e.series.pie.startAngle,f=e.series.pie.radius>1?e.series.pie.radius:u*e.series.pie.radius;y.save(),y.translate(v,w),y.scale(1,e.series.pie.tilt),y.save();for(var g=d,h=0;h<n.length;++h)n[h].startAngle=g,b(n[h].angle,n[h].color,!0);if(y.restore(),e.series.pie.stroke.width>0){y.save(),y.lineWidth=e.series.pie.stroke.width,g=d;for(var h=0;h<n.length;++h)b(n[h].angle,e.series.pie.stroke.color,!1);y.restore()}return i(y),y.restore(),e.series.pie.label.show?c():!0}if(t){var k=b.getPlaceholder().width(),l=b.getPlaceholder().height(),m=t.children().filter(".legend").children().width()||0;y=f,x=!1,u=Math.min(k,l/e.series.pie.tilt)/2,w=l/2+e.series.pie.offset.top,v=k/2,"auto"==e.series.pie.offset.left?e.legend.position.match("w")?v+=m/2:v-=m/2:v+=e.series.pie.offset.left,u>v?v=u:v>k-u&&(v=k-u);var n=b.getData(),o=0;do o>0&&(u*=d),o+=1,g(),e.series.pie.tilt<=.8&&h();while(!j()&&c>o);o>=c&&(g(),t.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")),b.setSeries&&b.insertLegend&&(b.setSeries(n),b.insertLegend())}}function i(a){if(e.series.pie.innerRadius>0){a.save();var b=e.series.pie.innerRadius>1?e.series.pie.innerRadius:u*e.series.pie.innerRadius;a.globalCompositeOperation="destination-out",a.beginPath(),a.fillStyle=e.series.pie.stroke.color,a.arc(0,0,b,0,2*Math.PI,!1),a.fill(),a.closePath(),a.restore(),a.save(),a.beginPath(),a.strokeStyle=e.series.pie.stroke.color,a.arc(0,0,b,0,2*Math.PI,!1),a.stroke(),a.closePath(),a.restore()}}function j(a,b){for(var c=!1,d=-1,e=a.length,f=e-1;++d<e;f=d)(a[d][1]<=b[1]&&b[1]<a[f][1]||a[f][1]<=b[1]&&b[1]<a[d][1])&&b[0]<(a[f][0]-a[d][0])*(b[1]-a[d][1])/(a[f][1]-a[d][1])+a[d][0]&&(c=!c);return c}function k(a,c){for(var d,e,f=b.getData(),g=b.getOptions(),h=g.series.pie.radius>1?g.series.pie.radius:u*g.series.pie.radius,i=0;i<f.length;++i){var k=f[i];if(k.pie.show){if(y.save(),y.beginPath(),y.moveTo(0,0),y.arc(0,0,h,k.startAngle,k.startAngle+k.angle/2,!1),y.arc(0,0,h,k.startAngle+k.angle/2,k.startAngle+k.angle,!1),y.closePath(),d=a-v,e=c-w,y.isPointInPath){if(y.isPointInPath(a-v,c-w))return y.restore(),{datapoint:[k.percent,k.data],dataIndex:0,series:k,seriesIndex:i}}else{var l=h*Math.cos(k.startAngle),m=h*Math.sin(k.startAngle),n=h*Math.cos(k.startAngle+k.angle/4),o=h*Math.sin(k.startAngle+k.angle/4),p=h*Math.cos(k.startAngle+k.angle/2),q=h*Math.sin(k.startAngle+k.angle/2),r=h*Math.cos(k.startAngle+k.angle/1.5),s=h*Math.sin(k.startAngle+k.angle/1.5),t=h*Math.cos(k.startAngle+k.angle),x=h*Math.sin(k.startAngle+k.angle),z=[[0,0],[l,m],[n,o],[p,q],[r,s],[t,x]],A=[d,e];if(j(z,A))return y.restore(),{datapoint:[k.percent,k.data],dataIndex:0,series:k,seriesIndex:i}}y.restore()}}return null}function l(a){n("plothover",a)}function m(a){n("plotclick",a)}function n(a,c){var d=b.offset(),f=parseInt(c.pageX-d.left),g=parseInt(c.pageY-d.top),h=k(f,g);if(e.grid.autoHighlight)for(var i=0;i<z.length;++i){var j=z[i];j.auto==a&&(!h||j.series!=h.series)&&p(j.series)}h&&o(h.series,a);var l={pageX:c.pageX,pageY:c.pageY};t.trigger(a,[l,h])}function o(a,c){var d=q(a);-1==d?(z.push({series:a,auto:c}),b.triggerRedrawOverlay()):c||(z[d].auto=!1)}function p(a){null==a&&(z=[],b.triggerRedrawOverlay());var c=q(a);-1!=c&&(z.splice(c,1),b.triggerRedrawOverlay())}function q(a){for(var b=0;b<z.length;++b){var c=z[b];if(c.series==a)return b}return-1}function r(a,b){function c(a){a.angle<=0||isNaN(a.angle)||(b.fillStyle="rgba(255, 255, 255, "+d.series.pie.highlight.opacity+")",b.beginPath(),Math.abs(a.angle-2*Math.PI)>1e-9&&b.moveTo(0,0),b.arc(0,0,e,a.startAngle,a.startAngle+a.angle/2,!1),b.arc(0,0,e,a.startAngle+a.angle/2,a.startAngle+a.angle,!1),b.closePath(),b.fill())}var d=a.getOptions(),e=d.series.pie.radius>1?d.series.pie.radius:u*d.series.pie.radius;b.save(),b.translate(v,w),b.scale(1,d.series.pie.tilt);for(var f=0;f<z.length;++f)c(z[f].series);i(b),b.restore()}var s=null,t=null,u=null,v=null,w=null,x=!1,y=null,z=[];b.hooks.processOptions.push(function(a,b){b.series.pie.show&&(b.grid.show=!1,"auto"==b.series.pie.label.show&&(b.legend.show?b.series.pie.label.show=!1:b.series.pie.label.show=!0),"auto"==b.series.pie.radius&&(b.series.pie.label.show?b.series.pie.radius=.75:b.series.pie.radius=1),b.series.pie.tilt>1?b.series.pie.tilt=1:b.series.pie.tilt<0&&(b.series.pie.tilt=0))}),b.hooks.bindEvents.push(function(a,b){var c=a.getOptions();c.series.pie.show&&(c.grid.hoverable&&b.unbind("mousemove").mousemove(l),c.grid.clickable&&b.unbind("click").click(m))}),b.hooks.processDatapoints.push(function(a,b,c,d){var e=a.getOptions();e.series.pie.show&&f(a,b,c,d)}),b.hooks.drawOverlay.push(function(a,b){var c=a.getOptions();c.series.pie.show&&r(a,b)}),b.hooks.draw.push(function(a,b){var c=a.getOptions();c.series.pie.show&&h(a,b)})}var c=10,d=.95,e={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(a,b){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+b.color+";'>"+a+"<br/>"+Math.round(b.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};a.plot.plugins.push({init:b,options:e,name:"pie",version:"1.1"})}(jQuery),function(a){var b={tooltip:!1,tooltipOpts:{content:"%s | X: %x | Y: %y",xDateFormat:null,yDateFormat:null,monthNames:null,dayNames:null,shifts:{x:10,y:20},defaultTheme:!0,onHover:function(){}}},c=function(a){this.tipPosition={x:0,y:0},this.init(a)};c.prototype.init=function(b){function c(a){var b={};b.x=a.pageX,b.y=a.pageY,e.updateTooltipPosition(b)}function d(a,b,c){var d=e.getDomElement();if(c){var f;f=e.stringFormat(e.tooltipOptions.content,c),d.html(f),e.updateTooltipPosition({x:b.pageX,y:b.pageY}),d.css({left:e.tipPosition.x+e.tooltipOptions.shifts.x,top:e.tipPosition.y+e.tooltipOptions.shifts.y}).show(),"function"==typeof e.tooltipOptions.onHover&&e.tooltipOptions.onHover(c,d)}else d.hide().html("")}var e=this;b.hooks.bindEvents.push(function(b,f){e.plotOptions=b.getOptions(),e.plotOptions.tooltip!==!1&&void 0!==e.plotOptions.tooltip&&(e.tooltipOptions=e.plotOptions.tooltipOpts,e.getDomElement(),a(b.getPlaceholder()).bind("plothover",d),a(f).bind("mousemove",c))}),b.hooks.shutdown.push(function(b,e){a(b.getPlaceholder()).unbind("plothover",d),a(e).unbind("mousemove",c)})},c.prototype.getDomElement=function(){var b;return a("#flotTip").length>0?b=a("#flotTip"):(b=a("<div />").attr("id","flotTip"),b.appendTo("body").hide().css({position:"absolute"}),this.tooltipOptions.defaultTheme&&b.css({background:"#fff","z-index":"100",padding:"0.4em 0.6em","border-radius":"0.5em","font-size":"0.8em",border:"1px solid #111",display:"none","white-space":"nowrap"})),b},c.prototype.updateTooltipPosition=function(b){var c=a("#flotTip").outerWidth()+this.tooltipOptions.shifts.x,d=a("#flotTip").outerHeight()+this.tooltipOptions.shifts.y;b.x-a(window).scrollLeft()>a(window).innerWidth()-c&&(b.x-=c),b.y-a(window).scrollTop()>a(window).innerHeight()-d&&(b.y-=d),this.tipPosition.x=b.x,this.tipPosition.y=b.y},c.prototype.stringFormat=function(a,b){var c=/%p\.{0,1}(\d{0,})/,d=/%s/,e=/%x\.{0,1}(?:\d{0,})/,f=/%y\.{0,1}(?:\d{0,})/,g=b.datapoint[0],h=b.datapoint[1];return"function"==typeof a&&(a=a(b.series.label,g,h,b)),void 0!==b.series.percent&&(a=this.adjustValPrecision(c,a,b.series.percent)),void 0!==b.series.label&&(a=a.replace(d,b.series.label)),this.isTimeMode("xaxis",b)&&this.isXDateFormat(b)&&(a=a.replace(e,this.timestampToDate(g,this.tooltipOptions.xDateFormat))),this.isTimeMode("yaxis",b)&&this.isYDateFormat(b)&&(a=a.replace(f,this.timestampToDate(h,this.tooltipOptions.yDateFormat))),"number"==typeof g&&(a=this.adjustValPrecision(e,a,g)),"number"==typeof h&&(a=this.adjustValPrecision(f,a,h)),void 0!==b.series.xaxis.tickFormatter&&(a=a.replace(e,b.series.xaxis.tickFormatter(g,b.series.xaxis))),void 0!==b.series.yaxis.tickFormatter&&(a=a.replace(f,b.series.yaxis.tickFormatter(h,b.series.yaxis))),a},c.prototype.isTimeMode=function(a,b){return void 0!==b.series[a].options.mode&&"time"===b.series[a].options.mode},c.prototype.isXDateFormat=function(){return void 0!==this.tooltipOptions.xDateFormat&&null!==this.tooltipOptions.xDateFormat},c.prototype.isYDateFormat=function(){return void 0!==this.tooltipOptions.yDateFormat&&null!==this.tooltipOptions.yDateFormat},c.prototype.timestampToDate=function(b,c){var d=new Date(1*b);return a.plot.formatDate(d,c,this.tooltipOptions.monthNames,this.tooltipOptions.dayNames)},c.prototype.adjustValPrecision=function(a,b,c){var d,e=b.match(a);return null!==e&&""!==RegExp.$1&&(d=RegExp.$1,c=c.toFixed(d),b=b.replace(a,c)),b};var d=function(a){new c(a)};a.plot.plugins.push({init:d,options:b,name:"tooltip",version:"0.6.1"})}(jQuery),function(a,b,c){!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):jQuery&&!jQuery.fn.sparkline&&a(jQuery)}(function(d){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K={},L=0;e=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:c,normalRangeMax:c,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:c,chartRangeMax:c,chartRangeMinX:c,chartRangeMaxX:c,tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:c,nullColor:c,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:c,chartRangeMin:c,chartRangeClip:!1,colorMap:c,tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:c,thresholdValue:0,chartRangeMax:c,chartRangeMin:c,chartRangeClip:!1,tooltipFormat:new g("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:c,tooltipFormat:new g("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:c,targetColor:"#4a2",chartRangeMax:c,chartRangeMin:c,tooltipFormat:new g("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},D='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',f=function(){var a,b;return a=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(a.prototype=d.extend(new arguments[0],arguments[arguments.length-1]),a._super=arguments[0].prototype):a.prototype=arguments[arguments.length-1],arguments.length>2&&(b=Array.prototype.slice.call(arguments,1,-1),b.unshift(a.prototype),d.extend.apply(d,b))):a.prototype=arguments[0],a.prototype.cls=a,a},d.SPFormatClass=g=f({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(a,b){this.format=a,this.fclass=b},render:function(a,b,d){var e,f,g,h,i,j=this,k=a;return this.format.replace(this.fre,function(){var a;return f=arguments[1],g=arguments[3],e=j.precre.exec(f),e?(i=e[2],f=e[1]):i=!1,h=k[f],h===c?"":g&&b&&b[g]?(a=b[g],a.get?b[g].get(h)||h:b[g][h]||h):(m(h)&&(h=d.get("numberFormatter")?d.get("numberFormatter")(h):r(h,i,d.get("numberDigitGroupCount"),d.get("numberDigitGroupSep"),d.get("numberDecimalMark"))),h)})}}),d.spformat=function(a,b){return new g(a,b)},h=function(a,b,c){return b>a?b:a>c?c:a},i=function(a,c){var d;return 2===c?(d=b.floor(a.length/2),a.length%2?a[d]:(a[d-1]+a[d])/2):a.length%2?(d=(a.length*c+c)/4,d%1?(a[b.floor(d)]+a[b.floor(d)-1])/2:a[d-1]):(d=(a.length*c+2)/4,d%1?(a[b.floor(d)]+a[b.floor(d)-1])/2:a[d-1])},j=function(a){var b;switch(a){case"undefined":a=c;break;case"null":a=null;break;case"true":a=!0;break;case"false":a=!1;break;default:b=parseFloat(a),a==b&&(a=b)}return a},k=function(a){var b,c=[];for(b=a.length;b--;)c[b]=j(a[b]);return c},l=function(a,b){var c,d,e=[];for(c=0,d=a.length;d>c;c++)a[c]!==b&&e.push(a[c]);return e},m=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},r=function(a,b,c,e,f){var g,h;for(a=(b===!1?parseFloat(a).toString():a.toFixed(b)).split(""),g=(g=d.inArray(".",a))<0?a.length:g,g<a.length&&(a[g]=f),h=g-c;h>0;h-=c)a.splice(h,0,e);return a.join("")},n=function(a,b,c){var d;for(d=b.length;d--;)if((!c||null!==b[d])&&b[d]!==a)return!1;return!0},o=function(a){var b,c=0;for(b=a.length;b--;)c+="number"==typeof a[b]?a[b]:0;return c},q=function(a){return d.isArray(a)?a:[a]},p=function(b){var c;a.createStyleSheet?a.createStyleSheet().cssText=b:(c=a.createElement("style"),c.type="text/css",a.getElementsByTagName("head")[0].appendChild(c),c["string"==typeof a.body.style.WebkitAppearance?"innerText":"innerHTML"]=b)},d.fn.simpledraw=function(b,e,f,g){var h,i;if(f&&(h=this.data("_jqs_vcanvas")))return h;if(d.fn.sparkline.canvas===!1)return!1;if(d.fn.sparkline.canvas===c){var j=a.createElement("canvas");if(j.getContext&&j.getContext("2d"))d.fn.sparkline.canvas=function(a,b,c,d){return new H(a,b,c,d)};else{if(!a.namespaces||a.namespaces.v)return d.fn.sparkline.canvas=!1,!1;a.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),d.fn.sparkline.canvas=function(a,b,c,d){return new I(a,b,c)}}}return b===c&&(b=d(this).innerWidth()),e===c&&(e=d(this).innerHeight()),h=d.fn.sparkline.canvas(b,e,this,g),i=d(this).data("_jqs_mhandler"),i&&i.registerCanvas(h),h},d.fn.cleardraw=function(){var a=this.data("_jqs_vcanvas");a&&a.reset()},d.RangeMapClass=s=f({init:function(a){var b,c,d=[];for(b in a)a.hasOwnProperty(b)&&"string"==typeof b&&b.indexOf(":")>-1&&(c=b.split(":"),c[0]=0===c[0].length?-(1/0):parseFloat(c[0]),c[1]=0===c[1].length?1/0:parseFloat(c[1]),c[2]=a[b],d.push(c));this.map=a,this.rangelist=d||!1},get:function(a){var b,d,e,f=this.rangelist;if((e=this.map[a])!==c)return e;if(f)for(b=f.length;b--;)if(d=f[b],d[0]<=a&&d[1]>=a)return d[2];return c}}),d.range_map=function(a){return new s(a)},t=f({init:function(a,b){var c=d(a);this.$el=c,this.options=b,this.currentPageX=0,this.currentPageY=0,this.el=a,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!b.get("disableTooltips"),this.highlightEnabled=!b.get("disableHighlight")},registerSparkline:function(a){this.splist.push(a),this.over&&this.updateDisplay()},registerCanvas:function(a){var b=d(a.canvas);this.canvas=a,this.$canvas=b,b.mouseenter(d.proxy(this.mouseenter,this)),b.mouseleave(d.proxy(this.mouseleave,this)),b.click(d.proxy(this.mouseclick,this))},reset:function(a){this.splist=[],this.tooltip&&a&&(this.tooltip.remove(),this.tooltip=c)},mouseclick:function(a){var b=d.Event("sparklineClick");b.originalEvent=a,b.sparklines=this.splist,this.$el.trigger(b)},mouseenter:function(b){d(a.body).unbind("mousemove.jqs"),d(a.body).bind("mousemove.jqs",d.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=b.pageX,this.currentPageY=b.pageY,this.currentEl=b.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new u(this.options),this.tooltip.updatePosition(b.pageX,b.pageY)),this.updateDisplay()},mouseleave:function(){d(a.body).unbind("mousemove.jqs");var b,c,e=this.splist,f=e.length,g=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),c=0;f>c;c++)b=e[c],b.clearRegionHighlight()&&(g=!0);g&&this.canvas.render()},mousemove:function(a){this.currentPageX=a.pageX,this.currentPageY=a.pageY,this.currentEl=a.target,this.tooltip&&this.tooltip.updatePosition(a.pageX,a.pageY),this.updateDisplay()},updateDisplay:function(){var a,b,c,e,f,g=this.splist,h=g.length,i=!1,j=this.$canvas.offset(),k=this.currentPageX-j.left,l=this.currentPageY-j.top;if(this.over){for(c=0;h>c;c++)b=g[c],e=b.setRegionHighlight(this.currentEl,k,l),e&&(i=!0);if(i){if(f=d.Event("sparklineRegionChange"),f.sparklines=this.splist,this.$el.trigger(f),this.tooltip){for(a="",c=0;h>c;c++)b=g[c],a+=b.getCurrentRegionTooltip();this.tooltip.setContent(a)}this.disableHighlight||this.canvas.render()}null===e&&this.mouseleave()}}}),u=f({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(b){var c,e=b.get("tooltipClassname","jqstooltip"),f=this.sizeStyle;this.container=b.get("tooltipContainer")||a.body,this.tooltipOffsetX=b.get("tooltipOffsetX",10),this.tooltipOffsetY=b.get("tooltipOffsetY",12),d("#jqssizetip").remove(),d("#jqstooltip").remove(),this.sizetip=d("<div/>",{id:"jqssizetip",style:f,"class":e}),this.tooltip=d("<div/>",{id:"jqstooltip","class":e}).appendTo(this.container),c=this.tooltip.offset(),this.offsetLeft=c.left,this.offsetTop=c.top,this.hidden=!0,d(window).unbind("resize.jqs scroll.jqs"),d(window).bind("resize.jqs scroll.jqs",d.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=d(window).scrollTop(),this.scrollLeft=d(window).scrollLeft(),this.scrollRight=this.scrollLeft+d(window).width(),this.updatePosition()},getSize:function(a){this.sizetip.html(a).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(a){return a?(this.getSize(a),this.tooltip.html(a).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition()),void 0):(this.tooltip.css("visibility","hidden"),void(this.hidden=!0))},updatePosition:function(a,b){if(a===c){if(this.mousex===c)return;a=this.mousex-this.offsetLeft,b=this.mousey-this.offsetTop}else this.mousex=a-=this.offsetLeft,this.mousey=b-=this.offsetTop;this.height&&this.width&&!this.hidden&&(b-=this.height+this.tooltipOffsetY,a+=this.tooltipOffsetX,b<this.scrollTop&&(b=this.scrollTop),a<this.scrollLeft?a=this.scrollLeft:a+this.width>this.scrollRight&&(a=this.scrollRight-this.width),this.tooltip.css({left:a,top:b}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=c,d(window).unbind("resize.jqs scroll.jqs")}}),E=function(){p(D)},d(E),J=[],d.fn.sparkline=function(b,e){return this.each(function(){var f,g,h=new d.fn.sparkline.options(this,e),i=d(this);if(f=function(){var e,f,g,j,k,l,m;return"html"===b||b===c?(m=this.getAttribute(h.get("tagValuesAttribute")),(m===c||null===m)&&(m=i.html()),e=m.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):e=b,f="auto"===h.get("width")?e.length*h.get("defaultPixelsPerValue"):h.get("width"),"auto"===h.get("height")?h.get("composite")&&d.data(this,"_jqs_vcanvas")||(j=a.createElement("span"),j.innerHTML="a",i.html(j),g=d(j).innerHeight()||d(j).height(),d(j).remove(),j=null):g=h.get("height"),h.get("disableInteraction")?k=!1:(k=d.data(this,"_jqs_mhandler"),k?h.get("composite")||k.reset():(k=new t(this,h),d.data(this,"_jqs_mhandler",k))),h.get("composite")&&!d.data(this,"_jqs_vcanvas")?void(d.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),d.data(this,"_jqs_errnotify",!0))):(l=new(d.fn.sparkline[h.get("type")])(this,e,h,f,g),l.render(),k&&k.registerSparkline(l),void 0)},d(this).html()&&!h.get("disableHiddenCheck")&&d(this).is(":hidden")||!d(this).parents("body").length){if(!h.get("composite")&&d.data(this,"_jqs_pending"))for(g=J.length;g;g--)J[g-1][0]==this&&J.splice(g-1,1);J.push([this,f]),d.data(this,"_jqs_pending",!0)}else f.call(this)})},d.fn.sparkline.defaults=e(),d.sparkline_display_visible=function(){var a,b,c,e=[];for(b=0,c=J.length;c>b;b++)a=J[b][0],d(a).is(":visible")&&!d(a).parents().is(":hidden")?(J[b][1].call(a),d.data(J[b][0],"_jqs_pending",!1),e.push(b)):!d(a).closest("html").length&&!d.data(a,"_jqs_pending")&&(d.data(J[b][0],"_jqs_pending",!1),e.push(b));for(b=e.length;b;b--)J.splice(e[b-1],1)},d.fn.sparkline.options=f({init:function(a,b){var c,e,f,g;this.userOptions=b=b||{},this.tag=a,this.tagValCache={},e=d.fn.sparkline.defaults,f=e.common,this.tagOptionsPrefix=b.enableTagOptions&&(b.tagOptionsPrefix||f.tagOptionsPrefix),g=this.getTagSetting("type"),c=g===K?e[b.type||f.type]:e[g],this.mergedOptions=d.extend({},f,c,b)},getTagSetting:function(a){var b,d,e,f,g=this.tagOptionsPrefix;if(g===!1||g===c)return K;if(this.tagValCache.hasOwnProperty(a))b=this.tagValCache.key;else{if(b=this.tag.getAttribute(g+a),b===c||null===b)b=K;else if("["===b.substr(0,1))for(b=b.substr(1,b.length-2).split(","),d=b.length;d--;)b[d]=j(b[d].replace(/(^\s*)|(\s*$)/g,""));else if("{"===b.substr(0,1))for(e=b.substr(1,b.length-2).split(","),b={},d=e.length;d--;)f=e[d].split(":",2),b[f[0].replace(/(^\s*)|(\s*$)/g,"")]=j(f[1].replace(/(^\s*)|(\s*$)/g,""));else b=j(b);this.tagValCache.key=b}return b},get:function(a,b){var d,e=this.getTagSetting(a);return e!==K?e:(d=this.mergedOptions[a])===c?b:d}}),d.fn.sparkline._base=f({disabled:!1,init:function(a,b,e,f,g){this.el=a,this.$el=d(a),this.values=b,this.options=e,this.width=f,this.height=g,this.currentRegion=c},initTarget:function(){var a=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),a))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(a,b){},setRegionHighlight:function(a,b,d){var e,f=this.currentRegion,g=!this.options.get("disableHighlight");return b>this.canvasWidth||d>this.canvasHeight||0>b||0>d?null:(e=this.getRegion(a,b,d),f!==e?(f!==c&&g&&this.removeHighlight(),this.currentRegion=e,e!==c&&g&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return this.currentRegion!==c?(this.removeHighlight(),this.currentRegion=c,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(a){},getCurrentRegionTooltip:function(){var a,b,e,f,h,i,j,k,l,m,n,o,p,q,r=this.options,s="",t=[];if(this.currentRegion===c)return"";if(a=this.getCurrentRegionFields(),n=r.get("tooltipFormatter"))return n(this,r,a);if(r.get("tooltipChartTitle")&&(s+='<div class="jqs jqstitle">'+r.get("tooltipChartTitle")+"</div>\n"),b=this.options.get("tooltipFormat"),!b)return"";if(d.isArray(b)||(b=[b]),d.isArray(a)||(a=[a]),j=this.options.get("tooltipFormatFieldlist"),k=this.options.get("tooltipFormatFieldlistKey"),j&&k){for(l=[],i=a.length;i--;)m=a[i][k],-1!=(q=d.inArray(m,j))&&(l[q]=a[i]);a=l}for(e=b.length,p=a.length,i=0;e>i;i++)for(o=b[i],"string"==typeof o&&(o=new g(o)),f=o.fclass||"jqsfield",q=0;p>q;q++)a[q].isNull&&r.get("tooltipSkipNull")||(d.extend(a[q],{prefix:r.get("tooltipPrefix"),suffix:r.get("tooltipSuffix")}),h=o.render(a[q],r.get("tooltipValueLookups"),r),t.push('<div class="'+f+'">'+h+"</div>"));return t.length?s+t.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(a,c){var d,e,f,g,i=c.get("highlightColor"),j=c.get("highlightLighten");if(i)return i;if(j&&(d=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(a))){for(f=[],e=4===a.length?16:1,g=0;3>g;g++)f[g]=h(b.round(parseInt(d[g+1],16)*e*j),0,255);return"rgb("+f.join(",")+")"}return a}}),v={changeHighlight:function(a){var b,c=this.currentRegion,e=this.target,f=this.regionShapes[c];f&&(b=this.renderRegion(c,a),d.isArray(b)||d.isArray(f)?(e.replaceWithShapes(f,b),this.regionShapes[c]=d.map(b,function(a){return a.id})):(e.replaceWithShape(f,b),this.regionShapes[c]=b.id))},render:function(){var a,b,c,e,f=this.values,g=this.target,h=this.regionShapes;if(this.cls._super.render.call(this)){for(c=f.length;c--;)if(a=this.renderRegion(c))if(d.isArray(a)){for(b=[],e=a.length;e--;)a[e].append(),b.push(a[e].id);h[c]=b}else a.append(),h[c]=a.id;else h[c]=null;g.render()}}},d.fn.sparkline.line=w=f(d.fn.sparkline._base,{type:"line",init:function(a,b,c,d,e){w._super.init.call(this,a,b,c,d,e),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(a,b,d){var e,f=this.regionMap;for(e=f.length;e--;)if(null!==f[e]&&b>=f[e][0]&&b<=f[e][1])return f[e][2];
return c},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:null===this.yvalues[a],x:this.xvalues[a],y:this.yvalues[a],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:a}},renderHighlight:function(){var a,b,d=this.currentRegion,e=this.target,f=this.vertices[d],g=this.options,h=g.get("spotRadius"),i=g.get("highlightSpotColor"),j=g.get("highlightLineColor");f&&(h&&i&&(a=e.drawCircle(f[0],f[1],h,c,i),this.highlightSpotId=a.id,e.insertAfterShape(this.lastShapeId,a)),j&&(b=e.drawLine(f[0],this.canvasTop,f[0],this.canvasTop+this.canvasHeight,j),this.highlightLineId=b.id,e.insertAfterShape(this.lastShapeId,b)))},removeHighlight:function(){var a=this.target;this.highlightSpotId&&(a.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(a.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var a,c,d,e,f,g=this.values,h=g.length,i=this.xvalues,j=this.yvalues,k=this.yminmax;for(a=0;h>a;a++)c=g[a],d="string"==typeof g[a],e="object"==typeof g[a]&&g[a]instanceof Array,f=d&&g[a].split(":"),d&&2===f.length?(i.push(Number(f[0])),j.push(Number(f[1])),k.push(Number(f[1]))):e?(i.push(c[0]),j.push(c[1]),k.push(c[1])):(i.push(a),null===g[a]||"null"===g[a]?j.push(null):(j.push(Number(c)),k.push(Number(c))));this.options.get("xvalues")&&(i=this.options.get("xvalues")),this.maxy=this.maxyorg=b.max.apply(b,k),this.miny=this.minyorg=b.min.apply(b,k),this.maxx=b.max.apply(b,i),this.minx=b.min.apply(b,i),this.xvalues=i,this.yvalues=j,this.yminmax=k},processRangeOptions:function(){var a=this.options,b=a.get("normalRangeMin"),d=a.get("normalRangeMax");b!==c&&(b<this.miny&&(this.miny=b),d>this.maxy&&(this.maxy=d)),a.get("chartRangeMin")!==c&&(a.get("chartRangeClip")||a.get("chartRangeMin")<this.miny)&&(this.miny=a.get("chartRangeMin")),a.get("chartRangeMax")!==c&&(a.get("chartRangeClip")||a.get("chartRangeMax")>this.maxy)&&(this.maxy=a.get("chartRangeMax")),a.get("chartRangeMinX")!==c&&(a.get("chartRangeClipX")||a.get("chartRangeMinX")<this.minx)&&(this.minx=a.get("chartRangeMinX")),a.get("chartRangeMaxX")!==c&&(a.get("chartRangeClipX")||a.get("chartRangeMaxX")>this.maxx)&&(this.maxx=a.get("chartRangeMaxX"))},drawNormalRange:function(a,d,e,f,g){var h=this.options.get("normalRangeMin"),i=this.options.get("normalRangeMax"),j=d+b.round(e-e*((i-this.miny)/g)),k=b.round(e*(i-h)/g);this.target.drawRect(a,j,f,k,c,this.options.get("normalRangeColor")).append()},render:function(){var a,e,f,g,h,i,j,k,l,m,n,o,p,q,r,t,u,v,x,y,z,A,B,C,D,E=this.options,F=this.target,G=this.canvasWidth,H=this.canvasHeight,I=this.vertices,J=E.get("spotRadius"),K=this.regionMap;if(w._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),B=this.xvalues,C=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(g=h=0,a=this.maxx-this.minx===0?1:this.maxx-this.minx,e=this.maxy-this.miny===0?1:this.maxy-this.miny,f=this.yvalues.length-1,J&&(4*J>G||4*J>H)&&(J=0),J&&(z=E.get("highlightSpotColor")&&!E.get("disableInteraction"),(z||E.get("minSpotColor")||E.get("spotColor")&&C[f]===this.miny)&&(H-=b.ceil(J)),(z||E.get("maxSpotColor")||E.get("spotColor")&&C[f]===this.maxy)&&(H-=b.ceil(J),g+=b.ceil(J)),(z||(E.get("minSpotColor")||E.get("maxSpotColor"))&&(C[0]===this.miny||C[0]===this.maxy))&&(h+=b.ceil(J),G-=b.ceil(J)),(z||E.get("spotColor")||E.get("minSpotColor")||E.get("maxSpotColor")&&(C[f]===this.miny||C[f]===this.maxy))&&(G-=b.ceil(J))),H--,E.get("normalRangeMin")!==c&&!E.get("drawNormalOnTop")&&this.drawNormalRange(h,g,H,G,e),j=[],k=[j],q=r=null,t=C.length,D=0;t>D;D++)l=B[D],n=B[D+1],m=C[D],o=h+b.round((l-this.minx)*(G/a)),p=t-1>D?h+b.round((n-this.minx)*(G/a)):G,r=o+(p-o)/2,K[D]=[q||0,r,D],q=r,null===m?D&&(null!==C[D-1]&&(j=[],k.push(j)),I.push(null)):(m<this.miny&&(m=this.miny),m>this.maxy&&(m=this.maxy),j.length||j.push([o,g+H]),i=[o,g+b.round(H-H*((m-this.miny)/e))],j.push(i),I.push(i));for(u=[],v=[],x=k.length,D=0;x>D;D++)j=k[D],j.length&&(E.get("fillColor")&&(j.push([j[j.length-1][0],g+H]),v.push(j.slice(0)),j.pop()),j.length>2&&(j[0]=[j[0][0],j[1][1]]),u.push(j));for(x=v.length,D=0;x>D;D++)F.drawShape(v[D],E.get("fillColor"),E.get("fillColor")).append();for(E.get("normalRangeMin")!==c&&E.get("drawNormalOnTop")&&this.drawNormalRange(h,g,H,G,e),x=u.length,D=0;x>D;D++)F.drawShape(u[D],E.get("lineColor"),c,E.get("lineWidth")).append();if(J&&E.get("valueSpots"))for(y=E.get("valueSpots"),y.get===c&&(y=new s(y)),D=0;t>D;D++)A=y.get(C[D]),A&&F.drawCircle(h+b.round((B[D]-this.minx)*(G/a)),g+b.round(H-H*((C[D]-this.miny)/e)),J,c,A).append();J&&E.get("spotColor")&&null!==C[f]&&F.drawCircle(h+b.round((B[B.length-1]-this.minx)*(G/a)),g+b.round(H-H*((C[f]-this.miny)/e)),J,c,E.get("spotColor")).append(),this.maxy!==this.minyorg&&(J&&E.get("minSpotColor")&&(l=B[d.inArray(this.minyorg,C)],F.drawCircle(h+b.round((l-this.minx)*(G/a)),g+b.round(H-H*((this.minyorg-this.miny)/e)),J,c,E.get("minSpotColor")).append()),J&&E.get("maxSpotColor")&&(l=B[d.inArray(this.maxyorg,C)],F.drawCircle(h+b.round((l-this.minx)*(G/a)),g+b.round(H-H*((this.maxyorg-this.miny)/e)),J,c,E.get("maxSpotColor")).append())),this.lastShapeId=F.getLastShapeId(),this.canvasTop=g,F.render()}}}),d.fn.sparkline.bar=x=f(d.fn.sparkline._base,v,{type:"bar",init:function(a,e,f,g,i){var m,n,o,p,q,r,t,u,v,w,y,z,A,B,C,D,E,F,G,H,I,J,K=parseInt(f.get("barWidth"),10),L=parseInt(f.get("barSpacing"),10),M=f.get("chartRangeMin"),N=f.get("chartRangeMax"),O=f.get("chartRangeClip"),P=1/0,Q=-(1/0);for(x._super.init.call(this,a,e,f,g,i),r=0,t=e.length;t>r;r++)H=e[r],m="string"==typeof H&&H.indexOf(":")>-1,(m||d.isArray(H))&&(C=!0,m&&(H=e[r]=k(H.split(":"))),H=l(H,null),n=b.min.apply(b,H),o=b.max.apply(b,H),P>n&&(P=n),o>Q&&(Q=o));this.stacked=C,this.regionShapes={},this.barWidth=K,this.barSpacing=L,this.totalBarWidth=K+L,this.width=g=e.length*K+(e.length-1)*L,this.initTarget(),O&&(A=M===c?-(1/0):M,B=N===c?1/0:N),q=[],p=C?[]:q;var R=[],S=[];for(r=0,t=e.length;t>r;r++)if(C)for(D=e[r],e[r]=G=[],R[r]=0,p[r]=S[r]=0,E=0,F=D.length;F>E;E++)H=G[E]=O?h(D[E],A,B):D[E],null!==H&&(H>0&&(R[r]+=H),0>P&&Q>0?0>H?S[r]+=b.abs(H):p[r]+=H:p[r]+=b.abs(H-(0>H?Q:P)),q.push(H));else H=O?h(e[r],A,B):e[r],H=e[r]=j(H),null!==H&&q.push(H);this.max=z=b.max.apply(b,q),this.min=y=b.min.apply(b,q),this.stackMax=Q=C?b.max.apply(b,R):z,this.stackMin=P=C?b.min.apply(b,q):y,f.get("chartRangeMin")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMin")<y)&&(y=f.get("chartRangeMin")),f.get("chartRangeMax")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMax")>z)&&(z=f.get("chartRangeMax")),this.zeroAxis=v=f.get("zeroAxis",!0),w=0>=y&&z>=0&&v?0:0==v?y:y>0?y:z,this.xaxisOffset=w,u=C?b.max.apply(b,p)+b.max.apply(b,S):z-y,this.canvasHeightEf=v&&0>y?this.canvasHeight-2:this.canvasHeight-1,w>y?(J=C&&z>=0?Q:z,I=(J-w)/u*this.canvasHeight,I!==b.ceil(I)&&(this.canvasHeightEf-=2,I=b.ceil(I))):I=this.canvasHeight,this.yoffset=I,d.isArray(f.get("colorMap"))?(this.colorMapByIndex=f.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=f.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===c&&(this.colorMapByValue=new s(this.colorMapByValue))),this.range=u},getRegion:function(a,d,e){var f=b.floor(d/this.totalBarWidth);return 0>f||f>=this.values.length?c:f},getCurrentRegionFields:function(){var a,b,c=this.currentRegion,d=q(this.values[c]),e=[];for(b=d.length;b--;)a=d[b],e.push({isNull:null===a,value:a,color:this.calcColor(b,a,c),offset:c});return e},calcColor:function(a,b,e){var f,g,h=this.colorMapByIndex,i=this.colorMapByValue,j=this.options;return f=this.stacked?j.get("stackedBarColor"):0>b?j.get("negBarColor"):j.get("barColor"),0===b&&j.get("zeroColor")!==c&&(f=j.get("zeroColor")),i&&(g=i.get(b))?f=g:h&&h.length>e&&(f=h[e]),d.isArray(f)?f[a%f.length]:f},renderRegion:function(a,e){var f,g,h,i,j,k,l,m,o,p,q=this.values[a],r=this.options,s=this.xaxisOffset,t=[],u=this.range,v=this.stacked,w=this.target,x=a*this.totalBarWidth,y=this.canvasHeightEf,z=this.yoffset;if(q=d.isArray(q)?q:[q],l=q.length,m=q[0],i=n(null,q),p=n(s,q,!0),i)return r.get("nullColor")?(h=e?r.get("nullColor"):this.calcHighlightColor(r.get("nullColor"),r),f=z>0?z-1:z,w.drawRect(x,f,this.barWidth-1,0,h,h)):c;for(j=z,k=0;l>k;k++){if(m=q[k],v&&m===s){if(!p||o)continue;o=!0}g=u>0?b.floor(y*(b.abs(m-s)/u))+1:1,s>m||m===s&&0===z?(f=j,j+=g):(f=z-g,z-=g),h=this.calcColor(k,m,a),e&&(h=this.calcHighlightColor(h,r)),t.push(w.drawRect(x,f,this.barWidth-1,g-1,h,h))}return 1===t.length?t[0]:t}}),d.fn.sparkline.tristate=y=f(d.fn.sparkline._base,v,{type:"tristate",init:function(a,b,e,f,g){var h=parseInt(e.get("barWidth"),10),i=parseInt(e.get("barSpacing"),10);y._super.init.call(this,a,b,e,f,g),this.regionShapes={},this.barWidth=h,this.barSpacing=i,this.totalBarWidth=h+i,this.values=d.map(b,Number),this.width=f=b.length*h+(b.length-1)*i,d.isArray(e.get("colorMap"))?(this.colorMapByIndex=e.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=e.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===c&&(this.colorMapByValue=new s(this.colorMapByValue))),this.initTarget()},getRegion:function(a,c,d){return b.floor(c/this.totalBarWidth)},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],color:this.calcColor(this.values[a],a),offset:a}},calcColor:function(a,b){var c,d,e=this.values,f=this.options,g=this.colorMapByIndex,h=this.colorMapByValue;return c=h&&(d=h.get(a))?d:g&&g.length>b?g[b]:e[b]<0?f.get("negBarColor"):e[b]>0?f.get("posBarColor"):f.get("zeroBarColor")},renderRegion:function(a,c){var d,e,f,g,h,i,j=this.values,k=this.options,l=this.target;return d=l.pixelHeight,f=b.round(d/2),g=a*this.totalBarWidth,j[a]<0?(h=f,e=f-1):j[a]>0?(h=0,e=f-1):(h=f-1,e=2),i=this.calcColor(j[a],a),null!==i?(c&&(i=this.calcHighlightColor(i,k)),l.drawRect(g,h,this.barWidth-1,e-1,i,i)):void 0}}),d.fn.sparkline.discrete=z=f(d.fn.sparkline._base,v,{type:"discrete",init:function(a,e,f,g,h){z._super.init.call(this,a,e,f,g,h),this.regionShapes={},this.values=e=d.map(e,Number),this.min=b.min.apply(b,e),this.max=b.max.apply(b,e),this.range=this.max-this.min,this.width=g="auto"===f.get("width")?2*e.length:this.width,this.interval=b.floor(g/e.length),this.itemWidth=g/e.length,f.get("chartRangeMin")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMin")<this.min)&&(this.min=f.get("chartRangeMin")),f.get("chartRangeMax")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMax")>this.max)&&(this.max=f.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===f.get("lineHeight")?b.round(.3*this.canvasHeight):f.get("lineHeight"))},getRegion:function(a,c,d){return b.floor(c/this.itemWidth)},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],offset:a}},renderRegion:function(a,c){var d,e,f,g,i=this.values,j=this.options,k=this.min,l=this.max,m=this.range,n=this.interval,o=this.target,p=this.canvasHeight,q=this.lineHeight,r=p-q;return e=h(i[a],k,l),g=a*n,d=b.round(r-r*((e-k)/m)),f=j.get("thresholdColor")&&e<j.get("thresholdValue")?j.get("thresholdColor"):j.get("lineColor"),c&&(f=this.calcHighlightColor(f,j)),o.drawLine(g,d,g,d+q,f)}}),d.fn.sparkline.bullet=A=f(d.fn.sparkline._base,{type:"bullet",init:function(a,d,e,f,g){var h,i,j;A._super.init.call(this,a,d,e,f,g),this.values=d=k(d),j=d.slice(),j[0]=null===j[0]?j[2]:j[0],j[1]=null===d[1]?j[2]:j[1],h=b.min.apply(b,d),i=b.max.apply(b,d),h=e.get("base")===c?0>h?h:0:e.get("base"),this.min=h,this.max=i,this.range=i-h,this.shapes={},this.valueShapes={},this.regiondata={},this.width=f="auto"===e.get("width")?"4.0em":f,this.target=this.$el.simpledraw(f,g,e.get("composite")),d.length||(this.disabled=!0),this.initTarget()},getRegion:function(a,b,d){var e=this.target.getShapeAt(a,b,d);return e!==c&&this.shapes[e]!==c?this.shapes[e]:c},getCurrentRegionFields:function(){var a=this.currentRegion;return{fieldkey:a.substr(0,1),value:this.values[a.substr(1)],region:a}},changeHighlight:function(a){var b,c=this.currentRegion,d=this.valueShapes[c];switch(delete this.shapes[d],c.substr(0,1)){case"r":b=this.renderRange(c.substr(1),a);break;case"p":b=this.renderPerformance(a);break;case"t":b=this.renderTarget(a)}this.valueShapes[c]=b.id,this.shapes[b.id]=c,this.target.replaceWithShape(d,b)},renderRange:function(a,c){var d=this.values[a],e=b.round(this.canvasWidth*((d-this.min)/this.range)),f=this.options.get("rangeColors")[a-2];return c&&(f=this.calcHighlightColor(f,this.options)),this.target.drawRect(0,0,e-1,this.canvasHeight-1,f,f)},renderPerformance:function(a){var c=this.values[1],d=b.round(this.canvasWidth*((c-this.min)/this.range)),e=this.options.get("performanceColor");return a&&(e=this.calcHighlightColor(e,this.options)),this.target.drawRect(0,b.round(.3*this.canvasHeight),d-1,b.round(.4*this.canvasHeight)-1,e,e)},renderTarget:function(a){var c=this.values[0],d=b.round(this.canvasWidth*((c-this.min)/this.range)-this.options.get("targetWidth")/2),e=b.round(.1*this.canvasHeight),f=this.canvasHeight-2*e,g=this.options.get("targetColor");return a&&(g=this.calcHighlightColor(g,this.options)),this.target.drawRect(d,e,this.options.get("targetWidth")-1,f-1,g,g)},render:function(){var a,b,c=this.values.length,d=this.target;if(A._super.render.call(this)){for(a=2;c>a;a++)b=this.renderRange(a).append(),this.shapes[b.id]="r"+a,this.valueShapes["r"+a]=b.id;null!==this.values[1]&&(b=this.renderPerformance().append(),this.shapes[b.id]="p1",this.valueShapes.p1=b.id),null!==this.values[0]&&(b=this.renderTarget().append(),this.shapes[b.id]="t0",this.valueShapes.t0=b.id),d.render()}}}),d.fn.sparkline.pie=B=f(d.fn.sparkline._base,{type:"pie",init:function(a,c,e,f,g){var h,i=0;if(B._super.init.call(this,a,c,e,f,g),this.shapes={},this.valueShapes={},this.values=c=d.map(c,Number),"auto"===e.get("width")&&(this.width=this.height),c.length>0)for(h=c.length;h--;)i+=c[h];this.total=i,this.initTarget(),this.radius=b.floor(b.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(a,b,d){var e=this.target.getShapeAt(a,b,d);return e!==c&&this.shapes[e]!==c?this.shapes[e]:c},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],percent:this.values[a]/this.total*100,color:this.options.get("sliceColors")[a%this.options.get("sliceColors").length],offset:a}},changeHighlight:function(a){var b=this.currentRegion,c=this.renderSlice(b,a),d=this.valueShapes[b];delete this.shapes[d],this.target.replaceWithShape(d,c),this.valueShapes[b]=c.id,this.shapes[c.id]=b},renderSlice:function(a,d){var e,f,g,h,i,j=this.target,k=this.options,l=this.radius,m=k.get("borderWidth"),n=k.get("offset"),o=2*b.PI,p=this.values,q=this.total,r=n?2*b.PI*(n/360):0;for(h=p.length,g=0;h>g;g++){if(e=r,f=r,q>0&&(f=r+o*(p[g]/q)),a===g)return i=k.get("sliceColors")[g%k.get("sliceColors").length],d&&(i=this.calcHighlightColor(i,k)),j.drawPieSlice(l,l,l-m,e,f,c,i);r=f}},render:function(){var a,d,e=this.target,f=this.values,g=this.options,h=this.radius,i=g.get("borderWidth");if(B._super.render.call(this)){for(i&&e.drawCircle(h,h,b.floor(h-i/2),g.get("borderColor"),c,i).append(),d=f.length;d--;)f[d]&&(a=this.renderSlice(d).append(),this.valueShapes[d]=a.id,this.shapes[a.id]=d);e.render()}}}),d.fn.sparkline.box=C=f(d.fn.sparkline._base,{type:"box",init:function(a,b,c,e,f){C._super.init.call(this,a,b,c,e,f),this.values=d.map(b,Number),this.width="auto"===c.get("width")?"4.0em":e,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var a=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==c&&a.push({field:"lo",value:this.loutlier}),this.routlier!==c&&a.push({field:"ro",value:this.routlier}),this.lwhisker!==c&&a.push({field:"lw",value:this.lwhisker}),this.rwhisker!==c&&a.push({field:"rw",value:this.rwhisker}),a},render:function(){var a,d,e,f,g,h,j,k,l,m,n,o=this.target,p=this.values,q=p.length,r=this.options,s=this.canvasWidth,t=this.canvasHeight,u=r.get("chartRangeMin")===c?b.min.apply(b,p):r.get("chartRangeMin"),v=r.get("chartRangeMax")===c?b.max.apply(b,p):r.get("chartRangeMax"),w=0;if(C._super.render.call(this)){if(r.get("raw"))r.get("showOutliers")&&p.length>5?(d=p[0],a=p[1],f=p[2],g=p[3],h=p[4],j=p[5],k=p[6]):(a=p[0],f=p[1],g=p[2],h=p[3],j=p[4]);else if(p.sort(function(a,b){return a-b}),f=i(p,1),g=i(p,2),h=i(p,3),e=h-f,r.get("showOutliers")){for(a=j=c,l=0;q>l;l++)a===c&&p[l]>f-e*r.get("outlierIQR")&&(a=p[l]),p[l]<h+e*r.get("outlierIQR")&&(j=p[l]);d=p[0],k=p[q-1]}else a=p[0],j=p[q-1];this.quartiles=[f,g,h],this.lwhisker=a,this.rwhisker=j,this.loutlier=d,this.routlier=k,n=s/(v-u+1),r.get("showOutliers")&&(w=b.ceil(r.get("spotRadius")),s-=2*b.ceil(r.get("spotRadius")),n=s/(v-u+1),a>d&&o.drawCircle((d-u)*n+w,t/2,r.get("spotRadius"),r.get("outlierLineColor"),r.get("outlierFillColor")).append(),k>j&&o.drawCircle((k-u)*n+w,t/2,r.get("spotRadius"),r.get("outlierLineColor"),r.get("outlierFillColor")).append()),o.drawRect(b.round((f-u)*n+w),b.round(.1*t),b.round((h-f)*n),b.round(.8*t),r.get("boxLineColor"),r.get("boxFillColor")).append(),o.drawLine(b.round((a-u)*n+w),b.round(t/2),b.round((f-u)*n+w),b.round(t/2),r.get("lineColor")).append(),o.drawLine(b.round((a-u)*n+w),b.round(t/4),b.round((a-u)*n+w),b.round(t-t/4),r.get("whiskerColor")).append(),o.drawLine(b.round((j-u)*n+w),b.round(t/2),b.round((h-u)*n+w),b.round(t/2),r.get("lineColor")).append(),o.drawLine(b.round((j-u)*n+w),b.round(t/4),b.round((j-u)*n+w),b.round(t-t/4),r.get("whiskerColor")).append(),o.drawLine(b.round((g-u)*n+w),b.round(.1*t),b.round((g-u)*n+w),b.round(.9*t),r.get("medianColor")).append(),r.get("target")&&(m=b.ceil(r.get("spotRadius")),o.drawLine(b.round((r.get("target")-u)*n+w),b.round(t/2-m),b.round((r.get("target")-u)*n+w),b.round(t/2+m),r.get("targetColor")).append(),o.drawLine(b.round((r.get("target")-u)*n+w-m),b.round(t/2),b.round((r.get("target")-u)*n+w+m),b.round(t/2),r.get("targetColor")).append()),o.render()}}}),F=f({init:function(a,b,c,d){this.target=a,this.id=b,this.type=c,this.args=d},append:function(){return this.target.appendShape(this),this}}),G=f({_pxregex:/(\d+)(px)?\s*$/i,init:function(a,b,c){a&&(this.width=a,this.height=b,this.target=c,this.lastShapeId=null,c[0]&&(c=c[0]),d.data(c,"_jqs_vcanvas",this))},drawLine:function(a,b,c,d,e,f){return this.drawShape([[a,b],[c,d]],e,f)},drawShape:function(a,b,c,d){return this._genShape("Shape",[a,b,c,d])},drawCircle:function(a,b,c,d,e,f){return this._genShape("Circle",[a,b,c,d,e,f])},drawPieSlice:function(a,b,c,d,e,f,g){return this._genShape("PieSlice",[a,b,c,d,e,f,g])},drawRect:function(a,b,c,d,e,f){return this._genShape("Rect",[a,b,c,d,e,f])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(a,b){d(b).html(a)},_calculatePixelDims:function(a,b,c){var e;e=this._pxregex.exec(b),e?this.pixelHeight=e[1]:this.pixelHeight=d(c).height(),e=this._pxregex.exec(a),e?this.pixelWidth=e[1]:this.pixelWidth=d(c).width()},_genShape:function(a,b){var c=L++;return b.unshift(c),new F(this,c,a,b)},appendShape:function(a){alert("appendShape not implemented")},replaceWithShape:function(a,b){alert("replaceWithShape not implemented")},insertAfterShape:function(a,b){alert("insertAfterShape not implemented")},removeShapeId:function(a){alert("removeShapeId not implemented")},getShapeAt:function(a,b,c){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),H=f(G,{init:function(b,e,f,g){H._super.init.call(this,b,e,f),this.canvas=a.createElement("canvas"),f[0]&&(f=f[0]),d.data(f,"_jqs_vcanvas",this),d(this.canvas).css({display:"inline-block",width:b,height:e,verticalAlign:"top"}),this._insert(this.canvas,f),this._calculatePixelDims(b,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=g,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=c,d(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(a,b,d){var e=this.canvas.getContext("2d");return a!==c&&(e.strokeStyle=a),e.lineWidth=d===c?1:d,b!==c&&(e.fillStyle=b),e},reset:function(){var a=this._getContext();a.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=c},_drawShape:function(a,b,d,e,f){var g,h,i=this._getContext(d,e,f);for(i.beginPath(),i.moveTo(b[0][0]+.5,b[0][1]+.5),g=1,h=b.length;h>g;g++)i.lineTo(b[g][0]+.5,b[g][1]+.5);d!==c&&i.stroke(),e!==c&&i.fill(),this.targetX!==c&&this.targetY!==c&&i.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a)},_drawCircle:function(a,d,e,f,g,h,i){var j=this._getContext(g,h,i);j.beginPath(),j.arc(d,e,f,0,2*b.PI,!1),this.targetX!==c&&this.targetY!==c&&j.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a),g!==c&&j.stroke(),h!==c&&j.fill()},_drawPieSlice:function(a,b,d,e,f,g,h,i){var j=this._getContext(h,i);j.beginPath(),j.moveTo(b,d),j.arc(b,d,e,f,g,!1),j.lineTo(b,d),j.closePath(),h!==c&&j.stroke(),i&&j.fill(),this.targetX!==c&&this.targetY!==c&&j.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a)},_drawRect:function(a,b,c,d,e,f,g){return this._drawShape(a,[[b,c],[b+d,c],[b+d,c+e],[b,c+e],[b,c]],f,g)},appendShape:function(a){return this.shapes[a.id]=a,this.shapeseq.push(a.id),this.lastShapeId=a.id,a.id},replaceWithShape:function(a,b){var c,d=this.shapeseq;for(this.shapes[b.id]=b,c=d.length;c--;)d[c]==a&&(d[c]=b.id);delete this.shapes[a]},replaceWithShapes:function(a,b){var c,d,e,f=this.shapeseq,g={};for(d=a.length;d--;)g[a[d]]=!0;for(d=f.length;d--;)c=f[d],g[c]&&(f.splice(d,1),delete this.shapes[c],e=d);for(d=b.length;d--;)f.splice(e,0,b[d].id),this.shapes[b[d].id]=b[d]},insertAfterShape:function(a,b){var c,d=this.shapeseq;for(c=d.length;c--;)if(d[c]===a)return d.splice(c+1,0,b.id),void(this.shapes[b.id]=b)},removeShapeId:function(a){var b,c=this.shapeseq;for(b=c.length;b--;)if(c[b]===a){c.splice(b,1);break}delete this.shapes[a]},getShapeAt:function(a,b,c){return this.targetX=b,this.targetY=c,this.render(),this.currentTargetShapeId},render:function(){var a,b,c,d=this.shapeseq,e=this.shapes,f=d.length,g=this._getContext();for(g.clearRect(0,0,this.pixelWidth,this.pixelHeight),c=0;f>c;c++)a=d[c],b=e[a],this["_draw"+b.type].apply(this,b.args);this.interact||(this.shapes={},this.shapeseq=[])}}),I=f(G,{init:function(b,c,e){var f;I._super.init.call(this,b,c,e),e[0]&&(e=e[0]),d.data(e,"_jqs_vcanvas",this),this.canvas=a.createElement("span"),d(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:b,height:c,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,e),this._calculatePixelDims(b,c,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,f='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",f),this.group=d(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(a,b,d,e,f){var g,h,i,j,k,l,m,n=[];for(m=0,l=b.length;l>m;m++)n[m]=""+b[m][0]+","+b[m][1];return g=n.splice(0,1),f=f===c?1:f,h=d===c?' stroked="false" ':' strokeWeight="'+f+'px" strokeColor="'+d+'" ',i=e===c?' filled="false"':' fillColor="'+e+'" filled="true" ',j=n[0]===n[n.length-1]?"x ":"",k='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+a+'" '+h+i+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+g+" l "+n.join(", ")+" "+j+'e"> </v:shape>'},_drawCircle:function(a,b,d,e,f,g,h){var i,j,k;return b-=e,d-=e,i=f===c?' stroked="false" ':' strokeWeight="'+h+'px" strokeColor="'+f+'" ',j=g===c?' filled="false"':' fillColor="'+g+'" filled="true" ',k='<v:oval  id="jqsshape'+a+'" '+i+j+' style="position:absolute;top:'+d+"px; left:"+b+"px; width:"+2*e+"px; height:"+2*e+'px"></v:oval>'},_drawPieSlice:function(a,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r;if(g===h)return"";if(h-g===2*b.PI&&(g=0,h=2*b.PI),l=d+b.round(b.cos(g)*f),m=e+b.round(b.sin(g)*f),n=d+b.round(b.cos(h)*f),o=e+b.round(b.sin(h)*f),l===n&&m===o){if(h-g<b.PI)return"";l=n=d+f,m=o=e}return l===n&&m===o&&h-g<b.PI?"":(k=[d-f,e-f,d+f,e+f,l,m,n,o],p=i===c?' stroked="false" ':' strokeWeight="1px" strokeColor="'+i+'" ',q=j===c?' filled="false"':' fillColor="'+j+'" filled="true" ',r='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+a+'" '+p+q+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+d+","+e+" wa "+k.join(", ")+' x e"> </v:shape>')},_drawRect:function(a,b,c,d,e,f,g){return this._drawShape(a,[[b,c],[b,c+e],[b+d,c+e],[b+d,c],[b,c]],f,g)},reset:function(){this.group.innerHTML=""},appendShape:function(a){var b=this["_draw"+a.type].apply(this,a.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",b):this.prerender+=b,this.lastShapeId=a.id,a.id},replaceWithShape:function(a,b){var c=d("#jqsshape"+a),e=this["_draw"+b.type].apply(this,b.args);c[0].outerHTML=e},replaceWithShapes:function(a,b){var c,e=d("#jqsshape"+a[0]),f="",g=b.length;for(c=0;g>c;c++)f+=this["_draw"+b[c].type].apply(this,b[c].args);for(e[0].outerHTML=f,c=1;c<a.length;c++)d("#jqsshape"+a[c]).remove()},insertAfterShape:function(a,b){var c=d("#jqsshape"+a),e=this["_draw"+b.type].apply(this,b.args);c[0].insertAdjacentHTML("afterEnd",e)},removeShapeId:function(a){var b=d("#jqsshape"+a);this.group.removeChild(b[0])},getShapeAt:function(a,b,c){var d=a.id.substr(8);return d},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math),function(a,b,c){var d=function(d){function e(a){var b,c,f={};d.each(a,function(d){(b=d.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(b[1]+" ")&&(c=d.replace(b[0],b[2].toLowerCase()),f[c]=d,"o"===b[1]&&e(a[d]))}),a._hungarianMap=f}function f(a,b,g){a._hungarianMap||e(a);var h;d.each(b,function(e){h=a._hungarianMap[e],h===c||!g&&b[h]!==c||("o"===h.charAt(0)?(b[h]||(b[h]={}),d.extend(!0,b[h],b[e]),f(a[h],b[h],g)):b[h]=b[e])})}function g(a){var b=Ua.defaults.oLanguage,c=a.sZeroRecords;!a.sEmptyTable&&c&&"No data available in table"===b.sEmptyTable&&Ja(a,a,"sZeroRecords","sEmptyTable"),!a.sLoadingRecords&&c&&"Loading..."===b.sLoadingRecords&&Ja(a,a,"sZeroRecords","sLoadingRecords"),a.sInfoThousands&&(a.sThousands=a.sInfoThousands),(a=a.sDecimal)&&Sa(a)}function h(a){if(ob(a,"ordering","bSort"),ob(a,"orderMulti","bSortMulti"),ob(a,"orderClasses","bSortClasses"),ob(a,"orderCellsTop","bSortCellsTop"),ob(a,"order","aaSorting"),ob(a,"orderFixed","aaSortingFixed"),ob(a,"paging","bPaginate"),ob(a,"pagingType","sPaginationType"),ob(a,"pageLength","iDisplayLength"),ob(a,"searching","bFilter"),a=a.aoSearchCols)for(var b=0,c=a.length;c>b;b++)a[b]&&f(Ua.models.oSearch,a[b])}function i(a){ob(a,"orderable","bSortable"),ob(a,"orderData","aDataSort"),ob(a,"orderSequence","asSorting"),ob(a,"orderDataType","sortDataType")}function j(a){var a=a.oBrowser,b=d("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(d("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(d('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),c=b.find(".test");a.bScrollOversize=100===c[0].offsetWidth,a.bScrollbarLeft=1!==c.offset().left,b.remove()}function k(a,b,d,e,f,g){var h,i=!1;for(d!==c&&(h=d,i=!0);e!==f;)a.hasOwnProperty(e)&&(h=i?b(h,a[e],e,a):a[e],i=!0,e+=g);return h}function l(a,c){var e=Ua.defaults.column,f=a.aoColumns.length,e=d.extend({},Ua.models.oColumn,e,{nTh:c?c:b.createElement("th"),sTitle:e.sTitle?e.sTitle:c?c.innerHTML:"",aDataSort:e.aDataSort?e.aDataSort:[f],mData:e.mData?e.mData:f,idx:f});a.aoColumns.push(e),e=a.aoPreSearchCols,e[f]=d.extend({},Ua.models.oSearch,e[f]),m(a,f,d(c).data())}function m(a,b,e){var b=a.aoColumns[b],g=a.oClasses,h=d(b.nTh);if(!b.sWidthOrig){b.sWidthOrig=h.attr("width")||null;var j=(h.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);j&&(b.sWidthOrig=j[1])}e!==c&&null!==e&&(i(e),f(Ua.defaults.column,e),e.mDataProp!==c&&!e.mData&&(e.mData=e.mDataProp),e.sType&&(b._sManualType=e.sType),e.className&&!e.sClass&&(e.sClass=e.className),d.extend(b,e),Ja(b,e,"sWidth","sWidthOrig"),"number"==typeof e.iDataSort&&(b.aDataSort=[e.iDataSort]),Ja(b,e,"aDataSort"));var k=b.mData,l=z(k),m=b.mRender?z(b.mRender):null,e=function(a){return"string"==typeof a&&-1!==a.indexOf("@")};b._bAttrSrc=d.isPlainObject(k)&&(e(k.sort)||e(k.type)||e(k.filter)),b.fnGetData=function(a,b,d){var e=l(a,b,c,d);return m&&b?m(e,b,a,d):e},b.fnSetData=function(a,b,c){return A(k)(a,b,c)},"number"!=typeof k&&(a._rowReadObject=!0),a.oFeatures.bSort||(b.bSortable=!1,h.addClass(g.sSortableNone)),a=-1!==d.inArray("asc",b.asSorting),e=-1!==d.inArray("desc",b.asSorting),b.bSortable&&(a||e)?a&&!e?(b.sSortingClass=g.sSortableAsc,b.sSortingClassJUI=g.sSortJUIAscAllowed):!a&&e?(b.sSortingClass=g.sSortableDesc,b.sSortingClassJUI=g.sSortJUIDescAllowed):(b.sSortingClass=g.sSortable,b.sSortingClassJUI=g.sSortJUI):(b.sSortingClass=g.sSortableNone,b.sSortingClassJUI="")}function n(a){if(!1!==a.oFeatures.bAutoWidth){var b=a.aoColumns;qa(a);for(var c=0,d=b.length;d>c;c++)b[c].nTh.style.width=b[c].sWidth}b=a.oScroll,(""!==b.sY||""!==b.sX)&&oa(a),Na(a,null,"column-sizing",[a])}function o(a,b){var c=r(a,"bVisible");return"number"==typeof c[b]?c[b]:null}function p(a,b){var c=r(a,"bVisible"),c=d.inArray(b,c);return-1!==c?c:null}function q(a){return r(a,"bVisible").length}function r(a,b){var c=[];return d.map(a.aoColumns,function(a,d){a[b]&&c.push(d)}),c}function s(a){var b,d,e,f,g,h,i,j,k,l=a.aoColumns,m=a.aoData,n=Ua.ext.type.detect;for(b=0,d=l.length;d>b;b++)if(i=l[b],k=[],!i.sType&&i._sManualType)i.sType=i._sManualType;else if(!i.sType){for(e=0,f=n.length;f>e;e++){for(g=0,h=m.length;h>g&&(k[g]===c&&(k[g]=w(a,g,b,"type")),j=n[e](k[g],a),j||e===n.length-1)&&"html"!==j;g++);if(j){i.sType=j;break}}i.sType||(i.sType="string")}}function t(a,b,e,f){var g,h,i,j,k,m,n=a.aoColumns;if(b)for(g=b.length-1;g>=0;g--){m=b[g];var o=m.targets!==c?m.targets:m.aTargets;for(d.isArray(o)||(o=[o]),h=0,i=o.length;i>h;h++)if("number"==typeof o[h]&&0<=o[h]){for(;n.length<=o[h];)l(a);f(o[h],m)}else if("number"==typeof o[h]&&0>o[h])f(n.length+o[h],m);else if("string"==typeof o[h])for(j=0,k=n.length;k>j;j++)("_all"==o[h]||d(n[j].nTh).hasClass(o[h]))&&f(j,m)}if(e)for(g=0,a=e.length;a>g;g++)f(g,e[g])}function u(a,b,c,e){var f=a.aoData.length,g=d.extend(!0,{},Ua.models.oRow,{src:c?"dom":"data"});g._aData=b,a.aoData.push(g);for(var b=a.aoColumns,g=0,h=b.length;h>g;g++)c&&x(a,f,g,w(a,f,g)),b[g].sType=null;return a.aiDisplayMaster.push(f),(c||!a.oFeatures.bDeferRender)&&G(a,f,c,e),f}function v(a,b){var c;return b instanceof d||(b=d(b)),b.map(function(b,d){return c=F(a,d),u(a,c.data,d,c.cells)})}function w(a,b,d,e){var f=a.iDraw,g=a.aoColumns[d],h=a.aoData[b]._aData,i=g.sDefaultContent,d=g.fnGetData(h,e,{settings:a,row:b,col:d});if(d===c)return a.iDrawError!=f&&null===i&&(Ia(a,0,"Requested unknown parameter "+("function"==typeof g.mData?"{function}":"'"+g.mData+"'")+" for row "+b,4),a.iDrawError=f),i;if(d!==h&&null!==d||null===i){if("function"==typeof d)return d.call(h)}else d=i;return null===d&&"display"==e?"":d}function x(a,b,c,d){a.aoColumns[c].fnSetData(a.aoData[b]._aData,d,{settings:a,row:b,col:c})}function y(a){return d.map(a.match(/(\\.|[^\.])+/g),function(a){return a.replace(/\\./g,".")})}function z(a){if(d.isPlainObject(a)){var b={};return d.each(a,function(a,c){c&&(b[a]=z(c))}),function(a,d,e,f){var g=b[d]||b._;return g!==c?g(a,d,e,f):a}}if(null===a)return function(a){return a};if("function"==typeof a)return function(b,c,d,e){
return a(b,c,d,e)};if("string"==typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("[")||-1!==a.indexOf("("))){var e=function(a,b,d){var f,g;if(""!==d){g=y(d);for(var h=0,i=g.length;i>h;h++){if(d=g[h].match(pb),f=g[h].match(qb),d){for(g[h]=g[h].replace(pb,""),""!==g[h]&&(a=a[g[h]]),f=[],g.splice(0,h+1),g=g.join("."),h=0,i=a.length;i>h;h++)f.push(e(a[h],b,g));a=d[0].substring(1,d[0].length-1),a=""===a?f:f.join(a);break}if(f)g[h]=g[h].replace(qb,""),a=a[g[h]]();else{if(null===a||a[g[h]]===c)return c;a=a[g[h]]}}}return a};return function(b,c){return e(b,c,a)}}return function(b){return b[a]}}function A(a){if(d.isPlainObject(a))return A(a._);if(null===a)return function(){};if("function"==typeof a)return function(b,c,d){a(b,"set",c,d)};if("string"==typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("[")||-1!==a.indexOf("("))){var b=function(a,d,e){var f,e=y(e);f=e[e.length-1];for(var g,h,i=0,j=e.length-1;j>i;i++){if(g=e[i].match(pb),h=e[i].match(qb),g){for(e[i]=e[i].replace(pb,""),a[e[i]]=[],f=e.slice(),f.splice(0,i+1),g=f.join("."),h=0,j=d.length;j>h;h++)f={},b(f,d[h],g),a[e[i]].push(f);return}h&&(e[i]=e[i].replace(qb,""),a=a[e[i]](d)),(null===a[e[i]]||a[e[i]]===c)&&(a[e[i]]={}),a=a[e[i]]}f.match(qb)?a[f.replace(qb,"")](d):a[f.replace(pb,"")]=d};return function(c,d){return b(c,d,a)}}return function(b,c){b[a]=c}}function B(a){return jb(a.aoData,"_aData")}function C(a){a.aoData.length=0,a.aiDisplayMaster.length=0,a.aiDisplay.length=0}function D(a,b,d){for(var e=-1,f=0,g=a.length;g>f;f++)a[f]==b?e=f:a[f]>b&&a[f]--;-1!=e&&d===c&&a.splice(e,1)}function E(a,b,d,e){var f,g=a.aoData[b],h=function(c,d){for(;c.childNodes.length;)c.removeChild(c.firstChild);c.innerHTML=w(a,b,d,"display")};if("dom"!==d&&(d&&"auto"!==d||"dom"!==g.src)){var i=g.anCells;if(i)if(e!==c)h(i[e],e);else for(d=0,f=i.length;f>d;d++)h(i[d],d)}else g._aData=F(a,g,e,e===c?c:g._aData).data;if(g._aSortData=null,g._aFilterData=null,h=a.aoColumns,e!==c)h[e].sType=null;else{for(d=0,f=h.length;f>d;d++)h[d].sType=null;H(g)}}function F(a,b,e,f){var g,h,i=[],j=b.firstChild,k=0,l=a.aoColumns,m=a._rowReadObject,f=f||m?{}:[],n=function(a,b){if("string"==typeof a){var c=a.indexOf("@");-1!==c&&(c=a.substring(c+1),A(a)(f,b.getAttribute(c)))}},a=function(a){(e===c||e===k)&&(g=l[k],h=d.trim(a.innerHTML),g&&g._bAttrSrc?(A(g.mData._)(f,h),n(g.mData.sort,a),n(g.mData.type,a),n(g.mData.filter,a)):m?(g._setter||(g._setter=A(g.mData)),g._setter(f,h)):f[k]=h),k++};if(j)for(;j;)b=j.nodeName.toUpperCase(),("TD"==b||"TH"==b)&&(a(j),i.push(j)),j=j.nextSibling;else for(i=b.anCells,j=0,b=i.length;b>j;j++)a(i[j]);return{data:f,cells:i}}function G(a,c,d,e){var f,g,h,i,j,k=a.aoData[c],l=k._aData,m=[];if(null===k.nTr){for(f=d||b.createElement("tr"),k.nTr=f,k.anCells=m,f._DT_RowIndex=c,H(k),i=0,j=a.aoColumns.length;j>i;i++)h=a.aoColumns[i],g=d?e[i]:b.createElement(h.sCellType),m.push(g),(!d||h.mRender||h.mData!==i)&&(g.innerHTML=w(a,c,i,"display")),h.sClass&&(g.className+=" "+h.sClass),h.bVisible&&!d?f.appendChild(g):!h.bVisible&&d&&g.parentNode.removeChild(g),h.fnCreatedCell&&h.fnCreatedCell.call(a.oInstance,g,w(a,c,i),l,c,i);Na(a,"aoRowCreatedCallback",null,[f,l,c])}k.nTr.setAttribute("role","row")}function H(a){var b=a.nTr,c=a._aData;if(b){if(c.DT_RowId&&(b.id=c.DT_RowId),c.DT_RowClass){var e=c.DT_RowClass.split(" ");a.__rowc=a.__rowc?nb(a.__rowc.concat(e)):e,d(b).removeClass(a.__rowc.join(" ")).addClass(c.DT_RowClass)}c.DT_RowAttr&&d(b).attr(c.DT_RowAttr),c.DT_RowData&&d(b).data(c.DT_RowData)}}function I(a){var b,c,e,f,g,h=a.nTHead,i=a.nTFoot,j=0===d("th, td",h).length,k=a.oClasses,l=a.aoColumns;for(j&&(f=d("<tr/>").appendTo(h)),b=0,c=l.length;c>b;b++)g=l[b],e=d(g.nTh).addClass(g.sClass),j&&e.appendTo(f),a.oFeatures.bSort&&(e.addClass(g.sSortingClass),!1!==g.bSortable&&(e.attr("tabindex",a.iTabIndex).attr("aria-controls",a.sTableId),Ca(a,g.nTh,b))),g.sTitle!=e.html()&&e.html(g.sTitle),Pa(a,"header")(a,e,g,k);if(j&&N(a.aoHeader,h),d(h).find(">tr").attr("role","row"),d(h).find(">tr>th, >tr>td").addClass(k.sHeaderTH),d(i).find(">tr>th, >tr>td").addClass(k.sFooterTH),null!==i)for(a=a.aoFooter[0],b=0,c=a.length;c>b;b++)g=l[b],g.nTf=a[b].cell,g.sClass&&d(g.nTf).addClass(g.sClass)}function J(a,b,e){var f,g,h,i,j=[],k=[],l=a.aoColumns.length;if(b){for(e===c&&(e=!1),f=0,g=b.length;g>f;f++){for(j[f]=b[f].slice(),j[f].nTr=b[f].nTr,h=l-1;h>=0;h--)!a.aoColumns[h].bVisible&&!e&&j[f].splice(h,1);k.push([])}for(f=0,g=j.length;g>f;f++){if(a=j[f].nTr)for(;h=a.firstChild;)a.removeChild(h);for(h=0,b=j[f].length;b>h;h++)if(i=l=1,k[f][h]===c){for(a.appendChild(j[f][h].cell),k[f][h]=1;j[f+l]!==c&&j[f][h].cell==j[f+l][h].cell;)k[f+l][h]=1,l++;for(;j[f][h+i]!==c&&j[f][h].cell==j[f][h+i].cell;){for(e=0;l>e;e++)k[f+e][h+i]=1;i++}d(j[f][h].cell).attr("rowspan",l).attr("colspan",i)}}}}function K(a){var b=Na(a,"aoPreDrawCallback","preDraw",[a]);if(-1!==d.inArray(!1,b))ma(a,!1);else{var b=[],e=0,f=a.asStripeClasses,g=f.length,h=a.oLanguage,i=a.iInitDisplayStart,j="ssp"==Qa(a),k=a.aiDisplay;a.bDrawing=!0,i!==c&&-1!==i&&(a._iDisplayStart=j?i:i>=a.fnRecordsDisplay()?0:i,a.iInitDisplayStart=-1);var i=a._iDisplayStart,l=a.fnDisplayEnd();if(a.bDeferLoading)a.bDeferLoading=!1,a.iDraw++,ma(a,!1);else if(j){if(!a.bDestroying&&!Q(a))return}else a.iDraw++;if(0!==k.length)for(h=j?a.aoData.length:l,j=j?0:i;h>j;j++){var m=k[j],n=a.aoData[m];if(null===n.nTr&&G(a,m),m=n.nTr,0!==g){var o=f[e%g];n._sRowStripe!=o&&(d(m).removeClass(n._sRowStripe).addClass(o),n._sRowStripe=o)}Na(a,"aoRowCallback",null,[m,n._aData,e,j]),b.push(m),e++}else e=h.sZeroRecords,1==a.iDraw&&"ajax"==Qa(a)?e=h.sLoadingRecords:h.sEmptyTable&&0===a.fnRecordsTotal()&&(e=h.sEmptyTable),b[0]=d("<tr/>",{"class":g?f[0]:""}).append(d("<td />",{valign:"top",colSpan:q(a),"class":a.oClasses.sRowEmpty}).html(e))[0];Na(a,"aoHeaderCallback","header",[d(a.nTHead).children("tr")[0],B(a),i,l,k]),Na(a,"aoFooterCallback","footer",[d(a.nTFoot).children("tr")[0],B(a),i,l,k]),f=d(a.nTBody),f.children().detach(),f.append(d(b)),Na(a,"aoDrawCallback","draw",[a]),a.bSorted=!1,a.bFiltered=!1,a.bDrawing=!1}}function L(a,b){var c=a.oFeatures,d=c.bFilter;c.bSort&&za(a),d?V(a,a.oPreviousSearch):a.aiDisplay=a.aiDisplayMaster.slice(),!0!==b&&(a._iDisplayStart=0),a._drawHold=b,K(a),a._drawHold=!1}function M(a){var b=a.oClasses,c=d(a.nTable),c=d("<div/>").insertBefore(c),e=a.oFeatures,f=d("<div/>",{id:a.sTableId+"_wrapper","class":b.sWrapper+(a.nTFoot?"":" "+b.sNoFooter)});a.nHolding=c[0],a.nTableWrapper=f[0],a.nTableReinsertBefore=a.nTable.nextSibling;for(var g,h,i,j,k,l,m=a.sDom.split(""),n=0;n<m.length;n++){if(g=null,h=m[n],"<"==h){if(i=d("<div/>")[0],j=m[n+1],"'"==j||'"'==j){for(k="",l=2;m[n+l]!=j;)k+=m[n+l],l++;"H"==k?k=b.sJUIHeader:"F"==k&&(k=b.sJUIFooter),-1!=k.indexOf(".")?(j=k.split("."),i.id=j[0].substr(1,j[0].length-1),i.className=j[1]):"#"==k.charAt(0)?i.id=k.substr(1,k.length-1):i.className=k,n+=l}f.append(i),f=d(i)}else if(">"==h)f=f.parent();else if("l"==h&&e.bPaginate&&e.bLengthChange)g=ia(a);else if("f"==h&&e.bFilter)g=U(a);else if("r"==h&&e.bProcessing)g=la(a);else if("t"==h)g=na(a);else if("i"==h&&e.bInfo)g=ca(a);else if("p"==h&&e.bPaginate)g=ja(a);else if(0!==Ua.ext.feature.length)for(i=Ua.ext.feature,l=0,j=i.length;j>l;l++)if(h==i[l].cFeature){g=i[l].fnInit(a);break}g&&(i=a.aanFeatures,i[h]||(i[h]=[]),i[h].push(g),f.append(g))}c.replaceWith(f)}function N(a,b){var c,e,f,g,h,i,j,k,l,m,n=d(b).children("tr");for(a.splice(0,a.length),f=0,i=n.length;i>f;f++)a.push([]);for(f=0,i=n.length;i>f;f++)for(c=n[f],e=c.firstChild;e;){if("TD"==e.nodeName.toUpperCase()||"TH"==e.nodeName.toUpperCase()){for(k=1*e.getAttribute("colspan"),l=1*e.getAttribute("rowspan"),k=k&&0!==k&&1!==k?k:1,l=l&&0!==l&&1!==l?l:1,g=0,h=a[f];h[g];)g++;for(j=g,m=1===k?!0:!1,h=0;k>h;h++)for(g=0;l>g;g++)a[f+g][j+h]={cell:e,unique:m},a[f+g].nTr=c}e=e.nextSibling}}function O(a,b,c){var d=[];c||(c=a.aoHeader,b&&(c=[],N(c,b)));for(var b=0,e=c.length;e>b;b++)for(var f=0,g=c[b].length;g>f;f++)!c[b][f].unique||d[f]&&a.bSortCellsTop||(d[f]=c[b][f].cell);return d}function P(a,b,c){if(Na(a,"aoServerParams","serverParams",[b]),b&&d.isArray(b)){var e={},f=/(.*?)\[\]$/;d.each(b,function(a,b){var c=b.name.match(f);c?(c=c[0],e[c]||(e[c]=[]),e[c].push(b.value)):e[b.name]=b.value}),b=e}var g,h=a.ajax,i=a.oInstance;if(d.isPlainObject(h)&&h.data){g=h.data;var j=d.isFunction(g)?g(b):g,b=d.isFunction(g)&&j?j:d.extend(!0,b,j);delete h.data}j={data:b,success:function(b){var d=b.error||b.sError;d&&a.oApi._fnLog(a,0,d),a.json=b,Na(a,null,"xhr",[a,b]),c(b)},dataType:"json",cache:!1,type:a.sServerMethod,error:function(b,c){var d=a.oApi._fnLog;"parsererror"==c?d(a,0,"Invalid JSON response",1):4===b.readyState&&d(a,0,"Ajax error",7),ma(a,!1)}},a.oAjaxData=b,Na(a,null,"preXhr",[a,b]),a.fnServerData?a.fnServerData.call(i,a.sAjaxSource,d.map(b,function(a,b){return{name:b,value:a}}),c,a):a.sAjaxSource||"string"==typeof h?a.jqXHR=d.ajax(d.extend(j,{url:h||a.sAjaxSource})):d.isFunction(h)?a.jqXHR=h.call(i,b,c,a):(a.jqXHR=d.ajax(d.extend(j,h)),h.data=g)}function Q(a){return a.bAjaxDataGet?(a.iDraw++,ma(a,!0),P(a,R(a),function(b){S(a,b)}),!1):!0}function R(a){var b,c,e,f,g=a.aoColumns,h=g.length,i=a.oFeatures,j=a.oPreviousSearch,k=a.aoPreSearchCols,l=[],m=ya(a);b=a._iDisplayStart,c=!1!==i.bPaginate?a._iDisplayLength:-1;var n=function(a,b){l.push({name:a,value:b})};n("sEcho",a.iDraw),n("iColumns",h),n("sColumns",jb(g,"sName").join(",")),n("iDisplayStart",b),n("iDisplayLength",c);var o={draw:a.iDraw,columns:[],order:[],start:b,length:c,search:{value:j.sSearch,regex:j.bRegex}};for(b=0;h>b;b++)e=g[b],f=k[b],c="function"==typeof e.mData?"function":e.mData,o.columns.push({data:c,name:e.sName,searchable:e.bSearchable,orderable:e.bSortable,search:{value:f.sSearch,regex:f.bRegex}}),n("mDataProp_"+b,c),i.bFilter&&(n("sSearch_"+b,f.sSearch),n("bRegex_"+b,f.bRegex),n("bSearchable_"+b,e.bSearchable)),i.bSort&&n("bSortable_"+b,e.bSortable);return i.bFilter&&(n("sSearch",j.sSearch),n("bRegex",j.bRegex)),i.bSort&&(d.each(m,function(a,b){o.order.push({column:b.col,dir:b.dir}),n("iSortCol_"+a,b.col),n("sSortDir_"+a,b.dir)}),n("iSortingCols",m.length)),g=Ua.ext.legacy.ajax,null===g?a.sAjaxSource?l:o:g?l:o}function S(a,b){var d=b.sEcho!==c?b.sEcho:b.draw,e=b.iTotalRecords!==c?b.iTotalRecords:b.recordsTotal,f=b.iTotalDisplayRecords!==c?b.iTotalDisplayRecords:b.recordsFiltered;if(d){if(1*d<a.iDraw)return;a.iDraw=1*d}for(C(a),a._iRecordsTotal=parseInt(e,10),a._iRecordsDisplay=parseInt(f,10),d=T(a,b),e=0,f=d.length;f>e;e++)u(a,d[e]);a.aiDisplay=a.aiDisplayMaster.slice(),a.bAjaxDataGet=!1,K(a),a._bInitComplete||ga(a,b),a.bAjaxDataGet=!0,ma(a,!1)}function T(a,b){var e=d.isPlainObject(a.ajax)&&a.ajax.dataSrc!==c?a.ajax.dataSrc:a.sAjaxDataProp;return"data"===e?b.aaData||b[e]:""!==e?z(e)(b):b}function U(a){var c=a.oClasses,e=a.sTableId,f=a.oLanguage,g=a.oPreviousSearch,h=a.aanFeatures,i='<input type="search" class="'+c.sFilterInput+'"/>',j=f.sSearch,j=j.match(/_INPUT_/)?j.replace("_INPUT_",i):j+i,c=d("<div/>",{id:h.f?null:e+"_filter","class":c.sFilter}).append(d("<label/>").append(j)),h=function(){var b=this.value?this.value:"";b!=g.sSearch&&(V(a,{sSearch:b,bRegex:g.bRegex,bSmart:g.bSmart,bCaseInsensitive:g.bCaseInsensitive}),a._iDisplayStart=0,K(a))},i=null!==a.searchDelay?a.searchDelay:"ssp"===Qa(a)?400:0,k=d("input",c).val(g.sSearch).attr("placeholder",f.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",i?ra(h,i):h).bind("keypress.DT",function(a){return 13==a.keyCode?!1:void 0}).attr("aria-controls",e);return d(a.nTable).on("search.dt.DT",function(c,d){if(a===d)try{k[0]!==b.activeElement&&k.val(g.sSearch)}catch(e){}}),c[0]}function V(a,b,d){var e=a.oPreviousSearch,f=a.aoPreSearchCols,g=function(a){e.sSearch=a.sSearch,e.bRegex=a.bRegex,e.bSmart=a.bSmart,e.bCaseInsensitive=a.bCaseInsensitive};if(s(a),"ssp"!=Qa(a)){for(Y(a,b.sSearch,d,b.bEscapeRegex!==c?!b.bEscapeRegex:b.bRegex,b.bSmart,b.bCaseInsensitive),g(b),b=0;b<f.length;b++)X(a,f[b].sSearch,b,f[b].bEscapeRegex!==c?!f[b].bEscapeRegex:f[b].bRegex,f[b].bSmart,f[b].bCaseInsensitive);W(a)}else g(b);a.bFiltered=!0,Na(a,null,"search",[a])}function W(a){for(var b,c,d=Ua.ext.search,e=a.aiDisplay,f=0,g=d.length;g>f;f++){for(var h=[],i=0,j=e.length;j>i;i++)c=e[i],b=a.aoData[c],d[f](a,b._aFilterData,c,b._aData,i)&&h.push(c);e.length=0,e.push.apply(e,h)}}function X(a,b,c,d,e,f){if(""!==b)for(var g=a.aiDisplay,d=Z(b,d,e,f),e=g.length-1;e>=0;e--)b=a.aoData[g[e]]._aFilterData[c],d.test(b)||g.splice(e,1)}function Y(a,b,c,d,e,f){var g,d=Z(b,d,e,f),e=a.oPreviousSearch.sSearch,f=a.aiDisplayMaster;if(0!==Ua.ext.search.length&&(c=!0),g=_(a),0>=b.length)a.aiDisplay=f.slice();else for((g||c||e.length>b.length||0!==b.indexOf(e)||a.bSorted)&&(a.aiDisplay=f.slice()),b=a.aiDisplay,c=b.length-1;c>=0;c--)d.test(a.aoData[b[c]]._sFilterRow)||b.splice(c,1)}function Z(a,b,c,e){return a=b?a:$(a),c&&(a="^(?=.*?"+d.map(a.match(/"[^"]+"|[^ ]+/g)||"",function(a){if('"'===a.charAt(0))var b=a.match(/^"(.*)"$/),a=b?b[1]:a;return a.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(a,e?"i":"")}function $(a){return a.replace(cb,"\\$1")}function _(a){var b,c,d,e,f,g,h,i,j=a.aoColumns,k=Ua.ext.type.search;for(b=!1,c=0,e=a.aoData.length;e>c;c++)if(i=a.aoData[c],!i._aFilterData){for(g=[],d=0,f=j.length;f>d;d++)b=j[d],b.bSearchable?(h=w(a,c,d,"filter"),k[b.sType]&&(h=k[b.sType](h)),null===h&&(h=""),"string"!=typeof h&&h.toString&&(h=h.toString())):h="",h.indexOf&&-1!==h.indexOf("&")&&(rb.innerHTML=h,h=sb?rb.textContent:rb.innerText),h.replace&&(h=h.replace(/[\r\n]/g,"")),g.push(h);i._aFilterData=g,i._sFilterRow=g.join("  "),b=!0}return b}function aa(a){return{search:a.sSearch,smart:a.bSmart,regex:a.bRegex,caseInsensitive:a.bCaseInsensitive}}function ba(a){return{sSearch:a.search,bSmart:a.smart,bRegex:a.regex,bCaseInsensitive:a.caseInsensitive}}function ca(a){var b=a.sTableId,c=a.aanFeatures.i,e=d("<div/>",{"class":a.oClasses.sInfo,id:c?null:b+"_info"});return c||(a.aoDrawCallback.push({fn:da,sName:"information"}),e.attr("role","status").attr("aria-live","polite"),d(a.nTable).attr("aria-describedby",b+"_info")),e[0]}function da(a){var b=a.aanFeatures.i;if(0!==b.length){var c=a.oLanguage,e=a._iDisplayStart+1,f=a.fnDisplayEnd(),g=a.fnRecordsTotal(),h=a.fnRecordsDisplay(),i=h?c.sInfo:c.sInfoEmpty;h!==g&&(i+=" "+c.sInfoFiltered),i+=c.sInfoPostFix,i=ea(a,i),c=c.fnInfoCallback,null!==c&&(i=c.call(a.oInstance,a,e,f,g,h,i)),d(b).html(i)}}function ea(a,b){var c=a.fnFormatNumber,d=a._iDisplayStart+1,e=a._iDisplayLength,f=a.fnRecordsDisplay(),g=-1===e;return b.replace(/_START_/g,c.call(a,d)).replace(/_END_/g,c.call(a,a.fnDisplayEnd())).replace(/_MAX_/g,c.call(a,a.fnRecordsTotal())).replace(/_TOTAL_/g,c.call(a,f)).replace(/_PAGE_/g,c.call(a,g?1:Math.ceil(d/e))).replace(/_PAGES_/g,c.call(a,g?1:Math.ceil(f/e)))}function fa(a){var b,c,d,e=a.iInitDisplayStart,f=a.aoColumns;if(c=a.oFeatures,a.bInitialised){for(M(a),I(a),J(a,a.aoHeader),J(a,a.aoFooter),ma(a,!0),c.bAutoWidth&&qa(a),b=0,c=f.length;c>b;b++)d=f[b],d.sWidth&&(d.nTh.style.width=wa(d.sWidth));L(a),f=Qa(a),"ssp"!=f&&("ajax"==f?P(a,[],function(c){var d=T(a,c);for(b=0;b<d.length;b++)u(a,d[b]);a.iInitDisplayStart=e,L(a),ma(a,!1),ga(a,c)},a):(ma(a,!1),ga(a)))}else setTimeout(function(){fa(a)},200)}function ga(a,b){a._bInitComplete=!0,b&&n(a),Na(a,"aoInitComplete","init",[a,b])}function ha(a,b){var c=parseInt(b,10);a._iDisplayLength=c,Oa(a),Na(a,null,"length",[a,c])}function ia(a){for(var b=a.oClasses,c=a.sTableId,e=a.aLengthMenu,f=d.isArray(e[0]),g=f?e[0]:e,e=f?e[1]:e,f=d("<select/>",{name:c+"_length","aria-controls":c,"class":b.sLengthSelect}),h=0,i=g.length;i>h;h++)f[0][h]=new Option(e[h],g[h]);var j=d("<div><label/></div>").addClass(b.sLength);return a.aanFeatures.l||(j[0].id=c+"_length"),j.children().append(a.oLanguage.sLengthMenu.replace("_MENU_",f[0].outerHTML)),d("select",j).val(a._iDisplayLength).bind("change.DT",function(){ha(a,d(this).val()),K(a)}),d(a.nTable).bind("length.dt.DT",function(b,c,e){a===c&&d("select",j).val(e)}),j[0]}function ja(a){var b=a.sPaginationType,c=Ua.ext.pager[b],e="function"==typeof c,f=function(a){K(a)},b=d("<div/>").addClass(a.oClasses.sPaging+b)[0],g=a.aanFeatures;return e||c.fnInit(a,b,f),g.p||(b.id=a.sTableId+"_paginate",a.aoDrawCallback.push({fn:function(a){if(e){var b,d=a._iDisplayStart,h=a._iDisplayLength,i=a.fnRecordsDisplay(),j=-1===h,d=j?0:Math.ceil(d/h),h=j?1:Math.ceil(i/h),i=c(d,h),j=0;for(b=g.p.length;b>j;j++)Pa(a,"pageButton")(a,g.p[j],j,i,d,h)}else c.fnUpdate(a,f)},sName:"pagination"})),b}function ka(a,b,c){var d=a._iDisplayStart,e=a._iDisplayLength,f=a.fnRecordsDisplay();return 0===f||-1===e?d=0:"number"==typeof b?(d=b*e,d>f&&(d=0)):"first"==b?d=0:"previous"==b?(d=e>=0?d-e:0,0>d&&(d=0)):"next"==b?f>d+e&&(d+=e):"last"==b?d=Math.floor((f-1)/e)*e:Ia(a,0,"Unknown paging action: "+b,5),b=a._iDisplayStart!==d,a._iDisplayStart=d,b&&(Na(a,null,"page",[a]),c&&K(a)),b}function la(a){return d("<div/>",{id:a.aanFeatures.r?null:a.sTableId+"_processing","class":a.oClasses.sProcessing}).html(a.oLanguage.sProcessing).insertBefore(a.nTable)[0]}function ma(a,b){a.oFeatures.bProcessing&&d(a.aanFeatures.r).css("display",b?"block":"none"),Na(a,null,"processing",[a,b])}function na(a){var b=d(a.nTable);b.attr("role","grid");var c=a.oScroll;if(""===c.sX&&""===c.sY)return a.nTable;var e=c.sX,f=c.sY,g=a.oClasses,h=b.children("caption"),i=h.length?h[0]._captionSide:null,j=d(b[0].cloneNode(!1)),k=d(b[0].cloneNode(!1)),l=b.children("tfoot");c.sX&&"100%"===b.attr("width")&&b.removeAttr("width"),l.length||(l=null),c=d("<div/>",{"class":g.sScrollWrapper}).append(d("<div/>",{"class":g.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:e?e?wa(e):null:"100%"}).append(d("<div/>",{"class":g.sScrollHeadInner}).css({"box-sizing":"content-box",width:c.sXInner||"100%"}).append(j.removeAttr("id").css("margin-left",0).append("top"===i?h:null).append(b.children("thead"))))).append(d("<div/>",{"class":g.sScrollBody}).css({overflow:"auto",height:f?wa(f):null,width:e?wa(e):null}).append(b)),l&&c.append(d("<div/>",{"class":g.sScrollFoot}).css({overflow:"hidden",border:0,width:e?e?wa(e):null:"100%"}).append(d("<div/>",{"class":g.sScrollFootInner}).append(k.removeAttr("id").css("margin-left",0).append("bottom"===i?h:null).append(b.children("tfoot")))));var b=c.children(),m=b[0],g=b[1],n=l?b[2]:null;return e&&d(g).on("scroll.DT",function(){var a=this.scrollLeft;m.scrollLeft=a,l&&(n.scrollLeft=a)}),a.nScrollHead=m,a.nScrollBody=g,a.nScrollFoot=n,a.aoDrawCallback.push({fn:oa,sName:"scrolling"}),c[0]}function oa(a){var b,c,e,f,g,h,i=a.oScroll,j=i.sX,k=i.sXInner,l=i.sY,m=i.iBarWidth,n=d(a.nScrollHead),p=n[0].style,q=n.children("div"),r=q[0].style,s=q.children("table"),q=a.nScrollBody,t=d(q),u=q.style,v=d(a.nScrollFoot).children("div"),w=v.children("table"),x=d(a.nTHead),y=d(a.nTable),z=y[0],A=z.style,B=a.nTFoot?d(a.nTFoot):null,C=a.oBrowser,D=C.bScrollOversize,E=[],F=[],G=[],H=function(a){a=a.style,a.paddingTop="0",a.paddingBottom="0",a.borderTopWidth="0",a.borderBottomWidth="0",a.height=0};y.children("thead, tfoot").remove(),g=x.clone().prependTo(y),b=x.find("tr"),e=g.find("tr"),g.find("th, td").removeAttr("tabindex"),B&&(f=B.clone().prependTo(y),c=B.find("tr"),f=f.find("tr")),j||(u.width="100%",n[0].style.width="100%"),d.each(O(a,g),function(b,c){h=o(a,b),c.style.width=a.aoColumns[h].sWidth}),B&&pa(function(a){a.style.width=""},f),i.bCollapse&&""!==l&&(u.height=t[0].offsetHeight+x[0].offsetHeight+"px"),n=y.outerWidth(),""===j?(A.width="100%",D&&(y.find("tbody").height()>q.offsetHeight||"scroll"==t.css("overflow-y"))&&(A.width=wa(y.outerWidth()-m))):""!==k?A.width=wa(k):n==t.width()&&t.height()<y.height()?(A.width=wa(n-m),y.outerWidth()>n-m&&(A.width=wa(n))):A.width=wa(n),n=y.outerWidth(),pa(H,e),pa(function(a){G.push(a.innerHTML),E.push(wa(d(a).css("width")))},e),pa(function(a,b){a.style.width=E[b]},b),d(e).height(0),B&&(pa(H,f),pa(function(a){F.push(wa(d(a).css("width")))},f),pa(function(a,b){a.style.width=F[b]},c),d(f).height(0)),pa(function(a,b){a.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+G[b]+"</div>",a.style.width=E[b]},e),B&&pa(function(a,b){a.innerHTML="",a.style.width=F[b]},f),y.outerWidth()<n?(c=q.scrollHeight>q.offsetHeight||"scroll"==t.css("overflow-y")?n+m:n,D&&(q.scrollHeight>q.offsetHeight||"scroll"==t.css("overflow-y"))&&(A.width=wa(c-m)),(""===j||""!==k)&&Ia(a,1,"Possible column misalignment",6)):c="100%",u.width=wa(c),p.width=wa(c),B&&(a.nScrollFoot.style.width=wa(c)),!l&&D&&(u.height=wa(z.offsetHeight+m)),l&&i.bCollapse&&(u.height=wa(l),i=j&&z.offsetWidth>q.offsetWidth?m:0,z.offsetHeight<q.offsetHeight&&(u.height=wa(z.offsetHeight+i))),i=y.outerWidth(),s[0].style.width=wa(i),r.width=wa(i),s=y.height()>q.clientHeight||"scroll"==t.css("overflow-y"),C="padding"+(C.bScrollbarLeft?"Left":"Right"),r[C]=s?m+"px":"0px",B&&(w[0].style.width=wa(i),v[0].style.width=wa(i),v[0].style[C]=s?m+"px":"0px"),t.scroll(),!a.bSorted&&!a.bFiltered||a._drawHold||(q.scrollTop=0)}function pa(a,b,c){for(var d,e,f=0,g=0,h=b.length;h>g;){for(d=b[g].firstChild,e=c?c[g].firstChild:null;d;)1===d.nodeType&&(c?a(d,e,f):a(d,f),f++),d=d.nextSibling,e=c?e.nextSibling:null;g++}}function qa(b){var c,e,f=b.nTable,g=b.aoColumns,h=b.oScroll,i=h.sY,j=h.sX,k=h.sXInner,l=g.length,h=r(b,"bVisible"),m=d("th",b.nTHead),o=f.style.width||f.getAttribute("width"),p=f.parentNode,s=!1;for(c=0;c<h.length;c++)e=g[h[c]],null!==e.sWidth&&(e.sWidth=sa(e.sWidthOrig,p),s=!0);if(s||j||i||l!=q(b)||l!=m.length){l=d(f).clone().empty().css("visibility","hidden").removeAttr("id").append(d(b.nTHead).clone(!1)).append(d(b.nTFoot).clone(!1)).append(d("<tbody><tr/></tbody>")),l.find("tfoot th, tfoot td").css("width","");var t=l.find("tbody tr"),m=O(b,l.find("thead")[0]);for(c=0;c<h.length;c++)e=g[h[c]],m[c].style.width=null!==e.sWidthOrig&&""!==e.sWidthOrig?wa(e.sWidthOrig):"";if(b.aoData.length)for(c=0;c<h.length;c++)s=h[c],e=g[s],d(ua(b,s)).clone(!1).append(e.sContentPadding).appendTo(t);if(l.appendTo(p),j&&k?l.width(k):j?(l.css("width","auto"),l.width()<p.offsetWidth&&l.width(p.offsetWidth)):i?l.width(p.offsetWidth):o&&l.width(o),ta(b,l[0]),j){for(c=k=0;c<h.length;c++)e=g[h[c]],i=d(m[c]).outerWidth(),k+=null===e.sWidthOrig?i:parseInt(e.sWidth,10)+i-d(m[c]).width();l.width(wa(k)),f.style.width=wa(k)}for(c=0;c<h.length;c++)e=g[h[c]],(i=d(m[c]).width())&&(e.sWidth=wa(i));f.style.width=wa(l.css("width")),l.remove()}else for(c=0;l>c;c++)g[c].sWidth=wa(m.eq(c).width());o&&(f.style.width=wa(o)),!o&&!j||b._reszEvt||(d(a).bind("resize.DT-"+b.sInstance,ra(function(){n(b)})),b._reszEvt=!0)}function ra(a,b){var d,e,f=b!==c?b:200;return function(){var b=this,g=+new Date,h=arguments;d&&d+f>g?(clearTimeout(e),e=setTimeout(function(){d=c,a.apply(b,h)},f)):(d=g,a.apply(b,h))}}function sa(a,c){if(!a)return 0;var e=d("<div/>").css("width",wa(a)).appendTo(c||b.body),f=e[0].offsetWidth;return e.remove(),f}function ta(a,b){var c=a.oScroll;(c.sX||c.sY)&&(c=c.sX?0:c.iBarWidth,b.style.width=wa(d(b).outerWidth()-c))}function ua(a,b){var c=va(a,b);if(0>c)return null;var e=a.aoData[c];return e.nTr?e.anCells[b]:d("<td/>").html(w(a,c,b,"display"))[0]}function va(a,b){for(var c,d=-1,e=-1,f=0,g=a.aoData.length;g>f;f++)c=w(a,f,b,"display")+"",c=c.replace(tb,""),c.length>d&&(d=c.length,e=f);return e}function wa(a){return null===a?"0px":"number"==typeof a?0>a?"0px":a+"px":a.match(/\d$/)?a+"px":a}function xa(){if(!Ua.__scrollbarWidth){var a=d("<p/>").css({width:"100%",height:200,padding:0})[0],b=d("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(a).appendTo("body"),c=a.offsetWidth;b.css("overflow","scroll"),a=a.offsetWidth,c===a&&(a=b[0].clientWidth),b.remove(),Ua.__scrollbarWidth=c-a}return Ua.__scrollbarWidth}function ya(a){var b,e,f,g,h,i,j=[],k=a.aoColumns;b=a.aaSortingFixed,e=d.isPlainObject(b);var l=[];for(f=function(a){a.length&&!d.isArray(a[0])?l.push(a):l.push.apply(l,a)},d.isArray(b)&&f(b),e&&b.pre&&f(b.pre),f(a.aaSorting),e&&b.post&&f(b.post),a=0;a<l.length;a++)for(i=l[a][0],f=k[i].aDataSort,b=0,e=f.length;e>b;b++)g=f[b],h=k[g].sType||"string",l[a]._idx===c&&(l[a]._idx=d.inArray(l[a][1],k[g].asSorting)),j.push({src:i,col:g,dir:l[a][1],index:l[a]._idx,type:h,formatter:Ua.ext.type.order[h+"-pre"]});return j}function za(a){var b,c,d,e,f=[],g=Ua.ext.type.order,h=a.aoData,i=0,j=a.aiDisplayMaster;for(s(a),e=ya(a),b=0,c=e.length;c>b;b++)d=e[b],d.formatter&&i++,Ea(a,d.col);if("ssp"!=Qa(a)&&0!==e.length){for(b=0,c=j.length;c>b;b++)f[j[b]]=b;i===e.length?j.sort(function(a,b){var c,d,g,i,j=e.length,k=h[a]._aSortData,l=h[b]._aSortData;for(g=0;j>g;g++)if(i=e[g],c=k[i.col],d=l[i.col],c=d>c?-1:c>d?1:0,0!==c)return"asc"===i.dir?c:-c;return c=f[a],d=f[b],d>c?-1:c>d?1:0}):j.sort(function(a,b){var c,d,i,j,k=e.length,l=h[a]._aSortData,m=h[b]._aSortData;for(i=0;k>i;i++)if(j=e[i],c=l[j.col],d=m[j.col],j=g[j.type+"-"+j.dir]||g["string-"+j.dir],c=j(c,d),0!==c)return c;return c=f[a],d=f[b],d>c?-1:c>d?1:0})}a.bSorted=!0}function Aa(a){for(var b,c,d=a.aoColumns,e=ya(a),a=a.oLanguage.oAria,f=0,g=d.length;g>f;f++){c=d[f];var h=c.asSorting;b=c.sTitle.replace(/<.*?>/g,"");var i=c.nTh;i.removeAttribute("aria-sort"),c.bSortable&&(0<e.length&&e[0].col==f?(i.setAttribute("aria-sort","asc"==e[0].dir?"ascending":"descending"),c=h[e[0].index+1]||h[0]):c=h[0],b+="asc"===c?a.sSortAscending:a.sSortDescending),i.setAttribute("aria-label",b)}}function Ba(a,b,e,f){var g=a.aaSorting,h=a.aoColumns[b].asSorting,i=function(a,b){var e=a._idx;return e===c&&(e=d.inArray(a[1],h)),e+1<h.length?e+1:b?null:0};"number"==typeof g[0]&&(g=a.aaSorting=[g]),e&&a.oFeatures.bSortMulti?(e=d.inArray(b,jb(g,"0")),-1!==e?(b=i(g[e],!0),null===b?g.splice(e,1):(g[e][1]=h[b],g[e]._idx=b)):(g.push([b,h[0],0]),g[g.length-1]._idx=0)):g.length&&g[0][0]==b?(b=i(g[0]),g.length=1,g[0][1]=h[b],g[0]._idx=b):(g.length=0,g.push([b,h[0]]),g[0]._idx=0),L(a),"function"==typeof f&&f(a)}function Ca(a,b,c,d){var e=a.aoColumns[c];La(b,{},function(b){!1!==e.bSortable&&(a.oFeatures.bProcessing?(ma(a,!0),setTimeout(function(){Ba(a,c,b.shiftKey,d),"ssp"!==Qa(a)&&ma(a,!1)},0)):Ba(a,c,b.shiftKey,d))})}function Da(a){var b,c,e=a.aLastSort,f=a.oClasses.sSortColumn,g=ya(a),h=a.oFeatures;if(h.bSort&&h.bSortClasses){for(h=0,b=e.length;b>h;h++)c=e[h].src,d(jb(a.aoData,"anCells",c)).removeClass(f+(2>h?h+1:3));for(h=0,b=g.length;b>h;h++)c=g[h].src,d(jb(a.aoData,"anCells",c)).addClass(f+(2>h?h+1:3))}a.aLastSort=g}function Ea(a,b){var c,d=a.aoColumns[b],e=Ua.ext.order[d.sSortDataType];e&&(c=e.call(a.oInstance,a,b,p(a,b)));for(var f,g=Ua.ext.type.order[d.sType+"-pre"],h=0,i=a.aoData.length;i>h;h++)d=a.aoData[h],d._aSortData||(d._aSortData=[]),(!d._aSortData[b]||e)&&(f=e?c[h]:w(a,h,b,"sort"),d._aSortData[b]=g?g(f):f)}function Fa(a){if(a.oFeatures.bStateSave&&!a.bDestroying){var b={time:+new Date,start:a._iDisplayStart,length:a._iDisplayLength,order:d.extend(!0,[],a.aaSorting),search:aa(a.oPreviousSearch),columns:d.map(a.aoColumns,function(b,c){return{visible:b.bVisible,search:aa(a.aoPreSearchCols[c])}})};Na(a,"aoStateSaveParams","stateSaveParams",[a,b]),a.oSavedState=b,a.fnStateSaveCallback.call(a.oInstance,a,b)}}function Ga(a){var b,c,e=a.aoColumns;if(a.oFeatures.bStateSave){var f=a.fnStateLoadCallback.call(a.oInstance,a);if(f&&f.time&&(b=Na(a,"aoStateLoadParams","stateLoadParams",[a,f]),-1===d.inArray(!1,b)&&(b=a.iStateDuration,!(b>0&&f.time<+new Date-1e3*b)&&e.length===f.columns.length))){for(a.oLoadedState=d.extend(!0,{},f),a._iDisplayStart=f.start,a.iInitDisplayStart=f.start,a._iDisplayLength=f.length,a.aaSorting=[],d.each(f.order,function(b,c){a.aaSorting.push(c[0]>=e.length?[0,c[1]]:c)}),d.extend(a.oPreviousSearch,ba(f.search)),b=0,c=f.columns.length;c>b;b++){var g=f.columns[b];e[b].bVisible=g.visible,d.extend(a.aoPreSearchCols[b],ba(g.search))}Na(a,"aoStateLoaded","stateLoaded",[a,f])}}}function Ha(a){var b=Ua.settings,a=d.inArray(a,jb(b,"nTable"));return-1!==a?b[a]:null}function Ia(b,c,d,e){if(d="DataTables warning: "+(null!==b?"table id="+b.sTableId+" - ":"")+d,e&&(d+=". For more information about this error, please see http://datatables.net/tn/"+e),c)a.console&&console.log&&console.log(d);else if(c=Ua.ext,c=c.sErrMode||c.errMode,Na(b,null,"error",[b,e,d]),"alert"==c)alert(d);else{if("throw"==c)throw Error(d);"function"==typeof c&&c(b,e,d)}}function Ja(a,b,e,f){d.isArray(e)?d.each(e,function(c,e){d.isArray(e)?Ja(a,b,e[0],e[1]):Ja(a,b,e)}):(f===c&&(f=e),b[e]!==c&&(a[f]=b[e]))}function Ka(a,b,c){var e,f;for(f in b)b.hasOwnProperty(f)&&(e=b[f],d.isPlainObject(e)?(d.isPlainObject(a[f])||(a[f]={}),d.extend(!0,a[f],e)):a[f]=c&&"data"!==f&&"aaData"!==f&&d.isArray(e)?e.slice():e);return a}function La(a,b,c){d(a).bind("click.DT",b,function(b){a.blur(),c(b)}).bind("keypress.DT",b,function(a){13===a.which&&(a.preventDefault(),c(a))}).bind("selectstart.DT",function(){return!1})}function Ma(a,b,c,d){c&&a[b].push({fn:c,sName:d})}function Na(a,b,c,e){var f=[];return b&&(f=d.map(a[b].slice().reverse(),function(b){return b.fn.apply(a.oInstance,e)})),null!==c&&d(a.nTable).trigger(c+".dt",e),f}function Oa(a){var b=a._iDisplayStart,c=a.fnDisplayEnd(),d=a._iDisplayLength;b>=c&&(b=c-d),b-=b%d,(-1===d||0>b)&&(b=0),a._iDisplayStart=b}function Pa(a,b){var c=a.renderer,e=Ua.ext.renderer[b];return d.isPlainObject(c)&&c[b]?e[c[b]]||e._:"string"==typeof c?e[c]||e._:e._}function Qa(a){return a.oFeatures.bServerSide?"ssp":a.ajax||a.sAjaxSource?"ajax":"dom"}function Ra(a,b){var c=[],c=Kb.numbers_length,d=Math.floor(c/2);return c>=b?c=lb(0,b):d>=a?(c=lb(0,c-2),c.push("ellipsis"),c.push(b-1)):(a>=b-1-d?c=lb(b-(c-2),b):(c=lb(a-1,a+2),c.push("ellipsis"),c.push(b-1)),c.splice(0,0,"ellipsis"),c.splice(0,0,0)),c.DT_el="span",c}function Sa(a){d.each({num:function(b){return Lb(b,a)},"num-fmt":function(b){return Lb(b,a,db)},"html-num":function(b){return Lb(b,a,_a)},"html-num-fmt":function(b){return Lb(b,a,_a,db)}},function(b,c){Va.type.order[b+a+"-pre"]=c,b.match(/^html\-/)&&(Va.type.search[b+a]=Va.type.search.html)})}function Ta(a){return function(){var b=[Ha(this[Ua.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ua.ext.internal[a].apply(this,b)}}var Ua,Va,Wa,Xa,Ya,Za={},$a=/[\r\n]/g,_a=/<.*?>/g,ab=/^[\w\+\-]/,bb=/[\w\+\-]$/,cb=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),db=/[',$\u00a3\u20ac\u00a5%\u2009\u202F]/g,eb=function(a){return a&&!0!==a&&"-"!==a?!1:!0},fb=function(a){var b=parseInt(a,10);return!isNaN(b)&&isFinite(a)?b:null},gb=function(a,b){return Za[b]||(Za[b]=RegExp($(b),"g")),"string"==typeof a&&"."!==b?a.replace(/\./g,"").replace(Za[b],"."):a},hb=function(a,b,c){var d="string"==typeof a;return b&&d&&(a=gb(a,b)),c&&d&&(a=a.replace(db,"")),eb(a)||!isNaN(parseFloat(a))&&isFinite(a)},ib=function(a,b,c){return eb(a)?!0:(eb(a)||"string"==typeof a)&&hb(a.replace(_a,""),b,c)?!0:null},jb=function(a,b,d){var e=[],f=0,g=a.length;if(d!==c)for(;g>f;f++)a[f]&&a[f][b]&&e.push(a[f][b][d]);else for(;g>f;f++)a[f]&&e.push(a[f][b]);return e},kb=function(a,b,d,e){var f=[],g=0,h=b.length;if(e!==c)for(;h>g;g++)a[b[g]][d]&&f.push(a[b[g]][d][e]);else for(;h>g;g++)f.push(a[b[g]][d]);return f},lb=function(a,b){var d,e=[];b===c?(b=0,d=a):(d=b,b=a);for(var f=b;d>f;f++)e.push(f);return e},mb=function(a){for(var b=[],c=0,d=a.length;d>c;c++)a[c]&&b.push(a[c]);return b},nb=function(a){var b,c,d,e=[],f=a.length,g=0;c=0;a:for(;f>c;c++){for(b=a[c],d=0;g>d;d++)if(e[d]===b)continue a;e.push(b),g++}return e},ob=function(a,b,d){a[b]!==c&&(a[d]=a[b])},pb=/\[.*?\]$/,qb=/\(\)$/,rb=d("<div>")[0],sb=rb.textContent!==c,tb=/<.*?>/g;Ua=function(a){this.$=function(a,b){return this.api(!0).$(a,b)},this._=function(a,b){return this.api(!0).rows(a,b).data()},this.api=function(a){return new Wa(a?Ha(this[Va.iApiIndex]):this)},this.fnAddData=function(a,b){var e=this.api(!0),f=d.isArray(a)&&(d.isArray(a[0])||d.isPlainObject(a[0]))?e.rows.add(a):e.row.add(a);return(b===c||b)&&e.draw(),f.flatten().toArray()},this.fnAdjustColumnSizing=function(a){var b=this.api(!0).columns.adjust(),d=b.settings()[0],e=d.oScroll;a===c||a?b.draw(!1):(""!==e.sX||""!==e.sY)&&oa(d)},this.fnClearTable=function(a){
var b=this.api(!0).clear();(a===c||a)&&b.draw()},this.fnClose=function(a){this.api(!0).row(a).child.hide()},this.fnDeleteRow=function(a,b,d){var e=this.api(!0),a=e.rows(a),f=a.settings()[0],g=f.aoData[a[0][0]];return a.remove(),b&&b.call(this,f,g),(d===c||d)&&e.draw(),g},this.fnDestroy=function(a){this.api(!0).destroy(a)},this.fnDraw=function(a){this.api(!0).draw(!a)},this.fnFilter=function(a,b,d,e,f,g){f=this.api(!0),null===b||b===c?f.search(a,d,e,g):f.column(b).search(a,d,e,g),f.draw()},this.fnGetData=function(a,b){var d=this.api(!0);if(a!==c){var e=a.nodeName?a.nodeName.toLowerCase():"";return b!==c||"td"==e||"th"==e?d.cell(a,b).data():d.row(a).data()||null}return d.data().toArray()},this.fnGetNodes=function(a){var b=this.api(!0);return a!==c?b.row(a).node():b.rows().nodes().flatten().toArray()},this.fnGetPosition=function(a){var b=this.api(!0),c=a.nodeName.toUpperCase();return"TR"==c?b.row(a).index():"TD"==c||"TH"==c?(a=b.cell(a).index(),[a.row,a.columnVisible,a.column]):null},this.fnIsOpen=function(a){return this.api(!0).row(a).child.isShown()},this.fnOpen=function(a,b,c){return this.api(!0).row(a).child(b,c).show().child()[0]},this.fnPageChange=function(a,b){var d=this.api(!0).page(a);(b===c||b)&&d.draw(!1)},this.fnSetColumnVis=function(a,b,d){a=this.api(!0).column(a).visible(b),(d===c||d)&&a.columns.adjust().draw()},this.fnSettings=function(){return Ha(this[Va.iApiIndex])},this.fnSort=function(a){this.api(!0).order(a).draw()},this.fnSortListener=function(a,b,c){this.api(!0).order.listener(a,b,c)},this.fnUpdate=function(a,b,d,e,f){var g=this.api(!0);return d===c||null===d?g.row(b).data(a):g.cell(b,d).data(a),(f===c||f)&&g.columns.adjust(),(e===c||e)&&g.draw(),0},this.fnVersionCheck=Va.fnVersionCheck;var b=this,e=a===c,k=this.length;e&&(a={}),this.oApi=this.internal=Va.internal;for(var n in Ua.ext.internal)n&&(this[n]=Ta(n));return this.each(function(){var n,o={},o=k>1?Ka(o,a,!0):a,p=0,q=this.getAttribute("id"),r=!1,s=Ua.defaults,w=d(this);if("table"!=this.nodeName.toLowerCase())Ia(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{h(s),i(s.column),f(s,s,!0),f(s.column,s.column,!0),f(s,d.extend(o,w.data()));var x=Ua.settings,p=0;for(n=x.length;n>p;p++){var y=x[p];if(y.nTable==this||y.nTHead.parentNode==this||y.nTFoot&&y.nTFoot.parentNode==this){if(p=o.bRetrieve!==c?o.bRetrieve:s.bRetrieve,e||p)return y.oInstance;if(o.bDestroy!==c?o.bDestroy:s.bDestroy){y.oInstance.fnDestroy();break}return void Ia(y,0,"Cannot reinitialise DataTable",3)}if(y.sTableId==this.id){x.splice(p,1);break}}(null===q||""===q)&&(this.id=q="DataTables_Table_"+Ua.ext._unique++);var z=d.extend(!0,{},Ua.models.oSettings,{nTable:this,oApi:b.internal,oInit:o,sDestroyWidth:w[0].style.width,sInstance:q,sTableId:q});x.push(z),z.oInstance=1===b.length?b:w.dataTable(),h(o),o.oLanguage&&g(o.oLanguage),o.aLengthMenu&&!o.iDisplayLength&&(o.iDisplayLength=d.isArray(o.aLengthMenu[0])?o.aLengthMenu[0][0]:o.aLengthMenu[0]),o=Ka(d.extend(!0,{},s),o),Ja(z.oFeatures,o,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Ja(z,o,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Ja(z.oScroll,o,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Ja(z.oLanguage,o,"fnInfoCallback"),Ma(z,"aoDrawCallback",o.fnDrawCallback,"user"),Ma(z,"aoServerParams",o.fnServerParams,"user"),Ma(z,"aoStateSaveParams",o.fnStateSaveParams,"user"),Ma(z,"aoStateLoadParams",o.fnStateLoadParams,"user"),Ma(z,"aoStateLoaded",o.fnStateLoaded,"user"),Ma(z,"aoRowCallback",o.fnRowCallback,"user"),Ma(z,"aoRowCreatedCallback",o.fnCreatedRow,"user"),Ma(z,"aoHeaderCallback",o.fnHeaderCallback,"user"),Ma(z,"aoFooterCallback",o.fnFooterCallback,"user"),Ma(z,"aoInitComplete",o.fnInitComplete,"user"),Ma(z,"aoPreDrawCallback",o.fnPreDrawCallback,"user"),q=z.oClasses,o.bJQueryUI?(d.extend(q,Ua.ext.oJUIClasses,o.oClasses),o.sDom===s.sDom&&"lfrtip"===s.sDom&&(z.sDom='<"H"lfr>t<"F"ip>'),z.renderer?d.isPlainObject(z.renderer)&&!z.renderer.header&&(z.renderer.header="jqueryui"):z.renderer="jqueryui"):d.extend(q,Ua.ext.classes,o.oClasses),w.addClass(q.sTable),(""!==z.oScroll.sX||""!==z.oScroll.sY)&&(z.oScroll.iBarWidth=xa()),!0===z.oScroll.sX&&(z.oScroll.sX="100%"),z.iInitDisplayStart===c&&(z.iInitDisplayStart=o.iDisplayStart,z._iDisplayStart=o.iDisplayStart),null!==o.iDeferLoading&&(z.bDeferLoading=!0,p=d.isArray(o.iDeferLoading),z._iRecordsDisplay=p?o.iDeferLoading[0]:o.iDeferLoading,z._iRecordsTotal=p?o.iDeferLoading[1]:o.iDeferLoading);var A=z.oLanguage;d.extend(!0,A,o.oLanguage),""!==A.sUrl&&(d.ajax({dataType:"json",url:A.sUrl,success:function(a){g(a),f(s.oLanguage,a),d.extend(!0,A,a),fa(z)},error:function(){fa(z)}}),r=!0),null===o.asStripeClasses&&(z.asStripeClasses=[q.sStripeOdd,q.sStripeEven]);var p=z.asStripeClasses,B=d("tbody tr",this).eq(0);if(-1!==d.inArray(!0,d.map(p,function(a){return B.hasClass(a)}))&&(d("tbody tr",this).removeClass(p.join(" ")),z.asDestroyStripes=p.slice()),x=[],p=this.getElementsByTagName("thead"),0!==p.length&&(N(z.aoHeader,p[0]),x=O(z)),null===o.aoColumns)for(y=[],p=0,n=x.length;n>p;p++)y.push(null);else y=o.aoColumns;for(p=0,n=y.length;n>p;p++)l(z,x?x[p]:null);if(t(z,o.aoColumnDefs,y,function(a,b){m(z,a,b)}),B.length){var C=function(a,b){return null!==a.getAttribute("data-"+b)?b:null};d.each(F(z,B[0]).cells,function(a,b){var d=z.aoColumns[a];if(d.mData===a){var e=C(b,"sort")||C(b,"order"),f=C(b,"filter")||C(b,"search");(null!==e||null!==f)&&(d.mData={_:a+".display",sort:null!==e?a+".@data-"+e:c,type:null!==e?a+".@data-"+e:c,filter:null!==f?a+".@data-"+f:c},m(z,a))}})}var D=z.oFeatures;if(o.bStateSave&&(D.bStateSave=!0,Ga(z,o),Ma(z,"aoDrawCallback",Fa,"state_save")),o.aaSorting===c)for(x=z.aaSorting,p=0,n=x.length;n>p;p++)x[p][1]=z.aoColumns[p].asSorting[0];if(Da(z),D.bSort&&Ma(z,"aoDrawCallback",function(){if(z.bSorted){var a=ya(z),b={};d.each(a,function(a,c){b[c.src]=c.dir}),Na(z,null,"order",[z,a,b]),Aa(z)}}),Ma(z,"aoDrawCallback",function(){(z.bSorted||"ssp"===Qa(z)||D.bDeferRender)&&Da(z)},"sc"),j(z),p=w.children("caption").each(function(){this._captionSide=w.css("caption-side")}),n=w.children("thead"),0===n.length&&(n=d("<thead/>").appendTo(this)),z.nTHead=n[0],n=w.children("tbody"),0===n.length&&(n=d("<tbody/>").appendTo(this)),z.nTBody=n[0],n=w.children("tfoot"),0===n.length&&0<p.length&&(""!==z.oScroll.sX||""!==z.oScroll.sY)&&(n=d("<tfoot/>").appendTo(this)),0===n.length||0===n.children().length?w.addClass(q.sNoFooter):0<n.length&&(z.nTFoot=n[0],N(z.aoFooter,z.nTFoot)),o.aaData)for(p=0;p<o.aaData.length;p++)u(z,o.aaData[p]);else(z.bDeferLoading||"dom"==Qa(z))&&v(z,d(z.nTBody).children("tr"));z.aiDisplay=z.aiDisplayMaster.slice(),z.bInitialised=!0,!1===r&&fa(z)}}),b=null,this};var ub=[],vb=Array.prototype,wb=function(a){var b,c,e=Ua.settings,f=d.map(e,function(a){return a.nTable});return a?a.nTable&&a.oApi?[a]:a.nodeName&&"table"===a.nodeName.toLowerCase()?(b=d.inArray(a,f),-1!==b?[e[b]]:null):a&&"function"==typeof a.settings?a.settings().toArray():("string"==typeof a?c=d(a):a instanceof d&&(c=a),c?c.map(function(){return b=d.inArray(this,f),-1!==b?e[b]:null}).toArray():void 0):[]};Wa=function(a,b){if(!this instanceof Wa)throw"DT API must be constructed as a new object";var c=[],e=function(a){(a=wb(a))&&c.push.apply(c,a)};if(d.isArray(a))for(var f=0,g=a.length;g>f;f++)e(a[f]);else e(a);this.context=nb(c),b&&this.push.apply(this,b.toArray?b.toArray():b),this.selector={rows:null,cols:null,opts:null},Wa.extend(this,this,ub)},Ua.Api=Wa,Wa.prototype={concat:vb.concat,context:[],each:function(a){for(var b=0,c=this.length;c>b;b++)a.call(this,this[b],b,this);return this},eq:function(a){var b=this.context;return b.length>a?new Wa(b[a],this[a]):null},filter:function(a){var b=[];if(vb.filter)b=vb.filter.call(this,a,this);else for(var c=0,d=this.length;d>c;c++)a.call(this,this[c],c,this)&&b.push(this[c]);return new Wa(this.context,b)},flatten:function(){var a=[];return new Wa(this.context,a.concat.apply(a,this.toArray()))},join:vb.join,indexOf:vb.indexOf||function(a,b){for(var c=b||0,d=this.length;d>c;c++)if(this[c]===a)return c;return-1},iterator:function(a,b,d,e){var f,g,h,i,j,k,l,m=[],n=this.context,o=this.selector;for("string"==typeof a&&(e=d,d=b,b=a,a=!1),g=0,h=n.length;h>g;g++){var p=new Wa(n[g]);if("table"===b)f=d.call(p,n[g],g),f!==c&&m.push(f);else if("columns"===b||"rows"===b)f=d.call(p,n[g],this[g],g),f!==c&&m.push(f);else if("column"===b||"column-rows"===b||"row"===b||"cell"===b)for(l=this[g],"column-rows"===b&&(k=Bb(n[g],o.opts)),i=0,j=l.length;j>i;i++)f=l[i],f="cell"===b?d.call(p,n[g],f.row,f.column,g,i):d.call(p,n[g],f,g,i,k),f!==c&&m.push(f)}return m.length||e?(a=new Wa(n,a?m.concat.apply([],m):m),b=a.selector,b.rows=o.rows,b.cols=o.cols,b.opts=o.opts,a):this},lastIndexOf:vb.lastIndexOf||function(a,b){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(a){var b=[];if(vb.map)b=vb.map.call(this,a,this);else for(var c=0,d=this.length;d>c;c++)b.push(a.call(this,this[c],c));return new Wa(this.context,b)},pluck:function(a){return this.map(function(b){return b[a]})},pop:vb.pop,push:vb.push,reduce:vb.reduce||function(a,b){return k(this,a,b,0,this.length,1)},reduceRight:vb.reduceRight||function(a,b){return k(this,a,b,this.length-1,-1,-1)},reverse:vb.reverse,selector:null,shift:vb.shift,sort:vb.sort,splice:vb.splice,toArray:function(){return vb.slice.call(this)},to$:function(){return d(this)},toJQuery:function(){return d(this)},unique:function(){return new Wa(this.context,nb(this))},unshift:vb.unshift},Wa.extend=function(a,b,c){if(c.length&&b&&(b instanceof Wa||b.__dt_wrapper)){var e,f,g,h=function(a,b,c){return function(){var d=b.apply(a,arguments);return Wa.extend(d,d,c.methodExt),d}};for(e=0,f=c.length;f>e;e++)g=c[e],b[g.name]="function"==typeof g.val?h(a,g.val,g):d.isPlainObject(g.val)?{}:g.val,b[g.name].__dt_wrapper=!0,Wa.extend(a,b[g.name],g.propExt)}},Wa.register=Xa=function(a,b){if(d.isArray(a))for(var c=0,e=a.length;e>c;c++)Wa.register(a[c],b);else for(var f,g,h=a.split("."),i=ub,c=0,e=h.length;e>c;c++){f=(g=-1!==h[c].indexOf("()"))?h[c].replace("()",""):h[c];var j;a:{j=0;for(var k=i.length;k>j;j++)if(i[j].name===f){j=i[j];break a}j=null}j||(j={name:f,val:{},methodExt:[],propExt:[]},i.push(j)),c===e-1?j.val=b:i=g?j.methodExt:j.propExt}},Wa.registerPlural=Ya=function(a,b,e){Wa.register(a,e),Wa.register(b,function(){var a=e.apply(this,arguments);return a===this?this:a instanceof Wa?a.length?d.isArray(a[0])?new Wa(a.context,a[0]):a[0]:c:a})},Xa("tables()",function(a){var b;if(a){b=Wa;var c=this.context;if("number"==typeof a)a=[c[a]];else var e=d.map(c,function(a){return a.nTable}),a=d(e).filter(a).map(function(){var a=d.inArray(this,e);return c[a]}).toArray();b=new b(a)}else b=this;return b}),Xa("table()",function(a){var a=this.tables(a),b=a.context;return b.length?new Wa(b[0]):a}),Ya("tables().nodes()","table().node()",function(){return this.iterator("table",function(a){return a.nTable},1)}),Ya("tables().body()","table().body()",function(){return this.iterator("table",function(a){return a.nTBody},1)}),Ya("tables().header()","table().header()",function(){return this.iterator("table",function(a){return a.nTHead},1)}),Ya("tables().footer()","table().footer()",function(){return this.iterator("table",function(a){return a.nTFoot},1)}),Ya("tables().containers()","table().container()",function(){return this.iterator("table",function(a){return a.nTableWrapper},1)}),Xa("draw()",function(a){return this.iterator("table",function(b){L(b,!1===a)})}),Xa("page()",function(a){return a===c?this.page.info().page:this.iterator("table",function(b){ka(b,a)})}),Xa("page.info()",function(){if(0===this.context.length)return c;var a=this.context[0],b=a._iDisplayStart,d=a._iDisplayLength,e=a.fnRecordsDisplay(),f=-1===d;return{page:f?0:Math.floor(b/d),pages:f?1:Math.ceil(e/d),start:b,end:a.fnDisplayEnd(),length:d,recordsTotal:a.fnRecordsTotal(),recordsDisplay:e}}),Xa("page.len()",function(a){return a===c?0!==this.context.length?this.context[0]._iDisplayLength:c:this.iterator("table",function(b){ha(b,a)})});var xb=function(a,b,c){if("ssp"==Qa(a)?L(a,b):(ma(a,!0),P(a,[],function(c){C(a);for(var c=T(a,c),d=0,e=c.length;e>d;d++)u(a,c[d]);L(a,b),ma(a,!1)})),c){var d=new Wa(a);d.one("draw",function(){c(d.ajax.json())})}};Xa("ajax.json()",function(){var a=this.context;return 0<a.length?a[0].json:void 0}),Xa("ajax.params()",function(){var a=this.context;return 0<a.length?a[0].oAjaxData:void 0}),Xa("ajax.reload()",function(a,b){return this.iterator("table",function(c){xb(c,!1===b,a)})}),Xa("ajax.url()",function(a){var b=this.context;return a===c?0===b.length?c:(b=b[0],b.ajax?d.isPlainObject(b.ajax)?b.ajax.url:b.ajax:b.sAjaxSource):this.iterator("table",function(b){d.isPlainObject(b.ajax)?b.ajax.url=a:b.ajax=a})}),Xa("ajax.url().load()",function(a,b){return this.iterator("table",function(c){xb(c,!1===b,a)})});var yb=function(a,b){var e,f,g,h,i,j,k=[];for(e=typeof a,a&&"string"!==e&&"function"!==e&&a.length!==c||(a=[a]),g=0,h=a.length;h>g;g++)for(f=a[g]&&a[g].split?a[g].split(","):[a[g]],i=0,j=f.length;j>i;i++)(e=b("string"==typeof f[i]?d.trim(f[i]):f[i]))&&e.length&&k.push.apply(k,e);return k},zb=function(a){return a||(a={}),a.filter&&!a.search&&(a.search=a.filter),{search:a.search||"none",order:a.order||"current",page:a.page||"all"}},Ab=function(a){for(var b=0,c=a.length;c>b;b++)if(0<a[b].length)return a[0]=a[b],a.length=1,a.context=[a.context[b]],a;return a.length=0,a},Bb=function(a,b){var c,e,f,g=[],h=a.aiDisplay;c=a.aiDisplayMaster;var i=b.search;if(e=b.order,f=b.page,"ssp"==Qa(a))return"removed"===i?[]:lb(0,c.length);if("current"==f)for(c=a._iDisplayStart,e=a.fnDisplayEnd();e>c;c++)g.push(h[c]);else if("current"==e||"applied"==e)g="none"==i?c.slice():"applied"==i?h.slice():d.map(c,function(a){return-1===d.inArray(a,h)?a:null});else if("index"==e||"original"==e)for(c=0,e=a.aoData.length;e>c;c++)"none"==i?g.push(c):(f=d.inArray(c,h),(-1===f&&"removed"==i||f>=0&&"applied"==i)&&g.push(c));return g};Xa("rows()",function(a,b){a===c?a="":d.isPlainObject(a)&&(b=a,a="");var b=zb(b),e=this.iterator("table",function(c){var e=b;return yb(a,function(a){var b=fb(a);if(null!==b&&!e)return[b];var f=Bb(c,e);return null!==b&&-1!==d.inArray(b,f)?[b]:a?"function"==typeof a?d.map(f,function(b){var d=c.aoData[b];return a(b,d._aData,d.nTr)?b:null}):(b=mb(kb(c.aoData,f,"nTr")),a.nodeName&&-1!==d.inArray(a,b)?[a._DT_RowIndex]:d(b).filter(a).map(function(){return this._DT_RowIndex}).toArray()):f})},1);return e.selector.rows=a,e.selector.opts=b,e}),Xa("rows().nodes()",function(){return this.iterator("row",function(a,b){return a.aoData[b].nTr||c},1)}),Xa("rows().data()",function(){return this.iterator(!0,"rows",function(a,b){return kb(a.aoData,b,"_aData")},1)}),Ya("rows().cache()","row().cache()",function(a){return this.iterator("row",function(b,c){var d=b.aoData[c];return"search"===a?d._aFilterData:d._aSortData},1)}),Ya("rows().invalidate()","row().invalidate()",function(a){return this.iterator("row",function(b,c){E(b,c,a)})}),Ya("rows().indexes()","row().index()",function(){return this.iterator("row",function(a,b){return b},1)}),Ya("rows().remove()","row().remove()",function(){var a=this;return this.iterator("row",function(b,c,e){var f=b.aoData;f.splice(c,1);for(var g=0,h=f.length;h>g;g++)null!==f[g].nTr&&(f[g].nTr._DT_RowIndex=g);d.inArray(c,b.aiDisplay),D(b.aiDisplayMaster,c),D(b.aiDisplay,c),D(a[e],c,!1),Oa(b)})}),Xa("rows.add()",function(a){var b=this.iterator("table",function(b){var c,d,e,f=[];for(d=0,e=a.length;e>d;d++)c=a[d],c.nodeName&&"TR"===c.nodeName.toUpperCase()?f.push(v(b,c)[0]):f.push(u(b,c));return f},1),c=this.rows(-1);return c.pop(),c.push.apply(c,b.toArray()),c}),Xa("row()",function(a,b){return Ab(this.rows(a,b))}),Xa("row().data()",function(a){var b=this.context;return a===c?b.length&&this.length?b[0].aoData[this[0]]._aData:c:(b[0].aoData[this[0]]._aData=a,E(b[0],this[0],"data"),this)}),Xa("row().node()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]].nTr||null:null}),Xa("row.add()",function(a){a instanceof d&&a.length&&(a=a[0]);var b=this.iterator("table",function(b){return a.nodeName&&"TR"===a.nodeName.toUpperCase()?v(b,a)[0]:u(b,a)});return this.row(b[0])});var Cb=function(a,b){var d=a.context;d.length&&(d=d[0].aoData[b!==c?b:a[0]],d._details&&(d._details.remove(),d._detailsShow=c,d._details=c))},Db=function(a,b){var c=a.context;if(c.length&&a.length){var d=c[0].aoData[a[0]];if(d._details){(d._detailsShow=b)?d._details.insertAfter(d.nTr):d._details.detach();var e=c[0],f=new Wa(e),g=e.aoData;f.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<jb(g,"_details").length&&(f.on("draw.dt.DT_details",function(a,b){e===b&&f.rows({page:"current"}).eq(0).each(function(a){a=g[a],a._detailsShow&&a._details.insertAfter(a.nTr)})}),f.on("column-visibility.dt.DT_details",function(a,b){if(e===b)for(var c,d=q(b),f=0,h=g.length;h>f;f++)c=g[f],c._details&&c._details.children("td[colspan]").attr("colspan",d)}),f.on("destroy.dt.DT_details",function(a,b){if(e===b)for(var c=0,d=g.length;d>c;c++)g[c]._details&&Cb(f,c)}))}}};Xa("row().child()",function(a,b){var e=this.context;if(a===c)return e.length&&this.length?e[0].aoData[this[0]]._details:c;if(!0===a)this.child.show();else if(!1===a)Cb(this);else if(e.length&&this.length){var f=e[0],e=e[0].aoData[this[0]],g=[],h=function(a,b){if(a.nodeName&&"tr"===a.nodeName.toLowerCase())g.push(a);else{var c=d("<tr><td/></tr>").addClass(b);d("td",c).addClass(b).html(a)[0].colSpan=q(f),g.push(c[0])}};if(d.isArray(a)||a instanceof d)for(var i=0,j=a.length;j>i;i++)h(a[i],b);else h(a,b);e._details&&e._details.remove(),e._details=d(g),e._detailsShow&&e._details.insertAfter(e.nTr)}return this}),Xa(["row().child.show()","row().child().show()"],function(){return Db(this,!0),this}),Xa(["row().child.hide()","row().child().hide()"],function(){return Db(this,!1),this}),Xa(["row().child.remove()","row().child().remove()"],function(){return Cb(this),this}),Xa("row().child.isShown()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]]._detailsShow||!1:!1});var Eb=/^(.+):(name|visIdx|visible)$/,Fb=function(a,b,c,d,e){for(var c=[],d=0,f=e.length;f>d;d++)c.push(w(a,e[d],b));return c};Xa("columns()",function(a,b){a===c?a="":d.isPlainObject(a)&&(b=a,a="");var b=zb(b),e=this.iterator("table",function(c){var e=a,f=b,g=c.aoColumns,h=jb(g,"sName"),i=jb(g,"nTh");return yb(e,function(a){var b=fb(a);if(""===a)return lb(g.length);if(null!==b)return[b>=0?b:g.length+b];if("function"==typeof a){var e=Bb(c,f);return d.map(g,function(b,d){return a(d,Fb(c,d,0,0,e),i[d])?d:null})}var j="string"==typeof a?a.match(Eb):"";if(!j)return d(i).filter(a).map(function(){return d.inArray(this,i)}).toArray();switch(j[2]){case"visIdx":case"visible":if(b=parseInt(j[1],10),0>b){var k=d.map(g,function(a,b){return a.bVisible?b:null});return[k[k.length+b]]}return[o(c,b)];case"name":return d.map(h,function(a,b){return a===j[1]?b:null})}})},1);return e.selector.cols=a,e.selector.opts=b,e}),Ya("columns().header()","column().header()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTh},1)}),Ya("columns().footer()","column().footer()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTf},1)}),Ya("columns().data()","column().data()",function(){return this.iterator("column-rows",Fb,1)}),Ya("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].mData},1)}),Ya("columns().cache()","column().cache()",function(a){return this.iterator("column-rows",function(b,c,d,e,f){return kb(b.aoData,f,"search"===a?"_aFilterData":"_aSortData",c)},1)}),Ya("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(a,b,c,d,e){return kb(a.aoData,e,"anCells",b)},1)}),Ya("columns().visible()","column().visible()",function(a,b){return this.iterator("column",function(e,f){if(a===c)return e.aoColumns[f].bVisible;var g,h,i,j=e.aoColumns,k=j[f],l=e.aoData;if(a!==c&&k.bVisible!==a){if(a){var m=d.inArray(!0,jb(j,"bVisible"),f+1);for(g=0,h=l.length;h>g;g++)i=l[g].nTr,j=l[g].anCells,i&&i.insertBefore(j[f],j[m]||null)}else d(jb(e.aoData,"anCells",f)).detach();k.bVisible=a,J(e,e.aoHeader),J(e,e.aoFooter),(b===c||b)&&(n(e),(e.oScroll.sX||e.oScroll.sY)&&oa(e)),Na(e,null,"column-visibility",[e,f,a]),Fa(e)}})}),Ya("columns().indexes()","column().index()",function(a){return this.iterator("column",function(b,c){return"visible"===a?p(b,c):c},1)}),Xa("columns.adjust()",function(){return this.iterator("table",function(a){n(a)},1)}),Xa("column.index()",function(a,b){if(0!==this.context.length){var c=this.context[0];if("fromVisible"===a||"toData"===a)return o(c,b);if("fromData"===a||"toVisible"===a)return p(c,b)}}),Xa("column()",function(a,b){return Ab(this.columns(a,b))}),Xa("cells()",function(a,b,e){if(d.isPlainObject(a)&&(typeof a.row!==c?(e=b,b=null):(e=a,a=null)),d.isPlainObject(b)&&(e=b,b=null),null===b||b===c)return this.iterator("table",function(b){var f,g,h,i,j,k,l,m=a,n=zb(e),o=b.aoData,p=Bb(b,n),n=mb(kb(o,p,"anCells")),q=d([].concat.apply([],n)),r=b.aoColumns.length;return yb(m,function(a){var e="function"==typeof a;if(null===a||a===c||e){for(g=[],h=0,i=p.length;i>h;h++)for(f=p[h],j=0;r>j;j++)k={row:f,column:j},e?(l=b.aoData[f],a(k,w(b,f,j),l.anCells[j])&&g.push(k)):g.push(k);return g}return d.isPlainObject(a)?[a]:q.filter(a).map(function(a,b){return f=b.parentNode._DT_RowIndex,{row:f,column:d.inArray(b,o[f].anCells)}}).toArray()})});var f,g,h,i,j,k=this.columns(b,e),l=this.rows(a,e),m=this.iterator("table",function(a,b){for(f=[],g=0,h=l[b].length;h>g;g++)for(i=0,j=k[b].length;j>i;i++)f.push({row:l[b][g],column:k[b][i]});return f},1);return d.extend(m.selector,{cols:b,rows:a,opts:e}),m}),Ya("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(a,b,d){return(a=a.aoData[b].anCells)?a[d]:c},1)}),Xa("cells().data()",function(){return this.iterator("cell",function(a,b,c){return w(a,b,c)},1)}),Ya("cells().cache()","cell().cache()",function(a){return a="search"===a?"_aFilterData":"_aSortData",this.iterator("cell",function(b,c,d){return b.aoData[c][a][d]},1)}),Ya("cells().render()","cell().render()",function(a){return this.iterator("cell",function(b,c,d){return w(b,c,d,a)},1)}),Ya("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(a,b,c){return{row:b,column:c,columnVisible:p(a,c)}},1)}),Ya("cells().invalidate()","cell().invalidate()",function(a){return this.iterator("cell",function(b,c,d){E(b,c,a,d)})}),Xa("cell()",function(a,b,c){return Ab(this.cells(a,b,c))}),Xa("cell().data()",function(a){var b=this.context,d=this[0];return a===c?b.length&&d.length?w(b[0],d[0].row,d[0].column):c:(x(b[0],d[0].row,d[0].column,a),E(b[0],d[0].row,"data",d[0].column),this)}),Xa("order()",function(a,b){var e=this.context;return a===c?0!==e.length?e[0].aaSorting:c:("number"==typeof a?a=[[a,b]]:d.isArray(a[0])||(a=Array.prototype.slice.call(arguments)),this.iterator("table",function(b){b.aaSorting=a.slice()}))}),Xa("order.listener()",function(a,b,c){return this.iterator("table",function(d){Ca(d,a,b,c)})}),Xa(["columns().order()","column().order()"],function(a){var b=this;return this.iterator("table",function(c,e){var f=[];d.each(b[e],function(b,c){f.push([c,a])}),c.aaSorting=f})}),Xa("search()",function(a,b,e,f){var g=this.context;return a===c?0!==g.length?g[0].oPreviousSearch.sSearch:c:this.iterator("table",function(c){c.oFeatures.bFilter&&V(c,d.extend({},c.oPreviousSearch,{sSearch:a+"",bRegex:null===b?!1:b,bSmart:null===e?!0:e,bCaseInsensitive:null===f?!0:f}),1)})}),Ya("columns().search()","column().search()",function(a,b,e,f){return this.iterator("column",function(g,h){var i=g.aoPreSearchCols;return a===c?i[h].sSearch:void(g.oFeatures.bFilter&&(d.extend(i[h],{sSearch:a+"",bRegex:null===b?!1:b,bSmart:null===e?!0:e,bCaseInsensitive:null===f?!0:f}),V(g,g.oPreviousSearch,1)))})}),Xa("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Xa("state.clear()",function(){return this.iterator("table",function(a){a.fnStateSaveCallback.call(a.oInstance,a,{})})}),Xa("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Xa("state.save()",function(){return this.iterator("table",function(a){Fa(a)})}),Ua.versionCheck=Ua.fnVersionCheck=function(a){for(var b,c,d=Ua.version.split("."),a=a.split("."),e=0,f=a.length;f>e;e++)if(b=parseInt(d[e],10)||0,c=parseInt(a[e],10)||0,b!==c)return b>c;return!0},Ua.isDataTable=Ua.fnIsDataTable=function(a){var b=d(a).get(0),c=!1;return d.each(Ua.settings,function(a,e){(e.nTable===b||d("table",e.nScrollHead)[0]===b||d("table",e.nScrollFoot)[0]===b)&&(c=!0)}),c},Ua.tables=Ua.fnTables=function(a){return d.map(Ua.settings,function(b){return!a||a&&d(b.nTable).is(":visible")?b.nTable:void 0})},Ua.util={throttle:ra,escapeRegex:$},Ua.camelToHungarian=f,Xa("$()",function(a,b){var c=this.rows(b).nodes(),c=d(c);return d([].concat(c.filter(a).toArray(),c.find(a).toArray()))}),d.each(["on","one","off"],function(a,b){Xa(b+"()",function(){var a=Array.prototype.slice.call(arguments);a[0].match(/\.dt\b/)||(a[0]+=".dt");var c=d(this.tables().nodes());return c[b].apply(c,a),this})}),Xa("clear()",function(){return this.iterator("table",function(a){C(a)})}),Xa("settings()",function(){return new Wa(this.context,this.context)}),Xa("data()",function(){return this.iterator("table",function(a){return jb(a.aoData,"_aData")}).flatten()}),Xa("destroy()",function(b){return b=b||!1,this.iterator("table",function(c){var e,f=c.nTableWrapper.parentNode,g=c.oClasses,h=c.nTable,i=c.nTBody,j=c.nTHead,k=c.nTFoot,l=d(h),i=d(i),m=d(c.nTableWrapper),n=d.map(c.aoData,function(a){return a.nTr});c.bDestroying=!0,Na(c,"aoDestroyCallback","destroy",[c]),b||new Wa(c).columns().visible(!0),m.unbind(".DT").find(":not(tbody *)").unbind(".DT"),d(a).unbind(".DT-"+c.sInstance),h!=j.parentNode&&(l.children("thead").detach(),l.append(j)),k&&h!=k.parentNode&&(l.children("tfoot").detach(),l.append(k)),l.detach(),m.detach(),c.aaSorting=[],c.aaSortingFixed=[],Da(c),d(n).removeClass(c.asStripeClasses.join(" ")),d("th, td",j).removeClass(g.sSortable+" "+g.sSortableAsc+" "+g.sSortableDesc+" "+g.sSortableNone),c.bJUI&&(d("th span."+g.sSortIcon+", td span."+g.sSortIcon,j).detach(),d("th, td",j).each(function(){var a=d("div."+g.sSortJUIWrapper,this);d(this).append(a.contents()),a.detach()})),!b&&f&&f.insertBefore(h,c.nTableReinsertBefore),i.children().detach(),i.append(n),l.css("width",c.sDestroyWidth).removeClass(g.sTable),(e=c.asDestroyStripes.length)&&i.children().each(function(a){d(this).addClass(c.asDestroyStripes[a%e])}),f=d.inArray(c,Ua.settings),-1!==f&&Ua.settings.splice(f,1)})}),Ua.version="1.10.5",Ua.settings=[],Ua.models={},Ua.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Ua.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null},Ua.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Ua.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(a){try{return JSON.parse((-1===a.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+a.sInstance+"_"+location.pathname))}catch(b){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(a,b){try{(-1===a.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+a.sInstance+"_"+location.pathname,JSON.stringify(b))}catch(c){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:d.extend({},Ua.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null},e(Ua.defaults),Ua.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},e(Ua.defaults.column),Ua.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:c,oAjaxData:c,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Qa(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Qa(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var a=this._iDisplayLength,b=this._iDisplayStart,c=b+a,d=this.aiDisplay.length,e=this.oFeatures,f=e.bPaginate;return e.bServerSide?!1===f||-1===a?b+d:Math.min(b+a,this._iRecordsDisplay):!f||c>d||-1===a?d:c;
},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}},Ua.ext=Va={buttons:{},classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ua.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ua.version},d.extend(Va,{afnFiltering:Va.search,aTypes:Va.type.detect,ofnSearch:Va.type.search,oSort:Va.type.order,afnSortData:Va.order,aoFeatures:Va.feature,oApi:Va.internal,oStdClasses:Va.classes,oPagination:Va.pager}),d.extend(Ua.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Gb="",Gb="",Hb=Gb+"ui-state-default",Ib=Gb+"css_right ui-icon ui-icon-",Jb=Gb+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";d.extend(Ua.ext.oJUIClasses,Ua.ext.classes,{sPageButton:"fg-button ui-button "+Hb,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:Hb+" sorting_asc",sSortDesc:Hb+" sorting_desc",sSortable:Hb+" sorting",sSortableAsc:Hb+" sorting_asc_disabled",sSortableDesc:Hb+" sorting_desc_disabled",sSortableNone:Hb+" sorting_disabled",sSortJUIAsc:Ib+"triangle-1-n",sSortJUIDesc:Ib+"triangle-1-s",sSortJUI:Ib+"carat-2-n-s",sSortJUIAscAllowed:Ib+"carat-1-n",sSortJUIDescAllowed:Ib+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+Hb,sScrollFoot:"dataTables_scrollFoot "+Hb,sHeaderTH:Hb,sFooterTH:Hb,sJUIHeader:Jb+" ui-corner-tl ui-corner-tr",sJUIFooter:Jb+" ui-corner-bl ui-corner-br"});var Kb=Ua.ext.pager;d.extend(Kb,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},simple_numbers:function(a,b){return["previous",Ra(a,b),"next"]},full_numbers:function(a,b){return["first","previous",Ra(a,b),"next","last"]},_numbers:Ra,numbers_length:7}),d.extend(!0,Ua.ext.renderer,{pageButton:{_:function(a,c,e,f,g,h){var i,j,k,l=a.oClasses,m=a.oLanguage.oPaginate,n=0,o=function(b,c){var f,k,p,q,r=function(b){ka(a,b.data.action,!0)};for(f=0,k=c.length;k>f;f++)if(q=c[f],d.isArray(q))p=d("<"+(q.DT_el||"div")+"/>").appendTo(b),o(p,q);else{switch(j=i="",q){case"ellipsis":b.append("<span>&hellip;</span>");break;case"first":i=m.sFirst,j=q+(g>0?"":" "+l.sPageButtonDisabled);break;case"previous":i=m.sPrevious,j=q+(g>0?"":" "+l.sPageButtonDisabled);break;case"next":i=m.sNext,j=q+(h-1>g?"":" "+l.sPageButtonDisabled);break;case"last":i=m.sLast,j=q+(h-1>g?"":" "+l.sPageButtonDisabled);break;default:i=q+1,j=g===q?l.sPageButtonActive:""}i&&(p=d("<a>",{"class":l.sPageButton+" "+j,"aria-controls":a.sTableId,"data-dt-idx":n,tabindex:a.iTabIndex,id:0===e&&"string"==typeof q?a.sTableId+"_"+q:null}).html(i).appendTo(b),La(p,{action:q},r),n++)}};try{k=d(b.activeElement).data("dt-idx")}catch(p){}o(d(c).empty(),f),k&&d(c).find("[data-dt-idx="+k+"]").focus()}}}),d.extend(Ua.ext.type.detect,[function(a,b){var c=b.oLanguage.sDecimal;return hb(a,c)?"num"+c:null},function(a){if(a&&!(a instanceof Date)&&(!ab.test(a)||!bb.test(a)))return null;var b=Date.parse(a);return null!==b&&!isNaN(b)||eb(a)?"date":null},function(a,b){var c=b.oLanguage.sDecimal;return hb(a,c,!0)?"num-fmt"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return ib(a,c)?"html-num"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return ib(a,c,!0)?"html-num-fmt"+c:null},function(a){return eb(a)||"string"==typeof a&&-1!==a.indexOf("<")?"html":null}]),d.extend(Ua.ext.type.search,{html:function(a){return eb(a)?a:"string"==typeof a?a.replace($a," ").replace(_a,""):""},string:function(a){return eb(a)?a:"string"==typeof a?a.replace($a," "):a}});var Lb=function(a,b,c,d){return 0===a||a&&"-"!==a?(b&&(a=gb(a,b)),a.replace&&(c&&(a=a.replace(c,"")),d&&(a=a.replace(d,""))),1*a):-(1/0)};return d.extend(Va.type.order,{"date-pre":function(a){return Date.parse(a)||0},"html-pre":function(a){return eb(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return eb(a)?"":"string"==typeof a?a.toLowerCase():a.toString?a.toString():""},"string-asc":function(a,b){return b>a?-1:a>b?1:0},"string-desc":function(a,b){return b>a?1:a>b?-1:0}}),Sa(""),d.extend(!0,Ua.ext.renderer,{header:{_:function(a,b,c,e){d(a.nTable).on("order.dt.DT",function(d,f,g,h){a===f&&(d=c.idx,b.removeClass(c.sSortingClass+" "+e.sSortAsc+" "+e.sSortDesc).addClass("asc"==h[d]?e.sSortAsc:"desc"==h[d]?e.sSortDesc:c.sSortingClass))})},jqueryui:function(a,b,c,e){d("<div/>").addClass(e.sSortJUIWrapper).append(b.contents()).append(d("<span/>").addClass(e.sSortIcon+" "+c.sSortingClassJUI)).appendTo(b),d(a.nTable).on("order.dt.DT",function(d,f,g,h){a===f&&(d=c.idx,b.removeClass(e.sSortAsc+" "+e.sSortDesc).addClass("asc"==h[d]?e.sSortAsc:"desc"==h[d]?e.sSortDesc:c.sSortingClass),b.find("span."+e.sSortIcon).removeClass(e.sSortJUIAsc+" "+e.sSortJUIDesc+" "+e.sSortJUI+" "+e.sSortJUIAscAllowed+" "+e.sSortJUIDescAllowed).addClass("asc"==h[d]?e.sSortJUIAsc:"desc"==h[d]?e.sSortJUIDesc:c.sSortingClassJUI))})}}}),Ua.render={number:function(a,b,c,d){return{display:function(e){var f=0>e?"-":"",e=Math.abs(parseFloat(e)),g=parseInt(e,10),e=c?b+(e-g).toFixed(c).substring(2):"";return f+(d||"")+g.toString().replace(/\B(?=(\d{3})+(?!\d))/g,a)+e}}}},d.extend(Ua.ext.internal,{_fnExternApiFunc:Ta,_fnBuildAjax:P,_fnAjaxUpdate:Q,_fnAjaxParameters:R,_fnAjaxUpdateDraw:S,_fnAjaxDataSrc:T,_fnAddColumn:l,_fnColumnOptions:m,_fnAdjustColumnSizing:n,_fnVisibleToColumnIndex:o,_fnColumnIndexToVisible:p,_fnVisbleColumns:q,_fnGetColumns:r,_fnColumnTypes:s,_fnApplyColumnDefs:t,_fnHungarianMap:e,_fnCamelToHungarian:f,_fnLanguageCompat:g,_fnBrowserDetect:j,_fnAddData:u,_fnAddTr:v,_fnNodeToDataIndex:function(a,b){return b._DT_RowIndex!==c?b._DT_RowIndex:null},_fnNodeToColumnIndex:function(a,b,c){return d.inArray(c,a.aoData[b].anCells)},_fnGetCellData:w,_fnSetCellData:x,_fnSplitObjNotation:y,_fnGetObjectDataFn:z,_fnSetObjectDataFn:A,_fnGetDataMaster:B,_fnClearTable:C,_fnDeleteIndex:D,_fnInvalidate:E,_fnGetRowElements:F,_fnCreateTr:G,_fnBuildHead:I,_fnDrawHead:J,_fnDraw:K,_fnReDraw:L,_fnAddOptionsHtml:M,_fnDetectHeader:N,_fnGetUniqueThs:O,_fnFeatureHtmlFilter:U,_fnFilterComplete:V,_fnFilterCustom:W,_fnFilterColumn:X,_fnFilter:Y,_fnFilterCreateSearch:Z,_fnEscapeRegex:$,_fnFilterData:_,_fnFeatureHtmlInfo:ca,_fnUpdateInfo:da,_fnInfoMacros:ea,_fnInitialise:fa,_fnInitComplete:ga,_fnLengthChange:ha,_fnFeatureHtmlLength:ia,_fnFeatureHtmlPaginate:ja,_fnPageChange:ka,_fnFeatureHtmlProcessing:la,_fnProcessingDisplay:ma,_fnFeatureHtmlTable:na,_fnScrollDraw:oa,_fnApplyToChildren:pa,_fnCalculateColumnWidths:qa,_fnThrottle:ra,_fnConvertToWidth:sa,_fnScrollingWidthAdjust:ta,_fnGetWidestNode:ua,_fnGetMaxLenString:va,_fnStringToCss:wa,_fnScrollBarWidth:xa,_fnSortFlatten:ya,_fnSort:za,_fnSortAria:Aa,_fnSortListener:Ba,_fnSortAttachListener:Ca,_fnSortingClasses:Da,_fnSortData:Ea,_fnSaveState:Fa,_fnLoadState:Ga,_fnSettingsFromNode:Ha,_fnLog:Ia,_fnMap:Ja,_fnBindAction:La,_fnCallbackReg:Ma,_fnCallbackFire:Na,_fnLengthOverflow:Oa,_fnRenderer:Pa,_fnDataSource:Qa,_fnRowAttributes:H,_fnCalculateEnd:function(){}}),d.fn.dataTable=Ua,d.fn.dataTableSettings=Ua.settings,d.fn.dataTableExt=Ua.ext,d.fn.DataTable=function(a){return d(this).dataTable(a).api()},d.each(Ua,function(a,b){d.fn.DataTable[a]=b}),d.fn.dataTable};"function"==typeof define&&define.amd?define("datatables",["jquery"],d):"object"==typeof exports?module.exports=d(require("jquery")):jQuery&&!jQuery.fn.dataTable&&d(jQuery)}(window,document),$.extend(!0,$.fn.dataTable.defaults,{sDom:"<'row'<'col-xs-6'l><'col-xs-6'f>r>t<'row'<'col-xs-6'i><'col-xs-6'p>>",oLanguage:{sLengthMenu:"_MENU_ records per page"}}),$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"}),$.fn.dataTable.Api?($.fn.dataTable.defaults.renderer="bootstrap",$.fn.dataTable.ext.renderer.pageButton.bootstrap=function(a,b,c,d,e,f){var g,h,i=new $.fn.dataTable.Api(a),j=a.oClasses,k=a.oLanguage.oPaginate,l=function(b,d){var m,n,o,p,q=function(a){a.preventDefault(),"ellipsis"!==a.data.action&&i.page(a.data.action).draw(!1)};for(m=0,n=d.length;n>m;m++)if(p=d[m],$.isArray(p))l(b,p);else{switch(g="",h="",p){case"ellipsis":g="&hellip;",h="disabled";break;case"first":g=k.sFirst,h=p+(e>0?"":" disabled");break;case"previous":g=k.sPrevious,h=p+(e>0?"":" disabled");break;case"next":g=k.sNext,h=p+(f-1>e?"":" disabled");break;case"last":g=k.sLast,h=p+(f-1>e?"":" disabled");break;default:g=p+1,h=e===p?"active":""}g&&(o=$("<li>",{"class":j.sPageButton+" "+h,"aria-controls":a.sTableId,tabindex:a.iTabIndex,id:0===c&&"string"==typeof p?a.sTableId+"_"+p:null}).append($("<a>",{href:"#"}).html(g)).appendTo(b),a.oApi._fnBindAction(o,{action:p},q))}};l($(b).empty().html('<ul class="pagination"/>').children("ul"),d)}):($.fn.dataTable.defaults.sPaginationType="bootstrap",$.fn.dataTableExt.oApi.fnPagingInfo=function(a){return{iStart:a._iDisplayStart,iEnd:a.fnDisplayEnd(),iLength:a._iDisplayLength,iTotal:a.fnRecordsTotal(),iFilteredTotal:a.fnRecordsDisplay(),iPage:-1===a._iDisplayLength?0:Math.ceil(a._iDisplayStart/a._iDisplayLength),iTotalPages:-1===a._iDisplayLength?0:Math.ceil(a.fnRecordsDisplay()/a._iDisplayLength)}},$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(a,b,c){var d=a.oLanguage.oPaginate,e=function(b){b.preventDefault(),a.oApi._fnPageChange(a,b.data.action)&&c(a)};$(b).append('<ul class="pagination"><li class="prev disabled"><a href="#">&larr; '+d.sPrevious+'</a></li><li class="next disabled"><a href="#">'+d.sNext+" &rarr; </a></li></ul>");var f=$("a",b);$(f[0]).bind("click.DT",{action:"previous"},e),$(f[1]).bind("click.DT",{action:"next"},e)},fnUpdate:function(a,b){var c,d,e,f,g,h,i=5,j=a.oInstance.fnPagingInfo(),k=a.aanFeatures.p,l=Math.floor(i/2);for(j.iTotalPages<i?(g=1,h=j.iTotalPages):j.iPage<=l?(g=1,h=i):j.iPage>=j.iTotalPages-l?(g=j.iTotalPages-i+1,h=j.iTotalPages):(g=j.iPage-l+1,h=g+i-1),c=0,d=k.length;d>c;c++){for($("li:gt(0)",k[c]).filter(":not(:last)").remove(),e=g;h>=e;e++)f=e==j.iPage+1?'class="active"':"",$("<li "+f+'><a href="#">'+e+"</a></li>").insertBefore($("li:last",k[c])[0]).bind("click",function(c){c.preventDefault(),a._iDisplayStart=(parseInt($("a",this).text(),10)-1)*j.iLength,b(a)});0===j.iPage?$("li:first",k[c]).addClass("disabled"):$("li:first",k[c]).removeClass("disabled"),j.iPage===j.iTotalPages-1||0===j.iTotalPages?$("li:last",k[c]).addClass("disabled"):$("li:last",k[c]).removeClass("disabled")}}}})),$.fn.DataTable.TableTools&&($.extend(!0,$.fn.DataTable.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info modal"},select:{row:"active"}}),$.extend(!0,$.fn.DataTable.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}})),function(a){"use strict";a.fn.mapael=function(b){return b=a.extend(!0,{},a.fn.mapael.defaultOptions,b),this.each(function(){var c=a(this),d=a("<div>").addClass(b.map.tooltip.cssClass).css("display","none"),e=a("."+b.map.cssClass,this).empty().append(d),f=a.fn.mapael.maps[b.map.name],g=new Raphael(e[0],f.width,f.height),h={},i=0,j={},k={},l={},m={},n=0;b.map.tooltip.css&&d.css(b.map.tooltip.css),g.setViewBox(0,0,f.width,f.height,!1);for(n in f.elems)h=a.fn.mapael.getElemOptions(b.map.defaultArea,b.areas[n]?b.areas[n]:{},b.legend.area),j[n]={mapElem:g.path(f.elems[n]).attr(h.attrs)};for(n in f.elems)h=a.fn.mapael.getElemOptions(b.map.defaultArea,b.areas[n]?b.areas[n]:{},b.legend.area),a.fn.mapael.initElem(g,j[n],h,d,n);for(n in b.plots)k[n]=a.fn.mapael.drawPlot(n,b,f,g,d);if(b.map.zoom.enabled&&a.fn.mapael.initZoom(e,g,f.width,f.height,b.map.zoom),b.legend.area.slices&&b.legend.area.display&&(l=a.fn.mapael.createLegend(c,b,"area",j,1)),c.on("update",function(e,h,i,n,o){var p=0,q=0,r=0,s={},t=function(b){"undefined"!=typeof b.hidden&&1==b.hidden&&a(b.node).trigger("click")};if(l.forEach&&l.forEach(t),m.forEach&&m.forEach(t),"undefined"!=typeof o&&(o.resetAreas&&(b.areas={}),o.resetPlots&&(b.plots={}),o.animDuration&&(r=o.animDuration)),a.extend(!0,b,h),"object"==typeof n)for(;p<n.length;p++)"undefined"!=typeof k[n[p]]&&(r>0?!function(a){a.mapElem.animate({opacity:0},r,"linear",function(){a.mapElem.remove()}),a.textElem&&a.textElem.animate({opacity:0},r,"linear",function(){a.textElem.remove()})}(k[n[p]]):(k[n[p]].mapElem.remove(),k[n[p]].textElem&&k[n[p]].textElem.remove()),delete k[n[p]]);if("object"==typeof i)for(q in i)"undefined"==typeof k[q]&&(b.plots[q]=i[q],k[q]=a.fn.mapael.drawPlot(q,b,f,g,d),r>0&&(k[q].mapElem.attr({opacity:0}),k[q].textElem.attr({opacity:0}),k[q].mapElem.animate({opacity:"undefined"!=typeof k[q].mapElem.originalAttrs.opacity?k[q].mapElem.originalAttrs.opacity:1},r),k[q].textElem.animate({opacity:"undefined"!=typeof k[q].textElem.originalAttrs.opacity?k[q].textElem.originalAttrs.opacity:1},r)));for(q in j)s=a.fn.mapael.getElemOptions(b.map.defaultArea,b.areas[q]?b.areas[q]:{},b.legend.area),a.fn.mapael.updateElem(s,j[q],d,r);for(q in k)s=a.fn.mapael.getElemOptions(b.map.defaultPlot,b.plots[q]?b.plots[q]:{},b.legend.plot),"square"==s.type?(s.attrs.width=s.size,s.attrs.height=s.size,s.attrs.x=k[q].mapElem.attrs.x-(s.size-k[q].mapElem.attrs.width)/2,s.attrs.y=k[q].mapElem.attrs.y-(s.size-k[q].mapElem.attrs.height)/2):s.attrs.r=s.size/2,a.fn.mapael.updateElem(s,k[q],d,r);o.afterUpdate&&o.afterUpdate(c,g,j,k,b)}),b.map.width)g.setSize(b.map.width,f.height*(b.map.width/f.width)),b.legend.plot.slices&&b.legend.plot.display&&(m=a.fn.mapael.createLegend(c,b,"plot",k,b.map.width/f.width));else{a(window).on("resize",function(){clearTimeout(i),i=setTimeout(function(){e.trigger("resizeEnd")},150)});var o=function(){b.legend.plot.slices&&b.legend.plot.display&&(m=a.fn.mapael.createLegend(c,b,"plot",k,e.width()/f.width)),e.unbind("resizeEnd",o)};e.on("resizeEnd",function(){var a=e.width();g.width!=a&&g.setSize(a,f.height*(a/f.width))}).on("resizeEnd",o).trigger("resizeEnd")}b.map.afterInit&&b.map.afterInit(c,g,j,k,b),a(g.desc).append(" and Mapael (http://neveldo.fr/mapael)")})},a.fn.mapael.initElem=function(b,c,d,e,f){var g={},h={};a.fn.mapael.setHoverOptions(c.mapElem,d.attrs,d.attrsHover),d.text&&"undefined"!=typeof d.text.content?(g=c.mapElem.getBBox(),h=a.fn.mapael.getTextPosition(g,d.text.position,d.text.margin),d.text.attrs["text-anchor"]=h.textAnchor,c.textElem=b.text(h.x,h.y,d.text.content).attr(d.text.attrs),a.fn.mapael.setHoverOptions(c.textElem,d.text.attrs,d.text.attrsHover),a.fn.mapael.setHover(b,c.mapElem,c.textElem),d.eventHandlers&&a.fn.mapael.setEventHandlers(f,d,c.mapElem,c.textElem),a(c.textElem.node).attr("data-id",f)):(a.fn.mapael.setHover(b,c.mapElem),d.eventHandlers&&a.fn.mapael.setEventHandlers(f,d,c.mapElem)),d.tooltip&&d.tooltip.content&&(c.mapElem.tooltipContent=d.tooltip.content,a.fn.mapael.setTooltip(c.mapElem,e),d.text&&"undefined"!=typeof d.text.content&&(c.textElem.tooltipContent=d.tooltip.content,a.fn.mapael.setTooltip(c.textElem,e))),d.href&&(c.mapElem.href=d.href,a.fn.mapael.setHref(c.mapElem),d.text&&"undefined"!=typeof d.text.content&&(c.textElem.href=d.href,a.fn.mapael.setHref(c.textElem))),"undefined"!=typeof d.value&&(c.value=d.value),a(c.mapElem.node).attr("data-id",f)},a.fn.mapael.updateElem=function(b,c,d,e){var f,g,h;"undefined"!=typeof b.value&&(c.value=b.value),c.textElem&&("undefined"!=typeof b.text&&"undefined"!=typeof b.text.content&&b.text.content!=c.textElem.attrs.text&&c.textElem.attr({text:b.text.content}),f=c.mapElem.getBBox(),b.size&&(h=(b.size-f.height)/2,f.x-=h,f.x2+=h,f.y-=h,f.y2+=h),g=a.fn.mapael.getTextPosition(f,b.text.position,b.text.margin),(g.x!=c.textElem.attrs.x||g.y!=c.textElem.attrs.y)&&(e>0?(c.textElem.attr({"text-anchor":g.textAnchor}),c.textElem.animate({x:g.x,y:g.y},e)):c.textElem.attr({x:g.x,y:g.y,"text-anchor":g.textAnchor})),a.fn.mapael.setHoverOptions(c.textElem,b.text.attrs,b.text.attrsHover),e>0?c.textElem.animate(b.text.attrs,e):c.textElem.attr(b.text.attrs)),a.fn.mapael.setHoverOptions(c.mapElem,b.attrs,b.attrsHover),e>0?c.mapElem.animate(b.attrs,e):c.mapElem.attr(b.attrs),b.tooltip&&"undefined"!=typeof b.tooltip.content&&("undefined"==typeof c.mapElem.tooltipContent&&(a.fn.mapael.setTooltip(c.mapElem,d),c.textElem&&a.fn.mapael.setTooltip(c.textElem,d)),c.mapElem.tooltipContent=b.tooltip.content,c.textElem&&(c.textElem.tooltipContent=b.tooltip.content)),"undefined"!=typeof b.href&&("undefined"==typeof c.mapElem.href&&(a.fn.mapael.setHref(c.mapElem),c.textElem&&a.fn.mapael.setHref(c.textElem)),c.mapElem.href=b.href,c.textElem&&(c.textElem.href=b.href))},a.fn.mapael.drawPlot=function(b,c,d,e,f){var g={},h={},i=a.fn.mapael.getElemOptions(c.map.defaultPlot,c.plots[b]?c.plots[b]:{},c.legend.plot);return h=i.x&&i.y?{x:i.x,y:i.y}:d.getCoords(i.latitude,i.longitude),g="square"==i.type?{mapElem:e.rect(h.x-i.size/2,h.y-i.size/2,i.size,i.size).attr(i.attrs)}:{mapElem:e.circle(h.x,h.y,i.size/2).attr(i.attrs)},a.fn.mapael.initElem(e,g,i,f,b),g},a.fn.mapael.setHref=function(b){b.attr({cursor:"pointer"}),a(b.node).bind("click",function(){!a.fn.mapael.panning&&b.href&&(window.location=b.href)})},a.fn.mapael.setTooltip=function(b,c){var d=0,e=c.parent(),f=e.offset().left+e.width();a(b.node).on("mouseover",function(e){d=setTimeout(function(){b.tooltipContent&&c.html(b.tooltipContent).css("display","block"),c.css({left:Math.min(f-c.outerWidth()-5,e.pageX+12),top:e.pageY+23-a(window).scrollTop()})},120)}).on("mouseout",function(a){clearTimeout(d),c.css("display","none")}).on("mousemove",function(b){c.css({left:Math.min(f-c.outerWidth()-5,b.pageX+12),top:b.pageY+23-a(window).scrollTop()})})},a.fn.mapael.setEventHandlers=function(b,c,d,e){for(var f in c.eventHandlers)!function(f){a(d.node).on(f,function(g){!a.fn.mapael.panning&&c.eventHandlers[f](g,b,d,e)}),e&&a(e.node).on(f,function(g){!a.fn.mapael.panning&&c.eventHandlers[f](g,b,d,e)})}(f)},a.fn.mapael.panning=!1,a.fn.mapael.initZoom=function(b,c,d,e,f){var g=b.parent(),h=a("<div>").addClass(f.zoomInCssClass).html("+"),i=a("<div>").addClass(f.zoomOutCssClass).html("&#x2212;"),j=!1,k=0,l=0;g.data("zoomLevel",0),b.append(h).append(i),g.on("zoom",function(a,b,h,i){var j=Math.min(Math.max(b,0),f.maxLevel);g.data("zoomLevel",j),"undefined"==typeof h&&(h=c._viewBox[0]+c._viewBox[2]/2),"undefined"==typeof i&&(i=c._viewBox[1]+c._viewBox[3]/2),0==j?c.setViewBox(0,0,d,e):c.setViewBox(Math.min(Math.max(0,h-d/(1+j*f.step)/2),d-d/(1+j*f.step)),Math.min(Math.max(0,i-e/(1+j*f.step)/2),e-e/(1+j*f.step)),d/(1+j*f.step),e/(1+j*f.step))}),h.on("click",function(){g.trigger("zoom",g.data("zoomLevel")+1)}),i.on("click",function(){g.trigger("zoom",g.data("zoomLevel")-1)}),a("body").on("mouseup",function(b){j=!1,setTimeout(function(){a.fn.mapael.panning=!1},50)}),b.on("mousedown",function(a){return j=!0,k=a.pageX,l=a.pageY,!1}).on("mousemove",function(b){var h=g.data("zoomLevel");if(j&&0!=h){var i=(k-b.pageX)/(1+h*f.step)*(d/c.width),m=(l-b.pageY)/(1+h*f.step)*(e/c.height);(Math.abs(i)>5||Math.abs(m)>5)&&(c.setViewBox(Math.min(Math.max(0,c._viewBox[0]+i),d-c._viewBox[2]),Math.min(Math.max(0,c._viewBox[1]+m),e-c._viewBox[3]),c._viewBox[2],c._viewBox[3]),k=b.pageX,l=b.pageY,a.fn.mapael.panning=!0)}return!1})},a.fn.mapael.createLegend=function(b,c,d,e,f){var g=c.legend[d],h="plot"==d?a("."+c.legend.plot.cssClass,b).empty():a("."+c.legend.area.cssClass,b).empty(),i=new Raphael(h.get(0)),j=5,k=5,l={},m={},n={},o={};g.title&&(l=i.text(g.marginLeftTitle,g.marginBottom,g.title).attr(g.titleAttrs),j=g.marginLeftTitle+l.getBBox().width,k+=g.marginBottom+l.getBBox().height);for(var p=0,q=g.slices.length;q>p;++p)("undefined"==typeof g.slices[p].display||1==g.slices[p].display)&&(m="plot"==d?c.map.defaultPlot:c.map.defaultArea,g.slices[p].attrs=a.extend({},m.attrs,g.slices[p].attrs),g.slices[p].attrsHover=a.extend({},m.attrsHover,g.slices[p].attrsHover),"area"==d||"square"==g.slices[p].type?(!g.slices[p].size&&(g.slices[p].size=20),n=i.rect(g.marginLeft,k,f*g.slices[p].size,f*g.slices[p].size).attr(g.slices[p].attrs)):n=i.circle(g.marginLeft+f*(g.slices[p].size/2),k+f*(g.slices[p].size/2),f*(g.slices[p].size/2)).attr(g.slices[p].attrs),o=i.text(g.marginLeft+f*g.slices[p].size+g.marginLeftLabel,k+f*(g.slices[p].size/2),g.slices[p].label).attr(g.labelAttrs),k+=g.marginBottom+f*g.slices[p].size,j=Math.max(j,g.marginLeft+f*g.slices[p].size+g.marginLeftLabel+o.getBBox().width),g.hideElemsOnClick.enabled&&(o.attr({cursor:"pointer"}),a.fn.mapael.setHoverOptions(n,g.slices[p].attrs,g.slices[p].attrs),a.fn.mapael.setHoverOptions(o,g.labelAttrs,g.labelAttrsHover),a.fn.mapael.setHover(i,n,o),o.hidden=!1,function(b,c,d){a(d.node).on("click",function(){d.hidden?d.animate({opacity:1},300):d.animate({opacity:.5},300);for(var a in e)("undefined"==typeof g.slices[b].min||e[a].value>=g.slices[b].min)&&("undefined"==typeof g.slices[b].max||e[a].value<g.slices[b].max)&&!function(a){d.hidden?(0==g.hideElemsOnClick.opacity&&(e[a].mapElem.show(),e[a].textElem&&e[a].textElem.show()),e[a].mapElem.animate({opacity:"undefined"!=typeof e[a].mapElem.originalAttrs.opacity?e[a].mapElem.originalAttrs.opacity:1},300),e[a].textElem&&e[a].textElem.animate({opacity:"undefined"!=typeof e[a].textElem.originalAttrs.opacity?e[a].textElem.originalAttrs.opacity:1},300)):(e[a].mapElem.animate({opacity:g.hideElemsOnClick.opacity},300,"linear",function(){0==g.hideElemsOnClick.opacity&&e[a].mapElem.hide()}),e[a].textElem&&e[a].textElem.animate({opacity:g.hideElemsOnClick.opacity},300,"linear",function(){0==g.hideElemsOnClick.opacity&&e[a].textElem.hide()}))}(a);d.hidden=!d.hidden})}(p,n,o)));return"SVG"!=Raphael.type&&g.VMLWidth&&(j=g.VMLWidth),i.setSize(j,k),i},a.fn.mapael.setHoverOptions=function(b,c,d){"SVG"!=Raphael.type&&delete d.transform,b.attrsHover=d,b.attrsHover.transform?b.originalAttrs=a.extend({transform:"s1"},c):b.originalAttrs=c},a.fn.mapael.setHover=function(b,c,d){var e={},f={},g=0,h=function(){g=setTimeout(function(){a.fn.mapael.elemHover(b,c,d)},120)},i=function(){clearTimeout(g),a.fn.mapael.elemOut(b,c,d)};e=a(c.node),e.on("mouseover",h),e.on("mouseout",i),d&&(f=a(d.node),f.on("mouseover",h),a(d.node).on("mouseout",i))},a.fn.mapael.elemHover=function(a,b,c){b.animate(b.attrsHover,b.attrsHover.animDuration),c&&c.animate(c.attrsHover,c.attrsHover.animDuration),a.safari()},a.fn.mapael.elemOut=function(a,b,c){b.animate(b.originalAttrs,b.attrsHover.animDuration),c&&c.animate(c.originalAttrs,c.attrsHover.animDuration),a.safari()},a.fn.mapael.getElemOptions=function(b,c,d){var e=a.extend(!0,{},b,c);return"undefined"!=typeof e.value&&a.extend(!0,e,a.fn.mapael.getLegendSlice(e.value,d)),e},a.fn.mapael.getTextPosition=function(a,b,c){var d=0,e=0,f="";switch(b){case"bottom":d=(a.x+a.x2)/2,e=a.y2+c,f="middle";break;case"top":d=(a.x+a.x2)/2,e=a.y-c,f="middle";break;case"left":d=a.x-c,e=(a.y+a.y2)/2,f="end";break;case"right":d=a.x2+c,e=(a.y+a.y2)/2,f="start";break;default:d=(a.x+a.x2)/2,e=(a.y+a.y2)/2,f="middle"}return{x:d,y:e,textAnchor:f}},a.fn.mapael.getLegendSlice=function(a,b){for(var c=0,d=b.slices.length;d>c;++c)if(("undefined"==typeof b.slices[c].min||a>=b.slices[c].min)&&("undefined"==typeof b.slices[c].max||a<b.slices[c].max))return b.slices[c];return{}},a.fn.mapael.defaultOptions={map:{cssClass:"map",tooltip:{cssClass:"mapTooltip"},defaultArea:{attrs:{fill:"#343434",stroke:"#5d5d5d","stroke-width":1,"stroke-linejoin":"round"},attrsHover:{fill:"#f38a03",animDuration:300},text:{position:"inner",margin:10,attrs:{"font-size":15,fill:"#c7c7c7"},attrsHover:{fill:"#eaeaea",animDuration:300}}},defaultPlot:{type:"circle",size:15,attrs:{fill:"#0088db",stroke:"#fff","stroke-width":0,"stroke-linejoin":"round"},attrsHover:{"stroke-width":3,animDuration:300},text:{position:"right",margin:10,attrs:{"font-size":15,fill:"#c7c7c7"},attrsHover:{fill:"#eaeaea",animDuration:300}}},zoom:{enabled:!1,maxLevel:5,step:.25,zoomInCssClass:"zoomIn",zoomOutCssClass:"zoomOut"}},legend:{area:{cssClass:"areaLegend",display:!1,marginLeft:15,marginLeftTitle:5,marginLeftLabel:10,marginBottom:15,titleAttrs:{"font-size":18,fill:"#343434","text-anchor":"start"},labelAttrs:{"font-size":15,fill:"#343434","text-anchor":"start"},labelAttrsHover:{fill:"#787878",animDuration:300},hideElemsOnClick:{enabled:!0,opacity:.2},slices:[]},plot:{cssClass:"plotLegend",display:!1,marginLeft:15,marginLeftTitle:5,marginLeftLabel:10,marginBottom:15,titleAttrs:{"font-size":18,fill:"#343434","text-anchor":"start"},labelAttrs:{"font-size":15,fill:"#343434","text-anchor":"start"},labelAttrsHover:{fill:"#787878",animDuration:300},hideElemsOnClick:{enabled:!0,opacity:.2},slices:[]}},areas:{},plots:{}}}(jQuery),function(a){a.extend(!0,a.fn.mapael,{maps:{usa_states:{width:959,height:593,latLngToGrid:function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n=Math.PI,o=(c+d)/2;return g=(Math.sin(c/180*n)+Math.sin(d/180*n))/2,h=Math.sqrt(Math.cos(c/180*n))+2*g*Math.sin(c/180*n),i=f*Math.pow(h-2*g*Math.sin(o/180*n),.5)/g,j=g*(b-e),m=f*Math.pow(h-2*g*Math.sin(a/180*n),.5)/g,k=m*Math.sin(j/180*n),l=i-m*Math.cos(j/180*n),[k,l]},getCoords:function(a,b){var c={};if(a>51){var d=15,e=105,f=-134,g=530;c=this.latLngToGrid(a,b,d,e,f,g),xOffset=190,yOffset=543,scaleX=1,scaleY=-1}else if(-140>b){var d=0,e=26,f=-166,g=1280;c=this.latLngToGrid(a,b,d,e,f,g),xOffset=115,yOffset=723,scaleX=1,scaleY=-1}else xOffset=-17,yOffset=-22,scaleX=10.05,scaleY=6.26,c[0]=50+124.03149777329222*((1.9694462586094064-a*Math.PI/180)*Math.sin(.6010514667026994*(b+96)*Math.PI/180)),c[1]=55.23670416287796-200.38467697709729*(1.3236744353715044-(1.9694462586094064-a*Math.PI/180)*Math.cos(.6010514667026994*(b+96)*Math.PI/180));return{x:c[0]*scaleX+xOffset,y:c[1]*scaleY+yOffset}},elems:{HI:"m 233.08751,519.30948 1.93993,-3.55655 2.26326,-0.32332 0.32332,0.8083 -2.1016,3.07157 -2.42491,0 z m 10.18466,-3.71821 6.14313,2.58657 2.10159,-0.32332 1.61661,-3.87987 -0.64664,-3.39488 -4.2032,-0.48498 -4.04153,1.77827 -0.96996,3.71821 z m 30.71563,10.023 3.7182,5.49647 2.42492,-0.32332 1.13163,-0.48498 1.45495,1.29329 3.71821,-0.16166 0.96997,-1.45495 -2.90991,-1.77827 -1.93993,-3.71822 -2.1016,-3.55654 -5.8198,2.9099 -0.64664,1.77828 z m 20.20765,8.89137 1.29329,-1.93994 4.68817,0.96996 0.64665,-0.48498 6.14312,0.64664 -0.32332,1.2933 -2.58658,1.45494 -4.36485,-0.32332 -5.49648,-1.6166 z m 5.33482,5.17315 1.93994,3.87987 3.07155,-1.13163 0.32333,-1.61662 -1.61661,-2.10159 -3.71821,-0.32332 0,1.29329 z m 6.95143,-1.13163 2.26326,-2.9099 4.68817,2.42492 4.36485,1.13163 4.36486,2.74824 0,1.93993 -3.55654,1.77828 -4.84985,0.96996 -2.42491,-1.45495 -4.84984,-6.62811 z m 16.65111,15.51947 1.61661,-1.29328 3.39489,1.61662 7.59807,3.55654 3.39489,2.10159 1.6166,2.42492 1.93994,4.36485 4.04153,2.58658 -0.32332,1.2933 -3.87987,3.23322 -4.20319,1.45495 -1.45495,-0.64664 -3.07157,1.77826 -2.42491,3.23323 -2.26326,2.9099 -1.77828,-0.16166 -3.55654,-2.58658 -0.32332,-4.52651 0.64664,-2.42492 -1.61661,-5.65814 -2.1016,-1.77828 -0.16166,-2.58658 2.26326,-0.96996 2.1016,-3.07156 0.48498,-0.96997 -1.61661,-1.77828 -0.32332,-2.1016 z",AK:"m 158.07671,453.67502 -0.32332,85.35713 1.6166,0.96996 3.07157,0.16166 1.45494,-1.13162 2.58658,0 0.16167,2.9099 6.95143,6.78977 0.48499,2.58658 3.39488,-1.93994 0.64665,-0.16166 0.32332,-3.07156 1.45494,-1.61661 1.13164,-0.16166 1.93993,-1.45496 3.07156,2.1016 0.64665,2.90991 1.93993,1.13162 1.13163,2.42492 3.87988,1.77827 3.39488,5.98147 2.74823,3.87986 2.26326,2.74825 1.45496,3.7182 5.01149,1.77828 5.17317,2.10159 0.96996,4.36486 0.48498,3.07156 -0.96996,3.39489 -1.77828,2.26325 -1.61661,-0.8083 -1.45495,-3.07157 -2.74824,-1.45494 -1.77827,-1.13164 -0.80831,0.80831 1.45495,2.74825 0.16166,3.7182 -1.13163,0.48498 -1.93993,-1.93993 -2.10159,-1.29329 0.48498,1.61661 1.29328,1.77828 -0.8083,0.8083 c 0,0 -0.8083,-0.32332 -1.29328,-0.96997 -0.485,-0.64664 -2.1016,-3.39488 -2.1016,-3.39488 l -0.96997,-2.26326 c 0,0 -0.32332,1.29329 -0.96997,0.96996 -0.64665,-0.32332 -1.29329,-1.45494 -1.29329,-1.45494 l 1.77827,-1.93994 -1.45495,-1.45495 0,-5.0115 -0.8083,0 -0.8083,3.39488 -1.13164,0.485 -0.96996,-3.71822 -0.64665,-3.71821 -0.80831,-0.48498 0.32333,5.65815 0,1.13162 -1.45496,-1.29328 -3.55654,-5.98147 -2.1016,-0.48498 -0.64664,-3.71821 -1.61661,-2.9099 -1.61662,-1.13164 0,-2.26325 2.1016,-1.29329 -0.48498,-0.32332 -2.58658,0.64664 -3.39489,-2.42491 -2.58658,-2.90991 -4.84983,-2.58658 -4.04154,-2.58658 1.2933,-3.23322 0,-1.61661 -1.77828,1.61661 -2.9099,1.13163 -3.71821,-1.13163 -5.65815,-2.42491 -5.49647,0 -0.64664,0.48498 -6.46645,-3.87988 -2.1016,-0.32332 -2.74824,-5.8198 -3.55655,0.32332 -3.55655,1.45495 0.48499,4.52652 1.13162,-2.9099 0.96998,0.32332 -1.45496,4.36485 3.23322,-2.74824 0.64665,1.61661 -3.87987,4.36485 -1.29329,-0.32332 -0.48498,-1.93994 -1.29329,-0.8083 -1.29329,1.13163 -2.74824,-1.77827 -3.07157,2.1016 -1.77826,2.10159 -3.39489,2.1016 -4.68818,-0.16167 -0.48498,-2.10159 3.7182,-0.64665 0,-1.29328 -2.26326,-0.64666 0.96998,-2.42491 2.26325,-3.87987 0,-1.77827 0.16166,-0.80831 4.36486,-2.26326 0.96996,1.29329 2.74825,0 -1.29329,-2.58657 -3.71822,-0.32333 -5.01149,2.74824 -2.42492,3.39488 -1.77827,2.58659 -1.13163,2.26326 -4.20319,1.45494 -3.07157,2.58658 -0.323321,1.61662 2.263257,0.96997 0.808313,2.10158 -2.748249,3.23323 -6.466439,4.2032 -7.759747,4.20319 -2.101597,1.13162 -5.334818,1.13164 -5.334826,2.26325 1.778275,1.29329 -1.454954,1.45495 -0.484982,1.13163 -2.748238,-0.96997 -3.23322,0.16166 -0.808312,2.26326 -0.969963,0 0.323321,-2.42492 -3.556551,1.2933 -2.909899,0.96996 -3.394886,-1.29329 -2.909901,1.93993 -3.233224,0 -2.101597,1.2933 -1.616612,0.8083 -2.101595,-0.32332 -2.58658,-1.13163 -2.263257,0.64665 -0.969967,0.96996 -1.616613,-1.13162 0,-1.93994 3.071564,-1.29329 6.304787,0.64665 4.364853,-1.61662 2.101596,-2.10159 2.909902,-0.64665 1.778273,-0.80831 2.748241,0.16166 1.616612,1.2933 0.969963,-0.32332 2.263257,-2.74824 3.07157,-0.96998 3.39488,-0.64664 1.293294,-0.32332 0.646642,0.48498 0.808312,0 1.293284,-3.71821 4.041533,-1.45494 1.939936,-3.71821 2.263259,-4.52652 1.616615,-1.45495 0.323321,-2.58658 -1.616615,1.29329 -3.394893,0.64665 -0.646642,-2.42492 -1.293284,-0.32332 -0.969973,0.96996 -0.16166,2.90991 -1.454955,-0.16167 -1.454944,-5.8198 -1.293294,1.29328 -1.131624,-0.48498 -0.32332,-1.93993 -4.041533,0.16166 -2.101596,1.13163 -2.586578,-0.32332 1.454944,-1.45495 0.484981,-2.58658 -0.646641,-1.93994 1.454954,-0.96996 1.293284,-0.16166 -0.646642,-1.77828 0,-4.36485 -0.969963,-0.96997 -0.808312,1.45495 -6.143123,0 -1.454951,-1.29329 -0.646645,-3.87986 -2.101596,-3.55656 0,-0.96996 2.101596,-0.80831 0.161661,-2.1016 1.131628,-1.13162 -0.808305,-0.48498 -1.29329,0.48498 -1.131628,-2.74824 0.969967,-5.01151 4.526514,-3.23321 2.586575,-1.61662 1.939936,-3.7182 2.748249,-1.2933 2.586578,1.13164 0.323321,2.42492 2.424917,-0.32334 3.23322,-2.42491 1.616615,0.64665 0.969962,0.64664 1.616615,0 2.263259,-1.29329 0.808313,-4.36486 c 0,0 0.323321,-2.90989 0.969963,-3.39488 0.646642,-0.48498 0.969963,-0.96996 0.969963,-0.96996 l -1.131623,-1.93994 -2.58658,0.80831 -3.23323,0.8083 -1.939936,-0.48498 -3.556541,-1.77828 -5.011495,-0.16166 -3.556551,-3.7182 0.484981,-3.87987 0.646652,-2.42492 -2.101596,-1.77827 -1.939938,-3.71822 0.484983,-0.8083 6.789771,-0.48498 2.101596,0 0.969963,0.96996 0.646652,0 -0.16166,-1.61661 3.879862,-0.64664 2.586577,0.32332 1.454955,1.13163 -1.454955,2.1016 -0.484981,1.45494 2.748249,1.61662 5.011497,1.77827 1.778276,-0.96996 -2.263257,-4.36485 -0.969974,-3.23323 0.969974,-0.80831 -3.394891,-1.93993 -0.484983,-1.13164 0.484983,-1.6166 -0.808304,-3.87987 -2.909909,-4.68818 -2.424918,-4.20319 2.909909,-1.93994 3.233222,0 1.778276,0.64665 4.203192,-0.16166 3.718205,-3.55654 1.131633,-3.07157 3.718212,-2.42492 1.616604,0.96997 2.748239,-0.64665 3.718209,-2.1016 1.13164,-0.16166 0.96996,0.80832 4.52651,-0.16167 2.74824,-3.07156 1.13163,0 3.55655,2.42491 1.93993,2.1016 -0.48498,1.13163 0.64664,1.13163 1.61662,-1.61661 3.87987,0.32332 0.32332,3.7182 1.93994,1.45496 7.11309,0.64664 6.30479,4.20319 1.45494,-0.96996 5.17317,2.58658 2.10159,-0.64664 1.93994,-0.80832 4.84983,1.93994 4.36486,2.9099 z m -115.102797,28.93736 2.101596,5.33482 -0.161662,0.96997 -2.909902,-0.32333 -1.778273,-4.04153 -1.778273,-1.45494 -2.424919,0 -0.16166,-2.58659 1.778273,-2.42492 1.131629,2.42492 1.45495,1.45495 2.748241,0.64665 z m -2.58658,33.46387 3.718209,0.80831 3.718207,0.96996 0.808307,0.96998 -1.616612,3.7182 -3.071564,-0.16166 -3.394885,-3.55654 -0.161662,-2.74825 z m -20.692636,-14.06452 1.13163,2.58657 1.131628,1.61662 -1.131628,0.8083 -2.101597,-3.07156 0,-1.93993 0.969967,0 z m -13.7412027,73.07087 3.3948853,-2.26326 3.3948854,-0.96997 2.58658,0.32332 0.484983,1.61661 1.939935,0.48499 1.939934,-1.93993 -0.323322,-1.61661 2.748241,-0.64665 2.909902,2.58658 -1.131629,1.77827 -4.364852,1.13163 -2.748242,-0.48498 -3.718207,-1.13163 -4.3648533,1.45495 -1.616612,0.32332 -1.1316284,-0.64664 z m 48.9833487,-4.52651 1.616612,1.93993 2.101593,-1.61661 -1.454948,-1.2933 -2.263257,0.96998 z m 2.909902,3.07155 1.131624,-2.26325 2.101597,0.32332 -0.808303,1.93993 -2.424918,0 z m 23.602535,-1.93993 1.454954,1.77827 0.969974,-1.13162 -0.808313,-1.93994 -1.616615,1.29329 z m 8.72971,-12.44791 1.131633,5.8198 2.909899,0.80831 5.011495,-2.90991 4.364853,-2.58658 -1.6166,-2.42491 0.48498,-2.42492 -2.1016,1.29329 -2.909898,-0.80831 1.616605,-1.13162 1.939933,0.8083 3.87987,-1.77828 0.48499,-1.45494 -2.42492,-0.80831 0.8083,-1.93994 -2.74824,1.93994 -4.688172,3.55655 -4.849834,2.9099 -1.293294,1.13163 z m 42.35524,-19.88433 2.42492,-1.45495 -0.96997,-1.77828 -1.77827,0.96997 0.32332,2.26326 z",
FL:"m 759.8167,439.1428 2.26566,7.3186 3.7297,9.74226 5.33479,9.3763 3.71819,6.30476 4.84982,5.49646 4.04151,3.71819 1.6166,2.90989 -1.13162,1.29328 -0.8083,1.29328 2.90988,7.43639 2.90989,2.90988 2.58657,5.3348 3.55653,5.81978 4.52649,8.24468 1.29329,7.59804 0.48498,11.96288 0.64664,1.77826 -0.32332,3.39487 -2.42491,1.29329 0.32332,1.93992 -0.64664,1.93993 0.32332,2.4249 0.48498,1.93993 -2.74822,3.23321 -3.07155,1.45494 -3.87985,0.16166 -1.45495,1.61661 -2.4249,0.96996 -1.29329,-0.48498 -1.13162,-0.96996 -0.32332,-2.90989 -0.80831,-3.39487 -3.39487,-5.17314 -3.55653,-2.26324 -3.87985,-0.32332 -0.8083,1.29328 -3.07155,-4.36483 -0.64664,-3.55653 -2.58657,-4.04151 -1.77826,-1.13163 -1.61661,2.10159 -1.77826,-0.32332 -2.10159,-5.01148 -2.90989,-3.87985 -2.90989,-5.33479 -2.58656,-3.07155 -3.55653,-3.71819 2.10158,-2.42491 3.23321,-5.49646 -0.16166,-1.6166 -4.52649,-0.96996 -1.61661,0.64664 0.32333,0.64664 2.58656,0.96996 -1.45494,4.5265 -0.8083,0.48498 -1.77827,-4.04151 -1.29328,-4.84982 -0.32332,-2.74823 1.45494,-4.68815 0,-9.53797 -3.07155,-3.71819 -1.29328,-3.07155 -5.17314,-1.29328 -1.93992,-0.64664 -1.61661,-2.58657 -3.39487,-1.61661 -1.13162,-3.39487 -2.74823,-0.96996 -2.42491,-3.71819 -4.20317,-1.45494 -2.90989,-1.45495 -2.58656,0 -4.04152,0.80831 -0.16166,1.93992 0.80831,0.96996 -0.48499,1.13163 -3.07154,-0.16166 -3.71819,3.55653 -3.55654,1.93992 -3.87985,0 -3.23321,1.29329 -0.32332,-2.74823 -1.6166,-1.93993 -2.90989,-1.13162 -1.6166,-1.45495 -8.08303,-3.87985 -7.59804,-1.77826 -4.36483,0.64664 -5.98144,0.48498 -5.98144,2.10159 -3.47924,0.61296 -0.23792,-8.04975 -2.58657,-1.93992 -1.77827,-1.77827 0.32332,-3.07156 10.18462,-1.29328 25.5424,-2.90989 6.78975,-0.64664 5.436,0.28027 2.58657,3.87986 1.45494,1.45494 8.09816,0.51522 10.81975,-0.64664 21.51239,-1.29329 5.44572,-0.67437 5.10758,0.20451 0.42683,2.90989 2.233,0.8083 0.23494,-4.63 -1.52822,-4.17295 1.3084,-1.43983 5.55463,0.45475 5.17314,0.32332 z m 12.54541,132.40508 2.42492,-0.64664 1.29328,-0.24249 1.45496,-2.34409 2.34408,-1.61661 1.29329,0.48499 1.69744,0.32332 0.40415,1.05079 -3.4757,1.21246 -4.2032,1.45495 -2.34408,1.21246 -0.88914,-0.88914 z m 13.4987,-5.01149 1.21246,1.0508 2.74824,-2.10159 5.33481,-4.20319 3.7182,-3.87987 2.50575,-6.6281 0.96997,-1.69744 0.16166,-3.39488 -0.72748,0.48498 -0.96996,2.82907 -1.45496,4.60733 -3.23322,5.254 -4.36484,4.20318 -3.39488,1.93993 -2.50575,1.53578 z",NH:"m 880.79902,142.42476 0.869,-1.0765 1.09022,-3.29102 -2.54308,-0.91347 -0.48499,-3.07156 -3.87985,-1.13162 -0.32332,-2.74824 -7.27475,-23.44082 -4.60142,-14.542988 -0.89708,-0.0051 -0.64664,1.616605 -0.64664,-0.484981 -0.96997,-0.969963 -1.45494,1.939925 -0.0485,5.032054 0.31165,5.667218 1.93992,2.74824 0,4.04152 -3.7182,5.06278 -2.58657,1.13164 0,1.13162 1.13163,1.77827 0,8.56802 -0.80831,9.21467 -0.16166,4.84982 0.96997,1.2933 -0.16166,4.52649 -0.48499,1.77828 0.96881,0.70922 16.78767,-4.42455 2.17487,-0.60245 1.84357,-2.77333 3.60523,-1.61312 z",MI:"M581.61931,82.059006 L 583.4483,80.001402 L 585.62022,79.201221 L 590.99286,75.314624 L 593.27908,74.743065 L 593.73634,75.200319 L 588.59232,80.344339 L 585.27728,82.287628 L 583.21967,83.202124 L 581.61931,82.059006 z M 667.79369,114.18719 L 668.44033,116.69293 L 671.67355,116.85459 L 672.96684,115.64213 C 672.96684,115.64213 672.88601,114.18719 672.56269,114.02552 C 672.23936,113.86386 670.94608,112.16642 670.94608,112.16642 L 668.76366,112.40891 L 667.14704,112.57057 L 666.82372,113.7022 L 667.79369,114.18719 z M 567.49209,111.21318 L 568.20837,110.63278 L 570.9566,109.82447 L 574.51313,107.56123 L 574.51313,106.59126 L 575.15978,105.94462 L 581.14121,104.97466 L 583.56612,103.03473 L 587.93095,100.93315 L 588.09261,99.639864 L 590.03254,96.729975 L 591.8108,95.921673 L 593.10409,94.143408 L 595.36733,91.880161 L 599.73217,89.455254 L 604.42032,88.970273 L 605.55194,90.101896 L 605.22862,91.071859 L 601.51043,92.041822 L 600.05549,95.113371 L 597.79224,95.921673 L 597.30726,98.34658 L 594.88235,101.57979 L 594.55903,104.16636 L 595.36733,104.65134 L 596.3373,103.51972 L 599.89383,100.60983 L 601.18711,101.90311 L 603.45036,101.90311 L 606.68357,102.87307 L 608.13851,104.0047 L 609.59345,107.07625 L 612.34168,109.82447 L 616.22153,109.66281 L 617.67648,108.69285 L 619.29308,109.98613 L 620.90969,110.47112 L 622.20297,109.66281 L 623.33459,109.66281 L 624.9512,108.69285 L 628.99271,105.13632 L 632.38758,104.0047 L 639.01566,103.68138 L 643.54215,101.74145 L 646.12872,100.44817 L 647.58367,100.60983 L 647.58367,106.26794 L 648.06865,106.59126 L 650.97853,107.39957 L 652.91846,106.91458 L 659.06156,105.29798 L 660.19318,104.16636 L 661.64813,104.65134 L 661.64813,111.60274 L 664.88134,114.67429 L 666.17462,115.32093 L 667.4679,116.29089 L 666.17462,116.61421 L 665.36632,116.29089 L 661.64813,115.80591 L 659.54654,116.45255 L 657.28329,116.29089 L 654.05008,117.74584 L 652.27182,117.74584 L 646.45204,116.45255 L 641.27891,116.61421 L 639.33898,119.20078 L 632.38758,119.84742 L 629.96267,120.65572 L 628.83105,123.72727 L 627.53777,124.8589 L 627.05279,124.69724 L 625.59784,123.08063 L 621.07135,125.50554 L 620.42471,125.50554 L 619.29308,123.88893 L 618.48478,124.05059 L 616.54486,128.41543 L 615.57489,132.45694 L 612.39377,139.45774 L 611.21701,138.42347 L 609.84527,137.39215 L 607.90449,127.10413 L 604.36001,125.73408 L 602.30743,123.44785 L 590.18707,120.70437 L 587.3318,119.67473 L 579.10138,117.50199 L 571.21139,116.35887 L 567.49209,111.21318 z,M697.8,177.2L694.6,168.9L692.3,159.9L689.9,156.7L687.3,154.9L685.7,156L681.8,157.8L679.9,162.8L677.1,166.5L676,167.2L674.5,166.5 C 674.5,166.5 671.9,165.1 672.1,164.4 C 672.3,163.8 672.6,159.4 672.6,159.4L676,158.1L676.8,154.7L677.4,152.1L679.9,150.5L679.5,140.5L677.9,138.2L676.6,137.4L675.8,135.3L676.6,134.5L678.2,134.8L678.4,133.2L676,131L674.7,128.4L672.1,128.4L667.6,126.9L662.1,123.5L659.3,123.5L658.7,124.2L657.7,123.7L654.6,121.4L651.7,123.2L648.8,125.5L649.2,129L650.1,129.3L652.2,129.8L652.7,130.6L650.1,131.4L647.5,131.8L646.1,133.5L645.8,135.6L646.1,137.3L646.4,142.8L642.8,144.9L642.2,144.7L642.2,140.5L643.5,138.1L644.1,135.6L643.3,134.8L641.4,135.6L640.4,139.8L637.7,141L635.9,142.9L635.7,143.9L636.4,144.7L635.7,147.3L633.5,147.8L633.5,148.9L634.3,151.3L633.1,157.5L631.5,161.5L632.2,166.2L632.7,167.3L631.9,169.8L631.5,170.6L631.2,173.3L634.8,179.3L637.7,185.8L639.1,190.6L638.3,195.3L637.3,201.3L634.9,206.4L634.6,209.2L631.3,212.3L635.8,212.1L657.2,209.9L664.4,208.9L664.5,210.5L671.4,209.3L681.7,207.8L685.5,207.4L685.7,206.8L685.8,205.3L687.9,201.6L689.9,199.9L689.7,194.8L691.3,193.2L692.4,192.9L692.6,189.3L694.2,186.3L695.2,186.9L695.4,187.5L696.2,187.7L698.1,186.7L697.8,177.2z",VT:"m 844.48416,154.05791 0.3167,-5.34563 -2.89071,-10.78417 -0.64664,-0.32332 -2.9099,-1.29329 0.8083,-2.90989 -0.8083,-2.10159 -2.70005,-4.63998 0.96997,-3.87986 -0.80831,-5.17315 -2.42491,-6.46644 -0.80557,-4.92251 26.41936,-6.73182 0.3087,5.52221 1.91626,2.74223 0,4.04152 -3.70715,5.05799 -2.58657,1.14267 -0.011,1.12057 1.30997,1.51912 -0.31093,8.09797 -0.60943,9.25886 -0.22795,5.55694 0.96996,1.29329 -0.16166,4.57069 -0.48498,1.68989 1.01418,0.72716 -7.43755,1.50671 -4.50174,0.72383 z",ME:"m 922.83976,78.830719 1.93993,2.101586 2.26325,3.718191 0,1.939926 -2.10159,4.688153 -1.93993,0.646642 -3.39487,3.071549 -4.84981,5.496454 c 0,0 -0.64664,0 -1.29328,0 -0.64664,0 -0.96997,-2.101584 -0.96997,-2.101584 l -1.77826,0.16166 -0.96996,1.454944 -2.42491,1.45495 -0.96996,1.45494 1.6166,1.45494 -0.48498,0.64665 -0.48498,2.74822 -1.93993,-0.16166 0,-1.6166 -0.32332,-1.29329 -1.45494,0.32333 -1.77827,-3.23321 -2.10158,1.29328 1.29328,1.45494 0.32332,1.13163 -0.8083,1.29328 0.32332,3.07155 0.16166,1.6166 -1.6166,2.58657 -2.90989,0.48498 -0.32332,2.90989 -5.3348,3.07155 -1.29328,0.48498 -1.61661,-1.45494 -3.07155,3.55653 0.96997,3.23321 -1.45495,1.29328 -0.16166,4.36483 -1.12328,6.25936 -2.46225,-1.15595 -0.48499,-3.07156 -3.87985,-1.13163 -0.32332,-2.74824 -7.27475,-23.44082 -4.69858,-14.639742 1.42054,-0.118165 1.51379,0.409899 0,-2.586568 1.3083,-4.496456 2.58657,-4.688153 1.45495,-4.041512 -1.93993,-2.424907 0,-5.981437 0.8083,-0.969963 0.80831,-2.748228 -0.16166,-1.454944 -0.16167,-4.849814 1.77827,-4.849814 2.90989,-8.891326 2.10158,-4.203172 1.29329,0 1.29328,0.16166 0,1.131623 1.29329,2.263247 2.74822,0.646642 0.80831,-0.808303 0,-0.969962 4.04151,-2.909889 1.77826,-1.778265 1.45495,0.161661 5.98143,2.424907 1.93993,0.969962 9.05299,29.907187 5.98143,0 0.80831,1.939926 0.16166,4.849814 2.90988,2.263246 0.80831,0 0.16166,-0.484981 -0.48498,-1.131623 2.74822,-0.161661 z m -20.93175,30.147531 1.53578,-1.53578 1.37412,1.0508 0.56581,2.42492 -1.69744,0.88913 -1.77827,-2.82907 z m 6.70893,-5.90062 1.77827,1.8591 c 0,0 1.29329,0.0808 1.29329,-0.2425 0,-0.32332 0.24249,-2.02076 0.24249,-2.02076 l 0.88914,-0.8083 -0.80831,-1.77828 -2.02076,0.72748 -1.37412,2.26326 z",RI:"m 874.07001,178.89536 -3.69579,-14.95599 6.26928,-1.84514 2.19113,1.92712 3.30649,4.32065 2.6879,4.40209 -2.99934,1.62479 -1.29328,-0.16166 -1.13162,1.77827 -2.42491,1.93992 -2.90986,0.96995 z",NY:"m 830.37944,188.7456 -1.13163,-0.96996 -2.58658,-0.16166 -2.26324,-1.93992 -1.63061,-6.12913 -3.45846,0.0905 -2.44371,-2.7082 -19.38532,4.38194 -43.00178,8.72969 -7.52965,1.22799 -0.73816,-6.46834 1.4281,-1.12538 1.29328,-1.13162 0.96997,-1.61661 1.77826,-1.13162 1.93993,-1.77827 0.48498,-1.6166 2.10158,-2.74823 1.13163,-0.96996 -0.16166,-0.96997 -1.29329,-3.07154 -1.77826,-0.16166 -1.93993,-6.1431 2.90989,-1.77827 4.36483,-1.45494 4.04152,-1.29329 3.23321,-0.48498 6.30475,-0.16166 1.93993,1.29329 1.6166,0.16166 2.10159,-1.29329 2.58657,-1.13162 5.17313,-0.48498 2.10159,-1.77827 1.77826,-3.23321 1.61661,-1.93992 2.10158,0 1.93993,-1.13163 0.16166,-2.26324 -1.45494,-2.10159 -0.32332,-1.45494 1.13162,-2.10159 0,-1.45494 -1.77827,0 -1.77826,-0.8083 -0.8083,-1.13163 -0.16166,-2.58657 5.81977,-5.49645 0.64664,-0.8083 1.45495,-2.90989 2.90989,-4.5265 2.74823,-3.71819 2.10158,-2.4249 2.4151,-1.82561 3.08136,-1.24594 5.49645,-1.29329 3.23321,0.16166 4.5265,-1.45494 7.56519,-2.07117 0.51979,4.97967 2.42492,6.46644 0.8083,5.17315 -0.96996,3.87986 2.58657,4.5265 0.8083,2.10159 -0.8083,2.9099 2.9099,1.29328 0.64664,0.32332 3.07156,10.99294 -0.53629,5.05967 -0.48498,10.83127 0.8083,5.49647 0.8083,3.55654 1.45495,7.27474 0,8.08304 -1.13163,2.26325 1.83933,1.99279 0.79655,1.67842 -1.93992,1.77827 0.32332,1.29328 1.29328,-0.32332 1.45495,-1.29328 2.26324,-2.58657 1.13163,-0.64664 1.6166,0.64664 2.26325,0.16166 7.92136,-3.87985 2.90989,-2.74823 1.29328,-1.45494 4.20317,1.6166 -3.39487,3.55653 -3.87985,2.90989 -7.11306,5.33479 -2.58656,0.96997 -5.81978,1.93992 -4.04151,1.13163 -1.17474,-0.53293 -0.24402,-3.68853 0.48498,-2.74824 -0.16166,-2.10158 -2.81351,-1.699 -4.5265,-0.96997 -3.87986,-1.13162 -3.7182,-1.77828 z",PA:"m 825.1237,224.69205 1.30842,-0.271 2.32953,-1.25325 1.21188,-2.48307 1.61661,-2.26325 3.23321,-3.07156 0,-0.8083 -2.42491,-1.6166 -3.55654,-2.42492 -0.96996,-2.58657 -2.74824,-0.32332 -0.16166,-1.13163 -0.8083,-2.74823 2.26326,-1.13162 0.16166,-2.42492 -1.2933,-1.29329 0.16166,-1.61661 1.93994,-3.07155 0,-3.07156 2.69763,-2.64588 -0.92028,-0.67498 -2.52408,-0.19291 -2.29449,-1.93992 -1.54992,-6.11606 -3.50458,0.10052 -2.45523,-2.70333 -18.09099,4.19777 -43.00178,8.72969 -8.89135,1.45494 -0.62067,-6.52139 -5.36253,5.06765 -1.29329,0.48498 -4.20229,3.00889 2.91076,19.13745 2.48166,9.72936 3.5718,19.26149 3.26931,-0.63768 11.94358,-1.50247 37.92663,-7.6652 14.87621,-2.82332 8.30035,-1.62236 0.26711,-0.23853 2.1016,-1.61662 2.10158,-0.68084 z",NJ:"m 829.67942,188.46016 -2.32255,2.73427 0,3.07156 -1.93994,3.07155 -0.16166,1.61662 1.2933,1.29328 -0.16166,2.42492 -2.26326,1.13162 0.8083,2.74823 0.16166,1.13163 2.74824,0.32332 0.96996,2.58657 3.55654,2.42492 2.42491,1.6166 0,0.80831 -2.98321,2.69656 -1.61661,2.26324 -1.45495,2.74824 -2.26325,1.29328 -0.46245,1.60248 -0.2425,1.21246 -0.60923,2.60674 1.09227,2.24419 3.23321,2.90989 4.84981,2.26325 4.04151,0.64664 0.16166,1.45494 -0.8083,0.96996 0.32332,2.74823 0.8083,0 2.10159,-2.4249 0.8083,-4.84982 2.74823,-4.04151 3.07155,-6.46642 1.13162,-5.49645 -0.64664,-1.13163 -0.16166,-9.37631 -1.61661,-3.39486 -1.13162,0.8083 -2.74823,0.32332 -0.48498,-0.48498 1.13163,-0.96997 2.10158,-1.93992 0.0631,-1.09383 -0.38439,-3.43384 0.57337,-2.74824 -0.11747,-1.96901 -2.80754,-1.75035 -5.09214,-1.17576 -4.13744,-1.38163 -3.58563,-1.64569 z",DE:"m 825.6261,228.2791 0.36831,-2.14689 0.37507,-1.69105 -1.623,0.39776 -1.61546,0.46756 -2.20626,1.7643 1.72012,5.04288 2.26326,5.65812 2.10158,9.69965 1.61662,6.30478 5.01148,-0.16166 6.14212,-1.18068 -2.26423,-7.38627 -0.96997,0.48498 -3.55653,-2.4249 -1.77826,-4.68816 -1.93993,-3.55653 -3.14712,-2.87031 -0.86416,-2.09812 0.36636,-1.61546 z",MD:"m 839.79175,252.41476 -6.00855,1.20384 -5.1429,0.11746 -1.84356,-6.92233 -1.92481,-9.16932 -2.57262,-6.18845 -1.28838,-4.39833 -7.50602,1.62236 -14.87621,2.82332 -37.45143,7.5509 1.1313,5.01166 0.96996,5.65811 0.32332,-0.32332 2.1016,-2.4249 2.26324,-2.61766 2.42491,-0.61556 1.45496,-1.45495 1.77826,-2.58657 1.29328,0.64665 2.90989,-0.32333 2.58658,-2.10158 2.00689,-1.45327 1.84523,-0.48498 1.64435,1.12995 2.90989,1.45494 1.93992,1.77827 1.21246,1.53578 4.12235,1.69743 0,2.90989 5.49646,1.29329 1.14444,0.54198 1.4119,-2.02832 2.88197,1.97016 -1.27817,2.48193 -0.76527,3.98566 -1.77826,2.58657 0,2.10159 0.64664,1.77827 5.06395,1.35569 4.3111,-0.0617 3.07154,0.96997 2.10159,0.32332 0.96996,-2.10159 -1.45494,-2.10158 0,-1.77827 -2.42491,-2.10159 -2.10158,-5.49645 1.29328,-5.3348 -0.16166,-2.10158 -1.29328,-1.29329 c 0,0 1.45494,-1.6166 1.45494,-2.26324 0,-0.64665 0.48498,-2.10159 0.48498,-2.10159 l 1.93993,-1.29328 1.93992,-1.61661 0.48498,0.96997 -1.45494,1.6166 -1.29328,3.71819 0.32332,1.13162 1.77826,0.32332 0.48498,5.49646 -2.10158,0.96996 0.32332,3.55653 0.48498,-0.16166 1.13162,-1.93992 1.61661,1.77826 -1.61661,1.29329 -0.32332,3.39487 2.58657,3.39487 3.87985,0.48498 1.61661,-0.8083 3.23655,4.18293 1.35835,0.5363 6.65367,-2.79695 2.00758,-4.02387 -0.43596,-4.90798 z m -15.96958,9.02872 1.13162,2.50575 0.16166,1.77827 1.13163,1.8591 c 0,0 0.88914,-0.88914 0.88914,-1.21246 0,-0.32332 -0.72747,-3.07156 -0.72747,-3.07156 l -0.72748,-2.34409 -1.8591,0.48499 z",VA:"m 831.63885,266.06892 -0.14391,-1.94703 6.45343,-2.54988 -0.77041,3.21784 -2.91995,3.77911 -0.41809,4.58582 0.46175,3.39044 -1.82797,4.97816 -2.16427,1.91614 -1.47034,-4.64081 0.44589,-5.44911 1.587,-4.18307 0.76687,-3.09761 z m 3.34019,28.30136 -58.17418,12.57543 -37.42697,5.27907 -6.67833,-0.37518 -2.58525,1.92638 -7.33913,0.22069 -8.38211,0.97767 -10.91496,1.61462 10.46943,-5.6112 -0.0131,-2.07493 1.52005,-2.14613 10.55378,-11.50143 3.94672,4.47746 3.78301,0.96398 2.54346,-1.14032 2.23722,-1.31116 2.53661,1.34352 3.91417,-1.42776 1.87673,-4.55634 2.60092,0.54002 2.85524,-2.13125 1.79927,0.4936 2.82721,-3.67657 0.34825,-2.08311 -0.96366,-1.27557 1.00277,-1.86663 5.27427,-12.27715 0.61677,-5.73508 1.22889,-0.52354 2.17853,2.44287 3.93586,-0.30117 1.92921,-7.57363 2.79399,-0.56086 1.04975,-2.74107 2.57982,-2.34688 2.77183,-5.69519 0.0849,-5.06755 9.82151,3.82282 c 0.68085,0.34042 0.83288,-5.04915 0.83288,-5.04915 l 3.65256,1.59833 0.0683,2.93816 5.78425,1.29949 2.13295,1.1762 1.65992,2.05569 -0.65455,3.64867 -1.94744,2.59098 0.10985,2.05907 0.58896,1.85291 4.97875,1.26843 4.45127,0.0399 3.06883,0.95864 1.94351,0.3093 0.71481,3.08846 3.19044,0.40253 0.86807,1.20002 -0.43949,4.69008 1.37473,1.10255 -0.47895,1.93039 1.22941,0.78977 -0.2218,1.3846 -2.69399,-0.0949 0.089,1.61552 2.28099,1.54287 0.12154,1.4119 1.77311,1.78538 0.49179,2.52413 -2.55304,1.38131 1.57222,1.4943 5.80102,-1.68583 3.60762,6.01193 z",WV:"m 761.18551,238.96731 1.11201,4.94453 1.08344,6.03133 2.13029,-2.58034 2.26324,-3.07156 2.53838,-0.61555 1.45495,-1.45494 1.77827,-2.58657 1.44498,0.64664 2.90989,-0.32332 2.58658,-2.10159 2.00689,-1.45326 1.84523,-0.48499 1.30392,1.01647 3.64325,1.82163 1.93993,1.77827 1.37412,1.29328 -0.76172,5.55494 -5.83491,-2.54122 -4.24525,-1.62202 -0.10114,5.17843 -2.74764,5.53673 -2.53003,2.42666 -1.19209,2.74939 -2.64358,0.5001 -0.89784,3.60188 -1.04323,3.94967 -3.96824,0.34074 -2.32373,-2.43888 -1.07115,0.55941 -0.63268,5.4697 -1.35029,3.5345 -4.9584,10.95497 0.89669,1.1607 -0.20586,1.90854 -2.80869,3.88447 -1.8085,-0.54429 -2.96805,2.15974 -2.54238,-0.57221 -1.99923,4.55557 c 0,0 -3.25931,1.43022 -3.92291,1.36772 -0.16051,-0.0151 -2.4691,-1.2491 -2.4691,-1.2491 l -2.33652,1.37937 -2.4098,1.0444 -3.74469,-0.88912 -1.1214,-1.16828 -2.19222,-3.02336 -3.14259,-1.98812 -1.71157,-3.62324 -4.28488,-3.46819 -0.64665,-2.26325 -2.58657,-1.45495 -0.80831,-1.6166 -0.24249,-5.25398 2.18242,-0.0808 1.93994,-0.8083 0.16166,-2.74823 1.6166,-1.45495 0.16166,-5.01148 0.96996,-3.87986 1.29329,-0.64664 1.29328,1.13162 0.48499,1.77827 1.77827,-0.96997 0.48498,-1.6166 -1.13162,-1.77827 0,-2.42491 0.96996,-1.29329 2.26325,-3.39487 1.29328,-1.45494 2.1016,0.48498 2.26324,-1.61662 3.07155,-3.39487 2.26326,-3.87986 0.32332,-5.65811 0.48498,-5.01149 0,-4.68816 -1.13162,-3.07155 0.96996,-1.45496 1.28348,-1.29328 3.49125,19.82712 4.63101,-0.75115 12.42832,-1.79965 z",OH:"m 735.32497,193.32832 -6.09354,4.05335 -3.87985,2.26325 -3.39487,3.71819 -4.04151,3.87985 -3.23321,0.8083 -2.90989,0.48498 -5.49646,2.58657 -2.10158,0.16166 -3.39487,-3.07155 -5.17314,0.64665 -2.58656,-1.45495 -2.38107,-1.35083 -4.89257,0.70341 -10.18462,1.61661 -11.20687,2.18473 1.29329,14.63028 1.77827,13.74117 2.58656,23.4408 0.56582,4.83117 4.12235,-0.12902 2.42491,-0.80831 3.3638,1.50314 2.07049,4.36483 5.13894,-0.0171 1.89174,2.1187 1.76117,-0.0653 2.53839,-1.34146 2.50417,0.3715 5.42128,0.48268 1.72697,-2.13268 2.34565,-1.29328 2.07049,-0.68085 0.64664,2.74824 1.77828,0.96996 3.47569,2.34407 2.18242,-0.0808 1.33312,-0.49248 0.18471,-2.76153 1.58536,-1.45496 0.0992,-4.79272 c 0,0 1.02396,-4.10906 1.02396,-4.10906 l 1.29927,-0.60128 1.32135,1.14774 0.53815,1.69702 1.71913,-1.03742 0.43898,-1.46075 -1.11669,-1.90306 0.0663,-2.31443 0.749,-1.07231 2.15276,-3.30648 1.05022,-1.54334 2.10159,0.48498 2.26325,-1.61661 3.07155,-3.39487 2.77149,-4.07873 0.32033,-5.05551 0.48498,-5.01149 -0.17678,-5.30688 -0.95484,-2.89478 0.35124,-1.18978 1.80439,-1.75011 -2.28879,-9.04733 -2.90989,-19.36177 z",IN:"m 619.56954,299.97132 0.0653,-2.85858 0.48499,-4.52651 2.26324,-2.90988 1.77828,-3.87987 2.58656,-4.20317 -0.48498,-5.81979 -1.77826,-2.74823 -0.32332,-3.23321 0.8083,-5.49647 -0.48498,-6.95141 -1.2933,-16.00441 -1.29328,-15.35776 -0.97047,-11.72002 3.07106,0.88951 1.45495,0.96996 1.13162,-0.32332 2.10159,-1.93992 2.82957,-1.61699 5.0928,-0.16204 21.98587,-2.26326 5.57573,-0.53316 1.50314,15.95621 4.25135,36.84155 0.59846,5.7716 -0.3715,2.26325 1.22798,1.79537 0.0964,1.37255 -2.52129,1.59951 -3.53943,1.55131 -3.20213,0.55028 -0.59846,4.86693 -4.57469,3.31247 -2.79642,4.01044 0.32332,2.37673 -0.58134,1.5342 -3.32647,0 -1.58553,-1.6166 -2.49331,1.2622 -2.68296,1.50314 0.16167,3.05445 -1.19379,0.25803 -0.46788,-1.01814 -2.16688,-1.50314 -3.25032,1.34148 -1.55131,3.00625 -1.43784,-0.8083 -1.45495,-1.59951 -4.46434,0.48499 -5.59283,0.96996 -2.90989,1.55132 z",IL:"m 619.54145,300.34244 0.0312,-3.22971 0.56739,-4.64596 2.33253,-2.91586 1.86665,-4.07576 2.23302,-3.99533 -0.3715,-5.2524 -2.00521,-3.54257 -0.0964,-3.34668 0.69483,-5.26951 -0.82541,-7.17837 -1.06634,-15.77745 -1.29328,-15.01734 -0.92228,-11.6392 -0.27251,-0.92139 -0.8083,-2.58657 -1.29328,-3.71819 -1.61661,-1.77827 -1.45494,-2.58656 -0.23357,-5.48896 -45.79643,2.59825 0.22862,2.37195 2.28623,0.68587 0.91448,1.14311 0.45725,1.82898 3.88658,3.42934 0.68588,2.28623 -0.68588,3.42934 -1.82898,3.65796 -0.68586,2.51484 -2.28623,1.82899 -1.82898,0.68587 -5.25832,1.37173 -0.68587,1.82898 -0.68587,2.05761 0.68587,1.37174 1.82898,1.60036 -0.22862,4.1152 -1.82899,1.60036 -0.68586,1.60036 0,2.74347 -1.82898,0.45724 -1.60036,1.14312 -0.22862,1.37174 0.22862,2.0576 -1.71467,1.31457 -1.0288,2.80064 0.45724,3.65795 2.28623,7.31593 7.31593,7.54455 5.48693,3.65796 -0.22862,4.34383 0.9145,1.37174 6.40143,0.45724 2.74347,1.37174 -0.68586,3.65796 -2.28623,5.94419 -0.68587,3.20072 2.28622,3.88658 6.40144,5.25832 4.57246,0.68587 2.05759,5.0297 2.05761,3.20071 -0.91449,2.97209 1.60036,4.11521 1.82898,2.05761 1.41403,-0.88069 0.90766,-2.07479 2.21308,-1.7472 2.13147,-0.6144 2.60253,1.1798 3.62699,1.3757 1.18895,-0.29823 0.19987,-2.25845 -1.2873,-2.41179 0.30422,-2.37672 1.8384,-1.34745 3.02254,-0.81029 1.2609,-0.45852 -0.61261,-1.38688 -0.79137,-2.35437 1.4326,-0.98096 1.15747,-3.21403 z",CT:"m 874.06831,178.86288 -3.67743,-14.87881 -4.71882,0.92031 -21.22878,4.74309 1.00019,3.22567 1.45495,7.27474 0.17678,8.96692 -1.22002,2.17487 1.92079,1.93234 4.27153,-3.90564 3.55653,-3.23321 1.93992,-2.10159 0.80831,0.64664 2.74822,-1.45494 5.17314,-1.13162 7.79469,-3.17877 z",WI:"m 615.06589,197.36866 -0.0667,-3.15742 -1.17911,-4.5265 -0.64664,-6.14309 -1.13162,-2.42491 0.96996,-3.07155 0.8083,-2.90989 1.45495,-2.58656 -0.64665,-3.39487 -0.64664,-3.55653 0.48498,-1.77827 1.93993,-2.42491 0.16166,-2.74823 -0.8083,-1.29328 0.64664,-2.58657 -0.45252,-4.17071 2.74823,-5.65811 2.90989,-6.78974 0.16166,-2.26325 -0.32332,-0.96996 -0.80831,0.48498 -4.20317,6.30476 -2.74823,4.04151 -1.93992,1.77827 -0.8083,2.26324 -1.95495,0.8083 -1.13162,1.93993 -1.45495,-0.32332 -0.16166,-1.77827 1.29329,-2.4249 2.10158,-4.68816 1.77827,-1.6166 0.99083,-2.35785 -2.56045,-1.90134 -1.97482,-10.36699 -3.54747,-1.34198 -1.94626,-2.30833 -12.12971,-2.72164 -2.87589,-1.01205 -8.21312,-2.16729 -7.91792,-1.15875 -3.76516,-5.13067 -0.7504,0.55401 -1.19791,-0.16166 -0.64665,-1.13162 -1.33401,0.29655 -1.13163,0.16166 -1.77826,0.96996 -0.96997,-0.64664 0.64665,-1.93993 1.93992,-3.07155 1.13162,-1.13162 -1.93992,-1.45494 -2.10159,0.8083 -2.90989,1.93992 -7.43638,3.23321 -2.90989,0.64664 -2.90988,-0.48498 -0.98173,-0.87825 -2.1167,2.83518 -0.22862,2.74347 0,8.45903 -1.14312,1.60037 -5.25832,3.88657 -2.28622,5.94419 0.45724,0.22862 2.51485,2.05761 0.68586,3.20072 -1.82898,3.20071 0,3.88659 0.45725,6.63005 2.97209,2.9721 3.42935,0 1.82898,3.20072 3.42933,0.45724 3.88659,5.71557 7.0873,4.11521 2.0576,2.74347 0.9145,7.43024 0.68586,3.31502 2.28623,1.60036 0.22862,1.37174 -2.0576,3.42933 0.22862,3.20073 2.51485,3.88658 2.51485,1.14311 2.97209,0.45724 1.34234,1.38012 45.29836,-2.66945 z",NC:"m 834.98153,294.31554 2.085,4.91735 3.55653,6.46642 2.4249,2.42491 0.64664,2.26325 -2.4249,0.16166 0.8083,0.64664 -0.32332,4.20317 -2.58657,1.29328 -0.64664,2.10159 -1.29328,2.90989 -3.7182,1.6166 -2.4249,-0.32332 -1.45495,-0.16166 -1.6166,-1.29328 0.32332,1.29328 0,0.96997 1.93993,0 0.8083,1.29328 -1.93993,6.30476 4.20317,0 0.64665,1.6166 2.26324,-2.26324 1.29329,-0.48499 -1.93993,3.55653 -3.07155,4.84982 -1.29328,0 -1.13163,-0.48498 -2.74822,0.64664 -5.17314,2.42491 -6.46642,5.33479 -3.39487,4.68815 -1.93992,6.46642 -0.48498,2.42491 -4.68816,0.48498 -5.45313,1.33666 -9.94641,-8.20253 -12.60954,-7.59805 -2.90989,-0.80831 -12.60953,1.45495 -4.27646,0.75015 -1.6166,-3.23322 -2.97036,-2.1167 -16.48939,0.48498 -7.27474,0.8083 -9.05299,4.52651 -6.14311,2.58656 -21.17755,2.58658 0.50009,-4.05433 1.77827,-1.45494 2.74824,-0.64665 0.64664,-3.7182 4.20318,-2.74822 3.87985,-1.45496 4.20319,-3.55653 4.36483,-2.10159 0.64664,-3.07156 3.87986,-3.87985 0.64664,-0.16166 c 0,0 0,1.13163 0.80831,1.13163 0.8083,0 1.93993,0.32332 1.93993,0.32332 l 2.26325,-3.55654 2.10159,-0.64665 2.26324,0.32333 1.61662,-3.55653 2.90989,-2.58658 0.48498,-2.10159 0.1875,-3.64819 4.2765,-0.0225 7.19859,-0.85579 15.75723,-2.25243 15.13604,-2.08657 21.64048,-4.71935 19.98332,-4.25857 11.17694,-2.40581 5.04998,-1.15688 z m 4.27046,33.20657 2.58658,-2.50575 3.15238,-2.58658 1.53578,-0.64664 0.16166,-2.02076 -0.64664,-6.14312 -1.45495,-2.34408 -0.64665,-1.8591 0.72748,-0.2425 2.74824,5.49648 0.40415,4.44567 -0.16166,3.39489 -3.39488,1.53577 -2.82907,2.42492 -1.13162,1.21246 -1.0508,-0.16166 z",DC:"m 805.81945,250.84384 -1.85828,-1.82417 -1.23263,-0.68629 1.44301,-2.02247 2.88909,1.9485 -1.24119,2.58443 z",MA:"m 899.62349,173.25394 2.17192,-0.68588 0.45726,-1.71467 1.0288,0.11431 1.0288,2.28624 -1.25742,0.45724 -3.8866,0.11432 0.45724,-0.57156 z m -9.37354,0.80018 2.28622,-2.62917 1.60037,0 1.82899,1.48605 -2.40054,1.0288 -2.17192,1.0288 -1.14312,-0.91448 z m -34.79913,-21.98819 17.64687,-4.64068 2.26326,-0.64664 1.91408,-2.79571 3.73677,-1.66331 2.88924,4.41284 -2.42491,5.17314 -0.32332,1.45494 1.93993,2.58657 1.13162,-0.8083 1.77827,0 2.26324,2.58656 3.87986,5.98144 3.55653,0.48498 2.26324,-0.96996 1.77827,-1.77827 -0.80831,-2.74822 -2.10158,-1.61661 -1.45495,0.8083 -0.96996,-1.29328 0.48498,-0.48498 2.10159,-0.16166 1.77826,0.8083 1.93993,2.42491 0.96996,2.90989 0.32332,2.4249 -4.20317,1.45495 -3.87985,1.93992 -3.87985,4.5265 -1.93993,1.45494 0,-0.96996 2.42491,-1.45495 0.48498,-1.77826 -0.8083,-3.07155 -2.90989,1.45494 -0.8083,1.45495 0.48498,2.26324 -2.06633,1.00043 -2.7472,-4.52713 -3.39488,-4.36484 -2.0705,-1.81247 -6.53327,1.8762 -5.09233,1.05079 -20.67516,4.59221 -0.66776,-4.76785 0.64664,-10.58877 4.28927,-0.88914 6.78975,-1.2933 z",TN:"m 696.67788,318.25411 -51.89309,5.01149 -15.75956,1.77826 -4.6212,0.51271 -3.86835,-0.0277 -0.22097,4.10083 -8.18538,0.26401 -6.95141,0.64664 -8.09083,-0.12386 -1.41378,7.07286 -1.69623,5.48005 -3.29317,2.75084 -1.34874,4.38106 -0.32332,2.58657 -4.04152,2.26324 1.45494,3.55654 -0.96996,4.36484 -0.96838,0.78965 108.15855,-10.40755 0.40327,-3.95494 1.81073,-1.49039 2.83415,-0.74945 0.67193,-3.71698 4.0986,-2.70496 4.04693,-1.49403 4.08358,-3.57033 4.43609,-2.02546 0.52126,-3.06735 4.0646,-3.98499 0.5508,-0.11417 c 0,0 0.0312,1.13162 0.83955,1.13162 0.8083,0 1.93993,0.35457 1.93993,0.35457 l 2.26325,-3.58779 2.07034,-0.64664 2.27511,0.29521 1.59831,-3.53286 2.95525,-2.64391 0.42168,-1.93911 0.30896,-3.71115 -2.14655,-0.19977 -2.60168,2.02833 -6.99331,0.0291 -18.35929,2.38682 -8.06109,1.9082 z",AR:"m 593.82477,343.05296 -3.97988,0.7167 -5.11215,-0.63403 0.4207,-1.60207 2.97975,-2.56669 0.94338,-3.65625 -1.82898,-2.9721 -78.41757,2.51485 1.60036,6.85869 -1e-5,8.23042 1.37175,10.97399 0.22862,37.83693 2.28623,1.94329 2.97209,-1.37173 2.74348,1.14311 0.68034,6.5733 55.62126,-1.1406 1.14563,-2.09037 -0.28662,-3.54951 -1.82563,-2.9721 1.59869,-1.48521 -1.59869,-2.5115 0.6842,-2.50983 1.36839,-5.60543 2.51819,-2.06263 -0.68587,-2.28456 3.65797,-5.37179 2.74347,-1.36839 -0.11348,-1.49358 -0.34544,-1.82564 2.85695,-5.59873 2.40304,-1.25659 0.38413,-3.42763 1.77067,-1.2417 -3.14352,-0.48427 -1.34146,-4.01044 2.80408,-2.37671 0.55026,-2.0192 1.27948,-4.04661 1.06619,-3.25539 z",MO:"m 558.44022,248.11316 -2.51987,-3.08725 -1.14312,-2.28623 -64.35723,2.40054 -2.28626,0.11431 1.25743,2.51485 -0.22862,2.28622 2.51484,3.88659 3.0864,4.11521 3.08641,2.74347 2.16123,0.22862 1.49673,0.9145 0,2.97209 -1.82897,1.60036 -0.45726,2.28622 2.05761,3.42935 2.51486,2.97209 2.51484,1.82898 1.37173,11.65975 0.31414,36.07221 0.22862,4.68675 0.45724,5.38351 22.43299,-0.86682 23.20603,-0.68587 20.80466,-0.80101 11.65474,-0.2303 2.1694,3.426 -0.68419,3.3075 -3.08725,2.40304 -0.57239,1.83734 5.37849,0.45726 3.89496,-0.68588 1.71718,-5.49363 0.65142,-5.85679 2.09803,-2.55516 2.59603,-1.48689 0.0514,-3.05024 1.01602,-1.93648 -1.69423,-2.54377 -1.33093,0.98426 -1.99262,-2.22724 -1.28503,-4.759 0.80101,-2.5182 -1.94413,-3.42766 -1.83064,-4.5758 -4.79941,-0.79934 -6.9688,-5.59875 -1.71886,-4.11353 0.79935,-3.20072 2.05927,-6.05767 0.45892,-2.86363 -1.94914,-1.03131 -6.85534,-0.79767 -1.02797,-1.71216 -0.1118,-4.23036 -5.48694,-3.43101 -6.97551,-7.7715 -2.28622,-7.31593 -0.23029,-4.22532 0.80101,-2.2879 z",GA:"m 672.29229,355.5518 0,2.18242 0.16166,2.1016 0.64664,3.39487 3.39488,7.92137 2.42491,9.86131 1.45494,6.14311 1.61661,4.84981 1.45495,6.95141 2.10159,6.30477 2.58657,3.39488 0.48498,3.39487 1.93993,0.8083 0.16166,2.1016 -1.77827,4.84981 -0.48498,3.23322 -0.16166,1.93993 1.61661,4.36484 0.32332,5.3348 -0.80831,2.42491 0.64665,0.80831 1.45495,0.8083 0.2047,3.21809 2.23301,3.34953 2.25044,2.16205 7.92138,0.16166 10.81975,-0.64664 21.51239,-1.29328 5.44572,-0.67437 4.57725,0.0277 0.16166,2.90989 2.58657,0.8083 0.32332,-4.36484 -1.61661,-4.5265 1.13163,-1.6166 5.81978,0.8083 4.97741,0.31778 -0.77542,-6.29879 2.26324,-10.02295 1.45495,-4.20318 -0.48499,-2.58656 3.33441,-6.2443 -0.5103,-1.35168 -1.91341,0.70458 -2.58656,-1.2933 -0.64665,-2.10159 -1.29328,-3.55653 -2.26326,-2.10159 -2.58656,-0.64664 -1.61661,-4.84982 -2.92501,-6.335 -4.20317,-1.93993 -2.1016,-1.93993 -1.29329,-2.58657 -2.10158,-1.93993 -2.26325,-1.29329 -2.26325,-2.90989 -3.07155,-2.26324 -4.52651,-1.77828 -0.48498,-1.45494 -2.42491,-2.90989 -0.48498,-1.45495 -3.39488,-4.97048 -3.51987,0.0992 -3.75491,-2.35614 -1.41828,-1.29328 -0.32332,-1.77827 0.8708,-1.93992 2.22664,-1.11014 -0.63394,-2.09722 -41.86975,4.98893 z",SC:"m 764.94328,408.16488 -1.77706,0.9695 -2.58657,-1.29329 -0.64664,-2.10159 -1.29328,-3.55653 -2.26326,-2.1016 -2.58657,-0.64664 -1.6166,-4.84981 -2.74824,-5.98145 -4.20317,-1.93994 -2.1016,-1.93992 -1.29328,-2.58657 -2.10159,-1.93994 -2.26325,-1.29328 -2.26325,-2.90989 -3.07155,-2.26324 -4.52651,-1.77828 -0.48498,-1.45494 -2.4249,-2.90989 -0.48499,-1.45496 -3.39488,-5.17313 -3.39487,0.16166 -4.04152,-2.42492 -1.29328,-1.29328 -0.32332,-1.77827 0.8083,-1.93992 2.26325,-0.96998 -0.51082,-2.28908 5.7681,-2.33657 9.1155,-4.589 7.77473,-0.80831 16.1144,-0.42248 2.63825,1.87743 1.6791,3.35822 4.30235,-0.60998 12.60953,-1.45496 2.90989,0.80831 12.60954,7.59806 10.10808,8.12168 -5.42117,5.45834 -2.58657,6.1431 -0.48498,6.30476 -1.6166,0.8083 -1.13163,2.74823 -2.4249,0.64664 -2.10159,3.55653 -2.74823,2.74823 -2.26324,3.39487 -1.61661,0.8083 -3.55653,3.39487 -2.90989,0.16166 0.96997,3.23321 -5.01148,5.49646 -2.10159,1.29328 z",KY:"m 725.9944,295.2707 -2.29332,2.40168 -3.57819,3.99404 -4.92455,5.46467 -1.21577,1.71577 -0.0625,2.10158 -4.37986,2.16409 -5.65812,3.39488 -7.23187,1.79885 -51.86789,4.89886 -15.75956,1.77826 -4.6212,0.51271 -3.86835,-0.0277 -0.22695,4.22028 -8.17941,0.14456 -6.95141,0.64664 -7.98748,-0.0602 1.20778,-1.32008 2.49954,-1.54085 0.22863,-3.20073 0.91449,-1.82898 -1.60682,-2.5389 0.80183,-1.90681 2.26326,-1.77826 2.10158,-0.64665 2.74823,1.29329 3.55654,1.29328 1.13163,-0.32332 0.16166,-2.26325 -1.29329,-2.42491 0.32332,-2.26325 1.93993,-1.45494 2.58658,-0.64665 1.6166,-0.64664 -0.8083,-1.77827 -0.64664,-1.93993 1.50662,-0.9958 c 0.003,-0.0371 1.25396,-3.52229 1.23829,-3.65781 l 3.05322,-1.47868 5.31979,-0.96996 4.49404,-0.48498 1.39244,1.62743 1.52827,0.8708 1.59077,-3.10821 3.18708,-1.28262 2.20509,1.48403 0.41056,0.99904 1.17352,-0.26401 -0.16167,-2.95293 3.13087,-1.74919 2.14809,-1.07348 1.52936,1.66081 3.31815,-0.0442 0.58733,-1.57125 -0.36751,-2.26324 2.60053,-3.9985 4.77655,-3.4379 0.70595,-4.83586 2.92502,-0.45591 3.79146,-1.64568 2.44332,-1.70824 -0.19833,-1.56493 -1.14245,-1.45494 0.56582,-2.99491 4.18485,-0.1175 2.29991,-0.7458 3.34739,1.4291 2.05411,4.36484 5.13229,0.0108 2.05101,2.20819 1.61545,-0.1477 2.60169,-1.27817 5.23706,0.57337 2.57492,0.21751 1.68758,-2.05624 2.61795,-1.42588 1.88178,-0.7071 0.64664,2.83663 2.04343,1.05834 2.64276,2.08249 0.11747,5.67324 0.8083,1.57241 2.58972,1.55628 0.77164,2.29451 4.15989,3.43694 1.80531,3.62324 2.45655,1.65852 z",AL:"m 631.30647,460.41572 -1.4906,-14.3215 -2.74824,-18.75264 0.16166,-14.06449 0.8083,-31.03885 -0.16166,-16.65106 0.16509,-6.41906 44.48448,-3.61945 -0.1478,2.18242 0.16166,2.1016 0.64665,3.39487 3.39488,7.92137 2.4249,9.86131 1.45495,6.14311 1.6166,4.84982 1.45496,6.95141 2.10158,6.30476 2.58657,3.39489 0.48498,3.39486 1.93994,0.80831 0.16166,2.10159 -1.77828,4.84982 -0.48498,3.23322 -0.16166,1.93992 1.61662,4.36485 0.32332,5.33479 -0.80832,2.42492 0.64666,0.8083 1.45494,0.8083 0.32814,2.88882 -5.59766,-0.35355 -6.78975,0.64665 -25.5424,2.90988 -10.41156,1.40677 -0.22138,2.8774 1.77827,1.77827 2.58657,1.93992 0.58086,7.93544 -5.54206,2.5729 -2.74822,-0.32332 2.74822,-1.93993 0,-0.96996 -3.07154,-5.98144 -2.26325,-0.64664 -1.45495,4.36483 -1.29328,2.74823 -0.64664,-0.16166 -2.74823,0 z",LA:"m 607.96706,459.16125 -3.28461,-3.16614 1.00991,-5.50023 -0.66135,-0.89308 -9.26167,1.00656 -25.02832,0.45892 -0.68419,-2.39468 0.91281,-8.4557 3.31588,-5.94585 5.03136,-8.69102 -0.57407,-2.39802 1.25659,-0.68085 0.45893,-1.95249 -2.28624,-2.05593 -0.11179,-1.94245 -1.83066,-4.34551 -0.14705,-6.3386 -55.47379,0.92397 0.0286,9.57357 0.68587,9.37353 0.68587,3.88658 2.51485,4.11521 0.91449,5.02971 4.34383,5.48693 0.22862,3.20072 0.68587,0.68587 -0.68587,8.45904 -2.97209,5.02969 1.60036,2.05761 -0.68588,2.51484 -0.68586,7.31593 -1.37174,3.20071 0.12246,3.61645 4.68648,-1.52015 12.11335,0.20701 10.34627,3.55653 6.46642,1.13163 3.71819,-1.45495 3.23321,1.13163 3.23321,0.96996 0.8083,-2.10159 -3.23321,-1.13162 -2.58657,0.48498 -2.74823,-1.6166 c 0,0 0.16167,-1.29329 0.80831,-1.45495 0.64664,-0.16166 3.07155,-0.96996 3.07155,-0.96996 l 1.77826,1.45494 1.77827,-0.96996 3.23321,0.64664 1.45494,2.42491 0.32332,2.26325 4.52649,0.32332 1.77827,1.77826 -0.8083,1.61661 -1.29329,0.8083 1.61661,1.6166 8.40634,3.55653 3.55653,-1.29328 0.96997,-2.42491 2.58656,-0.64664 1.77827,-1.45494 1.29328,0.96996 0.8083,2.90989 -2.26324,0.8083 0.64664,0.64664 3.39487,-1.29328 2.26325,-3.39487 0.8083,-0.48498 -2.10159,-0.32332 0.8083,-1.61661 -0.16166,-1.45494 2.10159,-0.48498 1.13162,-1.29329 0.64664,0.8083 c 0,0 -0.16166,3.07155 0.64665,3.07155 0.8083,0 4.20317,0.64665 4.20317,0.64665 l 4.04151,1.93992 0.96996,1.45495 2.90989,0 1.13163,0.96996 2.26324,-3.07155 0,-1.45495 -1.29328,0 -3.39487,-2.74822 -5.81978,-0.80831 -3.23321,-2.26324 1.13163,-2.74823 2.26324,0.32332 0.16166,-0.64664 -1.77826,-0.96996 0,-0.48499 3.23321,0 1.77826,-3.07154 -1.29328,-1.93993 -0.32332,-2.74823 -1.45495,0.16166 -1.93992,2.10159 -0.64664,2.58657 -3.07155,-0.64665 -0.96997,-1.77826 1.77827,-1.93993 1.90333,-3.4456 -1.0611,-2.41227 -1.16564,-3.98133 z",
MS:"m 631.55882,459.34458 -0.25426,1.25615 -5.17314,0 -1.45494,-0.8083 -2.10159,-0.32332 -6.78974,1.93992 -1.77826,-0.8083 -2.58657,4.20317 -1.10254,0.77802 -1.12383,-2.48798 -1.14312,-3.88659 -3.42933,-3.20071 1.1431,-5.54455 -0.68586,-0.91449 -1.82898,0.22862 -7.91792,0.87337 -24.5465,0.37337 -0.76974,-2.22536 0.87337,-8.3768 3.11684,-5.67281 5.22707,-9.1449 -0.44574,-2.4326 1.23686,-0.65625 0.43587,-1.91947 -2.31748,-2.07898 -0.11512,-2.14148 -1.83572,-4.12109 -0.109,-5.96277 1.32753,-2.48097 -0.2233,-3.41575 -1.76949,-3.08259 1.52642,-1.48221 -1.57061,-2.49954 0.45725,-1.65221 1.5774,-6.52637 2.48595,-2.03635 -0.64167,-2.36697 3.65797,-5.30253 2.83186,-1.35642 -0.22097,-1.67516 -0.28813,-1.6811 2.87606,-5.56767 2.34572,-1.23151 0.15163,-0.89301 37.34348,-3.88117 0.18486,6.28333 0.16166,16.65106 -0.8083,31.03885 -0.16166,14.06449 2.74824,18.75264 1.48437,13.39529 z",IA:"m 569.19154,199.5843 0.26438,2.7862 2.22372,0.57726 0.95394,1.22533 0.50001,1.85536 3.79284,3.35865 0.68587,2.3915 -0.67434,3.42447 -1.58231,3.23198 -0.79934,2.74179 -2.17275,1.60204 -1.71551,0.5724 -5.57902,1.8602 -1.39146,3.84869 0.72864,1.37174 1.84051,1.68259 -0.28293,4.03629 -1.76315,1.53786 -0.77141,1.64314 0.12722,2.77632 -1.88631,0.45724 -1.62545,1.10491 -0.27879,1.35263 0.27879,2.11492 -1.55102,1.11607 -2.47053,-3.13328 -1.26257,-2.44987 -65.73582,2.51485 -0.91803,0.16544 -2.0524,-4.51596 -0.22862,-6.63007 -1.60036,-4.11521 -0.68586,-5.25831 -2.28623,-3.65797 -0.91448,-4.80107 -2.74348,-7.54455 -1.14311,-5.37264 -1.37174,-2.17191 -1.60036,-2.74346 1.95398,-4.84383 1.37174,-5.71557 -2.74347,-2.05761 -0.45725,-2.74347 0.9145,-2.51485 1.71467,0 82.654,-1.26948 0.83426,4.18312 2.25218,1.56097 0.25671,1.42309 -2.02954,3.38931 0.19041,3.20552 2.51486,3.7982 2.52679,1.29362 3.07928,0.50305 0.65834,0.83236 z",MN:"m 475.23781,128.82439 -0.45725,-8.45904 -1.82898,-7.31592 -1.82898,-13.488725 -0.45725,-9.830778 -1.82898,-3.429343 -1.60036,-5.029695 0,-10.28802 0.68586,-3.886587 -1.82093,-5.451667 30.13242,0.03527 0.32332,-8.244684 0.64664,-0.161661 2.26325,0.484982 1.93992,0.808302 0.8083,5.496456 1.45495,6.143098 1.6166,1.616605 4.84982,0 0.32332,1.454944 6.30476,0.323321 0,2.101586 4.84981,0 0.32332,-1.293284 1.13162,-1.131623 2.26325,-0.646642 1.29328,0.969963 2.90989,0 3.87985,2.586567 5.3348,2.424907 2.42491,0.484982 0.48498,-0.969963 1.45494,-0.484982 0.48498,2.909889 2.58657,1.293284 0.48498,-0.484982 1.29329,0.161661 0,2.101586 2.58656,0.969963 3.07155,0 1.61661,-0.808303 3.23321,-3.233209 2.58656,-0.484981 0.80831,1.778265 0.48498,1.293283 0.96996,0 0.96996,-0.808302 8.89133,-0.323321 1.77826,3.071549 0.64665,0 0.71361,-1.084279 4.43991,-0.370665 -0.6121,2.279459 -3.93872,1.837125 -9.24578,4.061128 -4.77474,2.006897 -3.07155,2.586568 -2.42491,3.55653 -2.26324,3.879851 -1.77827,0.808304 -4.52649,5.01147 -1.29329,0.16166 -4.32778,2.75712 -2.46288,3.20511 -0.22862,3.19139 0.0944,8.04335 -1.37604,1.68875 -5.08154,3.75997 -2.23008,5.98241 2.87175,2.23371 0.67989,3.22698 -1.85524,3.23893 0.17079,3.74802 0.36886,6.7304 3.02825,3.00199 3.329,0 1.89111,3.1326 3.37917,0.50327 3.85916,5.67147 7.08729,4.11675 2.14315,2.87512 0.67115,6.43951 -81.2115,1.14479 -0.33792,-35.67685 -0.45724,-2.97209 -4.11521,-3.42934 -1.14312,-1.82898 0,-1.60037 2.0576,-1.60035 1.37174,-1.37174 0.22863,-3.20072 z",OK:"m 380.34313,320.82146 -16.68418,-1.27331 -0.88022,10.95243 20.46538,1.15688 32.05555,1.3036 -2.3346,24.41865 -0.45725,17.83257 0.22863,1.60036 4.34383,3.65796 2.0576,1.14311 0.68587,-0.22862 0.68587,-2.05761 1.37174,1.82899 2.0576,0 0,-1.37174 2.74347,1.37174 -0.45724,3.88658 4.11521,0.22862 2.51484,1.14312 4.11521,0.68587 2.51485,1.82898 2.28623,-2.0576 3.42934,0.68586 2.51485,3.42934 0.91448,0 0,2.28623 2.28623,0.68586 2.28622,-2.28622 1.82899,0.68586 2.51484,0 0.9145,2.51486 6.30107,2.07897 1.37174,-0.68586 1.82898,-4.11521 1.14311,0 1.14312,2.0576 4.11521,0.68587 3.65795,1.37174 2.9721,0.91449 1.82899,-0.91449 0.68586,-2.51485 4.34383,0 2.0576,0.91449 2.74347,-2.05761 1.14312,0 0.68587,1.60036 4.1152,0 1.60036,-2.0576 1.82899,0.45724 2.0576,2.51486 3.20071,1.82897 3.20073,0.9145 1.94108,1.11893 -0.3891,-37.21701 -1.37175,-10.97398 -0.16046,-8.87234 -1.43989,-6.53773 -0.7782,-7.17964 -0.0681,-3.81622 -12.13684,0.31874 -46.41004,-0.45724 -45.03891,-2.05762 -24.2912,-1.37173 z",TX:"m 361.46423,330.57358 22.69079,1.08594 31.09269,1.14312 -2.33461,23.4558 -0.29676,18.15352 0.0681,2.08179 4.34383,3.81843 1.98665,1.44716 1.18421,-0.55969 0.37337,-1.81772 1.14032,1.80362 2.11164,0.0439 -0.003,-1.44709 1.66994,0.96727 1.1387,0.40887 -0.35927,3.96765 4.08819,0.0935 2.92532,1.19717 3.95474,0.52538 2.38138,2.07898 2.1241,-2.07617 3.72494,0.61491 2.22091,3.22494 1.07496,0.32096 -0.16047,1.96527 2.21361,0.79229 2.33015,-2.0548 2.13302,0.61492 2.22938,0.0355 0.93307,2.43544 6.32809,2.11445 1.59305,-0.76693 1.48947,-4.17771 0.34072,0 0.90649,0.0816 1.22905,2.06863 3.92988,0.66528 3.337,1.12288 3.42563,1.19597 1.84058,-0.975 0.71376,-2.51484 4.45322,0.0442 1.80874,0.93078 2.79925,-2.10651 1.10364,0.0442 0.85104,1.60507 4.05472,0 1.51887,-2.02862 1.86737,0.40724 1.94603,2.40328 3.52057,2.04415 2.85876,0.80981 1.51362,0.79984 2.4467,1.99732 3.04304,-1.32779 2.69109,1.13888 0.56381,6.10594 -0.0398,9.70217 0.68586,9.53401 0.70218,3.60511 2.67533,4.41986 0.89818,4.95073 4.21595,5.53802 0.19602,3.14494 0.74637,0.78584 -0.73007,8.38007 -2.8721,5.0065 1.53297,2.15287 -0.63008,2.33808 -0.66957,7.40432 -1.50432,3.338 0.29488,3.50235 -5.66488,1.58518 -9.86129,4.5265 -0.96996,1.93992 -2.58657,1.93993 -2.10158,1.45494 -1.29329,0.8083 -5.65811,5.3348 -2.74823,2.10159 -5.3348,3.2332 -5.65811,2.42491 -6.30476,3.39487 -1.77826,1.45495 -5.81978,3.55653 -3.39487,0.64664 -3.87985,5.49645 -4.04151,0.32333 -0.96997,1.93992 2.26325,1.93993 -1.45495,5.49645 -1.29328,4.5265 -1.13162,3.87985 -0.8083,4.52649 0.8083,2.42491 1.77826,6.9514 0.96997,6.14309 1.77826,2.74823 -0.96996,1.45495 -3.07155,1.93992 -5.65812,-3.87985 -5.49645,-1.13162 -1.29329,0.48498 -3.23321,-0.64664 -4.20317,-3.07155 -5.17313,-1.13162 -7.59805,-3.39487 -2.10158,-3.87986 -1.29329,-6.46641 -3.2332,-1.93993 -0.64665,-2.26325 0.64665,-0.64664 0.32332,-3.39487 -1.29329,-0.64664 -0.64664,-0.96996 1.29328,-4.36484 -1.6166,-2.26324 -3.23321,-1.29329 -3.39487,-4.36483 -3.55653,-6.62808 -4.20317,-2.58657 0.16166,-1.93992 -5.3348,-12.2862 -0.8083,-4.20317 -1.77826,-1.93992 -0.16166,-1.45495 -5.98144,-5.33479 -2.58657,-3.07155 0,-1.13163 -2.58657,-2.10158 -6.78974,-1.13163 -7.43638,-0.64664 -3.07155,-2.26324 -4.52649,1.77826 -3.55653,1.45495 -2.26325,3.2332 -0.96996,3.7182 -4.36483,6.14309 -2.42491,2.42491 -2.58657,-0.96996 -1.77826,-1.13163 -1.93993,-0.64664 -3.87985,-2.26324 0,-0.64665 -1.77826,-1.93992 -5.17314,-2.10159 -7.43638,-7.7597 -2.26325,-4.68815 0,-8.08303 -3.23321,-6.46642 -0.48498,-2.74822 -1.6166,-0.96997 -1.13163,-2.10158 -5.01147,-2.10159 -1.29328,-1.6166 -7.11307,-7.92137 -1.29328,-3.23321 -4.68816,-2.26325 -1.45495,-4.36487 -2.58659,-2.90987 -1.93991,-0.48496 -0.64923,-4.67764 8.00187,0.68589 29.03499,2.74345 29.03508,1.60036 2.23353,-19.46182 3.88655,-55.55502 1.60039,-18.74732 1.37174,0.0286 m 99.02935,229.66274 -0.56581,-7.11308 -2.74824,-7.19392 -0.56582,-7.03225 1.53578,-8.24471 3.31406,-6.87059 3.4757,-5.41565 3.1524,-3.55655 0.64664,0.2425 -4.769,6.6281 -4.36484,6.54728 -2.02077,6.62809 -0.32332,5.17316 0.88913,6.14312 2.58658,7.19392 0.48498,5.17314 0.16166,1.45496 -0.88913,0.24248 z",NM:"m 288.15255,424.01315 -0.77541,-4.7481 8.64378,0.5254 30.17176,2.9459 27.26816,1.68989 2.21527,-18.70747 3.85736,-55.87597 1.73768,-19.38923 1.5717,0.12856 0.8254,-11.16339 -104.00445,-10.63595 -17.49735,120.43481 15.46067,1.98915 1.29328,-10.02295 29.23215,2.82935 z",KS:"m 507.88059,324.38028 -12.61826,0.20443 -46.08909,-0.45723 -44.55748,-2.05763 -24.62974,-1.25741 3.89379,-64.59497 22.08346,0.67517 40.28913,0.8414 44.30124,0.98758 5.09563,0 2.1844,2.1624 2.01766,-0.0214 1.6403,1.01247 -0.0625,3.00923 -1.82898,1.72537 -0.33225,2.23217 1.84308,3.40233 2.95236,3.19506 2.32735,1.61446 1.30077,11.24082 0.18913,36.08573 z",NE:"m 486.09787,240.70058 3.23061,7.01991 -0.12863,2.30252 3.45922,5.49388 2.71929,3.15234 -5.04948,0 -43.48256,-0.93868 -40.78686,-0.8903 -22.25222,-0.78387 1.07277,-21.32785 -32.31824,-2.92025 4.34383,-44.00986 15.54633,1.02881 20.11879,1.1431 17.83257,1.14312 23.77676,1.14311 10.74526,-0.45724 2.0576,2.28622 4.80108,2.9721 1.14311,0.91449 4.34383,-1.37174 3.88659,-0.45724 2.74347,-0.22863 1.82898,1.37174 4.05743,1.60036 2.97209,1.60036 0.45725,1.60036 0.91449,2.0576 1.82898,0 0.79798,0.0462 0.89423,4.68182 2.92026,8.46792 0.57253,3.75671 2.52349,3.77425 0.56959,5.11414 1.60724,4.24037 0.25234,6.47426 z",SD:"m 476.44687,204.02465 -0.0474,-0.58087 -2.89571,-4.84544 1.86023,-4.71211 1.49273,-5.88654 -2.78187,-2.07971 -0.38516,-2.74346 0.7924,-2.55435 3.18851,0.0152 -0.12308,-5.00614 -0.3333,-30.17425 -0.61773,-3.76758 -4.07232,-3.33093 -0.98263,-1.67696 -0.0625,-1.60882 2.02212,-1.5294 1.53222,-1.66567 0.24496,-2.65679 -58.25709,-1.60035 -54.79921,-3.44909 -5.32527,63.69119 14.59027,0.9038 19.94985,1.20561 17.74305,0.92859 23.77676,1.30358 11.9827,-0.42464 1.9663,2.24518 5.19464,3.25335 0.76389,0.72275 4.54144,-1.45281 6.54054,-0.61491 1.6753,1.33627 4.20451,1.59613 2.94506,1.63583 0.39898,1.48381 1.03949,2.24088 2.23737,-0.20136 z",ND:"m 475.30528,128.91846 -0.61491,-8.43367 -1.67695,-6.81592 -1.89149,-13.02422 -0.45724,-10.987026 -1.73946,-3.077142 -1.75661,-5.194396 0.0312,-10.44427 0.62336,-3.824087 -1.8341,-5.467761 -28.64225,-0.564027 -18.59095,-0.646642 -26.51232,-1.293284 -22.94634,-2.133869 -6.99324,67.176834 54.93224,3.34365 58.06901,1.38583 z",WY:"m 360.37668,143.27587 -106.7426,-13.45706 -14.08348,88.45803 113.26461,13.58549 7.56147,-88.58646 z",MT:"M 369.20952,56.969133 338.5352,54.1613 l -29.26055,-3.55653 -29.26054,-4.041512 -32.3321,-5.334795 -18.42929,-3.39487 -32.72365,-6.932736 -4.47902,21.347532 3.42934,7.544541 -1.37174,4.572452 1.82898,4.572451 3.20073,1.371739 4.62082,10.769453 2.6951,3.176523 0.45724,1.143118 3.42934,1.143118 0.45725,2.057593 -7.0873,17.603953 0,2.51485 2.51485,3.20071 0.91448,0 4.80107,-2.97209 0.68588,-1.14312 1.60036,0.68587 -0.22863,5.25832 2.74348,12.57425 2.97209,2.51484 0.91448,0.68587 1.82899,2.28622 -0.45725,3.42935 0.68587,3.42933 1.14312,0.9145 2.28622,-2.28623 2.74347,0 3.20072,1.60036 2.51485,-0.91449 4.11521,0 3.65795,1.60036 2.74348,-0.45725 0.45724,-2.9721 2.97209,-0.68586 1.37174,1.37174 0.45725,3.20071 1.42587,0.83464 1.88695,-11.03474 106.74567,13.42892 8.80221,-86.299157 z",CO:"m 380.03242,320.96457 4.90324,-86.32496 -113.38856,-12.64396 -12.21382,87.93916 120.69914,11.02976 z",ID:"m 148.47881,176.48395 8.77087,-35.22072 1.37174,-4.22952 2.51484,-5.94418 -1.25742,-2.28623 -2.51486,0.11431 -0.80017,-1.0288 0.45725,-1.14311 0.34292,-3.08641 4.45815,-5.48695 1.82898,-0.45724 1.14311,-1.14311 0.57156,-3.20072 0.91448,-0.68586 3.88659,-5.82988 3.88659,-4.34383 0.22862,-3.772268 -3.42934,-2.629163 -1.53555,-4.400983 13.62491,-63.341691 13.51759,2.528111 -4.40808,21.383013 3.56035,7.485352 -1.58111,4.66084 1.96985,4.641233 3.13822,1.255191 3.83534,9.556588 3.51269,4.437154 0.50725,1.143118 3.34095,1.143118 0.36885,2.097075 -6.97101,17.376092 -0.16518,2.56593 2.63112,3.3217 0.90508,-0.0489 4.91129,-3.0256 0.67742,-1.09497 1.56231,0.65886 -0.27844,5.35372 2.73925,12.58271 3.91783,3.17791 1.68118,2.16545 -0.71661,4.08386 1.06622,2.80741 1.06163,1.09128 2.47929,-2.35142 2.84816,0.0489 2.91925,1.3352 2.78002,-0.68193 3.79426,-0.16048 3.9789,1.60036 2.74348,-0.29676 0.49674,-3.03731 2.93259,-0.76483 1.26017,1.51591 0.44093,2.94496 1.42434,1.21321 -8.386,53.60866 c 0,0 -87.96599,-16.70061 -94.95939,-18.20435 z",UT:"m 259.49836,310.10509 -83.74903,-11.87225 20.58761,-112.54135 46.78031,8.74514 -1.4848,10.63042 -2.31162,13.17266 7.80769,0.92837 16.40652,1.80479 8.21097,0.85564 -12.24765,88.27658 z",AZ:"m 144.9112,382.62909 -2.62701,2.15833 -0.32332,1.45495 0.48498,0.96996 18.91427,10.66959 12.12454,7.59804 14.7111,8.56801 16.81269,10.02295 12.2862,2.42491 24.95116,2.70491 17.25561,-119.12707 -83.73563,-11.91725 -3.09239,16.41246 -1.60629,0.0153 -1.71467,2.62916 -2.51485,-0.11432 -1.25742,-2.74347 -2.74347,-0.34293 -0.9145,-1.14311 -0.91448,0 -0.9145,0.57156 -1.94329,1.0288 -0.1143,6.97298 -0.22864,1.71467 -0.57154,12.57424 -1.48605,2.17191 -0.57156,3.31503 2.74347,4.91539 1.25742,5.82988 0.80019,1.0288 1.0288,0.57156 -0.11432,2.28622 -1.60035,1.37173 -3.42934,1.71467 -1.94329,1.9433 -1.48605,3.65795 -0.57156,4.91539 -2.85778,2.74347 -2.0576,0.68587 0.13569,0.82988 -0.45725,1.71467 0.45725,0.80018 3.65796,0.57154 -0.57156,2.74348 -1.48605,2.17191 -3.77227,0.91449 z",NV:"m 196.39273,185.57552 -23.63891,128.82275 -1.83224,0.34915 -1.57276,2.40618 -2.37294,0.0107 -1.47195,-2.74347 -2.61847,-0.37842 -0.77092,-1.10763 -1.03783,-0.054 -2.77837,1.64429 -0.31026,6.78548 -0.36209,5.77717 -0.34857,8.59281 -1.4471,2.08916 -2.43892,-1.07403 -69.079886,-104.20119 18.989116,-67.58491 93.0921,20.66601 z",OR:"m 148.72184,175.53153 8.8497,-34.80151 1.05079,-4.22952 2.35437,-5.62323 -0.61551,-1.16288 -2.51486,-0.0462 -1.2816,-1.6707 0.45724,-1.46407 0.50341,-3.24688 4.45815,-5.48695 1.82898,-1.09915 1.14311,-1.14311 1.48604,-3.56563 4.04706,-5.6694 3.56563,-3.8624 0.22862,-3.451314 -3.26886,-2.468682 -1.78341,-4.642625 -12.66377,-3.61197 -15.08909,-3.54365 -15.43202,0.114306 -0.45724,-1.371729 -5.48695,2.057604 -4.45814,-0.571559 -2.40054,-1.600361 -1.25742,0.685875 -4.68676,-0.228632 -1.71467,-1.371729 -5.25832,-2.057604 -0.800182,0.114316 -4.34383,-1.486056 -1.943291,1.828983 -6.172812,-0.342927 -5.944183,-4.115209 0.685865,-0.80018 0.228621,-7.773173 -2.286225,-3.886577 -4.115208,-0.571559 -0.685865,-2.514847 -2.353932,-0.466565 -5.798525,2.058784 -2.263247,6.466418 -3.233209,10.022949 -3.23321,6.466419 -5.011474,14.064461 -6.466419,13.579473 -8.083023,12.60952 -1.939926,2.90989 -0.808302,8.568 0.386095,12.08023 112.578342,26.32133 z",WA:"m 102.07324,7.6117734 4.36483,1.4549443 9.69963,2.7482283 8.568,1.939925 20.0459,5.658117 22.95579,5.658116 15.22312,3.207173 -13.63236,63.585811 -12.445,-3.525318 -15.50801,-3.570679 -15.22929,0.03324 -0.45557,-1.344699 -5.59922,2.179293 -4.59543,-0.736744 -2.14697,-1.584054 -1.31321,0.657976 -4.73566,-0.140243 -1.69836,-1.349633 -5.26304,-2.112303 -0.734971,0.146918 -4.389122,-1.524448 -1.893298,1.817379 -6.265906,-0.298733 -5.925698,-4.125702 0.778957,-0.932763 0.121223,-7.677452 -2.281999,-3.839701 -4.115208,-0.60704 -0.67741,-2.510616 -2.275512,-0.456932 -3.554948,1.230576 -2.263247,-3.219247 0.323321,-2.909889 2.748228,-0.323321 1.616605,-4.041511 -2.586568,-1.131624 0.161661,-3.718191 4.364833,-0.646641 -2.748228,-2.748228 -1.454945,-7.113061 0.646642,-2.909888 0,-7.921363 -1.778265,-3.23321 2.263247,-9.376307 2.101586,0.484981 2.424907,2.909889 2.748228,2.586567 3.233209,1.939926 4.526493,2.101586 3.071551,0.646642 2.909889,1.454944 3.394873,0.969963 2.263246,-0.16166 0,-2.424908 1.293284,-1.131623 2.101582,-1.293284 0.32333,1.131624 0.32332,1.778265 -2.263251,0.484981 -0.323321,2.101586 1.778262,1.454945 1.13163,2.424907 0.64664,1.939925 1.45494,-0.16166 0.16166,-1.293284 -0.96996,-1.293284 -0.48498,-3.233209 0.8083,-1.778265 -0.64664,-1.454944 0,-2.263247 1.77827,-3.55653 -1.13163,-2.586568 -2.42491,-4.8498139 0.32333,-0.8083023 1.13162,-0.8083024 z m -9.456692,5.9789646 2.020764,-0.16166 0.484982,1.374119 1.535779,-1.616615 2.344082,0 0.808303,1.535779 -1.53578,1.69744 0.646652,0.808313 -0.727477,2.020761 -1.374119,0.404146 c 0,0 -0.889138,0.08084 -0.889138,-0.242485 0,-0.323321 1.454955,-2.586578 1.454955,-2.586578 l -1.69744,-0.565817 -0.323321,1.454954 -0.727478,0.646642 -1.535782,-2.263257 -0.484982,-2.505742 z",CA:"m 144.69443,382.19813 3.94008,-0.48862 1.48604,-2.01144 0.54454,-2.94109 -3.55152,-0.59012 -0.51417,-0.66822 0.4775,-2.03231 -0.15928,-0.58967 1.92257,-0.61959 3.04278,-2.83268 0.58156,-4.9951 1.3799,-3.40211 1.94329,-2.16626 3.51887,-1.58967 1.65439,-1.60483 0.0687,-2.10884 -0.99333,-0.58001 -1.02315,-1.07273 -1.15522,-5.84845 -2.6852,-4.83009 0.56581,-3.505 -2.41958,-1.02931 -69.061322,-104.1784 18.902112,-67.60149 -67.079863,-15.69796 -1.506896,4.73324 -0.161661,7.43638 -5.173135,11.80121 -3.071548,2.58657 -0.323321,1.13162 -1.778266,0.80831 -1.454944,4.20317 -0.808302,3.23321 2.748228,4.20317 1.616605,4.20317 1.131623,3.55653 -0.323321,6.46642 -1.778265,3.07155 -0.646642,5.81978 -0.969963,3.71819 1.778265,3.87985 2.748228,4.52649 2.263247,4.84982 1.293283,4.04151 -0.32332,3.23321 -0.323321,0.48498 0,2.10158 5.658116,6.30476 -0.484981,2.42491 -0.646642,2.26325 -0.646642,1.93992 0.16166,8.24469 2.101586,3.71819 1.939926,2.58656 2.748228,0.48499 0.969963,2.74822 -1.131623,3.55653 -2.101587,1.61661 -1.131623,0 -0.808302,3.87985 0.484981,2.90989 3.23321,4.36483 1.616604,5.3348 1.454944,4.68815 1.293284,3.07155 3.39487,5.81978 1.454944,2.58656 0.484982,2.90989 1.616604,0.96996 0,2.42491 -0.808302,1.93993 -1.778265,7.11306 -0.484982,1.93992 2.424908,2.74823 4.203172,0.48498 4.526493,1.77827 3.879851,2.10158 2.909889,0 2.909888,3.07155 2.586567,4.84982 1.131624,2.26324 3.879851,2.10159 4.849814,0.8083 1.454944,2.10159 0.646642,3.23321 -1.454944,0.64664 0.323321,0.96996 3.233211,0.8083 2.748228,0.16167 3.159889,-1.68685 3.879854,4.20317 0.808302,2.26325 2.586572,4.20317 0.32332,3.23321 0,9.37631 0.48498,1.77826 10.02295,1.45495 19.72257,2.74822 13.84504,1.3497 z m -88.135212,-43.71668 1.293288,1.53578 -0.16166,1.29329 -3.233221,-0.0808 -0.565814,-1.21246 -0.646644,-1.45495 3.314051,-0.0808 z m 1.939932,0 1.212458,-0.64664 3.556543,2.10159 3.07156,1.21245 -0.889136,0.64666 -4.526509,-0.2425 -1.61661,-1.61661 -0.808306,-1.45495 z m 20.692614,19.80348 1.778265,2.34408 0.808313,0.96997 1.535779,0.56581 0.565807,-1.45495 -0.969963,-1.77827 -2.667403,-2.02076 -1.050798,0.16166 0,1.21246 z m -1.454955,8.64886 1.778276,3.15239 1.212458,1.93994 -1.454954,0.24248 -1.293284,-1.21245 c 0,0 -0.727477,-1.45495 -0.727477,-1.85911 0,-0.40414 0,-2.18242 0,-2.18242 l 0.484981,-0.0808 z"}}}})}(jQuery),$(document).ready(function(){if($("body").hasClass("forms-elements")){$("#phone").mask("(999) 999-9999"),$("#phone-ex").mask("(999) 999-9999? x99999"),$("#tax-id").mask("99-9999999"),$("#ssn").mask("999-99-9999"),$("#product-key").mask("a*-999-a999"),$(".switch-demo, .switch-radio-demo").bootstrapSwitch(),$(".switch-radio-demo").on("switch-change",function(){$(".switch-radio-demo").bootstrapSwitch("toggleRadioState")}),$("#multiselect1, #multiselect2, #multiselect5, #multiselect6").multiselect({maxHeight:300}),$("#multiselect3-all").multiselect({includeSelectAllOption:!0,buttonClass:"btn btn-primary"}),$("#multiselect4-filter").multiselect({enableFiltering:!0,enableCaseInsensitiveFiltering:!0,maxHeight:200}),$("#multiselect7-addon").multiselect({buttonContainer:'<div class="btn-group" />'}),$("#multiselect-color").multiselect({buttonClass:"btn btn-primary"}),$("#multiselect-size").multiselect({buttonClass:"btn btn-default btn-sm"}),$("#multiselect-link").multiselect({buttonClass:"btn btn-link"}),$("form.input-append").keypress(function(a){13==a.which&&a.preventDefault()}),$(".input-group-appendable .add-more").click(function(){$wrapper=$(this).parents(".input-appendable-wrapper"),$lastItem=$wrapper.find(".input-group-appendable").last(),$newInput=$lastItem.clone(!0),$count=$wrapper.find("#count").val(),$count++,$newInput.attr("id","input-group-appendable"+$count),$newInput.find('input[type="text"]').attr({id:"field"+$count,name:"field"+$count}),$newInput.find(".btn").attr("id","btn"+$count),$newInput.appendTo($wrapper),$lastItem.find(".btn").removeClass("add-more btn-primary").addClass("btn-danger").text("-").off().on("click",function(){$(this).parents(".input-group-appendable").remove()}),$wrapper.find("#count").val($count)}),$(".basic-slider").rangeSlider({arrows:!1}),$(".basic-slider").on("valuesChanging",function(a,b){$("#slider-output").text("Value min: "+b.values.min+", max: "+b.values.max).slideDown(300)}),$(".date-slider").dateRangeSlider({arrows:!1}),$(".editable-slider").editRangeSlider({arrows:!1,bounds:{min:5,max:50},defaultValues:{min:12,max:40}}),$(".basic-step-slider").rangeSlider({arrows:!1,step:10}),$(".basic-label-slider").rangeSlider({valueLabels:"change"}),$("#demo1").colorpicker(),$("#demo2").colorpicker({format:"rgba"}),$("#demo3").colorpicker(),$('select[name="colorpicker-picker-longlist"]').simplecolorpicker({picker:!0,theme:"fontawesome"}),$("#touchspin1").TouchSpin(),$("#touchspin2").TouchSpin({min:0,max:100,step:.1,decimals:2,boostat:5,maxboostedstep:10,postfix:"%"}),$("#touchspin3").TouchSpin({min:-1e9,max:1e9,stepinterval:50,maxboostedstep:1e7,prefix:"$",prefix_extraclass:""}),$("#touchspin4").TouchSpin({postfix:"Submit",postfix_extraclass:"btn btn-custom-secondary"});var a=99;$(".js-textarea-help span").html(a+" characters remaining"),$("#textarea").keyup(function(){var b=$("#textarea").val().length,c=a-b;$(".js-textarea-help span").html(c+" characters remaining")});var b=$("#datepicker").datepicker().on("changeDate",function(a){b.datepicker("hide")});$("#daterange-default").daterangepicker({timePicker:!0,timePickerIncrement:10,format:"MM/DD/YYYY h:mm A"}),$("#reportrange").daterangepicker({startDate:moment().subtract("days",29),endDate:moment(),minDate:"01/01/1970",maxDate:"12/31/2024",dateLimit:{days:60},showDropdowns:!0,showWeekNumbers:!0,timePicker:!1,timePickerIncrement:1,timePicker12Hour:!0,ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract("days",1),moment().subtract("days",1)],"Last 7 Days":[moment().subtract("days",6),moment()],"Last 30 Days":[moment().subtract("days",29),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract("month",1).startOf("month"),moment().subtract("month",1).endOf("month")]},opens:"left",buttonClasses:["btn btn-default"],applyClass:"btn-small btn-primary",cancelClass:"btn-small",format:"MM/DD/YYYY",separator:" to ",locale:{applyLabel:"Submit",fromLabel:"From",toLabel:"To",customRangeLabel:"Custom Range",daysOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],firstDay:1}},function(a,b){console.log("Callback has been called!"),$("#reportrange span").html(a.format("MMMM D, YYYY")+" - "+b.format("MMMM D, YYYY"))}),$("#reportrange span").html(moment().subtract("days",29).format("MMMM D, YYYY")+" - "+moment().format("MMMM D, YYYY"));var c=function(){$(".label-slider").text(d.getValue())},d=$(".bootstrap-slider").slider({min:0,max:500,value:120,tooltip:"hide",handle:"square"}).on("slide",c).data("slider");$(".label-slider").text(d.getValue());$(".bootstrap-slider-step").slider({min:0,max:500,value:150,step:50,handle:"square"});$(".bootstrap-slider-vertical").each(function(){$(this).slider({min:0,max:100,value:Math.floor(100*Math.random()+1),orientation:"vertical",selection:"after",tooltip:"hide",handle:"square"})})}if($("body").hasClass("flash-alert")){$.extend($.gritter.options,{time:1500}),$("#gritter-regular").click(function(){$.gritter.add({title:"Regular Alert!",text:"Fades out automatically in amount of time."})}),$("#gritter-sticky").click(function(){$.gritter.add({title:"Sticky Alert!",text:'You have <a href="#">new support message</a>. Click (x) on the top right to close this message.',sticky:!0})});var e=new Audio,f=new Audio;navigator.userAgent.match("Firefox/")?(e.src="assets/audio/flash-message.ogg",f.src="assets/audio/offline.ogg"):(e.src="assets/audio/flash-message.mp3",f.src="assets/audio/offline.mp3"),$("#gritter-image").click(function(){$.gritter.add({title:"Jane Doe",text:"Online",image:"assets/img/user3.png",time:2e3,after_close:function(){$.gritter.add({title:"Jordan Smith",text:"Offline",image:"assets/img/user5.png",time:2e3}),$("#gritter-sound-switch").is(":checked")&&f.play()}})}),$(".btn-gritter").click(function(){$globalVolume=localStorage.getItem("global-volume"),null!=$globalVolume&&"1"!=$globalVolume||!$("#gritter-sound-switch").is(":checked")||e.play()}),$("#gritter-callback").click(function(){$.gritter.add({title:"Callback",text:"Provide several callback features",time:1e3,before_open:function(){alert("before_open callback")},after_open:function(){alert("after_open callback")},before_close:function(){alert("before_close callback")},after_close:function(){alert("after_close callback")}})}),$("#gritter-max").click(function(){return $.gritter.add({title:"Limit Notifications",text:"This is a notice with a max of 3 on screen at one time!",before_open:function(){return 3==$(".gritter-item-wrapper").length?!1:void 0}}),!1}),$("#gritter-light").click(function(){$.gritter.add({title:"Light Theme!",text:"If you want the light version, you got it. Just add option class_name: 'gritter-light' :)",class_name:"gritter-light"})}),$(".btn-gritter-position").click(function(){$("#gritter-notice-wrapper").attr("class",""),$.extend($.gritter.options,{position:""+$(this).attr("id")}),$.gritter.add({title:$(this).find("span.title").text(),text:"Hi, I'm on the  "+$.gritter.options.position})})}if($("body").hasClass("general-ui-elements")&&$(".progress .progress-bar").length>0&&($(".progress.demo-only .progress-bar").progressbar({display_text:"fill"}),$(".progress.no-percentage .progress-bar").progressbar({display_text:"fill",use_percentage:!1}),$(".progress.custom-format .progress-bar").progressbar({display_text:"fill",use_percentage:!1,amount_format:function(a,b){return a+" of "+b}}),$(".progress.vertical .progress-bar").progressbar(),$(".progress.vertical.demo-only .progress-bar").progressbar({display_text:"fill"})),$(".dropzone").length>0&&(Dropzone.autoDiscover=!1,$(".dropzone").dropzone({url:"php/dropzone-upload.php",addRemoveLinks:!0,maxFilesize:.5,maxFiles:5,acceptedFiles:"image/*, application/pdf, .txt",dictResponseError:"File Upload Error."})),$("body").hasClass("form-val")&&$(".multiselect-validation").multiselect({checkboxName:"food"}),$("body").hasClass("forms-inplace-editing")){$.fn.editable.defaults.url="/post",$("#username").editable(),$("#lastname").editable({validate:function(a){return""==$.trim(a)?"This field is required":void 0}}),$("#sex").editable({prepend:"not selected",source:[{value:1,text:"Male"},{value:2,text:"Female"}],display:function(a,b){var c={"":"gray",1:"green",2:"red"},d=$.grep(b,function(b){return b.value==a});d.length?$(this).text(d[0].text).css("color",c[a]):$(this).empty()}}),$("#group").editable({showbuttons:!1}),$("#status").editable(),$("#dob").editable({format:"yyyy-mm-dd",viewformat:"dd/mm/yyyy",datepicker:{weekStart:1}}),$("#combodate").editable(),$("#event").editable({placement:"right",combodate:{firstItem:"name"}}),$("#comments").editable({showbuttons:"bottom"}),$("#state2").editable({value:"California",typeahead:{name:"state",local:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Dakota","North Carolina","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]}}),$("#fruits").editable({pk:1,limit:3,source:[{value:1,text:"banana"},{value:2,text:"peach"},{value:3,text:"apple"},{value:4,text:"watermelon"},{value:5,text:"orange"}]}),$("#tags").editable({inputclass:"input-large",select2:{tags:["html","javascript","css","ajax"],tokenSeparators:[","," "]}});var g=[];$.each({BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BA:"Bosnia and Herzegovina",BB:"Barbados",WF:"Wallis and Futuna",BL:"Saint Bartelemey",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BT:"Bhutan",JM:"Jamaica",BV:"Bouvet Island",BW:"Botswana",WS:"Samoa",BR:"Brazil",BS:"Bahamas",JE:"Jersey",BY:"Belarus",O1:"Other Country",LV:"Latvia",RW:"Rwanda",RS:"Serbia",TL:"Timor-Leste",RE:"Reunion",LU:"Luxembourg",TJ:"Tajikistan",RO:"Romania",PG:"Papua New Guinea",GW:"Guinea-Bissau",GU:"Guam",GT:"Guatemala",GS:"South Georgia and the South Sandwich Islands",GR:"Greece",GQ:"Equatorial Guinea",GP:"Guadeloupe",JP:"Japan",GY:"Guyana",GG:"Guernsey",GF:"French Guiana",GE:"Georgia",GD:"Grenada",GB:"United Kingdom",GA:"Gabon",SV:"El Salvador",GN:"Guinea",GM:"Gambia",GL:"Greenland",GI:"Gibraltar",GH:"Ghana",OM:"Oman",TN:"Tunisia",JO:"Jordan",HR:"Croatia",HT:"Haiti",HU:"Hungary",HK:"Hong Kong",HN:"Honduras",HM:"Heard Island and McDonald Islands",VE:"Venezuela",PR:"Puerto Rico",PS:"Palestinian Territory",PW:"Palau",PT:"Portugal",SJ:"Svalbard and Jan Mayen",PY:"Paraguay",IQ:"Iraq",PA:"Panama",PF:"French Polynesia",BZ:"Belize",PE:"Peru",PK:"Pakistan",PH:"Philippines",PN:"Pitcairn",TM:"Turkmenistan",PL:"Poland",PM:"Saint Pierre and Miquelon",ZM:"Zambia",EH:"Western Sahara",RU:"Russian Federation",EE:"Estonia",EG:"Egypt",TK:"Tokelau",ZA:"South Africa",EC:"Ecuador",IT:"Italy",VN:"Vietnam",SB:"Solomon Islands",EU:"Europe",ET:"Ethiopia",SO:"Somalia",ZW:"Zimbabwe",SA:"Saudi Arabia",ES:"Spain",ER:"Eritrea",ME:"Montenegro",MD:"Moldova, Republic of",MG:"Madagascar",MF:"Saint Martin",MA:"Morocco",MC:"Monaco",UZ:"Uzbekistan",MM:"Myanmar",ML:"Mali",MO:"Macao",MN:"Mongolia",MH:"Marshall Islands",MK:"Macedonia",MU:"Mauritius",MT:"Malta",MW:"Malawi",MV:"Maldives",MQ:"Martinique",MP:"Northern Mariana Islands",MS:"Montserrat",MR:"Mauritania",IM:"Isle of Man",UG:"Uganda",TZ:"Tanzania, United Republic of",MY:"Malaysia",MX:"Mexico",IL:"Israel",FR:"France",IO:"British Indian Ocean Territory",FX:"France, Metropolitan",SH:"Saint Helena",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands (Malvinas)",FM:"Micronesia, Federated States of",FO:"Faroe Islands",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NA:"Namibia",VU:"Vanuatu",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NZ:"New Zealand",NP:"Nepal",NR:"Nauru",NU:"Niue",CK:"Cook Islands",CI:"Cote d'Ivoire",CH:"Switzerland",CO:"Colombia",CN:"China",CM:"Cameroon",CL:"Chile",CC:"Cocos (Keeling) Islands",CA:"Canada",CG:"Congo",CF:"Central African Republic",CD:"Congo, The Democratic Republic of the",CZ:"Czech Republic",CY:"Cyprus",CX:"Christmas Island",CR:"Costa Rica",CV:"Cape Verde",CU:"Cuba",SZ:"Swaziland",SY:"Syrian Arab Republic",KG:"Kyrgyzstan",KE:"Kenya",SR:"Suriname",KI:"Kiribati",KH:"Cambodia",KN:"Saint Kitts and Nevis",KM:"Comoros",ST:"Sao Tome and Principe",SK:"Slovakia",KR:"Korea, Republic of",SI:"Slovenia",KP:"Korea, Democratic People's Republic of",KW:"Kuwait",SN:"Senegal",SM:"San Marino",SL:"Sierra Leone",SC:"Seychelles",KZ:"Kazakhstan",KY:"Cayman Islands",SG:"Singapore",SE:"Sweden",SD:"Sudan",DO:"Dominican Republic",DM:"Dominica",DJ:"Djibouti",DK:"Denmark",VG:"Virgin Islands, British",DE:"Germany",YE:"Yemen",DZ:"Algeria",US:"United States",UY:"Uruguay",YT:"Mayotte",UM:"United States Minor Outlying Islands",LB:"Lebanon",LC:"Saint Lucia",LA:"Lao People's Democratic Republic",TV:"Tuvalu",TW:"Taiwan",TT:"Trinidad and Tobago",TR:"Turkey",LK:"Sri Lanka",LI:"Liechtenstein",A1:"Anonymous Proxy",TO:"Tonga",LT:"Lithuania",A2:"Satellite Provider",LR:"Liberia",LS:"Lesotho",TH:"Thailand",TF:"French Southern Territories",TG:"Togo",TD:"Chad",TC:"Turks and Caicos Islands",LY:"Libyan Arab Jamahiriya",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",AE:"United Arab Emirates",AD:"Andorra",AG:"Antigua and Barbuda",AF:"Afghanistan",AI:"Anguilla",VI:"Virgin Islands, U.S.",IS:"Iceland",IR:"Iran, Islamic Republic of",AM:"Armenia",AL:"Albania",AO:"Angola",AN:"Netherlands Antilles",AQ:"Antarctica",AP:"Asia/Pacific Region",AS:"American Samoa",AR:"Argentina",AU:"Australia",AT:"Austria",AW:"Aruba",IN:"India",AX:"Aland Islands",AZ:"Azerbaijan",IE:"Ireland",ID:"Indonesia",UA:"Ukraine",QA:"Qatar",MZ:"Mozambique"},function(a,b){g.push({id:a,text:b})}),$("#country").editable({source:g,
select2:{width:200,placeholder:"Select country",allowClear:!0}}),$("#address").editable({url:"/post",value:{city:"Moscow",street:"Lenina",building:"12"},validate:function(a){return""==a.city?"city is required!":void 0},display:function(a){if(!a)return void $(this).empty();var b="<b>"+$("<div>").text(a.city).html()+"</b>, "+$("<div>").text(a.street).html()+" st., bld. "+$("<div>").text(a.building).html();$(this).html(b)}}),$("#enable").click(function(){$("#user .editable").editable("toggleDisabled")}),"inline"==localStorage.getItem("xmode")?($("#user .editable").editable("option","mode","inline"),$("#switch-inline-input").prop("checked",!0)):($("#user .editable").editable("option","mode","popup"),$("#switch-inline-input").prop("checked",!1)),$("#switch-inline-input").on("change",function(){1==$(this).prop("checked")?(localStorage.setItem("xmode","inline"),window.location.href="?mode=inline"):(localStorage.setItem("xmode","popup"),window.location.href="?mode=popup")})}if($("#loading-example-btn").length>0&&$("#loading-example-btn").click(function(){var a=$(this);$.ajax({url:"php/widget-ajax.php",type:"POST",dataType:"json",cache:!1,beforeSend:function(){a.button("loading")},success:function(b,c,d){setTimeout(function(){$("#server-message").text(b.msg).addClass("green-font"),a.button("reset")},1e3)},error:function(a,b,c){console.log("AJAX ERROR: \n"+c)}})}),$("body").hasClass("text-editor")){$(".summernote").summernote({height:300,focus:!0,onpaste:function(){alert("You have pasted something to the editor")}});var h='<h4>Hello there</h4> <p>How are you? I have below task for you :</p> <p>Select from this text... Click the bold on THIS WORD and make THESE ONE italic, link GOOGLE to google.com, test to insert image (and try to tab after write the image description)</p><p>Test Preview And ending here...</p> <p>Click "List"</p> Enjoy!';$("#markdown-editor").text(toMarkdown(h))}}),$(document).ready(function(){function a(){$("#jqgrid").length>0&&c.fluidGrid({base:"#jqgrid-wrapper",offset:-20})}if($("#visit-stat-table").length>0&&$("#visit-stat-table").dataTable({sDom:"<'row'<'col-sm-6'l><'col-sm-6'f>r>t<'row'<'col-sm-6'i><'col-sm-6'p>>"}),$("#datatable-column-interactive").length>0&&$("#datatable-column-interactive").dataTable({sDom:"RCt<'row'<'col-sm-6'i><'col-sm-6'p>>",colVis:{buttonText:"Show / Hide Columns",restore:"Restore",showAll:"Show all"}}),$("#datatable-column-filter").length>0){var b=$("#datatable-column-filter").DataTable({sDom:"t<'row'<'col-sm-6'i><'col-sm-6'p>>"});$("#datatable-column-filter thead").append('<tr class="row-filter"><th></th><th></th><th></th><th></th><th></th></tr>'),$("#datatable-column-filter thead .row-filter th").each(function(){$(this).html('<input type="text" class="form-control input-sm" placeholder="Search...">')}),$("#datatable-column-filter .row-filter input").on("keyup change",function(){b.column($(this).parent().index()+":visible").search(this.value).draw()})}if($("#datatable-data-export").length>0){$("#datatable-data-export").DataTable({sDom:"T<'clearfix'><'row'<'col-sm-6'l><'col-sm-6'f>r>t<'row'<'col-sm-6'i><'col-sm-6'p>>",tableTools:{sSwfPath:"assets/js/plugins/datatable/exts/swf/copy_csv_xls_pdf.swf"}})}$("#featured-datatable").length>0&&$("#featured-datatable").dataTable({sDom:"<'row'<'col-sm-6'l><'col-sm-6'f>r>t<'row'<'col-sm-6'i><'col-sm-6'p>>"}),$("#datatable-basic-scrolling").dataTable({scrollY:"300px",scrollCollapse:!0,paging:!1}),$("#ticket-table").length>0&&$("#ticket-table").dataTable({sDom:"<'row'<'col-md-6'l><'col-md-6'f>r>t<'row'>",bPaginate:!1});var c=$("#jqgrid");$("#jqgrid").length>0&&(c.jqGrid({url:"php/jqgrid/server.php?q=1",mtype:"GET",datatype:"json",colNames:[" ","Inv No","Client ID","Date","Amount","Tax","Total","Closed","Ship Via","Notes"],colModel:[{name:"myac",width:80,fixed:!0,sortable:!1,resize:!1,formatter:"actions",formatoptions:{keys:!0}},{name:"invid",index:"invid",key:!0,width:80,sorttype:"number",searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},{name:"client_id",index:"client_id",width:100,editable:!0},{name:"invdate",index:"invdate",width:100,editable:!0,sorttype:"date",formatter:"date",formatoptions:{srcformat:"ISO8601Short",newformat:"m/d/Y"},searchoptions:{dataInit:function(a){setTimeout(function(){$(a).attr("placeholder","mm/dd/yyyy")},500)}},editoptions:{dataInit:function(a){$(a).datepicker({format:"mm-dd-yyyy"}).on("changeDate",function(){$(this).datepicker("hide")})}}},{name:"amount",index:"amount",align:"right",width:85,editable:!0,editrules:{number:!0},searchrules:{number:!0},searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},{name:"tax",index:"tax",align:"right",width:60,editrules:{number:!0},editable:!0},{name:"total",index:"total",align:"right",width:100,editable:!0,editrules:{number:!0},searchrules:{number:!0},searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},{name:"closed",index:"closed",width:80,editable:!0,edittype:"checkbox",editoptions:{value:"Yes:No"}},{name:"ship_via",index:"ship_via",width:85,editable:!0,edittype:"select",editoptions:{value:"FedEx:FedEx;TNT:TNT"}},{name:"note",index:"note",sortable:!1,width:200,editable:!0,edittype:"textarea",editoptions:{rows:"2",cols:"20"}}],height:300,rowNum:10,rowList:[10,20,30],pager:"jqgrid-pager",sortname:"invid",viewrecords:!0,sortorder:"asc",editurl:"php/jqgrid/server-edit.php",caption:"Working Editable Table",multiselect:!0,onSelectRow:function(a){$("#"+a+"_invdate").datepicker({dateFormat:"m/d/Y"}).on("changeDate",function(){$(this).datepicker("hide")})}}),a(),$("#jqgrid").length>0&&c.jqGrid("navGrid","#jqgrid-pager",{add:!0,edit:!0,view:!0,del:!0,search:!0,refresh:!0},{},{},{},{multipleSearch:!0,multipleGroup:!0})),$(window).resize(a)}),$(document).ready(function(){$("body").hasClass("comp-wizard")&&($("#demo-wizard").on("change",function(a,b){if($("#form"+b.step).length>0){var c=$("#form"+b.step).parsley();if(c.validate(),!c.isValid())return!1}$btnNext=$(this).parents(".wizard-wrapper").find(".btn-next"),3===b.step&&"next"==b.direction?$btnNext.text(" Create My Account").prepend('<i class="fa fa-check-circle"></i>').removeClass("btn-primary").addClass("btn-success"):$btnNext.text("Next ").append('<i class="fa fa-arrow-right"></i>').removeClass("btn-success").addClass("btn-primary")}).on("finished",function(){alert("Your account has been created.")}),$(".wizard-wrapper .btn-next").click(function(){$("#demo-wizard").wizard("next")}),$(".wizard-wrapper .btn-prev").click(function(){$("#demo-wizard").wizard("previous")}));var a=["#5DC8CD","#34C6CD","#01939A","#1D7074","#006064"];if($("body").hasClass("demo-maps")){$(".basic-map").mapael({map:{name:"world_countries"}});var b={areas:{US:{value:2200,tooltip:{content:"<span>United States</span><br />Sales: 2200"}},CN:{value:1800,tooltip:{content:"<span>China</span><br />Sales: 1800"}},JP:{value:1550,tooltip:{content:"<span>Japan</span><br />Sales: 1550"}},IN:{value:1400,tooltip:{content:"<span>India</span><br />Sales: 1400"}},DE:{value:1600,tooltip:{content:"<span>Germany</span><br />Sales: 1600"}},RU:{value:900,tooltip:{content:"<span>Russia</span><br />Sales: 900"}},GB:{value:1200,tooltip:{content:"<span>United Kingdom</span><br />Sales: 1200"}},FR:{value:1100,tooltip:{content:"<span>France</span><br />Sales: 1100"}},BR:{value:400,tooltip:{content:"<span>Brazil</span><br />Sales: 400"}},IT:{value:700,tooltip:{content:"<span>Italy</span><br />Sales: 700"}},MX:{value:1900,tooltip:{content:"<span>Mexico</span><br />Sales: 1900"}},ES:{value:300,tooltip:{content:"<span>Spain</span><br />Sales: 300"}},KR:{value:200,tooltip:{content:"<span>South Korea</span><br />Sales: 200"}},CA:{value:2900,tooltip:{content:"<span>Canada</span><br />Sales: 2900"}},ID:{value:1200,tooltip:{content:"<span>Indonesia</span><br />Sales: 1300"}},TR:{value:90,tooltip:{content:"<span>Turkey</span><br />Sales: 90"}},IR:{value:80,tooltip:{content:"<span>Iran</span><br />Sales: 80"}},AU:{value:900,tooltip:{content:"<span>Australia</span><br />Sales: 1400"}},ZA:{value:50,tooltip:{content:"<span>South Africa</span><br />Sales: 50"}},EG:{value:20,tooltip:{content:"<span>Egypt</span><br />Sales: 20"}},PK:{value:1300,tooltip:{content:"<span>Pakistan</span><br />Sales: 1300"}},SG:{value:100,tooltip:{content:"<span>Singapore</span><br />Sales: 100"}}}};$(".data-visualization-map").mapael({map:{name:"world_countries",defaultArea:{attrs:{stroke:"#fff","stroke-width":1,fill:"#c4c4c4"}}},legend:{area:{display:!0,title:"Sales",slices:[{max:100,attrs:{fill:a[0]},label:"Less than 100"},{min:100,max:500,attrs:{fill:a[1]},label:"Between 100 and 500"},{min:500,max:1e3,attrs:{fill:a[2]},label:"Between 500 and 1000"},{min:1e3,max:1500,attrs:{fill:a[3]},label:"Between 1000 and 1500"},{min:1500,attrs:{fill:a[4]},label:"More than 1500"}]}},areas:b.areas}),$mapZoom=$(".zoom-map"),$mapZoom.mapael({map:{name:"france_departments",zoom:{enabled:!0,maxLevel:10},defaultPlot:{attrs:{opacity:.6}}},areas:{"department-56":{text:{content:"56"},tooltip:{content:"Morbihan (56)"}}},plots:{paris:{latitude:48.86,longitude:2.3444},lyon:{type:"circle",size:50,latitude:45.758888888889,longitude:4.8413888888889,value:7e5,href:"http://fr.wikipedia.org/wiki/Lyon",tooltip:{content:'<span style="font-weight:bold;">City :</span> Lyon'},text:{content:"Lyon"}},rennes:{type:"square",size:20,latitude:48.114166666667,longitude:-1.6808333333333,tooltip:{content:'<span style="font-weight:bold;">City :</span> Rennes'},text:{content:"Rennes"},href:"http://fr.wikipedia.org/wiki/Rennes"}}}),$mapZoom.on("mousewheel",function(a){return a.deltaY>0?$mapZoom.trigger("zoom",$mapZoom.data("zoomLevel")+1):$mapZoom.trigger("zoom",$mapZoom.data("zoomLevel")-1),!1}),$("#focus-paris").on("click",function(){var a=$.fn.mapael.maps.france_departments.getCoords(48.114167,2.3444);$mapZoom.trigger("zoom",[10,a.x,a.y])}),$("#focus-lyon").on("click",function(){var a=$.fn.mapael.maps.france_departments.getCoords(45.758888888889,4.8413888888889);$mapZoom.trigger("zoom",[5,a.x,a.y])}),$("#map-clear-zoom").on("click",function(){$mapZoom.trigger("zoom",[0])})}if($(".data-us-map").length>0&&$(".data-us-map").mapael({map:{name:"usa_states",defaultPlot:{size:10},defaultArea:{attrs:{stroke:"#fafafa","stroke-width":1,fill:"#c4c4c4"}}},legend:{plot:{display:!0,title:"US Sales Map",hideElemsOnClick:{opacity:0},slices:[{size:10,type:"circle",max:500,attrs:{fill:a[1]},label:"Less than 500 sales"},{size:20,type:"circle",min:500,max:750,attrs:{fill:a[1]},label:"Between 500 and 750 sales"},{size:30,type:"circle",min:750,max:1e3,attrs:{fill:a[1]},label:"Between 750 and 1000 sales"},{size:40,type:"circle",min:1e3,max:1250,attrs:{fill:a[1]},label:"Between 1000 and 1250 sales"},{size:50,type:"circle",min:1250,max:1500,attrs:{fill:a[1]},label:"Between 1250 and 1500 sales"}]}},plots:{ny:{value:1450,latitude:40.717079,longitude:-74.00116,tooltip:{content:"<span>New York</span><br />Sales: 1450"}},an:{value:900,latitude:61.2108398,longitude:-149.9019557,tooltip:{content:"<span>Anchorage</span><br />Sales: 900"}},sf:{value:1200,latitude:37.792032,longitude:-122.394613,tooltip:{content:"<span>San Francisco</span><br />Sales: 1200"}},pa:{value:400,latitude:19.493204,longitude:-154.8199569,tooltip:{content:"<span>Pahoa</span><br />Sales: 400"}},nm:{value:850,latitude:35.101934,longitude:-106.633301,tooltip:{content:"<span>Albuquerque</span><br />Sales: 850"}},nj:{value:30,latitude:38.934385,longitude:-74.908028,tooltip:{content:"<span>Cape May</span><br />Sales: 30"}},il:{value:1100,latitude:41.879786,longitude:-87.62352,tooltip:{content:"<span>Chicago</span><br />Sales: 1100"}},or:{value:70,latitude:19.493204,longitude:-154.8199569,tooltip:{content:"<span>Portland</span><br />Sales: 70"}}}}),$("body").hasClass("fullcalendar")){$("#external-events div.external-event").each(function(){var a={title:$.trim($(this).text())};$(this).data("eventObject",a),$(this).draggable({zIndex:999,revert:!0,revertDuration:0})});var c=new Date,d=c.getDate(),e=c.getMonth(),f=c.getFullYear();$(".calendar").fullCalendar({header:{left:"month, agendaWeek, agendaDay",center:"title",right:"prev, next, today"},editable:!0,droppable:!0,drop:function(a,b){var c=$(this).data("eventObject"),d=$.extend({},c);d.start=a,d.allDay=b,$(".calendar").fullCalendar("renderEvent",d,!0),$("#drop-remove").is(":checked")&&$(this).remove()},events:[{title:"All Day Event",start:new Date(f,e,1)},{title:"Long Event",start:new Date(f,e,d+5),end:new Date(f,e,d+7)},{id:999,title:"Repeating Event",start:new Date(f,e,d-3,16,0),allDay:!1},{id:999,title:"Repeating Event",start:new Date(f,e,d+4,16,0),allDay:!1},{title:"Meeting",start:new Date(f,e,d,10,30),allDay:!1},{title:"Lunch",start:new Date(f,e,d,12,0),end:new Date(f,e,d,14,0),allDay:!1},{title:"Birthday Party",start:new Date(f,e,d+1,19,0),end:new Date(f,e,d+1,22,30),allDay:!1},{title:"Visit Other Theme",start:new Date(f,e,28),end:new Date(f,e,29),url:"https://wrapbootstrap.com/theme/cvilized-timeline-style-cv-resume-WB057FN0R"}]}),$colorPicker=$('select[name="colorpicker-picker-longlist"]'),$colorPicker.simplecolorpicker({picker:!1,theme:"fontawesome"}),$("#btn-quick-event").click(function(){var a=$(this).data("eventObject"),b=$.extend({},a),d="Untitled Event";""!=$("#quick-event-name").val()&&(d=$("#quick-event-name").val()),b.title=d,b.start=c,b.color=$colorPicker.val(),$(".calendar").fullCalendar("renderEvent",b,!0)})}if($("body").hasClass("comp-tree")){var g=$("#treeview-default");g.jstree({core:{data:{url:"assets/js/plugins/tree/tree-default.json"},check_callback:!0},plugins:["types","contextmenu"]}).on("loaded.jstree",function(){g.jstree("open_all")});var h=$("#treeview-custom-icon");h.jstree({core:{data:{url:"assets/js/plugins/tree/tree-filesystem.json"},check_callback:!0},plugins:["checkbox","contextmenu","types"],checkbox:{keep_selected_style:!1},types:{root:{icon:"fa fa-desktop text-primary"},"default":{icon:"fa fa-folder"},text:{icon:"fa fa-file-text-o"},pdf:{icon:"fa fa-file-pdf-o"},word:{icon:"fa fa-file-word-o"},excel:{icon:"fa fa-file-excel-o"},ppt:{icon:"fa fa-file-powerpoint-o"},img:{icon:"fa fa-file-image-o"},zip:{icon:"fa fa-file-zip-o"}}}).on("loaded.jstree",function(){h.jstree("open_all")});var i=$("#treeview-application");i.jstree({core:{data:{url:"assets/js/plugins/tree/tree-application.json"},check_callback:!0},plugins:["contextmenu","types"],types:{root:{icon:"fa fa-desktop"},"default":{icon:"fa fa-folder yellow-font"},database:{icon:"fa fa-database yellow-font"},table:{icon:"fa fa-table green-font"},view:{icon:"fa fa-search text-primary"},procedure:{icon:"fa fa-play-circle green-font"},key:{icon:"fa fa-key text-primary"}}}).on("loaded.jstree",function(){i.jstree("open_all")})}}),function(){function a(b,c,d){var e=a.resolve(b);if(null==e){d=d||b,c=c||"root";var f=new Error('Failed to require "'+d+'" from "'+c+'"');throw f.path=d,f.parent=c,f.require=!0,f}var g=a.modules[e];if(!g._resolving&&!g.exports){var h={};h.exports={},h.client=h.component=!0,g._resolving=!0,g.call(this,h.exports,a.relative(e),h),delete g._resolving,g.exports=h.exports}return g.exports}a.modules={},a.aliases={},a.resolve=function(b){"/"===b.charAt(0)&&(b=b.slice(1));for(var c=[b,b+".js",b+".json",b+"/index.js",b+"/index.json"],d=0;d<c.length;d++){var b=c[d];if(a.modules.hasOwnProperty(b))return b;if(a.aliases.hasOwnProperty(b))return a.aliases[b]}},a.normalize=function(a,b){var c=[];if("."!=b.charAt(0))return b;a=a.split("/"),b=b.split("/");for(var d=0;d<b.length;++d)".."==b[d]?a.pop():"."!=b[d]&&""!=b[d]&&c.push(b[d]);return a.concat(c).join("/")},a.register=function(b,c){a.modules[b]=c},a.alias=function(b,c){if(!a.modules.hasOwnProperty(b))throw new Error('Failed to alias "'+b+'", it does not exist');a.aliases[c]=b},a.relative=function(b){function c(a,b){for(var c=a.length;c--;)if(a[c]===b)return c;return-1}function d(c){var e=d.resolve(c);return a(e,b,c)}var e=a.normalize(b,"..");return d.resolve=function(d){var f=d.charAt(0);if("/"==f)return d.slice(1);if("."==f)return a.normalize(e,d);var g=b.split("/"),h=c(g,"deps")+1;return h||(h=0),d=g.slice(0,h+1).join("/")+"/deps/"+d},d.exists=function(b){return a.modules.hasOwnProperty(d.resolve(b))},d},a.register("component-emitter/index.js",function(a,b,c){function d(a){return a?e(a):void 0}function e(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}c.exports=d,d.prototype.on=d.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this},d.prototype.once=function(a,b){function c(){d.off(a,c),b.apply(this,arguments)}var d=this;return this._callbacks=this._callbacks||{},c.fn=b,this.on(a,c),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c){c=c.slice(0);for(var d=0,e=c.length;e>d;++d)c[d].apply(this,b)}return this},d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},d.prototype.hasListeners=function(a){return!!this.listeners(a).length}}),a.register("dropzone/index.js",function(a,b,c){c.exports=b("./lib/dropzone.js")}),a.register("dropzone/lib/dropzone.js",function(a,b,c){(function(){var a,d,e,f,g,h,i,j,k={}.hasOwnProperty,l=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},m=[].slice;d="undefined"!=typeof Emitter&&null!==Emitter?Emitter:b("emitter"),i=function(){},a=function(a){function b(a,d){var e,f,g;if(this.element=a,this.version=b.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(b.instances.push(this),this.element.dropzone=this,e=null!=(g=b.optionsForElement(this.element))?g:{},this.options=c({},this.defaultOptions,e,null!=d?d:{}),this.options.forceFallback||!b.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(f=this.getExistingFallback())&&f.parentNode&&f.parentNode.removeChild(f),this.options.previewsContainer?this.previewsContainer=b.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element,this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=b.getElements(this.options.clickable,"clickable")),this.init()}var c;return l(b,a),b.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached"],b.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(a,b){return b()},init:function(){return i},forceFallback:!1,fallback:function(){var a,c,d,e,f,g;for(this.element.className=""+this.element.className+" dz-browser-not-supported",g=this.element.getElementsByTagName("div"),e=0,f=g.length;f>e;e++)a=g[e],/(^| )dz-message($| )/.test(a.className)&&(c=a,a.className="dz-message");return c||(c=b.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(c)),d=c.getElementsByTagName("span")[0],d&&(d.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(a){var b,c,d;return b={srcX:0,srcY:0,srcWidth:a.width,srcHeight:a.height},c=a.width/a.height,d=this.options.thumbnailWidth/this.options.thumbnailHeight,a.height<this.options.thumbnailHeight||a.width<this.options.thumbnailWidth?(b.trgHeight=b.srcHeight,b.trgWidth=b.srcWidth):c>d?(b.srcHeight=a.height,b.srcWidth=b.srcHeight*d):(b.srcWidth=a.width,b.srcHeight=b.srcWidth/d),b.srcX=(a.width-b.srcWidth)/2,b.srcY=(a.height-b.srcHeight)/2,b},drop:function(a){return this.element.classList.remove("dz-drag-hover")},dragstart:i,dragend:function(a){return this.element.classList.remove("dz-drag-hover")},dragenter:function(a){return this.element.classList.add("dz-drag-hover")},dragover:function(a){return this.element.classList.add("dz-drag-hover")},dragleave:function(a){return this.element.classList.remove("dz-drag-hover")},paste:i,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(a){var c,d,e,f,g,h,i,j,k,l,m,n,o,p=this;for(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),a.previewElement=b.createElement(this.options.previewTemplate.trim()),a.previewTemplate=a.previewElement,this.previewsContainer.appendChild(a.previewElement),l=a.previewElement.querySelectorAll("[data-dz-name]"),f=0,i=l.length;i>f;f++)c=l[f],c.textContent=a.name;for(m=a.previewElement.querySelectorAll("[data-dz-size]"),g=0,j=m.length;j>g;g++)c=m[g],c.innerHTML=this.filesize(a.size);for(this.options.addRemoveLinks&&(a._removeLink=b.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),a.previewElement.appendChild(a._removeLink)),d=function(c){return c.preventDefault(),c.stopPropagation(),a.status===b.UPLOADING?b.confirm(p.options.dictCancelUploadConfirmation,function(){return p.removeFile(a)}):p.options.dictRemoveFileConfirmation?b.confirm(p.options.dictRemoveFileConfirmation,function(){return p.removeFile(a)}):p.removeFile(a)},n=a.previewElement.querySelectorAll("[data-dz-remove]"),o=[],h=0,k=n.length;k>h;h++)e=n[h],o.push(e.addEventListener("click",d));return o},removedfile:function(a){var b;return null!=(b=a.previewElement)&&b.parentNode.removeChild(a.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(a,b){var c,d,e,f,g;for(a.previewElement.classList.remove("dz-file-preview"),a.previewElement.classList.add("dz-image-preview"),f=a.previewElement.querySelectorAll("[data-dz-thumbnail]"),g=[],d=0,e=f.length;e>d;d++)c=f[d],c.alt=a.name,g.push(c.src=b);return g},error:function(a,b){var c,d,e,f,g;for(a.previewElement.classList.add("dz-error"),"String"!=typeof b&&b.error&&(b=b.error),f=a.previewElement.querySelectorAll("[data-dz-errormessage]"),g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(c.textContent=b);return g},errormultiple:i,processing:function(a){return a.previewElement.classList.add("dz-processing"),a._removeLink?a._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:i,uploadprogress:function(a,b,c){var d,e,f,g,h;for(g=a.previewElement.querySelectorAll("[data-dz-uploadprogress]"),h=[],e=0,f=g.length;f>e;e++)d=g[e],h.push(d.style.width=""+b+"%");return h},totaluploadprogress:i,sending:i,sendingmultiple:i,success:function(a){return a.previewElement.classList.add("dz-success")},successmultiple:i,canceled:function(a){return this.emit("error",a,"Upload canceled.")},canceledmultiple:i,complete:function(a){return a._removeLink?a._removeLink.textContent=this.options.dictRemoveFile:void 0},completemultiple:i,maxfilesexceeded:i,maxfilesreached:i,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>✔</span></div>\n  <div class="dz-error-mark"><span>✘</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'},c=function(){var a,b,c,d,e,f,g;for(d=arguments[0],c=2<=arguments.length?m.call(arguments,1):[],f=0,g=c.length;g>f;f++){b=c[f];for(a in b)e=b[a],d[a]=e}return d},b.prototype.getAcceptedFiles=function(){var a,b,c,d,e;for(d=this.files,e=[],b=0,c=d.length;c>b;b++)a=d[b],a.accepted&&e.push(a);return e},b.prototype.getRejectedFiles=function(){var a,b,c,d,e;for(d=this.files,e=[],b=0,c=d.length;c>b;b++)a=d[b],a.accepted||e.push(a);return e},b.prototype.getQueuedFiles=function(){var a,c,d,e,f;for(e=this.files,f=[],c=0,d=e.length;d>c;c++)a=e[c],a.status===b.QUEUED&&f.push(a);return f},b.prototype.getUploadingFiles=function(){var a,c,d,e,f;for(e=this.files,f=[],c=0,d=e.length;d>c;c++)a=e[c],a.status===b.UPLOADING&&f.push(a);return f},b.prototype.init=function(){var a,c,d,e,f,g,h,i=this;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(b.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(d=function(){return i.hiddenFileInput&&document.body.removeChild(i.hiddenFileInput),i.hiddenFileInput=document.createElement("input"),i.hiddenFileInput.setAttribute("type","file"),(null==i.options.maxFiles||i.options.maxFiles>1)&&i.hiddenFileInput.setAttribute("multiple","multiple"),null!=i.options.acceptedFiles&&i.hiddenFileInput.setAttribute("accept",i.options.acceptedFiles),i.hiddenFileInput.style.visibility="hidden",i.hiddenFileInput.style.position="absolute",i.hiddenFileInput.style.top="0",i.hiddenFileInput.style.left="0",i.hiddenFileInput.style.height="0",i.hiddenFileInput.style.width="0",document.body.appendChild(i.hiddenFileInput),i.hiddenFileInput.addEventListener("change",function(){var a,b,c,e;if(b=i.hiddenFileInput.files,b.length)for(c=0,e=b.length;e>c;c++)a=b[c],i.addFile(a);return d()})})(),this.URL=null!=(g=window.URL)?g:window.webkitURL,h=this.events,e=0,f=h.length;f>e;e++)a=h[e],this.on(a,this.options[a]);return this.on("uploadprogress",function(){return i.updateTotalUploadProgress()}),this.on("removedfile",function(){return i.updateTotalUploadProgress()}),this.on("canceled",function(a){return i.emit("complete",a)}),this.on("complete",function(a){return 0===i.getUploadingFiles().length&&0===i.getQueuedFiles().length?setTimeout(function(){return i.emit("queuecomplete")},0):void 0}),c=function(a){return a.stopPropagation(),a.preventDefault?a.preventDefault():a.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(a){return i.emit("dragstart",a)},dragenter:function(a){return c(a),i.emit("dragenter",a)},dragover:function(a){var b;try{b=a.dataTransfer.effectAllowed}catch(d){}return a.dataTransfer.dropEffect="move"===b||"linkMove"===b?"move":"copy",c(a),i.emit("dragover",a)},dragleave:function(a){return i.emit("dragleave",a)},drop:function(a){return c(a),i.drop(a)},dragend:function(a){return i.emit("dragend",a)},paste:function(a){return c(a),i.paste(a)}}}],this.clickableElements.forEach(function(a){return i.listeners.push({element:a,events:{click:function(c){return a!==i.element||c.target===i.element||b.elementInside(c.target,i.element.querySelector(".dz-message"))?i.hiddenFileInput.click():void 0}}})}),this.enable(),this.options.init.call(this)},b.prototype.destroy=function(){var a;return this.disable(),this.removeAllFiles(!0),(null!=(a=this.hiddenFileInput)?a.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,b.instances.splice(b.instances.indexOf(this),1)},b.prototype.updateTotalUploadProgress=function(){var a,b,c,d,e,f,g,h;if(d=0,c=0,a=this.getAcceptedFiles(),a.length){for(h=this.getAcceptedFiles(),f=0,g=h.length;g>f;f++)b=h[f],d+=b.upload.bytesSent,c+=b.upload.total;e=100*d/c}else e=100;return this.emit("totaluploadprogress",e,c,d)},b.prototype.getFallbackForm=function(){var a,c,d,e;return(a=this.getExistingFallback())?a:(d='<div class="dz-fallback">',this.options.dictFallbackText&&(d+="<p>"+this.options.dictFallbackText+"</p>"),d+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',c=b.createElement(d),"FORM"!==this.element.tagName?(e=b.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),e.appendChild(c)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=e?e:c)},b.prototype.getExistingFallback=function(){var a,b,c,d,e,f;for(b=function(a){var b,c,d;for(c=0,d=a.length;d>c;c++)if(b=a[c],/(^| )fallback($| )/.test(b.className))return b},f=["div","form"],d=0,e=f.length;e>d;d++)if(c=f[d],a=b(this.element.getElementsByTagName(c)))return a},b.prototype.setupEventListeners=function(){var a,b,c,d,e,f,g;for(f=this.listeners,g=[],d=0,e=f.length;e>d;d++)a=f[d],g.push(function(){var d,e;d=a.events,e=[];for(b in d)c=d[b],e.push(a.element.addEventListener(b,c,!1));return e}());return g},b.prototype.removeEventListeners=function(){var a,b,c,d,e,f,g;for(f=this.listeners,g=[],d=0,e=f.length;e>d;d++)a=f[d],g.push(function(){var d,e;d=a.events,e=[];for(b in d)c=d[b],e.push(a.element.removeEventListener(b,c,!1));return e}());return g},b.prototype.disable=function(){var a,b,c,d,e;for(this.clickableElements.forEach(function(a){return a.classList.remove("dz-clickable")}),this.removeEventListeners(),d=this.files,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(this.cancelUpload(a));return e},b.prototype.enable=function(){return this.clickableElements.forEach(function(a){return a.classList.add("dz-clickable")}),this.setupEventListeners()},b.prototype.filesize=function(a){var b;return a>=109951162777.6?(a/=109951162777.6,b="TiB"):a>=107374182.4?(a/=107374182.4,b="GiB"):a>=104857.6?(a/=104857.6,b="MiB"):a>=102.4?(a/=102.4,b="KiB"):(a=10*a,b="b"),"<strong>"+Math.round(a)/10+"</strong> "+b},b.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},b.prototype.drop=function(a){
var b,c;a.dataTransfer&&(this.emit("drop",a),b=a.dataTransfer.files,b.length&&(c=a.dataTransfer.items,c&&c.length&&null!=c[0].webkitGetAsEntry?this._addFilesFromItems(c):this.handleFiles(b)))},b.prototype.paste=function(a){},b.prototype.handleFiles=function(a){var b,c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(this.addFile(b));return e},b.prototype._addFilesFromItems=function(a){var b,c,d,e,f;for(f=[],d=0,e=a.length;e>d;d++)c=a[d],null!=c.webkitGetAsEntry&&(b=c.webkitGetAsEntry())?b.isFile?f.push(this.addFile(c.getAsFile())):b.isDirectory?f.push(this._addFilesFromDirectory(b,b.name)):f.push(void 0):null!=c.getAsFile&&(null==c.kind||"file"===c.kind)?f.push(this.addFile(c.getAsFile())):f.push(void 0);return f},b.prototype._addFilesFromDirectory=function(a,b){var c,d,e=this;return c=a.createReader(),d=function(a){var c,d,f;for(d=0,f=a.length;f>d;d++)c=a[d],c.isFile?c.file(function(a){return e.options.ignoreHiddenFiles&&"."===a.name.substring(0,1)?void 0:(a.fullPath=""+b+"/"+a.name,e.addFile(a))}):c.isDirectory&&e._addFilesFromDirectory(c,""+b+"/"+c.name)},c.readEntries(d,function(a){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(a):void 0})},b.prototype.accept=function(a,c){return a.size>1024*this.options.maxFilesize*1024?c(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(a.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):b.isValidFile(a,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(c(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",a)):this.options.accept.call(this,a,c):c(this.options.dictInvalidFileType)},b.prototype.addFile=function(a){var c=this;return a.upload={progress:0,total:a.size,bytesSent:0},this.files.push(a),a.status=b.ADDED,this.emit("addedfile",a),this._enqueueThumbnail(a),this.accept(a,function(b){return b?(a.accepted=!1,c._errorProcessing([a],b)):c.enqueueFile(a),c._updateMaxFilesReachedClass()})},b.prototype.enqueueFiles=function(a){var b,c,d;for(c=0,d=a.length;d>c;c++)b=a[c],this.enqueueFile(b);return null},b.prototype.enqueueFile=function(a){var c=this;if(a.accepted=!0,a.status!==b.ADDED)throw new Error("This file can't be queued because it has already been processed or was rejected.");return a.status=b.QUEUED,this.options.autoProcessQueue?setTimeout(function(){return c.processQueue()},0):void 0},b.prototype._thumbnailQueue=[],b.prototype._processingThumbnail=!1,b.prototype._enqueueThumbnail=function(a){var b=this;return this.options.createImageThumbnails&&a.type.match(/image.*/)&&a.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(a),setTimeout(function(){return b._processThumbnailQueue()},0)):void 0},b.prototype._processThumbnailQueue=function(){var a=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(){return a._processingThumbnail=!1,a._processThumbnailQueue()})},b.prototype.removeFile=function(a){return a.status===b.UPLOADING&&this.cancelUpload(a),this.files=j(this.files,a),this.emit("removedfile",a),0===this.files.length?this.emit("reset"):void 0},b.prototype.removeAllFiles=function(a){var c,d,e,f;for(null==a&&(a=!1),f=this.files.slice(),d=0,e=f.length;e>d;d++)c=f[d],(c.status!==b.UPLOADING||a)&&this.removeFile(c);return null},b.prototype.createThumbnail=function(a,b){var c,d=this;return c=new FileReader,c.onload=function(){var e;return e=document.createElement("img"),e.onload=function(){var c,f,g,i,j,k,l,m;return a.width=e.width,a.height=e.height,g=d.options.resize.call(d,a),null==g.trgWidth&&(g.trgWidth=d.options.thumbnailWidth),null==g.trgHeight&&(g.trgHeight=d.options.thumbnailHeight),c=document.createElement("canvas"),f=c.getContext("2d"),c.width=g.trgWidth,c.height=g.trgHeight,h(f,e,null!=(j=g.srcX)?j:0,null!=(k=g.srcY)?k:0,g.srcWidth,g.srcHeight,null!=(l=g.trgX)?l:0,null!=(m=g.trgY)?m:0,g.trgWidth,g.trgHeight),i=c.toDataURL("image/png"),d.emit("thumbnail",a,i),null!=b?b():void 0},e.src=c.result},c.readAsDataURL(a)},b.prototype.processQueue=function(){var a,b,c,d;if(b=this.options.parallelUploads,c=this.getUploadingFiles().length,a=c,!(c>=b)&&(d=this.getQueuedFiles(),d.length>0)){if(this.options.uploadMultiple)return this.processFiles(d.slice(0,b-c));for(;b>a;){if(!d.length)return;this.processFile(d.shift()),a++}}},b.prototype.processFile=function(a){return this.processFiles([a])},b.prototype.processFiles=function(a){var c,d,e;for(d=0,e=a.length;e>d;d++)c=a[d],c.processing=!0,c.status=b.UPLOADING,this.emit("processing",c);return this.options.uploadMultiple&&this.emit("processingmultiple",a),this.uploadFiles(a)},b.prototype._getFilesWithXhr=function(a){var b,c;return c=function(){var c,d,e,f;for(e=this.files,f=[],c=0,d=e.length;d>c;c++)b=e[c],b.xhr===a&&f.push(b);return f}.call(this)},b.prototype.cancelUpload=function(a){var c,d,e,f,g,h,i;if(a.status===b.UPLOADING){for(d=this._getFilesWithXhr(a.xhr),e=0,g=d.length;g>e;e++)c=d[e],c.status=b.CANCELED;for(a.xhr.abort(),f=0,h=d.length;h>f;f++)c=d[f],this.emit("canceled",c);this.options.uploadMultiple&&this.emit("canceledmultiple",d)}else((i=a.status)===b.ADDED||i===b.QUEUED)&&(a.status=b.CANCELED,this.emit("canceled",a),this.options.uploadMultiple&&this.emit("canceledmultiple",[a]));return this.options.autoProcessQueue?this.processQueue():void 0},b.prototype.uploadFile=function(a){return this.uploadFiles([a])},b.prototype.uploadFiles=function(a){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I=this;for(s=new XMLHttpRequest,t=0,x=a.length;x>t;t++)d=a[t],d.xhr=s;s.open(this.options.method,this.options.url,!0),s.withCredentials=!!this.options.withCredentials,p=null,f=function(){var b,c,e;for(e=[],b=0,c=a.length;c>b;b++)d=a[b],e.push(I._errorProcessing(a,p||I.options.dictResponseError.replace("{{statusCode}}",s.status),s));return e},q=function(b){var c,e,f,g,h,i,j,k,l;if(null!=b)for(e=100*b.loaded/b.total,f=0,i=a.length;i>f;f++)d=a[f],d.upload={progress:e,total:b.total,bytesSent:b.loaded};else{for(c=!0,e=100,g=0,j=a.length;j>g;g++)d=a[g],(100!==d.upload.progress||d.upload.bytesSent!==d.upload.total)&&(c=!1),d.upload.progress=e,d.upload.bytesSent=d.upload.total;if(c)return}for(l=[],h=0,k=a.length;k>h;h++)d=a[h],l.push(I.emit("uploadprogress",d,e,d.upload.bytesSent));return l},s.onload=function(c){var d;if(a[0].status!==b.CANCELED&&4===s.readyState){if(p=s.responseText,s.getResponseHeader("content-type")&&~s.getResponseHeader("content-type").indexOf("application/json"))try{p=JSON.parse(p)}catch(e){c=e,p="Invalid JSON response from server."}return q(),200<=(d=s.status)&&300>d?I._finished(a,p,c):f()}},s.onerror=function(){return a[0].status!==b.CANCELED?f():void 0},o=null!=(D=s.upload)?D:s,o.onprogress=q,i={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&c(i,this.options.headers);for(g in i)h=i[g],s.setRequestHeader(g,h);if(e=new FormData,this.options.params){E=this.options.params;for(m in E)r=E[m],e.append(m,r)}for(u=0,y=a.length;y>u;u++)d=a[u],this.emit("sending",d,s,e);if(this.options.uploadMultiple&&this.emit("sendingmultiple",a,s,e),"FORM"===this.element.tagName)for(F=this.element.querySelectorAll("input, textarea, select, button"),v=0,z=F.length;z>v;v++)if(j=F[v],k=j.getAttribute("name"),l=j.getAttribute("type"),"SELECT"===j.tagName&&j.hasAttribute("multiple"))for(G=j.options,w=0,A=G.length;A>w;w++)n=G[w],n.selected&&e.append(k,n.value);else(!l||"checkbox"!==(H=l.toLowerCase())&&"radio"!==H||j.checked)&&e.append(k,j.value);for(C=0,B=a.length;B>C;C++)d=a[C],e.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),d,d.name);return s.send(e)},b.prototype._finished=function(a,c,d){var e,f,g;for(f=0,g=a.length;g>f;f++)e=a[f],e.status=b.SUCCESS,this.emit("success",e,c,d),this.emit("complete",e);return this.options.uploadMultiple&&(this.emit("successmultiple",a,c,d),this.emit("completemultiple",a)),this.options.autoProcessQueue?this.processQueue():void 0},b.prototype._errorProcessing=function(a,c,d){var e,f,g;for(f=0,g=a.length;g>f;f++)e=a[f],e.status=b.ERROR,this.emit("error",e,c,d),this.emit("complete",e);return this.options.uploadMultiple&&(this.emit("errormultiple",a,c,d),this.emit("completemultiple",a)),this.options.autoProcessQueue?this.processQueue():void 0},b}(d),a.version="4.0.0-dev",a.options={},a.optionsForElement=function(b){return b.getAttribute("id")?a.options[e(b.getAttribute("id"))]:void 0},a.instances=[],a.forElement=function(a){if("string"==typeof a&&(a=document.querySelector(a)),null==(null!=a?a.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return a.dropzone},a.autoDiscover=!0,a.discover=function(){var b,c,d,e,f,g;for(document.querySelectorAll?d=document.querySelectorAll(".dropzone"):(d=[],b=function(a){var b,c,e,f;for(f=[],c=0,e=a.length;e>c;c++)b=a[c],/(^| )dropzone($| )/.test(b.className)?f.push(d.push(b)):f.push(void 0);return f},b(document.getElementsByTagName("div")),b(document.getElementsByTagName("form"))),g=[],e=0,f=d.length;f>e;e++)c=d[e],a.optionsForElement(c)!==!1?g.push(new a(c)):g.push(void 0);return g},a.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],a.isBrowserSupported=function(){var b,c,d,e,f;if(b=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(f=a.blacklistedBrowsers,d=0,e=f.length;e>d;d++)c=f[d],c.test(navigator.userAgent)&&(b=!1);else b=!1;else b=!1;return b},j=function(a,b){var c,d,e,f;for(f=[],d=0,e=a.length;e>d;d++)c=a[d],c!==b&&f.push(c);return f},e=function(a){return a.replace(/[\-_](\w)/g,function(a){return a[1].toUpperCase()})},a.createElement=function(a){var b;return b=document.createElement("div"),b.innerHTML=a,b.childNodes[0]},a.elementInside=function(a,b){if(a===b)return!0;for(;a=a.parentNode;)if(a===b)return!0;return!1},a.getElement=function(a,b){var c;if("string"==typeof a?c=document.querySelector(a):null!=a.nodeType&&(c=a),null==c)throw new Error("Invalid `"+b+"` option provided. Please provide a CSS selector or a plain HTML element.");return c},a.getElements=function(a,b){var c,d,e,f,g,h,i,j;if(a instanceof Array){e=[];try{for(f=0,h=a.length;h>f;f++)d=a[f],e.push(this.getElement(d,b))}catch(k){c=k,e=null}}else if("string"==typeof a)for(e=[],j=document.querySelectorAll(a),g=0,i=j.length;i>g;g++)d=j[g],e.push(d);else null!=a.nodeType&&(e=[a]);if(null==e||!e.length)throw new Error("Invalid `"+b+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return e},a.confirm=function(a,b,c){return window.confirm(a)?b():null!=c?c():void 0},a.isValidFile=function(a,b){var c,d,e,f,g;if(!b)return!0;for(b=b.split(","),d=a.type,c=d.replace(/\/.*$/,""),f=0,g=b.length;g>f;f++)if(e=b[f],e=e.trim(),"."===e.charAt(0)){if(-1!==a.name.toLowerCase().indexOf(e.toLowerCase(),a.name.length-e.length))return!0}else if(/\/\*$/.test(e)){if(c===e.replace(/\/.*$/,""))return!0}else if(d===e)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(b){return this.each(function(){return new a(this,b)})}),"undefined"!=typeof c&&null!==c?c.exports=a:window.Dropzone=a,a.ADDED="added",a.QUEUED="queued",a.ACCEPTED=a.QUEUED,a.UPLOADING="uploading",a.PROCESSING=a.UPLOADING,a.CANCELED="canceled",a.ERROR="error",a.SUCCESS="success",g=function(a){var b,c,d,e,f,g,h,i,j,k;for(h=a.naturalWidth,g=a.naturalHeight,c=document.createElement("canvas"),c.width=1,c.height=g,d=c.getContext("2d"),d.drawImage(a,0,0),e=d.getImageData(0,0,1,g).data,k=0,f=g,i=g;i>k;)b=e[4*(i-1)+3],0===b?f=i:k=i,i=f+k>>1;return j=i/g,0===j?1:j},h=function(a,b,c,d,e,f,h,i,j,k){var l;return l=g(b),a.drawImage(b,c,d,e,f,h,i,j,k/l)},f=function(a,b){var c,d,e,f,g,h,i,j,k;if(e=!1,k=!0,d=a.document,j=d.documentElement,c=d.addEventListener?"addEventListener":"attachEvent",i=d.addEventListener?"removeEventListener":"detachEvent",h=d.addEventListener?"":"on",f=function(c){return"readystatechange"!==c.type||"complete"===d.readyState?(("load"===c.type?a:d)[i](h+c.type,f,!1),!e&&(e=!0)?b.call(a,c.type||c):void 0):void 0},g=function(){var a;try{j.doScroll("left")}catch(b){return a=b,void setTimeout(g,50)}return f("poll")},"complete"!==d.readyState){if(d.createEventObject&&j.doScroll){try{k=!a.frameElement}catch(l){}k&&g()}return d[c](h+"DOMContentLoaded",f,!1),d[c](h+"readystatechange",f,!1),a[c](h+"load",f,!1)}},a._autoDiscoverFunction=function(){return a.autoDiscover?a.discover():void 0},f(window,a._autoDiscoverFunction)}).call(this)}),a.alias("component-emitter/index.js","dropzone/deps/emitter/index.js"),a.alias("component-emitter/index.js","emitter/index.js"),"object"==typeof exports?module.exports=a("dropzone"):"function"==typeof define&&define.amd?define(function(){return a("dropzone")}):this.Dropzone=a("dropzone")}(),function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.defaults,d)};b.defaults={transition_delay:300,refresh_speed:50,display_text:"none",use_percentage:!0,percent_format:function(a){return a+"%"},amount_format:function(a,b,c){return a+" / "+b},update:a.noop,done:a.noop,fail:a.noop},b.prototype.transition=function(){var c=this.$element,d=c.parent(),e=this.$back_text,f=this.$front_text,g=this.options,h=parseInt(c.attr("data-transitiongoal")),i=parseInt(c.attr("aria-valuemin"))||0,j=parseInt(c.attr("aria-valuemax"))||100,k=d.hasClass("vertical"),l=g.update&&"function"==typeof g.update?g.update:b.defaults.update,m=g.done&&"function"==typeof g.done?g.done:b.defaults.done,n=g.fail&&"function"==typeof g.fail?g.fail:b.defaults.fail;if(isNaN(h))return void n("data-transitiongoal not set");var o=Math.round(100*(h-i)/(j-i));if("center"===g.display_text&&!e&&!f){this.$back_text=e=a("<span>").addClass("progressbar-back-text").prependTo(d),this.$front_text=f=a("<span>").addClass("progressbar-front-text").prependTo(c);var p;k?(p=d.css("height"),e.css({height:p,"line-height":p}),f.css({height:p,"line-height":p}),a(window).resize(function(){p=d.css("height"),e.css({height:p,"line-height":p}),f.css({height:p,"line-height":p})})):(p=d.css("width"),f.css({width:p}),a(window).resize(function(){p=d.css("width"),f.css({width:p})}))}setTimeout(function(){var a,b,n,p,q;k?c.css("height",o+"%"):c.css("width",o+"%");var r=setInterval(function(){k?(n=c.height(),p=d.height()):(n=c.width(),p=d.width()),a=Math.round(100*n/p),b=Math.round(i+n/p*(j-i)),a>=o&&(a=o,b=h,m(c),clearInterval(r)),"none"!==g.display_text&&(q=g.use_percentage?g.percent_format(a):g.amount_format(b,j,i),"fill"===g.display_text?c.text(q):"center"===g.display_text&&(e.text(q),f.text(q))),c.attr("aria-valuenow",b),l(a,c)},g.refresh_speed)},g.transition_delay)};var c=a.fn.progressbar;a.fn.progressbar=function(c){return this.each(function(){var d=a(this),e=d.data("bs.progressbar"),f="object"==typeof c&&c;e||d.data("bs.progressbar",e=new b(this,f)),e.transition()})},a.fn.progressbar.Constructor=b,a.fn.progressbar.noConflict=function(){return a.fn.progressbar=c,this}}(window.jQuery);var CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},e=function(){},f=d.Base={extend:function(a){e.prototype=this;var b=new e;return a&&b.mixIn(a),b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},g=d.WordArray=f.extend({init:function(a,c){a=this.words=a||[],this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||i).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;if(a=a.sigBytes,this.clamp(),d%4)for(var e=0;a>e;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-8*(e%4)&255)<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;a>e;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);return this.sigBytes+=a,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-8*(c%4),b.length=a.ceil(c/4)},clone:function(){var a=f.clone.call(this);return a.words=this.words.slice(0),a},random:function(b){for(var c=[],d=0;b>d;d+=4)c.push(4294967296*a.random()|0);return new g.init(c,b)}}),h=c.enc={},i=h.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;a>d;d++){var e=b[d>>>2]>>>24-8*(d%4)&255;c.push((e>>>4).toString(16)),c.push((15&e).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return new g.init(c,b/2)}},j=h.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;a>d;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-8*(d%4);return new g.init(c,b)}},k=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(j.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data")}},parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},l=d.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=k.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,f=this.blockSize,h=e/(4*f),h=b?a.ceil(h):a.max((0|h)-this._minBufferSize,0);if(b=h*f,e=a.min(4*b,e),b){for(var i=0;b>i;i+=f)this._doProcessBlock(d,i);i=d.splice(0,b),c.sigBytes-=e}return new g.init(i,e)},clone:function(){var a=f.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0});d.Hasher=l.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return new a.init(c).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return new m.HMAC.init(a,c).finalize(b)}}});var m=c.algo={};return c}(Math);!function(){var a=CryptoJS,b=a.lib.WordArray;a.enc.Base64={stringify:function(a){var b=a.words,c=a.sigBytes,d=this._map;a.clamp(),a=[];for(var e=0;c>e;e+=3)for(var f=(b[e>>>2]>>>24-8*(e%4)&255)<<16|(b[e+1>>>2]>>>24-8*((e+1)%4)&255)<<8|b[e+2>>>2]>>>24-8*((e+2)%4)&255,g=0;4>g&&c>e+.75*g;g++)a.push(d.charAt(f>>>6*(3-g)&63));if(b=d.charAt(64))for(;a.length%4;)a.push(b);return a.join("")},parse:function(a){var c=a.length,d=this._map,e=d.charAt(64);e&&(e=a.indexOf(e),-1!=e&&(c=e));for(var e=[],f=0,g=0;c>g;g++)if(g%4){var h=d.indexOf(a.charAt(g-1))<<2*(g%4),i=d.indexOf(a.charAt(g))>>>6-2*(g%4);e[f>>>2]|=(h|i)<<24-8*(f%4),f++}return b.create(e,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(a){function b(a,b,c,d,e,f,g){return a=a+(b&c|~b&d)+e+g,(a<<f|a>>>32-f)+b}function c(a,b,c,d,e,f,g){return a=a+(b&d|c&~d)+e+g,(a<<f|a>>>32-f)+b}function d(a,b,c,d,e,f,g){return a=a+(b^c^d)+e+g,(a<<f|a>>>32-f)+b}function e(a,b,c,d,e,f,g){return a=a+(c^(b|~d))+e+g,(a<<f|a>>>32-f)+b}for(var f=CryptoJS,g=f.lib,h=g.WordArray,i=g.Hasher,g=f.algo,j=[],k=0;64>k;k++)j[k]=4294967296*a.abs(a.sin(k+1))|0;g=g.MD5=i.extend({_doReset:function(){this._hash=new h.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(a,f){for(var g=0;16>g;g++){var h=f+g,i=a[h];a[h]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var g=this._hash.words,h=a[f+0],i=a[f+1],k=a[f+2],l=a[f+3],m=a[f+4],n=a[f+5],o=a[f+6],p=a[f+7],q=a[f+8],r=a[f+9],s=a[f+10],t=a[f+11],u=a[f+12],v=a[f+13],w=a[f+14],x=a[f+15],y=g[0],z=g[1],A=g[2],B=g[3],y=b(y,z,A,B,h,7,j[0]),B=b(B,y,z,A,i,12,j[1]),A=b(A,B,y,z,k,17,j[2]),z=b(z,A,B,y,l,22,j[3]),y=b(y,z,A,B,m,7,j[4]),B=b(B,y,z,A,n,12,j[5]),A=b(A,B,y,z,o,17,j[6]),z=b(z,A,B,y,p,22,j[7]),y=b(y,z,A,B,q,7,j[8]),B=b(B,y,z,A,r,12,j[9]),A=b(A,B,y,z,s,17,j[10]),z=b(z,A,B,y,t,22,j[11]),y=b(y,z,A,B,u,7,j[12]),B=b(B,y,z,A,v,12,j[13]),A=b(A,B,y,z,w,17,j[14]),z=b(z,A,B,y,x,22,j[15]),y=c(y,z,A,B,i,5,j[16]),B=c(B,y,z,A,o,9,j[17]),A=c(A,B,y,z,t,14,j[18]),z=c(z,A,B,y,h,20,j[19]),y=c(y,z,A,B,n,5,j[20]),B=c(B,y,z,A,s,9,j[21]),A=c(A,B,y,z,x,14,j[22]),z=c(z,A,B,y,m,20,j[23]),y=c(y,z,A,B,r,5,j[24]),B=c(B,y,z,A,w,9,j[25]),A=c(A,B,y,z,l,14,j[26]),z=c(z,A,B,y,q,20,j[27]),y=c(y,z,A,B,v,5,j[28]),B=c(B,y,z,A,k,9,j[29]),A=c(A,B,y,z,p,14,j[30]),z=c(z,A,B,y,u,20,j[31]),y=d(y,z,A,B,n,4,j[32]),B=d(B,y,z,A,q,11,j[33]),A=d(A,B,y,z,t,16,j[34]),z=d(z,A,B,y,w,23,j[35]),y=d(y,z,A,B,i,4,j[36]),B=d(B,y,z,A,m,11,j[37]),A=d(A,B,y,z,p,16,j[38]),z=d(z,A,B,y,s,23,j[39]),y=d(y,z,A,B,v,4,j[40]),B=d(B,y,z,A,h,11,j[41]),A=d(A,B,y,z,l,16,j[42]),z=d(z,A,B,y,o,23,j[43]),y=d(y,z,A,B,r,4,j[44]),B=d(B,y,z,A,u,11,j[45]),A=d(A,B,y,z,x,16,j[46]),z=d(z,A,B,y,k,23,j[47]),y=e(y,z,A,B,h,6,j[48]),B=e(B,y,z,A,p,10,j[49]),A=e(A,B,y,z,w,15,j[50]),z=e(z,A,B,y,n,21,j[51]),y=e(y,z,A,B,u,6,j[52]),B=e(B,y,z,A,l,10,j[53]),A=e(A,B,y,z,s,15,j[54]),z=e(z,A,B,y,i,21,j[55]),y=e(y,z,A,B,q,6,j[56]),B=e(B,y,z,A,x,10,j[57]),A=e(A,B,y,z,o,15,j[58]),z=e(z,A,B,y,v,21,j[59]),y=e(y,z,A,B,m,6,j[60]),B=e(B,y,z,A,t,10,j[61]),A=e(A,B,y,z,k,15,j[62]),z=e(z,A,B,y,r,21,j[63]);g[0]=g[0]+y|0,g[1]=g[1]+z|0,g[2]=g[2]+A|0,g[3]=g[3]+B|0},_doFinalize:function(){var b=this._data,c=b.words,d=8*this._nDataBytes,e=8*b.sigBytes;c[e>>>5]|=128<<24-e%32;var f=a.floor(d/4294967296);for(c[(e+64>>>9<<4)+15]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),c[(e+64>>>9<<4)+14]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),b.sigBytes=4*(c.length+1),this._process(),b=this._hash,c=b.words,d=0;4>d;d++)e=c[d],c[d]=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8);return b},clone:function(){var a=i.clone.call(this);return a._hash=this._hash.clone(),a}}),f.MD5=i._createHelper(g),f.HmacMD5=i._createHmacHelper(g)}(Math),function(){var a=CryptoJS,b=a.lib,c=b.Base,d=b.WordArray,b=a.algo,e=b.EvpKDF=c.extend({cfg:c.extend({keySize:4,hasher:b.MD5,iterations:1}),init:function(a){this.cfg=this.cfg.extend(a)},compute:function(a,b){for(var c=this.cfg,e=c.hasher.create(),f=d.create(),g=f.words,h=c.keySize,c=c.iterations;g.length<h;){i&&e.update(i);var i=e.update(a).finalize(b);e.reset();for(var j=1;c>j;j++)i=e.finalize(i),e.reset();f.concat(i)}return f.sigBytes=4*h,f}});a.EvpKDF=function(a,b,c){return e.create(c).compute(a,b)}}(),CryptoJS.lib.Cipher||function(a){var b=CryptoJS,c=b.lib,d=c.Base,e=c.WordArray,f=c.BufferedBlockAlgorithm,g=b.enc.Base64,h=b.algo.EvpKDF,i=c.Cipher=f.extend({cfg:d.extend(),createEncryptor:function(a,b){return this.create(this._ENC_XFORM_MODE,a,b)},createDecryptor:function(a,b){return this.create(this._DEC_XFORM_MODE,a,b)},init:function(a,b,c){this.cfg=this.cfg.extend(c),this._xformMode=a,this._key=b,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(a){return this._append(a),this._process()},finalize:function(a){return a&&this._append(a),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(a){return{encrypt:function(b,c,d){return("string"==typeof c?o:n).encrypt(a,b,c,d)},decrypt:function(b,c,d){return("string"==typeof c?o:n).decrypt(a,b,c,d)}}}});c.StreamCipher=i.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var j=b.mode={},k=function(b,c,d){var e=this._iv;e?this._iv=a:e=this._prevBlock;for(var f=0;d>f;f++)b[c+f]^=e[f]},l=(c.BlockCipherMode=d.extend({createEncryptor:function(a,b){return this.Encryptor.create(a,b)},createDecryptor:function(a,b){return this.Decryptor.create(a,b)},init:function(a,b){this._cipher=a,this._iv=b}})).extend();l.Encryptor=l.extend({processBlock:function(a,b){var c=this._cipher,d=c.blockSize;k.call(this,a,b,d),c.encryptBlock(a,b),this._prevBlock=a.slice(b,b+d)}}),l.Decryptor=l.extend({processBlock:function(a,b){var c=this._cipher,d=c.blockSize,e=a.slice(b,b+d);c.decryptBlock(a,b),k.call(this,a,b,d),this._prevBlock=e}}),j=j.CBC=l,l=(b.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c<<24|c<<16|c<<8|c,f=[],g=0;c>g;g+=4)f.push(d);c=e.create(f,c),a.concat(c)},unpad:function(a){a.sigBytes-=255&a.words[a.sigBytes-1>>>2]}},c.BlockCipher=i.extend({cfg:i.cfg.extend({mode:j,padding:l}),reset:function(){i.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var c=a.createEncryptor;else c=a.createDecryptor,this._minBufferSize=1;this._mode=c.call(a,this,b&&b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else b=this._process(!0),a.unpad(b);return b},blockSize:4});var m=c.CipherParams=d.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),j=(b.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;return a=a.salt,(a?e.create([1398893684,1701076831]).concat(a).concat(b):b).toString(g)},parse:function(a){a=g.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=e.create(b.slice(2,4));b.splice(0,4),a.sigBytes-=16}return m.create({ciphertext:a,salt:c})}},n=c.SerializableCipher=d.extend({cfg:d.extend({format:j}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var e=a.createEncryptor(c,d);return b=e.finalize(b),e=e.cfg,m.create({ciphertext:b,key:c,iv:e.iv,algorithm:a,mode:e.mode,padding:e.padding,blockSize:a.blockSize,formatter:d.format})},decrypt:function(a,b,c,d){return d=this.cfg.extend(d),b=this._parse(b,d.format),a.createDecryptor(c,d).finalize(b.ciphertext)},_parse:function(a,b){return"string"==typeof a?b.parse(a,this):a}}),b=(b.kdf={}).OpenSSL={execute:function(a,b,c,d){return d||(d=e.random(8)),a=h.create({keySize:b+c}).compute(a,d),c=e.create(a.words.slice(b),4*c),a.sigBytes=4*b,m.create({key:a,iv:c,salt:d})}},o=c.PasswordBasedCipher=n.extend({cfg:n.cfg.extend({kdf:b}),encrypt:function(a,b,c,d){return d=this.cfg.extend(d),c=d.kdf.execute(c,a.keySize,a.ivSize),d.iv=c.iv,a=n.encrypt.call(this,a,b,c.key,d),a.mixIn(c),a},decrypt:function(a,b,c,d){return d=this.cfg.extend(d),b=this._parse(b,d.format),c=d.kdf.execute(c,a.keySize,a.ivSize,b.salt),d.iv=c.iv,n.decrypt.call(this,a,b,c.key,d)}})}(),function(){for(var a=CryptoJS,b=a.lib.BlockCipher,c=a.algo,d=[],e=[],f=[],g=[],h=[],i=[],j=[],k=[],l=[],m=[],n=[],o=0;256>o;o++)n[o]=128>o?o<<1:o<<1^283;for(var p=0,q=0,o=0;256>o;o++){var r=q^q<<1^q<<2^q<<3^q<<4,r=r>>>8^255&r^99;d[p]=r,e[r]=p;var s=n[p],t=n[s],u=n[t],v=257*n[r]^16843008*r;f[p]=v<<24|v>>>8,g[p]=v<<16|v>>>16,h[p]=v<<8|v>>>24,i[p]=v,v=16843009*u^65537*t^257*s^16843008*p,j[r]=v<<24|v>>>8,k[r]=v<<16|v>>>16,l[r]=v<<8|v>>>24,m[r]=v,p?(p=s^n[n[n[u^s]]],q^=n[n[q]]):p=q=1}var w=[0,1,2,4,8,16,32,64,128,27,54],c=c.AES=b.extend({_doReset:function(){for(var a=this._key,b=a.words,c=a.sigBytes/4,a=4*((this._nRounds=c+6)+1),e=this._keySchedule=[],f=0;a>f;f++)if(c>f)e[f]=b[f];else{var g=e[f-1];f%c?c>6&&4==f%c&&(g=d[g>>>24]<<24|d[g>>>16&255]<<16|d[g>>>8&255]<<8|d[255&g]):(g=g<<8|g>>>24,g=d[g>>>24]<<24|d[g>>>16&255]<<16|d[g>>>8&255]<<8|d[255&g],g^=w[f/c|0]<<24),e[f]=e[f-c]^g}for(b=this._invKeySchedule=[],c=0;a>c;c++)f=a-c,g=c%4?e[f]:e[f-4],b[c]=4>c||4>=f?g:j[d[g>>>24]]^k[d[g>>>16&255]]^l[d[g>>>8&255]]^m[d[255&g]]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._keySchedule,f,g,h,i,d)},decryptBlock:function(a,b){var c=a[b+1];a[b+1]=a[b+3],a[b+3]=c,this._doCryptBlock(a,b,this._invKeySchedule,j,k,l,m,e),c=a[b+1],a[b+1]=a[b+3],a[b+3]=c},_doCryptBlock:function(a,b,c,d,e,f,g,h){for(var i=this._nRounds,j=a[b]^c[0],k=a[b+1]^c[1],l=a[b+2]^c[2],m=a[b+3]^c[3],n=4,o=1;i>o;o++)var p=d[j>>>24]^e[k>>>16&255]^f[l>>>8&255]^g[255&m]^c[n++],q=d[k>>>24]^e[l>>>16&255]^f[m>>>8&255]^g[255&j]^c[n++],r=d[l>>>24]^e[m>>>16&255]^f[j>>>8&255]^g[255&k]^c[n++],m=d[m>>>24]^e[j>>>16&255]^f[k>>>8&255]^g[255&l]^c[n++],j=p,k=q,l=r;p=(h[j>>>24]<<24|h[k>>>16&255]<<16|h[l>>>8&255]<<8|h[255&m])^c[n++],q=(h[k>>>24]<<24|h[l>>>16&255]<<16|h[m>>>8&255]<<8|h[255&j])^c[n++],r=(h[l>>>24]<<24|h[m>>>16&255]<<16|h[j>>>8&255]<<8|h[255&k])^c[n++],m=(h[m>>>24]<<24|h[j>>>16&255]<<16|h[k>>>8&255]<<8|h[255&l])^c[n++],a[b]=p,a[b+1]=q,a[b+2]=r,a[b+3]=m},keySize:8});a.AES=b._createHelper(c)}(),function(a){var b={settings:{barWidth:1,barHeight:50,moduleSize:5,showHRI:!0,addQuietZone:!0,marginHRI:5,bgColor:"#FFFFFF",color:"#000000",fontSize:10,output:"css",posX:0,posY:0},intval:function(a){var b=typeof a;return"string"==b?(a=a.replace(/[^0-9-.]/g,""),a=parseInt(1*a,10),isNaN(a)||!isFinite(a)?0:a):"number"==b&&isFinite(a)?Math.floor(a):0},i25:{encoding:["NNWWN","WNNNW","NWNNW","WWNNN","NNWNW","WNWNN","NWWNN","NNNWW","WNNWN","NWNWN"],compute:function(a,c,d){if(c){"int25"==d&&a.length%2==0&&(a="0"+a);for(var e,f=!0,g=0,h=a.length-1;h>-1;h--){if(e=b.intval(a.charAt(h)),isNaN(e))return"";g+=f?3*e:e,f=!f}a+=((10-g%10)%10).toString()}else a.length%2!=0&&(a="0"+a);return a},getDigit:function(a,b,c){if(a=this.compute(a,b,c),""==a)return"";result="";var d,e;if("int25"==c){result+="1010";var f,g;for(d=0;d<a.length/2;d++)for(f=a.charAt(2*d),g=a.charAt(2*d+1),e=0;5>e;e++)result+="1","W"==this.encoding[f].charAt(e)&&(result+="1"),result+="0","W"==this.encoding[g].charAt(e)&&(result+="0");result+="1101"}else if("std25"==c){result+="11011010";var h;for(d=0;d<a.length;d++)for(h=a.charAt(d),e=0;5>e;e++)result+="1","W"==this.encoding[h].charAt(e)&&(result+="11"),result+="0";result+="11010110"}return result}},ean:{encoding:[["0001101","0100111","1110010"],["0011001","0110011","1100110"],["0010011","0011011","1101100"],["0111101","0100001","1000010"],["0100011","0011101","1011100"],["0110001","0111001","1001110"],["0101111","0000101","1010000"],["0111011","0010001","1000100"],["0110111","0001001","1001000"],["0001011","0010111","1110100"]],first:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],getDigit:function(a,c){var d="ean8"==c?7:12;if(a=a.substring(0,d),a.length!=d)return"";for(var e,f=0;f<a.length;f++)if(e=a.charAt(f),"0">e||e>"9")return"";a=this.compute(a,c);var g="101";if("ean8"==c){for(var f=0;4>f;f++)g+=this.encoding[b.intval(a.charAt(f))][0];g+="01010";for(var f=4;8>f;f++)g+=this.encoding[b.intval(a.charAt(f))][2]}else{for(var h=this.first[b.intval(a.charAt(0))],f=1;7>f;f++)g+=this.encoding[b.intval(a.charAt(f))][b.intval(h.charAt(f-1))];g+="01010";for(var f=7;13>f;f++)g+=this.encoding[b.intval(a.charAt(f))][2]}return g+="101"},compute:function(a,c){var d="ean13"==c?12:7;a=a.substring(0,d);var e=0,f=!0;for(i=a.length-1;i>-1;i--)e+=(f?3:1)*b.intval(a.charAt(i)),f=!f;return a+((10-e%10)%10).toString()}},upc:{getDigit:function(a){return a.length<12&&(a="0"+a),b.ean.getDigit(a,"ean13")},compute:function(a){return a.length<12&&(a="0"+a),b.ean.compute(a,"ean13").substr(1)}},msi:{encoding:["100100100100","100100100110","100100110100","100100110110","100110100100","100110100110","100110110100","100110110110","110100100100","110100100110"],compute:function(a,b){return"object"==typeof b?("mod10"==b.crc1?a=this.computeMod10(a):"mod11"==b.crc1&&(a=this.computeMod11(a)),"mod10"==b.crc2?a=this.computeMod10(a):"mod11"==b.crc2&&(a=this.computeMod11(a))):"boolean"==typeof b&&b&&(a=this.computeMod10(a)),a},computeMod10:function(a){var c,d=a.length%2,e=0,f=0;for(c=0;c<a.length;c++)d?e=10*e+b.intval(a.charAt(c)):f+=b.intval(a.charAt(c)),d=!d;var g=(2*e).toString();for(c=0;c<g.length;c++)f+=b.intval(g.charAt(c));return a+((10-f%10)%10).toString()},computeMod11:function(a){for(var c=0,d=2,e=a.length-1;e>=0;e--)c+=d*b.intval(a.charAt(e)),d=7==d?2:d+1;return a+((11-c%11)%11).toString()},getDigit:function(a,b){var c="0123456789",d=0,e="";for(a=this.compute(a,!1),e="110",i=0;i<a.length;i++){if(d=c.indexOf(a.charAt(i)),0>d)return"";
e+=this.encoding[d]}return e+="1001"}},code11:{encoding:["101011","1101011","1001011","1100101","1011011","1101101","1001101","1010011","1101001","110101","101101"],getDigit:function(a){var b,c,d="0123456789-",e="",f="0";for(e="1011001"+f,b=0;b<a.length;b++){if(c=d.indexOf(a.charAt(b)),0>c)return"";e+=this.encoding[c]+f}var g=0,h=0,i=1,j=0;for(b=a.length-1;b>=0;b--)g=10==g?1:g+1,i=10==i?1:i+1,c=d.indexOf(a.charAt(b)),h+=g*c,j+=i*c;var k=h%11;j+=k;var l=j%11;return e+=this.encoding[k]+f,a.length>=10&&(e+=this.encoding[l]+f),e+="1011001"}},code39:{encoding:["101001101101","110100101011","101100101011","110110010101","101001101011","110100110101","101100110101","101001011011","110100101101","101100101101","110101001011","101101001011","110110100101","101011001011","110101100101","101101100101","101010011011","110101001101","101101001101","101011001101","110101010011","101101010011","110110101001","101011010011","110101101001","101101101001","101010110011","110101011001","101101011001","101011011001","110010101011","100110101011","110011010101","100101101011","110010110101","100110110101","100101011011","110010101101","100110101101","100100100101","100100101001","100101001001","101001001001","100101101101"],getDigit:function(a){var b,c,d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%*",e="",f="0";if(a.indexOf("*")>=0)return"";for(a=("*"+a+"*").toUpperCase(),b=0;b<a.length;b++){if(c=d.indexOf(a.charAt(b)),0>c)return"";b>0&&(e+=f),e+=this.encoding[c]}return e}},code93:{encoding:["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],getDigit:function(a,b){var c,d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%____*",e="";if(a.indexOf("*")>=0)return"";for(a=a.toUpperCase(),e+=this.encoding[47],i=0;i<a.length;i++){if(c=a.charAt(i),index=d.indexOf(c),"_"==c||index<0)return"";e+=this.encoding[index]}if(b){var f=0,g=0,h=1,j=0;for(i=a.length-1;i>=0;i--)f=20==f?1:f+1,h=15==h?1:h+1,index=d.indexOf(a.charAt(i)),g+=f*index,j+=h*index;var c=g%47;j+=c;var k=j%47;e+=this.encoding[c],e+=this.encoding[k]}return e+=this.encoding[47],e+="1"}},code128:{encoding:["11011001100","11001101100","11001100110","10010011000","10010001100","10001001100","10011001000","10011000100","10001100100","11001001000","11001000100","11000100100","10110011100","10011011100","10011001110","10111001100","10011101100","10011100110","11001110010","11001011100","11001001110","11011100100","11001110100","11101101110","11101001100","11100101100","11100100110","11101100100","11100110100","11100110010","11011011000","11011000110","11000110110","10100011000","10001011000","10001000110","10110001000","10001101000","10001100010","11010001000","11000101000","11000100010","10110111000","10110001110","10001101110","10111011000","10111000110","10001110110","11101110110","11010001110","11000101110","11011101000","11011100010","11011101110","11101011000","11101000110","11100010110","11101101000","11101100010","11100011010","11101111010","11001000010","11110001010","10100110000","10100001100","10010110000","10010000110","10000101100","10000100110","10110010000","10110000100","10011010000","10011000010","10000110100","10000110010","11000010010","11001010000","11110111010","11000010100","10001111010","10100111100","10010111100","10010011110","10111100100","10011110100","10011110010","11110100100","11110010100","11110010010","11011011110","11011110110","11110110110","10101111000","10100011110","10001011110","10111101000","10111100010","11110101000","11110100010","10111011110","10111101110","11101011110","11110101110","11010000100","11010010000","11010011100","11000111010"],getDigit:function(a){var c=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",d="",e=0,f=0,g=0,h=0,i=0;for(g=0;g<a.length;g++)if(-1==c.indexOf(a.charAt(g)))return"";var j=a.length>1,k="";for(g=0;3>g&&g<a.length;g++)k=a.charAt(g),j&=k>="0"&&"9">=k;for(e=j?105:104,d=this.encoding[e],g=0;g<a.length;){if(j)(g==a.length||a.charAt(g)<"0"||a.charAt(g)>"9"||a.charAt(g+1)<"0"||a.charAt(g+1)>"9")&&(j=!1,d+=this.encoding[100],e+=100*++f);else{for(h=0;g+h<a.length&&a.charAt(g+h)>="0"&&a.charAt(g+h)<="9";)h++;j=h>5||g+h-1==a.length&&h>3,j&&(d+=this.encoding[99],e+=99*++f)}j?(i=b.intval(a.charAt(g)+a.charAt(g+1)),g+=2):(i=c.indexOf(a.charAt(g)),g+=1),d+=this.encoding[i],e+=++f*i}return d+=this.encoding[e%103],d+=this.encoding[106],d+="11"}},codabar:{encoding:["101010011","101011001","101001011","110010101","101101001","110101001","100101011","100101101","100110101","110100101","101001101","101100101","1101011011","1101101011","1101101101","1011011011","1011001001","1010010011","1001001011","1010011001"],getDigit:function(a){var b,c,d="0123456789-$:/.+",e="",f="0";for(e+=this.encoding[16]+f,b=0;b<a.length;b++){if(c=d.indexOf(a.charAt(b)),0>c)return"";e+=this.encoding[c]+f}return e+=this.encoding[16]}},datamatrix:{lengthRows:[10,12,14,16,18,20,22,24,26,32,36,40,44,48,52,64,72,80,88,96,104,120,132,144,8,8,12,12,16,16],lengthCols:[10,12,14,16,18,20,22,24,26,32,36,40,44,48,52,64,72,80,88,96,104,120,132,144,18,32,26,36,36,48],dataCWCount:[3,5,8,12,18,22,30,36,44,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558,5,10,16,22,32,49],solomonCWCount:[5,7,10,12,14,18,20,24,28,36,42,48,56,68,84,112,144,192,224,272,336,408,496,620,7,11,14,18,24,28],dataRegionRows:[8,10,12,14,16,18,20,22,24,14,16,18,20,22,24,14,16,18,20,22,24,18,20,22,6,6,10,10,14,14],dataRegionCols:[8,10,12,14,16,18,20,22,24,14,16,18,20,22,24,14,16,18,20,22,24,18,20,22,16,14,24,16,16,22],regionRows:[1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,4,4,4,4,4,4,6,6,6,1,1,1,1,1,1],regionCols:[1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,4,4,4,4,4,4,6,6,6,1,2,1,2,2,2],interleavedBlocks:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,4,4,4,4,6,6,8,8,1,1,1,1,1,1],logTab:[-255,255,1,240,2,225,241,53,3,38,226,133,242,43,54,210,4,195,39,114,227,106,134,28,243,140,44,23,55,118,211,234,5,219,196,96,40,222,115,103,228,78,107,125,135,8,29,162,244,186,141,180,45,99,24,49,56,13,119,153,212,199,235,91,6,76,220,217,197,11,97,184,41,36,223,253,116,138,104,193,229,86,79,171,108,165,126,145,136,34,9,74,30,32,163,84,245,173,187,204,142,81,181,190,46,88,100,159,25,231,50,207,57,147,14,67,120,128,154,248,213,167,200,63,236,110,92,176,7,161,77,124,221,102,218,95,198,90,12,152,98,48,185,179,42,209,37,132,224,52,254,239,117,233,139,22,105,27,194,113,230,206,87,158,80,189,172,203,109,175,166,62,127,247,146,66,137,192,35,252,10,183,75,216,31,83,33,73,164,144,85,170,246,65,174,61,188,202,205,157,143,169,82,72,182,215,191,251,47,178,89,151,101,94,160,123,26,112,232,21,51,238,208,131,58,69,148,18,15,16,68,17,121,149,129,19,155,59,249,70,214,250,168,71,201,156,64,60,237,130,111,20,93,122,177,150],aLogTab:[1,2,4,8,16,32,64,128,45,90,180,69,138,57,114,228,229,231,227,235,251,219,155,27,54,108,216,157,23,46,92,184,93,186,89,178,73,146,9,18,36,72,144,13,26,52,104,208,141,55,110,220,149,7,14,28,56,112,224,237,247,195,171,123,246,193,175,115,230,225,239,243,203,187,91,182,65,130,41,82,164,101,202,185,95,190,81,162,105,210,137,63,126,252,213,135,35,70,140,53,106,212,133,39,78,156,21,42,84,168,125,250,217,159,19,38,76,152,29,58,116,232,253,215,131,43,86,172,117,234,249,223,147,11,22,44,88,176,77,154,25,50,100,200,189,87,174,113,226,233,255,211,139,59,118,236,245,199,163,107,214,129,47,94,188,85,170,121,242,201,191,83,166,97,194,169,127,254,209,143,51,102,204,181,71,142,49,98,196,165,103,206,177,79,158,17,34,68,136,61,122,244,197,167,99,198,161,111,222,145,15,30,60,120,240,205,183,67,134,33,66,132,37,74,148,5,10,20,40,80,160,109,218,153,31,62,124,248,221,151,3,6,12,24,48,96,192,173,119,238,241,207,179,75,150,1],champGaloisMult:function(a,b){return a&&b?this.aLogTab[(this.logTab[a]+this.logTab[b])%255]:0},champGaloisDoub:function(a,b){return a?b?this.aLogTab[(this.logTab[a]+b)%255]:a:0},champGaloisSum:function(a,b){return a^b},selectIndex:function(a,b){if((1>a||a>1558)&&!b)return-1;if((1>a||a>49)&&b)return-1;var c=0;for(b&&(c=24);this.dataCWCount[c]<a;)c++;return c},encodeDataCodeWordsASCII:function(a){var b,c,d=new Array,e=0;for(b=0;b<a.length;b++)c=a.charCodeAt(b),c>127?(d[e]=235,c-=127,e++):c>=48&&57>=c&&b+1<a.length&&a.charCodeAt(b+1)>=48&&a.charCodeAt(b+1)<=57?(c=10*(c-48)+(a.charCodeAt(b+1)-48),c+=130,b++):c++,d[e]=c,e++;return d},addPadCW:function(a,b,c){if(!(b>=c)){a[b]=129;var d,e;for(e=b+1;c>e;e++)d=149*(e+1)%253+1,a[e]=(129+d)%254}},calculSolFactorTable:function(a){var b,c,d=new Array;for(b=0;a>=b;b++)d[b]=1;for(b=1;a>=b;b++)for(c=b-1;c>=0;c--)d[c]=this.champGaloisDoub(d[c],b),c>0&&(d[c]=this.champGaloisSum(d[c],d[c-1]));return d},addReedSolomonCW:function(a,b,c,d,e){var f,g,h,i=0,j=a/e,k=new Array;for(h=0;e>h;h++){for(f=0;j>f;f++)k[f]=0;for(f=h;c>f;f+=e)for(i=this.champGaloisSum(d[f],k[j-1]),g=j-1;g>=0;g--)i?k[g]=this.champGaloisMult(i,b[g]):k[g]=0,g>0&&(k[g]=this.champGaloisSum(k[g-1],k[g]));for(g=c+h,f=j-1;f>=0;f--)d[g]=k[f],g+=e}return d},getBits:function(a){for(var b=new Array,c=0;8>c;c++)b[c]=a&128>>c?1:0;return b},next:function(a,b,c,d,e,f){var g=0,h=4,i=0;do{h==b&&0==i?(this.patternShapeSpecial1(e,f,d[g],b,c),g++):3>a&&h==b-2&&0==i&&c%4!=0?(this.patternShapeSpecial2(e,f,d[g],b,c),g++):h==b-2&&0==i&&c%8==4?(this.patternShapeSpecial3(e,f,d[g],b,c),g++):h==b+4&&2==i&&c%8==0&&(this.patternShapeSpecial4(e,f,d[g],b,c),g++);do b>h&&i>=0&&1!=f[h][i]&&(this.patternShapeStandard(e,f,d[g],h,i,b,c),g++),h-=2,i+=2;while(h>=0&&c>i);h+=1,i+=3;do h>=0&&c>i&&1!=f[h][i]&&(this.patternShapeStandard(e,f,d[g],h,i,b,c),g++),h+=2,i-=2;while(b>h&&i>=0);h+=3,i+=1}while(b>h||c>i)},patternShapeStandard:function(a,b,c,d,e,f,g){this.placeBitInDatamatrix(a,b,c[0],d-2,e-2,f,g),this.placeBitInDatamatrix(a,b,c[1],d-2,e-1,f,g),this.placeBitInDatamatrix(a,b,c[2],d-1,e-2,f,g),this.placeBitInDatamatrix(a,b,c[3],d-1,e-1,f,g),this.placeBitInDatamatrix(a,b,c[4],d-1,e,f,g),this.placeBitInDatamatrix(a,b,c[5],d,e-2,f,g),this.placeBitInDatamatrix(a,b,c[6],d,e-1,f,g),this.placeBitInDatamatrix(a,b,c[7],d,e,f,g)},patternShapeSpecial1:function(a,b,c,d,e){this.placeBitInDatamatrix(a,b,c[0],d-1,0,d,e),this.placeBitInDatamatrix(a,b,c[1],d-1,1,d,e),this.placeBitInDatamatrix(a,b,c[2],d-1,2,d,e),this.placeBitInDatamatrix(a,b,c[3],0,e-2,d,e),this.placeBitInDatamatrix(a,b,c[4],0,e-1,d,e),this.placeBitInDatamatrix(a,b,c[5],1,e-1,d,e),this.placeBitInDatamatrix(a,b,c[6],2,e-1,d,e),this.placeBitInDatamatrix(a,b,c[7],3,e-1,d,e)},patternShapeSpecial2:function(a,b,c,d,e){this.placeBitInDatamatrix(a,b,c[0],d-3,0,d,e),this.placeBitInDatamatrix(a,b,c[1],d-2,0,d,e),this.placeBitInDatamatrix(a,b,c[2],d-1,0,d,e),this.placeBitInDatamatrix(a,b,c[3],0,e-4,d,e),this.placeBitInDatamatrix(a,b,c[4],0,e-3,d,e),this.placeBitInDatamatrix(a,b,c[5],0,e-2,d,e),this.placeBitInDatamatrix(a,b,c[6],0,e-1,d,e),this.placeBitInDatamatrix(a,b,c[7],1,e-1,d,e)},patternShapeSpecial3:function(a,b,c,d,e){this.placeBitInDatamatrix(a,b,c[0],d-3,0,d,e),this.placeBitInDatamatrix(a,b,c[1],d-2,0,d,e),this.placeBitInDatamatrix(a,b,c[2],d-1,0,d,e),this.placeBitInDatamatrix(a,b,c[3],0,e-2,d,e),this.placeBitInDatamatrix(a,b,c[4],0,e-1,d,e),this.placeBitInDatamatrix(a,b,c[5],1,e-1,d,e),this.placeBitInDatamatrix(a,b,c[6],2,e-1,d,e),this.placeBitInDatamatrix(a,b,c[7],3,e-1,d,e)},patternShapeSpecial4:function(a,b,c,d,e){this.placeBitInDatamatrix(a,b,c[0],d-1,0,d,e),this.placeBitInDatamatrix(a,b,c[1],d-1,e-1,d,e),this.placeBitInDatamatrix(a,b,c[2],0,e-3,d,e),this.placeBitInDatamatrix(a,b,c[3],0,e-2,d,e),this.placeBitInDatamatrix(a,b,c[4],0,e-1,d,e),this.placeBitInDatamatrix(a,b,c[5],1,e-3,d,e),this.placeBitInDatamatrix(a,b,c[6],1,e-2,d,e),this.placeBitInDatamatrix(a,b,c[7],1,e-1,d,e)},placeBitInDatamatrix:function(a,b,c,d,e,f,g){0>d&&(d+=f,e+=4-(f+4)%8),0>e&&(e+=g,d+=4-(g+4)%8),1!=b[d][e]&&(a[d][e]=c,b[d][e]=1)},addFinderPattern:function(a,b,c,d,e){var f=(d+2)*b,g=(e+2)*c,h=new Array;h[0]=new Array;for(var i=0;g+2>i;i++)h[0][i]=0;for(var j=0;f>j;j++){h[j+1]=new Array,h[j+1][0]=0,h[j+1][g+1]=0;for(var i=0;g>i;i++)j%(d+2)==0?i%2==0?h[j+1][i+1]=1:h[j+1][i+1]=0:j%(d+2)==d+1?h[j+1][i+1]=1:i%(e+2)==e+1?j%2==0?h[j+1][i+1]=0:h[j+1][i+1]=1:i%(e+2)==0?h[j+1][i+1]=1:(h[j+1][i+1]=0,h[j+1][i+1]=a[j-1-2*parseInt(j/(d+2))][i-1-2*parseInt(i/(e+2))])}h[f+1]=new Array;for(var i=0;g+2>i;i++)h[f+1][i]=0;return h},getDigit:function(a,b){var c=this.encodeDataCodeWordsASCII(a),d=c.length,e=this.selectIndex(d,b),f=this.dataCWCount[e],g=this.solomonCWCount[e],h=f+g,i=this.lengthRows[e],j=this.lengthCols[e],k=this.regionRows[e],l=this.regionCols[e],m=this.dataRegionRows[e],n=this.dataRegionCols[e],o=i-2*k,p=j-2*l,q=this.interleavedBlocks[e],r=g/q;this.addPadCW(c,d,f);var s=this.calculSolFactorTable(r);this.addReedSolomonCW(g,s,f,c,q);for(var t=new Array,u=0;h>u;u++)t[u]=this.getBits(c[u]);for(var v=new Array,w=new Array,u=0;p>u;u++)v[u]=new Array,w[u]=new Array;return o*p%8==4&&(v[o-2][p-2]=1,v[o-1][p-1]=1,v[o-1][p-2]=0,v[o-2][p-1]=0,w[o-2][p-2]=1,w[o-1][p-1]=1,w[o-1][p-2]=1,w[o-2][p-1]=1),this.next(0,o,p,t,v,w),v=this.addFinderPattern(v,k,l,m,n)}},lec:{cInt:function(a,b){for(var c="",d=0;b>d;d++)c+=String.fromCharCode(255&a),a>>=8;return c},cRgb:function(a,b,c){return String.fromCharCode(c)+String.fromCharCode(b)+String.fromCharCode(a)},cHexColor:function(a){var b=parseInt("0x"+a.substr(1)),c=255&b;b>>=8;var d=255&b,e=b>>8;return this.cRgb(e,d,c)}},hexToRGB:function(a){var b=parseInt("0x"+a.substr(1)),c=255&b;b>>=8;var d=255&b,e=b>>8;return{r:e,g:d,b:c}},isHexColor:function(a){var b=new RegExp("#[0-91-F]","gi");return a.match(b)},base64Encode:function(a){for(var b,c,d,e,f,g,h,i="",j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=0;k<a.length;)b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)?g=h=64:isNaN(d)&&(h=64),i+=j.charAt(e)+j.charAt(f)+j.charAt(g)+j.charAt(h);return i},bitStringTo2DArray:function(a){var b=[];b[0]=[];for(var c=0;c<a.length;c++)b[0][c]=a.charAt(c);return b},resize:function(a,b){return a.css("padding","0px").css("overflow","auto").css("width",b+"px").html(""),a},digitToBmpRenderer:function(a,b,c,d,e,f){var g=c.length,h=c[0].length,i=0,j=this.isHexColor(b.bgColor)?this.lec.cHexColor(b.bgColor):this.lec.cRgb(255,255,255),k=this.isHexColor(b.color)?this.lec.cHexColor(b.color):this.lec.cRgb(0,0,0),l="",m="";for(i=0;e>i;i++)l+=j,m+=k;var n=(4-e*h*3%4)%4,o=(e*h+n)*f*g,p="";for(i=0;n>i;i++)p+="\x00";for(var q="BM"+this.lec.cInt(54+o,4)+"\x00\x00\x00\x00"+this.lec.cInt(54,4)+this.lec.cInt(40,4)+this.lec.cInt(e*h,4)+this.lec.cInt(f*g,4)+this.lec.cInt(1,2)+this.lec.cInt(24,2)+"\x00\x00\x00\x00"+this.lec.cInt(o,4)+this.lec.cInt(2835,4)+this.lec.cInt(2835,4)+this.lec.cInt(0,4)+this.lec.cInt(0,4),r=g-1;r>=0;r--){for(var s="",t=0;h>t;t++)s+="0"==c[r][t]?l:m;s+=p;for(var u=0;f>u;u++)q+=s}var v=document.createElement("object");v.setAttribute("type","image/bmp"),v.setAttribute("data","data:image/bmp;base64,"+this.base64Encode(q)),this.resize(a,e*h+n).append(v)},digitToBmp:function(a,c,d,e){var f=b.intval(c.barWidth),g=b.intval(c.barHeight);this.digitToBmpRenderer(a,c,this.bitStringTo2DArray(d),e,f,g)},digitToBmp2D:function(a,c,d,e){var f=b.intval(c.moduleSize);this.digitToBmpRenderer(a,c,d,e,f,f)},digitToCssRenderer:function(a,b,c,d,e,f){for(var g,h,i=c.length,j=c[0].length,k="",l='<div style="float: left; font-size: 0px; background-color: '+b.bgColor+"; height: "+f+'px; width: &Wpx"></div>',m='<div style="float: left; font-size: 0px; width:0; border-left: &Wpx solid '+b.color+"; height: "+f+'px;"></div>',n=0;i>n;n++){g=0,h=c[n][0];for(var o=0;j>o;o++)h==c[n][o]?g++:(k+=("0"==h?l:m).replace("&W",g*e),h=c[n][o],g=1);g>0&&(k+=("0"==h?l:m).replace("&W",g*e))}b.showHRI&&(k+='<div style="clear:both; width: 100%; background-color: '+b.bgColor+"; color: "+b.color+"; text-align: center; font-size: "+b.fontSize+"px; margin-top: "+b.marginHRI+'px;">'+d+"</div>"),this.resize(a,e*j).html(k)},digitToCss:function(a,c,d,e){var f=b.intval(c.barWidth),g=b.intval(c.barHeight);this.digitToCssRenderer(a,c,this.bitStringTo2DArray(d),e,f,g)},digitToCss2D:function(a,c,d,e){var f=b.intval(c.moduleSize);this.digitToCssRenderer(a,c,d,e,f,f)},digitToSvgRenderer:function(a,c,d,e,f,g){var h=d.length,i=d[0].length,j=f*i,k=g*h;if(c.showHRI){var l=b.intval(c.fontSize);k+=b.intval(c.marginHRI)+l}var m='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+j+'" height="'+k+'">';m+='<rect width="'+j+'" height="'+k+'" x="0" y="0" fill="'+c.bgColor+'" />';for(var n,o,p='<rect width="&W" height="'+g+'" x="&X" y="&Y" fill="'+c.color+'" />',q=0;h>q;q++){n=0,o=d[q][0];for(var r=0;i>r;r++)o==d[q][r]?n++:("1"==o&&(m+=p.replace("&W",n*f).replace("&X",(r-n)*f).replace("&Y",q*g)),o=d[q][r],n=1);n>0&&"1"==o&&(m+=p.replace("&W",n*f).replace("&X",(i-n)*f).replace("&Y",q*g))}c.showHRI&&(m+='<g transform="translate('+Math.floor(j/2)+' 0)">',m+='<text y="'+(k-Math.floor(l/2))+'" text-anchor="middle" style="font-family: Arial; font-size: '+l+'px;" fill="'+c.color+'">'+e+"</text>",m+="</g>"),m+="</svg>";var s=document.createElement("object");s.setAttribute("type","image/svg+xml"),s.setAttribute("data","data:image/svg+xml,"+m),this.resize(a,j).append(s)},digitToSvg:function(a,c,d,e){var f=b.intval(c.barWidth),g=b.intval(c.barHeight);this.digitToSvgRenderer(a,c,this.bitStringTo2DArray(d),e,f,g)},digitToSvg2D:function(a,c,d,e){var f=b.intval(c.moduleSize);this.digitToSvgRenderer(a,c,d,e,f,f)},digitToCanvasRenderer:function(a,b,c,d,e,f,g,h){var i=a.get(0);if(i&&i.getContext){var j=c.length,k=c[0].length,l=i.getContext("2d");l.lineWidth=1,l.lineCap="butt",l.fillStyle=b.bgColor,l.fillRect(e,f,k*g,j*h),l.fillStyle=b.color;for(var m=0;j>m;m++){for(var n=0,o=c[m][0],p=0;k>p;p++)o==c[m][p]?n++:("1"==o&&l.fillRect(e+(p-n)*g,f+m*h,g*n,h),o=c[m][p],n=1);n>0&&"1"==o&&l.fillRect(e+(k-n)*g,f+m*h,g*n,h)}if(b.showHRI){var q=l.measureText(d);l.fillText(d,e+Math.floor((k*g-q.width)/2),f+j*h+b.fontSize+b.marginHRI)}}},digitToCanvas:function(a,c,d,e){var f=b.intval(c.barWidth),g=b.intval(c.barHeight),h=b.intval(c.posX),i=b.intval(c.posY);this.digitToCanvasRenderer(a,c,this.bitStringTo2DArray(d),e,h,i,f,g)},digitToCanvas2D:function(a,c,d,e){var f=b.intval(c.moduleSize),g=b.intval(c.posX),h=b.intval(c.posY);this.digitToCanvasRenderer(a,c,d,e,g,h,f,f)}};a.fn.extend({barcode:function(c,d,e){var f="",g="",h="",i=!0,j=!1,k=!1;if("string"==typeof c?h=c:"object"==typeof c&&(h="string"==typeof c.code?c.code:"",i="undefined"!=typeof c.crc?c.crc:!0,j="undefined"!=typeof c.rect?c.rect:!1),""==h)return!1;"undefined"==typeof e&&(e=[]);for(var l in b.settings)void 0==e[l]&&(e[l]=b.settings[l]);switch(d){case"std25":case"int25":f=b.i25.getDigit(h,i,d),g=b.i25.compute(h,i,d);break;case"ean8":case"ean13":f=b.ean.getDigit(h,d),g=b.ean.compute(h,d);break;case"upc":f=b.upc.getDigit(h),g=b.upc.compute(h);break;case"code11":f=b.code11.getDigit(h),g=h;break;case"code39":f=b.code39.getDigit(h),g=h;break;case"code93":f=b.code93.getDigit(h,i),g=h;break;case"code128":f=b.code128.getDigit(h),g=h;break;case"codabar":f=b.codabar.getDigit(h),g=h;break;case"msi":f=b.msi.getDigit(h,i),g=b.msi.compute(h,i);break;case"datamatrix":f=b.datamatrix.getDigit(h,j),g=h,k=!0}if(0==f.length)return a(this);!k&&e.addQuietZone&&(f="0000000000"+f+"0000000000");var m=a(this),n="digitTo"+e.output.charAt(0).toUpperCase()+e.output.substr(1)+(k?"2D":"");return"function"==typeof b[n]&&b[n](m,e,f,g),m}})}(jQuery),function(a,b,c){"use strict";function d(c){f[c]||(f[c]=!0,a.migrateWarnings.push(c),b.console&&console.warn&&!a.migrateMute&&(console.warn("JQMIGRATE: "+c),a.migrateTrace&&console.trace&&console.trace()))}function e(b,c,e,f){if(Object.defineProperty)try{return void Object.defineProperty(b,c,{configurable:!0,enumerable:!0,get:function(){return d(f),e},set:function(a){d(f),e=a}})}catch(g){}a._definePropertyBroken=!0,b[c]=e}var f={};a.migrateWarnings=[],!a.migrateMute&&b.console&&console.log&&console.log("JQMIGRATE: Logging is active"),a.migrateTrace===c&&(a.migrateTrace=!0),a.migrateReset=function(){f={},a.migrateWarnings.length=0},"BackCompat"===document.compatMode&&d("jQuery is not compatible with Quirks Mode");var g={},h=a.attr,i=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},j=a.attrHooks.value&&a.attrHooks.value.set||function(){return c},k=/^(?:input|button)$/i,l=/^[238]$/,m=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,n=/^(?:checked|selected)$/i;e(a,"attrFn",g,"jQuery.attrFn is deprecated"),a.attr=function(b,e,f,g){var i=e.toLowerCase(),j=b&&b.nodeType;return g&&h.length<4&&(d("jQuery.fn.attr( props, pass ) is deprecated"),b&&!l.test(j)&&a.isFunction(a.fn[e]))?a(b)[e](f):("type"===e&&f!==c&&k.test(b.nodeName)&&b.parentNode&&d("Can't change the 'type' of an input or button in IE 6/7/8"),!a.attrHooks[i]&&m.test(i)&&(a.attrHooks[i]={get:function(b,d){var e,f=a.prop(b,d);return f===!0||"boolean"!=typeof f&&(e=b.getAttributeNode(d))&&e.nodeValue!==!1?d.toLowerCase():c},set:function(b,c,d){var e;return c===!1?a.removeAttr(b,d):(e=a.propFix[d]||d,e in b&&(b[e]=!0),b.setAttribute(d,d.toLowerCase())),d}},n.test(i)&&d("jQuery.fn.attr('"+i+"') may use property instead of attribute")),h.call(a,b,e,f))},a.attrHooks.value={get:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?i.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value') no longer gets properties"),b in a?a.value:null)},set:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?j.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value', val) no longer sets properties"),void(a.value=b))}};var o,p,q=a.fn.init,r=a.parseJSON,s=/^(?:[^<]*(<[\w\W]+>)[^>]*|#([\w\-]*))$/;a.fn.init=function(b,c,e){var f;return b&&"string"==typeof b&&!a.isPlainObject(c)&&(f=s.exec(b))&&f[1]&&("<"!==b.charAt(0)&&d("$(html) HTML strings must start with '<' character"),c&&c.context&&(c=c.context),a.parseHTML)?q.call(this,a.parseHTML(a.trim(b),c,!0),c,e):q.apply(this,arguments)},a.fn.init.prototype=a.fn,a.parseJSON=function(a){return a||null===a?r.apply(this,arguments):(d("jQuery.parseJSON requires a valid JSON string"),null)},a.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},o=a.uaMatch(navigator.userAgent),p={},o.browser&&(p[o.browser]=!0,p.version=o.version),p.chrome?p.webkit=!0:p.webkit&&(p.safari=!0),a.browser=p,e(a,"browser",p,"jQuery.browser is deprecated"),a.sub=function(){function b(a,c){return new b.fn.init(a,c)}a.extend(!0,b,this),b.superclass=this,b.fn=b.prototype=this(),b.fn.constructor=b,b.sub=this.sub,b.fn.init=function(d,e){return e&&e instanceof a&&!(e instanceof b)&&(e=b(e)),a.fn.init.call(this,d,e,c)},b.fn.init.prototype=b.fn;var c=b(document);return d("jQuery.sub() is deprecated"),b};var t=a.fn.data;a.fn.data=function(b){var e,f,g=this[0];return!g||"events"!==b||1!==arguments.length||(e=a.data(g,b),f=a._data(g,b),e!==c&&e!==f||f===c)?t.apply(this,arguments):(d("Use of jQuery.fn.data('events') is deprecated"),f)};var u=/\/(java|ecma)script/i,v=a.fn.andSelf||a.fn.addBack;a.fn.andSelf=function(){return d("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),v.apply(this,arguments)},a.clean||(a.clean=function(b,c,e,f){c=c||document,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,d("jQuery.clean() is deprecated");var g,h,i,j,k=[];if(a.merge(k,a.buildFragment(b,c).childNodes),e)for(i=function(a){return!a.type||u.test(a.type)?f?f.push(a.parentNode?a.parentNode.removeChild(a):a):e.appendChild(a):void 0},g=0;null!=(h=k[g]);g++)a.nodeName(h,"script")&&i(h)||(e.appendChild(h),"undefined"!=typeof h.getElementsByTagName&&(j=a.grep(a.merge([],h.getElementsByTagName("script")),i),k.splice.apply(k,[g+1,0].concat(j)),g+=j.length));return k});var w=a.event.add,x=a.event.remove,y=a.event.trigger,z=a.fn.toggle,A=a.fn.live,B=a.fn.die,C="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",D=new RegExp("\\b(?:"+C+")\\b"),E=/(?:^|\s)hover(\.\S+|)\b/,F=function(b){return"string"!=typeof b||a.event.special.hover?b:(E.test(b)&&d("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),b&&b.replace(E,"mouseenter$1 mouseleave$1"))};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),a.event.dispatch&&e(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),a.event.add=function(a,b,c,e,f){a!==document&&D.test(b)&&d("AJAX events should be attached to document: "+b),w.call(this,a,F(b||""),c,e,f)},a.event.remove=function(a,b,c,d,e){x.call(this,a,F(b)||"",c,d,e)},a.fn.error=function(){var a=Array.prototype.slice.call(arguments,0);return d("jQuery.fn.error() is deprecated"),a.splice(0,0,"error"),arguments.length?this.bind.apply(this,a):(this.triggerHandler.apply(this,a),this)},a.fn.toggle=function(b,c){if(!a.isFunction(b)||!a.isFunction(c))return z.apply(this,arguments);d("jQuery.fn.toggle(handler, handler...) is deprecated");var e=arguments,f=b.guid||a.guid++,g=0,h=function(c){var d=(a._data(this,"lastToggle"+b.guid)||0)%g;return a._data(this,"lastToggle"+b.guid,d+1),c.preventDefault(),e[d].apply(this,arguments)||!1};for(h.guid=f;g<e.length;)e[g++].guid=f;return this.click(h)},a.fn.live=function(b,c,e){return d("jQuery.fn.live() is deprecated"),A?A.apply(this,arguments):(a(this.context).on(b,this.selector,c,e),this)},a.fn.die=function(b,c){return d("jQuery.fn.die() is deprecated"),B?B.apply(this,arguments):(a(this.context).off(b,this.selector||"**",c),this)},a.event.trigger=function(a,b,c,e){return!c&!D.test(a)&&d("Global events are undocumented and deprecated"),y.call(this,a,b,c||document,e)},a.each(C.split("|"),function(b,c){a.event.special[c]={setup:function(){var b=this;return b!==document&&(a.event.add(document,c+"."+a.guid,function(){a.event.trigger(c,null,b,!0)}),a._data(this,c,a.guid++)),!1},teardown:function(){return this!==document&&a.event.remove(document,c+"."+a._data(this,c)),!1}}})}(jQuery,window),function(a){var b;a.fn.jqprint=function(c){b=a.extend({},a.fn.jqprint.defaults,c);var d=this instanceof jQuery?this:a(this);if(b.operaSupport&&a.browser.opera){var e=window.open("","jqPrint-preview");e.document.open();var f=e.document}else{var g=a("<iframe  />");b.debug||g.css({position:"absolute",width:"0px",height:"0px",left:"-600px",top:"-600px"}),g.appendTo("body");var f=g[0].contentWindow.document}b.importCSS&&(a("link[media=print]").length>0?a("link[media=print]").each(function(){f.write("<link type='text/css' rel='stylesheet' href='"+a(this).attr("href")+"' media='print' />")}):a("link").each(function(){f.write("<link type='text/css' rel='stylesheet' href='"+a(this).attr("href")+"' />")})),b.printContainer?f.write(d.outer()):d.each(function(){f.write(a(this).html())}),f.close(),(b.operaSupport&&a.browser.opera?e:g[0].contentWindow).focus(),setTimeout(function(){(b.operaSupport&&a.browser.opera?e:g[0].contentWindow).print(),e&&e.close()},1e3)},a.fn.jqprint.defaults={debug:!1,importCSS:!0,printContainer:!0,operaSupport:!0},jQuery.fn.outer=function(){return a(a("<div></div>").html(this.clone())).html()}}(jQuery),$.fn.kingAdminCommon=function(){var a=$(this);a.find(".btn-toggle-expand").clickToggle(function(a){a.preventDefault(),$(this).parents(".widget").find(".widget-content").slideUp(300),$(this).find("i.fa-chevron-up").toggleClass("fa-chevron-down")},function(a){a.preventDefault(),$(this).parents(".widget").find(".widget-content").slideDown(300),$(this).find("i.fa-chevron-up").toggleClass("fa-chevron-down")});var b=null;a.find(".btn-focus").clickToggle(function(a){a.preventDefault(),$(this).find("i.fa-eye").toggleClass("fa-eye-slash"),$(this).parents(".widget").find(".btn-remove").addClass("link-disabled"),$(this).parents(".widget").addClass("widget-focus-enabled"),$('<div id="focus-overlay"></div>').hide().appendTo("body").fadeIn(300)},function(a){a.preventDefault(),b=$(this).parents(".widget"),$(this).find("i.fa-eye").toggleClass("fa-eye-slash"),b.find(".btn-remove").removeClass("link-disabled"),$("body").find("#focus-overlay").fadeOut(function(){$(this).remove(),b.removeClass("widget-focus-enabled")})})},$.fn.clickToggle=function(a,b){return this.each(function(){var c=!1;$(this).bind("click",function(){return c?(c=!1,b.apply(this,arguments)):(c=!0,a.apply(this,arguments))})})};var old=$.fn.wizard,Wizard=function(a,b){var c;this.$element=$(a),this.options=$.extend({},$.fn.wizard.defaults,b),this.options.disablePreviousStep="previous"===this.$element.data().restrict?!0:!1,this.currentStep=this.options.selectedItem.step,this.numSteps=this.$element.find(".steps li").length,this.$prevBtn=this.$element.find("button.btn-prev"),this.$nextBtn=this.$element.find("button.btn-next"),c=this.$nextBtn.children().detach(),this.nextText=$.trim(this.$nextBtn.text()),this.$nextBtn.append(c),this.$prevBtn.on("click",$.proxy(this.previous,this)),this.$nextBtn.on("click",$.proxy(this.next,this)),this.currentStep>1&&this.selectedItem(this.options.selectedItem),this.options.disablePreviousStep&&(this.$prevBtn.attr("disabled",!0),this.$element.find(".steps").addClass("previous-disabled"))};Wizard.prototype={constructor:Wizard,setState:function(){var a=this.currentStep>1,b=1===this.currentStep,c=this.currentStep===this.numSteps;this.options.disablePreviousStep||this.$prevBtn.attr("disabled",b===!0||a===!1);var d=this.$nextBtn.data();if(d&&d.last&&(this.lastText=d.last,"undefined"!=typeof this.lastText)){var e=c!==!0?this.nextText:this.lastText,f=this.$nextBtn.children().detach();this.$nextBtn.text(e).append(f)}var g=this.$element.find(".steps li");g.removeClass("active").removeClass("complete"),g.find("span.badge").removeClass("badge-info").removeClass("badge-success");var h=".steps li:lt("+(this.currentStep-1)+")",i=this.$element.find(h);i.addClass("complete"),i.find("span.badge").addClass("badge-success");var j=".steps li:eq("+(this.currentStep-1)+")",k=this.$element.find(j);k.addClass("active"),k.find("span.badge").addClass("badge-info");var l=k.data().target;this.$element.next(".step-content").find(".step-pane").removeClass("active"),$(l).addClass("active"),this.$element.find(".steps").first().attr("style","margin-left: 0");var m=0;this.$element.find(".steps > li").each(function(){m+=$(this).outerWidth()});var n=0;if(n=this.$element.find(".actions").length?this.$element.width()-this.$element.find(".actions").first().outerWidth():this.$element.width(),m>n){var o=m-n;this.$element.find(".steps").first().attr("style","margin-left: -"+o+"px"),this.$element.find("li.active").first().position().left<200&&(o+=this.$element.find("li.active").first().position().left-200,1>o?this.$element.find(".steps").first().attr("style","margin-left: 0"):this.$element.find(".steps").first().attr("style","margin-left: -"+o+"px"))}this.$element.trigger("changed")},stepclicked:function(a){var b=$(a.currentTarget),c=this.$element.find(".steps li").index(b),d=!0;if(this.options.disablePreviousStep&&c<this.currentStep&&(d=!1),d){var e=$.Event("stepclick");if(this.$element.trigger(e,{step:c+1}),e.isDefaultPrevented())return;this.currentStep=c+1,this.setState()}},previous:function(){var a=this.currentStep>1;if(this.options.disablePreviousStep&&(a=!1),a){var b=$.Event("change");if(this.$element.trigger(b,{step:this.currentStep,direction:"previous"}),b.isDefaultPrevented())return;this.currentStep-=1,this.setState()}},next:function(){var a=this.currentStep+1<=this.numSteps,b=this.currentStep===this.numSteps;
if(a){var c=$.Event("change");if(this.$element.trigger(c,{step:this.currentStep,direction:"next"}),c.isDefaultPrevented())return;this.currentStep+=1,this.setState()}else b&&this.$element.trigger("finished")},selectedItem:function(a){var b,c;return a?(c=a.step||-1,c>=1&&c<=this.numSteps&&(this.currentStep=c,this.setState()),b=this):b={step:this.currentStep},b}},$.fn.wizard=function(a){var b,c=Array.prototype.slice.call(arguments,1),d=this.each(function(){var d=$(this),e=d.data("wizard"),f="object"==typeof a&&a;e||d.data("wizard",e=new Wizard(this,f)),"string"==typeof a&&(b=e[a].apply(e,c))});return void 0===b?d:b},$.fn.wizard.defaults={selectedItem:{step:1}},$.fn.wizard.Constructor=Wizard,$.fn.wizard.noConflict=function(){return $.fn.wizard=old,this},$(function(){$("body").on("mouseover.wizard.data-api",".wizard",function(){var a=$(this);a.data("wizard")||a.wizard(a.data())})}),angular.module("culAdminApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap","warehourseFilters","ui.select","ngSanitize"]).config(["$routeProvider",function(a){a.when("/",{cache:!1,templateUrl:"views/main.html",controller:"MainCtrl"}).when("/profile",{templateUrl:"views/templates/profile.html",controller:"ProfileCtrl"}).when("/invoice",{templateUrl:"views/templates/invoice.html",controller:"InvoiceCtrl"}).when("/knowledgebase",{templateUrl:"views/templates/knowledgebase.html",controller:"KnowledgebaseCtrl"}).when("/inbox",{templateUrl:"views/templates/inbox.html",controller:"InboxCtrl"}).when("/warehouse/dashboard",{templateUrl:"views/warehouse/dashboard.html",controller:"WarehouseDashboardCtrl"}).when("/warehouse/receipt",{templateUrl:"views/warehouse/receipt.html",controller:"ReceiptCtrl"}).when("/warehouse/receipt2",{templateUrl:"views/warehouse/receipt2.html",controller:"Receipt2Ctrl"}).when("/warehouse/deleteReceiptLog",{templateUrl:"views/warehouse/deleteReceiptLog.html",controller:"DeleteReceiptLogCtrl"}).when("/warehouse/receiptNoASN",{templateUrl:"views/warehouse/receiptNoASN.html",controller:"ReceiptNoASNCtrl"}).when("/warehouse/receiptedit2",{templateUrl:"views/warehouse/receiptedit2.html",controller:"ReceiptEdit2Ctrl"}).when("/warehouse/receiptdetail2",{templateUrl:"views/warehouse/receiptdetail2.html",controller:"ReceiptDetail2Ctrl"}).when("/warehouse/receiptcheck2",{templateUrl:"views/warehouse/receiptcheck2.html",controller:"ReceiptCheck2Ctrl"}).when("/warehouse/receiptexception",{templateUrl:"views/warehouse/receiptexception.html",controller:"ReceiptExceptionCtrl"}).when("/warehouse/receiptexceptionedit",{templateUrl:"views/warehouse/receiptexceptionedit.html",controller:"ReceiptExceptionEditCtrl"}).when("/warehouse/receiptstaff",{templateUrl:"views/warehouse/receiptstaff.html",controller:"ReceiptStaffCtrl"}).when("/warehouse/receiptexceptiondetail",{templateUrl:"views/warehouse/receiptexceptiondetail.html",controller:"ReceiptExceptionDetailCtrl"}).when("/warehouse/editreceipt",{templateUrl:"views/warehouse/editreceipt.html",controller:"EditReceiptCtrl"}).when("/warehouse/shelf",{templateUrl:"views/warehouse/shelf.html",controller:"WarehouseShelfCtrl"}).when("/warehouse/shelfdetail",{templateUrl:"views/warehouse/shelfdetail.html",controller:"WarehouseShelfDetailCtrl"}).when("/warehouse/onshelf",{templateUrl:"views/warehouse/onshelf.html",controller:"WarehouseOnShelfCtrl"}).when("/warehouse/onshelfdetail",{templateUrl:"views/warehouse/onshelfdetail.html",controller:"WarehouseOnShelfDetailCtrl"}).when("/warehouse/onshelfdetailbatch",{templateUrl:"views/warehouse/onshelfdetailbatch.html",controller:"WarehouseOnShelfDetailBatchCtrl"}).when("/warehouse/shelfmanagement",{templateUrl:"views/warehouse/shelfmanagement.html",controller:"WarehouseShelfManagementCtrl"}).when("/warehouse/shelfmanagementcreate",{templateUrl:"views/warehouse/shelfmanagementcreate.html",controller:"WarehouseShelfManagementCreateCtrl"}).when("/warehouse/shelfmanagementdetail",{templateUrl:"views/warehouse/shelfmanagementdetail.html",controller:"WarehouseShelfManagementDetailCtrl"}).when("/warehouse/bucket",{templateUrl:"views/warehouse/bucket.html",controller:"WarehouseBucketCtrl"}).when("/warehouse/bucketedit",{templateUrl:"views/warehouse/bucketedit.html",controller:"WarehouseBucketEditCtrl"}).when("/warehouse/inventory",{templateUrl:"views/warehouse/inventory.html",controller:"WarehouseInventoryCtrl"}).when("/warehouse/inventoryTime",{templateUrl:"views/warehouse/inventoryTime.html",controller:"InventoryTimeCtrl"}).when("/warehouse/inventorycheck",{templateUrl:"views/warehouse/inventorycheck.html",controller:"WarehouseInventoryCheckCtrl"}).when("/warehouse/inventoryloglist",{templateUrl:"views/warehouse/inventoryloglist.html",controller:"WarehouseInventoryLogListCtrl"}).when("/warehouse/inventoryfrozen",{templateUrl:"views/warehouse/inventoryfrozen.html",controller:"WarehouseInventoryFrozenCtrl"}).when("/warehouse/inventoryadjust",{templateUrl:"views/warehouse/inventoryadjust.html",controller:"WarehouseInventoryAdjustCtrl"}).when("/warehouse/inventoryadjustweight",{templateUrl:"views/warehouse/inventoryadjustweight.html",controller:"WarehouseInventoryAdjustWeightCtrl"}).when("/warehouse/inventorydetail",{templateUrl:"views/warehouse/inventorydetail.html",controller:"WarehouseInventoryDetailCtrl"}).when("/warehouse/picking",{templateUrl:"views/warehouse/picking.html",controller:"WarehousePickingCtrl"}).when("/warehouse/editpicking",{templateUrl:"views/warehouse/editpicking.html",controller:"WarehouseEditpickingCtrl"}).when("/warehouse/package",{templateUrl:"views/warehouse/package.html",controller:"WarehousePackageCtrl"}).when("/warehouse/editpackage",{templateUrl:"views/warehouse/editpackage.html",controller:"WarehouseEditpackageCtrl"}).when("/warehouse/registerpackageonline",{templateUrl:"views/warehouse/registerpackageonline.html",controller:"RegisterPackageOnlineCtrl"}).when("/warehouse/registerpackageoffline",{templateUrl:"views/warehouse/registerpackageoffline.html",controller:"RegisterPackageOfflineCtrl"}).when("/warehouse/shipping",{templateUrl:"views/warehouse/shipping.html",controller:"WarehouseShippingCtrl"}).when("/warehouse/editshipping",{templateUrl:"views/warehouse/editshipping.html",controller:"WarehouseEditshippingCtrl"}).when("/customer/customerdetail",{templateUrl:"views/customer/customerdetail.html",controller:"CustomerDetailCtrl"}).when("/customer/customermessage",{templateUrl:"views/customer/customermessage.html",controller:"CustomerMessageCtrl"}).when("/customer/customerlist",{templateUrl:"views/customer/customerlist.html",controller:"CustomerListCtrl"}).when("/customer/dashboard",{templateUrl:"views/customer/dashboard.html",controller:"CustomerDashboardCtrl"}).when("/customer/addresslist",{templateUrl:"views/customer/addresslist.html",controller:"AddressListCtrl"}).when("/customer/addressdetail",{templateUrl:"views/customer/addressdetail.html",controller:"AddressDetailCtrl"}).when("/customer/twAddressdetail",{templateUrl:"views/customer/twAddressdetail.html",controller:"TwAddressDetailCtrl"}).when("/customer/faqmanagement",{templateUrl:"views/customer/faqmanagement.html",controller:"FAQManagementCtrl"}).when("/customer/messagelist",{templateUrl:"views/customer/messagelist.html",controller:"MessageListCtrl"}).when("/customer/faqdetail",{templateUrl:"views/customer/faqdetail.html",controller:"FAQDetailCtrl"}).when("/customer/arrearslist",{templateUrl:"views/customer/arrearslist.html",controller:"ArrearslistCtrl"}).when("/customer/paydetail",{templateUrl:"views/customer/paydetail.html",controller:"PayDetailCtrl"}).when("/customer/idauth",{templateUrl:"views/customer/idauth.html",controller:"IdAuthCtrl"}).when("/customer/idauthcul",{templateUrl:"views/customer/idauth-cul.html",controller:"IdAuthCulCtrl"}).when("/customer/idauthtw",{templateUrl:"views/customer/idauth-tw.html",controller:"IdAuthTwCtrl"}).when("/order/orderlist",{templateUrl:"views/order/orderlist.html",controller:"OrderListCtrl"}).when("/order/orderexport",{templateUrl:"views/order/orderexport.html",controller:"OrderExportCtrl"}).when("/order/orderprint",{templateUrl:"views/order/orderprint.html",controller:"OrderPrintCtrl"}).when("/order/orderdetail",{templateUrl:"views/order/orderdetail.html",controller:"OrderDetailCtrl"}).when("/order/orderofflineimport",{templateUrl:"views/order/orderofflineimport.html",controller:"OrderOfflineImportCtrl"}).when("/order/orderpackagebatchupdate",{templateUrl:"views/order/orderpackagebatchupdate.html",controller:"OrderPackageBatchUpdateCtrl"}).when("/order/ordertrackbatchupdate",{templateUrl:"views/order/ordertrackbatchupdate.html",controller:"OrderTrackBatchUpdateCtrl"}).when("/order/ordercomments",{templateUrl:"views/order/ordercomments.html",controller:"OrderCommentsCtrl"}).when("/order/ordercommentsdetail",{templateUrl:"views/order/ordercommentsdetail.html",controller:"OrderCommentsDetailCtrl"}).when("/finance/financelist",{templateUrl:"views/finance/financelist.html",controller:"FinanceListCtrl"}).when("/finance/financedetail",{templateUrl:"views/finance/financedetail.html",controller:"FinanceDetailCtrl"}).when("/finance/financedetail/pay",{templateUrl:"views/finance/financedetail-pay.html",controller:"FinanceDetailPayCtrl"}).when("/finance/financedetail/recharge",{templateUrl:"views/finance/financedetail-rechange.html",controller:"FinanceDetailRechangeCtrl"}).when("/finance/arriveCount",{templateUrl:"views/finance/arrivecount.html",controller:"ArriveCountCtrl"}).when("/finance/financeout",{templateUrl:"views/finance/finance-out.html",controller:"FinanceOutCtrl"}).when("/finance/financetotal",{templateUrl:"views/finance/finance-total.html",controller:"FinanceTotalCtrl"}).when("/finance/financerecord",{templateUrl:"views/finance/finance-record.html",controller:"FinanceRecordCtrl"}).when("/finance/deletelist",{templateUrl:"views/finance/deletelist.html",controller:"DeleteListCtrl"}).when("/finance/pointlog",{templateUrl:"views/finance/finance-pointlog.html",controller:"\bPointLogCtrl"}).when("/finance/refundlist",{templateUrl:"views/finance/refundshipping-verify.html",controller:"RefundShippingVerifyCtl"}).when("/finance/customerwithdraw",{templateUrl:"views/finance/customer-withdrawRequest.html",controller:"CustomerWithdrawCtl"}).when("/system/operationloglist",{templateUrl:"views/system/operationloglist.html",controller:"SystemOperationLogListCtrl"}).when("/system/loginloglist",{templateUrl:"views/system/loginloglist.html",controller:"SystemLoginLogListCtrl"}).when("/system/rolelist",{templateUrl:"views/system/rolelist.html",controller:"SysRoleListCtrl"}).when("/system/warehouselist",{templateUrl:"views/system/warehouselist.html",controller:"WarehouseListCtrl"}).when("/system/editwarehouse",{templateUrl:"views/system/editwarehouse.html",controller:"EditWarehouseCtrl"}).when("/system/editrole",{templateUrl:"views/system/editrole.html",controller:"SysRoleEditCtrl"}).when("/system/usergrouplist",{templateUrl:"views/system/usergrouplist.html",controller:"SysUserGroupListCtrl"}).when("/system/uglist",{templateUrl:"views/system/uglist.html",controller:"UGListCtrl"}).when("/system/editusergroup",{templateUrl:"views/system/editusergroup.html",controller:"SysUserGroupEditCtrl"}).when("/system/userlist",{templateUrl:"views/system/userlist.html",controller:"UserListCtrl"}).when("/system/edituser",{templateUrl:"views/system/edituser.html",controller:"UserEditCtrl"}).when("/system/categerylist",{templateUrl:"views/system/categerylist.html",controller:"CategerylistCtrl"}).when("/system/maincategerylist",{templateUrl:"views/system/maincategerylist.html",controller:"MainCategerylistCtrl"}).when("/system/editcategery",{templateUrl:"views/system/editcategery.html",controller:"EditCategeryCtrl"}).when("/system/channelist",{templateUrl:"views/system/channelist.html",controller:"ChannelCtrl"}).when("/system/editchannel",{templateUrl:"views/system/editchannel.html",controller:"ChannelEditCtrl"}).when("/system/shipservicelist",{templateUrl:"views/system/shipservicelist.html",controller:"ShipserviceCtrl"}).when("/system/editshipservice",{templateUrl:"views/system/editshipservice.html",controller:"ShipserviceEditCtrl"}).when("/web/announce",{templateUrl:"views/web/announce.html",controller:"AnnounceCtrl"}).when("/web/newAnnounce",{templateUrl:"views/web/new-announce.html",controller:"AnnounceCtrl"}).when("/web/updateAnnounce",{templateUrl:"views/web/new-announce.html",controller:"UpdateAnnounceCtrl"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","$location","userService",function(a,b,c){a.userInfo=c.getUserInfo(),a.$on("$routeChangeSuccess",function(){a.$emit("changeMenu"),ga("send","pageview",{page:b.path()})})}]),angular.module("culAdminApp").config(["$httpProvider",function(a){a.interceptors.push(["$q","plugMessenger",function(a,b){return{request:function(a){$("#global-loading").show();var b=sessionStorage.getItem("token");return b&&(a.headers.token=b),a},requestError:function(a){return $("#global-loading").hide(),a},response:function(a){$("#global-loading").hide();var b=a.headers("Token");return b&&sessionStorage.setItem("token",b),a},responseError:function(a){return $("#global-loading").hide(),401==a.status&&cul.service.user.logout(),a.data&&b.error(a.data.message),a}}}])}]),angular.module("culAdminApp").directive("printOrder",["$timeout","orderService","customerMessageService",function(a,b,c){return{templateUrl:"views/templates/common/print-order_tpl.html",restrict:"E",replace:!0,scope:!0,link:function(d,e,f){var g={addQuietZone:"1",barHeight:"25",barWidth:"1",bgColor:"#FFFFFF",color:"#000000",moduleSize:"5",output:"css",posX:"10",posY:"20"};d.$on("print-order.action",function(a,e){angular.isArray(e)?d.orderNumbers=e:d.orderNumbers=[e],d.printDate=new Date,d.dataList=[],d.packagesList=[];var f={pageInfo:{pageSize:99999,pageIndex:1},orderNumber:e};b.getList(f,function(a){d.dataList=a.data,$.each(d.dataList,function(a,b){b._shippingFeeTotal=0,$.each(b.outboundPackages,function(a,c){b._shippingFeeTotal+=c.shippingFee}),b._shippingFeeTotal=b._shippingFeeTotal.toFixed(2)}),console.log(a);for(var b={flag:"shelf",data:[]},e=0,f=0;f<d.dataList.length;f++)if(e++,d.dataList[f].inboundPackages&&d.dataList[f].inboundPackages.length>0&&d.dataList[f].inboundPackages.forEach(function(a){var c={customerNumber:d.dataList[f].customerNumber,orderNumber:d.dataList[f].orderNumber,cartonCount:d.dataList[f].cartonCount,payDate:d.dataList[f].payDate,tip:d.dataList[f].tip};a.shelfNumber?c.sort=a.shelfNumber:c.sort="H",c.trackingNumber=a.trackingNumber,c.shelfNumber=a.shelfNumber,c.packageWeight=a.packageWeight,b.data.push(c)}),e%10==0||f==d.dataList.length-1){var g=_.sortBy(b.data,function(a){return a.sort});b.data=g,d.dataList.splice(f+1,0,b),b={flag:"shelf",data:[]},f++}$.each(d.dataList,function(a,b){console.log("_data",d.dataList),c.getDetail(b.orderMessageNumber,function(c){c.data&&c.data.messageLogs&&(b._orderMessage=c.data.messageLogs[0].message),a==d.dataList.length-1&&h()})})})});var h=function(){d.dataList.length==d.dataList.length&&a(function(){$.each(e.find("div[orderNumber]"),function(a,b){$(b).barcode($(b).attr("orderNumber"),"code128",g)}),$.each(e.find("div[trackingNumber]"),function(a,b){$(b).barcode($(b).attr("trackingNumber"),"code128",g)}),e.children().jqprint()},500)}}}}]),angular.module("culAdminApp").directive("printIdcardImg",["$timeout",function(a){return{templateUrl:"views/templates/common/print-idcardimg_tpl.html",restrict:"E",replace:!0,scope:!0,link:function(b,c,d){b.$on("print-idcardImg.action",function(a,c){b.dataList=c.data,e()});var e=function(){b.dataList.length==b.dataList.length&&a(function(){c.children().jqprint()},1e3)}}}}]),angular.module("culAdminApp").directive("printIdcard",["$timeout",function(a){return{templateUrl:"views/templates/common/print-idcard_tpl.html",restrict:"E",replace:!0,scope:!0,link:function(b,c,d){b.$on("print-idcard.action",function(a,c){b.dataList=c.data,e()});var e=function(){b.dataList.length==b.dataList.length&&a(function(){c.children().jqprint()},1e3)}}}}]),angular.module("culAdminApp").directive("printPackage",["$timeout","warehouseService",function(a,b){return{templateUrl:"views/templates/common/print-package_tpl.html",restrict:"E",replace:!0,scope:!0,link:function(c,d,e){var f={addQuietZone:"1",barHeight:"25",barWidth:"1",bgColor:"#FFFFFF",color:"#000000",moduleSize:"5",output:"css",posX:"10",posY:"20"};c.$on("print-package.action",function(a,d){angular.isArray(d)?c.orderNumbers=d:c.orderNumbers=[d],c.dataList=[],b.getOutboundPackageList({orderNumber:c.orderNumbers},function(a){var b={};$.each(a.data,function(a,c){b[c.orderNumber]?$.each(c.items,function(a,d){0==$.grep(b[c.orderNumber],function(a){return a.XTProductType==d.XTProductType&&a.category==d.category&&a.description==d.description&&a.itemBrand==d.itemBrand&&a.orderNumber==d.orderNumber&&a.property1==d.property1&&a.property2==d.property2&&a.property3==d.property3&&a.property4==d.property4&&a.property5==d.property5&&a.quantity==d.quantity&&a.unitprice==d.unitprice}).length&&b[c.orderNumber].push(d)}):b[c.orderNumber]=c.items}),$.each(a.data,function(a,c){c.orderItems=b[c.orderNumber]}),c.dataList=a.data,g()})});var g=function(){a(function(){$.each(d.find("div[trackingNumber]"),function(a,b){$(b).barcode($(b).attr("trackingNumber"),"code128",f)}),d.children().jqprint()},500)}}}}]),angular.module("culAdminApp").directive("printOfflinePackage",["$timeout","warehouseService",function(a,b){return{templateUrl:"views/templates/common/print-package_offline.html",restrict:"E",replace:!0,scope:!0,link:function(c,d,e){var f={addQuietZone:"1",barHeight:"25",barWidth:"1",bgColor:"#FFFFFF",color:"#000000",moduleSize:"5",output:"css",posX:"10",posY:"20"};c.$on("print-offline-package.action",function(a,d){angular.isArray(d)?c.orderNumbers=d:c.orderNumbers=[d],c.dataList=[],b.getOutboundPackageList({orderNumber:c.orderNumbers},function(a){var b={};$.each(a.data,function(a,c){b[c.orderNumber]?$.each(c.items,function(a,d){0==$.grep(b[c.orderNumber],function(a){return a.XTProductType==d.XTProductType&&a.category==d.category&&a.description==d.description&&a.itemBrand==d.itemBrand&&a.orderNumber==d.orderNumber&&a.property1==d.property1&&a.property2==d.property2&&a.property3==d.property3&&a.property4==d.property4&&a.property5==d.property5&&a.quantity==d.quantity&&a.unitprice==d.unitprice}).length&&b[c.orderNumber].push(d)}):b[c.orderNumber]=c.items}),$.each(a.data,function(a,c){c.orderItems=b[c.orderNumber]}),c.dataList=a.data,g()})});var g=function(){a(function(){$.each(d.find("div[trackingNumber]"),function(a,b){$(b).barcode($(b).attr("trackingNumber"),"code128",f)}),d.children().jqprint()},500)}}}}]),angular.module("culAdminApp").directive("printInboundPackage",["$timeout","warehouseService",function(a,b){return{templateUrl:"views/templates/common/print-inboundpackage_tpl.html",restrict:"E",replace:!0,scope:!0,link:function(c,d,e){var f={addQuietZone:"2",barHeight:"100",barWidth:"2",showHRI:"false",bgColor:"#FFFFFF",color:"#000000",moduleSize:"20",output:"css",posX:"0",posY:"0"};c.$on("print-inboundPackage.action",function(a,e){angular.isArray(e)?c.trackingNumbers=e:c.trackingNumbers=[e],c.dataList=[],$.each(c.trackingNumbers,function(a,e){b.getInboundPackageDetail(e,function(a){typeof a==Array&&a.forEach(function(b){a.receipt=a.trackingNumber.substr(a.trackingNumber.length-6,6)}),a&&(a.receipt=a.trackingNumber.substr(a.trackingNumber.length-6,6));for(var b=6-a.transactionNumber.toString().length,f=0;b>f;f++)a.transactionNumber="0"+a.transactionNumber.toString();a.receiptNumber=e,c.dataList.push(a),c.dataOne=a;var h={barHeight:"100",fontSize:"26"};g(d.find("#receipt-tag-inbound-tag"),h)})})});var g=function(){c.trackingNumbers.length==c.dataList.length&&a(function(){$.each(d.find("div[itemNumber]"),function(a,b){$(b).barcode($(b).attr("itemNumber"),"code128",f)}),d.children().jqprint()},500)}}}}]),angular.module("culAdminApp").directive("printFlyingExpress",["$timeout","warehouseService",function(a,b){return{templateUrl:"views/templates/common/print-flyingexpress_tpl.html",restrict:"E",replace:!0,scope:!0,link:function(c,d,e){var f={addQuietZone:"1",barHeight:"25",barWidth:"1",bgColor:"#FFFFFF",color:"#000000",moduleSize:"5",output:"css",posX:"10",posY:"20"};c.$on("print-flying-express.action",function(a,d){angular.isArray(d)?c.orderNumbers=d:c.orderNumbers=[d],c.dataList=[],b.getOutboundPackageList({orderNumber:c.orderNumbers},function(a){var b={};$.each(a.data,function(a,c){b[c.orderNumber]?$.each(c.items,function(a,d){0===$.grep(b[c.orderNumber],function(a){return a.XTProductType===d.XTProductType&&a.category===d.category&&a.description===d.description&&a.itemBrand===d.itemBrand&&a.orderNumber===d.orderNumber&&a.property1===d.property1&&a.property2===d.property2&&a.property3===d.property3&&a.property4===d.property4&&a.property5===d.property5&&a.quantity===d.quantity&&a.unitprice===d.unitprice}).length&&b[c.orderNumber].push(d)}):b[c.orderNumber]=c.items}),$.each(a.data,function(a,c){c.orderItems=b[c.orderNumber]}),$.each(a.data,function(a,b){var c={};if(b._xtProductTypeTotal=[],b.items){$.each(b.items,function(a,b){var d=b.XTProductType;d&&(c[d]?c[d]+=b.quantity:c[d]=b.quantity)});for(var d in c)b._xtProductTypeTotal.push({type:d,total:c[d]})}}),c.dataList=a.data,g()})});var g=function(){a(function(){$.each(d.find("div[trackingNumber]"),function(a,b){$(b).barcode($(b).attr("trackingNumber"),"code128",f)}),d.children().jqprint()},500)}}}}]),angular.module("culAdminApp").directive("printFlyingExpressNew",["$timeout","warehouseService",function(a,b){return{templateUrl:"views/templates/common/print-flyingexpress-new_tpl.html",restrict:"E",replace:!0,scope:!0,link:function(c,d,e){var f={addQuietZone:"1",barHeight:"25",barWidth:"1",bgColor:"#FFFFFF",color:"#000000",moduleSize:"5",output:"css",posX:"10",posY:"20"};c.$on("print-flying-express-new.action",function(a,d){angular.isArray(d)?c.orderNumbers=d:c.orderNumbers=[d],c.dataList=[],b.getOutboundPackageList({orderNumber:c.orderNumbers},function(a){var b={};$.each(a.data,function(a,c){b[c.orderNumber]?$.each(c.items,function(a,d){0==$.grep(b[c.orderNumber],function(a){return a.XTProductType==d.XTProductType&&a.category==d.category&&a.description==d.description&&a.itemBrand==d.itemBrand&&a.orderNumber==d.orderNumber&&a.property1==d.property1&&a.property2==d.property2&&a.property3==d.property3&&a.property4==d.property4&&a.property5==d.property5&&a.quantity==d.quantity&&a.unitprice==d.unitprice}).length&&b[c.orderNumber].push(d)}):b[c.orderNumber]=c.items}),$.each(a.data,function(a,c){c.orderItems=b[c.orderNumber]}),$.each(a.data,function(a,b){var c={};if(b._xtProductTypeTotal=[],b.items){$.each(b.items,function(a,b){var d=b.XTProductType;d&&(c[d]?c[d]+=b.quantity:c[d]=b.quantity)});for(var d in c)b._xtProductTypeTotal.push({type:d,total:c[d]})}}),c.dataList=a.data,g()})});var g=function(){a(function(){$.each(d.find("div[trackingNumber]"),function(a,b){$(b).barcode($(b).attr("trackingNumber"),"code128",f)}),d.children().jqprint()},500)}}}}]),angular.module("culAdminApp").directive("printFlyingExpressBlank",["$timeout","warehouseService",function(a,b){return{templateUrl:"views/templates/common/print-flyingexpress-blank_tpl.html",restrict:"E",replace:!0,scope:!0,link:function(c,d,e){var f={addQuietZone:"1",barHeight:"25",barWidth:"1",bgColor:"#FFFFFF",color:"#000000",moduleSize:"5",output:"css",posX:"10",posY:"20"};c.$on("print-flying-express-blank.action",function(a,d){angular.isArray(d)?c.orderNumbers=d:c.orderNumbers=[d],c.dataList=[],b.getOutboundPackageList({orderNumber:c.orderNumbers},function(a){var b={};$.each(a.data,function(a,c){b[c.orderNumber]?$.each(c.items,function(a,d){0==$.grep(b[c.orderNumber],function(a){return a.XTProductType==d.XTProductType&&a.category==d.category&&a.description==d.description&&a.itemBrand==d.itemBrand&&a.orderNumber==d.orderNumber&&a.property1==d.property1&&a.property2==d.property2&&a.property3==d.property3&&a.property4==d.property4&&a.property5==d.property5&&a.quantity==d.quantity&&a.unitprice==d.unitprice}).length&&b[c.orderNumber].push(d)}):b[c.orderNumber]=c.items}),$.each(a.data,function(a,c){c.orderItems=b[c.orderNumber]}),$.each(a.data,function(a,b){var c={};if(b._xtProductTypeTotal=[],b.items){$.each(b.items,function(a,b){var d=b.XTProductType;d&&(c[d]?c[d]+=b.quantity:c[d]=b.quantity)});for(var d in c)b._xtProductTypeTotal.push({type:d,total:c[d]})}}),c.dataList=a.data,g()})});var g=function(){a(function(){$.each(d.find("div[trackingNumber]"),function(a,b){$(b).barcode($(b).attr("trackingNumber"),"code128",f)}),d.children().jqprint()},500)}}}}]),angular.module("culAdminApp").directive("printFlyingExpress2",["$timeout","warehouseService",function(a,b){return{templateUrl:"views/templates/common/print-flyingexpress2_tpl.html",restrict:"E",replace:!0,scope:!0,link:function(c,d,e){var f={addQuietZone:"1",barHeight:"25",barWidth:"1",bgColor:"#FFFFFF",color:"#000000",moduleSize:"5",output:"css",posX:"10",posY:"20"};c.$on("print-flying-express2.action",function(a,d){angular.isArray(d)?c.orderNumbers=d:c.orderNumbers=[d],c.dataList=[],b.getOutboundPackageList({orderNumber:c.orderNumbers},function(a){var b={};$.each(a.data,function(a,c){b[c.orderNumber]?$.each(c.items,function(a,d){0===$.grep(b[c.orderNumber],function(a){return a.XTProductType===d.XTProductType&&a.category===d.category&&a.description===d.description&&a.itemBrand===d.itemBrand&&a.orderNumber===d.orderNumber&&a.property1===d.property1&&a.property2===d.property2&&a.property3===d.property3&&a.property4===d.property4&&a.property5===d.property5&&a.quantity===d.quantity&&a.unitprice===d.unitprice}).length&&b[c.orderNumber].push(d)}):b[c.orderNumber]=c.items}),$.each(a.data,function(a,c){c.orderItems=b[c.orderNumber]}),$.each(a.data,function(a,b){var c={};if(b._xtProductTypeTotal=[],b.items){$.each(b.items,function(a,b){var d=b.XTProductType;d&&(c[d]?c[d]+=b.quantity:c[d]=b.quantity)});for(var d in c)b._xtProductTypeTotal.push({type:d,total:c[d]})}}),c.dataList=a.data,g()})});var g=function(){a(function(){$.each(d.find("div[trackingNumber]"),function(a,b){$(b).barcode($(b).attr("trackingNumber"),"code128",f)}),d.children().jqprint()},500)}}}}]),angular.module("culAdminApp").directive("printTrackingNumber",["$timeout","warehouseService",function(a,b){return{templateUrl:"views/templates/common/print-trackingnumber_tpl.html",restrict:"E",replace:!0,scope:!0,link:function(b,c,d){var e={addQuietZone:"1",barHeight:"25",barWidth:"1",bgColor:"#FFFFFF",color:"#000000",moduleSize:"5",output:"css",posX:"10",posY:"20"};b.$on("print-tracking-number.action",function(a,c){b.dataList=[],c&&(angular.isArray(c)||(c=[c]),$.each(c,function(a,c){var d=c.isFastOrder,e=c.shipServiceId;$.each(c.outboundPackages,function(a,c){c._isFastOrder=d,c._shipServiceId=e,b.dataList.push(c)})}),f())});var f=function(){a(function(){$.each(c.find("div[trackingNumber]"),function(a,b){$(b).barcode($(b).attr("trackingNumber"),"code128",e)}),c.children().jqprint()},500)}}}}]),angular.module("culAdminApp").directive("printFlyingExpressEmpty",["$http","$timeout","warehouseService","plugMessenger",function(a,b,c,d){return{templateUrl:"views/templates/common/print-flyingexpress_empty_form_tpl.html",restrict:"E",replace:!0,scope:!0,link:function(a,b,e){var f={addQuietZone:"1",barHeight:"25",barWidth:"1",bgColor:"#FFFFFF",color:"#000000",moduleSize:"5",output:"css",posX:"10",posY:"20"};a.data={printCount:1},a.btnPrint=function(){return!_.isFinite(a.data.printCount)||a.data.printCount<=0?void d.info("请输入正确的数量"):void c.registerOutboundPackages(a.data.printCount,function(a){var c=[],d=b.find("#print-template").html(),e=null;_.each(a,function(a){c.push(d.replace(RegExp("\\$\\{trackingNumber\\}","gi"),a))}),e=$(c.join("")),$.each(e.find("div[trackingNumber]"),function(a,b){$(b).barcode($(b).attr("trackingNumber"),"code128",f)}),e.jqprint(),g("hide")})};var g=function(c){switch(c){case"show":a.data.printCount=1,b.modal("show");break;case"hide":b.modal("hide")}};a.$on("print-flying-express-empty",function(a,b){g(b)})}}}]),angular.module("culAdminApp").directive("printUnshelf",["$timeout","shelfService",function(a,b){return{templateUrl:"views/templates/common/print-unshelf_tpl.html",restrict:"E",replace:!0,scope:!0,link:function(c,d,e){var f={addQuietZone:"1",barHeight:"25",barWidth:"1",bgColor:"#FFFFFF",color:"#000000",moduleSize:"5",output:"css",posX:"10",posY:"20"};c.$on("print-unshelf.action",function(a,d){c.dataList=[],b.getUnshelfList({warehouseNumber:d},function(a){_.each(a,function(a){2==a.sendType&&1==a.isUnusual?a._sendType=3:2==a.sendType&&2==a.isUnusual?a._sendType=4:a._sendType=a.sendType}),c.dataList=_.groupBy(a,function(a){return a._sendType}),c.currentDate=Date.now(),g()})});var g=function(){a(function(){$.each(d.find("div[trackingNumber]"),function(a,b){$(b).barcode($(b).attr("trackingNumber"),"code128",f)}),d.children().jqprint()},500)}}}}]),angular.module("culAdminApp").directive("printHelper",["$timeout","receiptService",function(a,b){return{templateUrl:"views/templates/common/print-helper_tpl.html",restrict:"E",replace:!0,scope:!0,link:function(c,d,e){var f={addQuietZone:"1",barHeight:"50",barWidth:"1",bgColor:"#FFFFFF",color:"#000000",moduleSize:"5",output:"css",posX:"10",posY:"20"};c.$on("print-helper.action",function(a,e,f){var h={};switch(e){case"receipt-tag-inbound-tag":b.getDetail(f.receiptNumber,function(a){c.data=a,c.data._number=f.number,h={barHeight:"40",fontSize:"16"},g(d.find("#"+e),h)});break;case"receipt-tag-check-tag":b.getDetail(f.receiptNumber,function(a){c.data=a,h={barHeight:"40",fontSize:"16"},g(d.find("#"+e),h)});break;case"receipt-tag-exception-tag":c.data={exceptionNumber:f.exceptionNumber},h={barHeight:"40",fontSize:"16"},g(d.find("#"+e),h);break;case"receipt-tag-exception-log":c.data=f.data,g(d.find("#"+e));break;case"shelf-management-tag":c.data={shelfNumber:f.shelfNumber},h={barHeight:"50",fontSize:"10"},g(d.find("#"+e),h)}});var g=function(b,c){a(function(){$.each(b.find("div[barcodeNumber]"),function(a,b){$(b).barcode($(b).attr("barcodeNumber"),"code128",$.extend(angular.copy(f),c||{}))}),b.children().jqprint()},500)}}}}]),angular.module("culAdminApp").directive("styleSwicher",["$http",function(a){return{templateUrl:"views/templates/master/style-swicher_tpl.html",restrict:"E",$scope:!0,replace:!0,link:function(a,b,c){function d(){$('head link[rel="stylesheet"]').each(function(){$(this).attr("href").toLowerCase().indexOf("skins")>=0&&$(this).remove()}),$(".logo img").attr("src","assets/img/kingadmin-logo-white.png"),localStorage.removeItem("skin"),localStorage.setItem("skinLogo",g),$(".top-bar").removeClass("navbar-fixed-top")}$("body").hasClass("home")?b.css("right","0").delay(1e3).animate({right:"-=250"},300):b.css("right","-250px"),b.find(".del-switcher-toggle").clickToggle(function(){b.animate({right:"+=250"},300)},function(){b.animate({right:"-=250"},300)});var e=localStorage.getItem("skin"),f=localStorage.getItem("skinLogo"),g="assets/img/kingadmin-logo-white.png";null!=e&&($("head").append('<link rel="stylesheet" href="'+e+'" type="text/css" />'),e.toLowerCase().indexOf("fulldark")>=0?b.find(".switch-skin-full.fulldark").addClass("selected"):e.toLowerCase().indexOf("fullbright")>=0&&b.find(".switch-skin-full.fullbright").addClass("selected")),null!=f&&$(".logo img").attr("src",f),b.find(".switch-skin, .switch-skin-full").click(function(a){a.preventDefault(),d(),$("head").append('<link rel="stylesheet" href="'+$(this).attr("data-skin")+'" type="text/css" />'),f=$(this).hasClass("fullbright")?"assets/img/kingadmin-logo.png":g,$(".logo img").attr("src",f),localStorage.setItem("skin",$(this).attr("data-skin")),localStorage.setItem("skinLogo",f)}),b.find(".switch-skin-full").click(function(){b.find(".switch-skin-full").removeClass("selected"),$(this).addClass("selected")}),b.find("form").change(function(){b.find("#fixed-top-nav").is(":checked")?$(".top-bar").addClass("navbar-fixed-top"):$(".top-bar").removeClass("navbar-fixed-top")}),b.find(".del-reset-style").click(function(){
d()})}}}]),angular.module("culAdminApp").directive("masterLeftSidebar",["$http","$rootScope","$location","$timeout","menuInfoService",function(a,b,c,d,e){return{templateUrl:"views/templates/master/left-sidebar_tpl.html",restrict:"E",replace:!0,$scope:!0,link:function(a,f,g){a.menus=e.getMenus(),a.currentMenu=e.getMenuInfo(c.path()).menu,a.btnChangeRouter=function(b){b.url&&(a.currentMenu=b,c.path(b.url).search({}))},b.$on("refresh.menus",function(b){a.menus=e.getMenus(),a.currentMenu=e.getMenuInfo(c.path()).menu}),d(function(){f.find(".main-menu .js-sub-menu-toggle").click(function(a){a.preventDefault();var b=$(this).parent("li");b.hasClass("active")?(b.find(" > a .toggle-icon").removeClass("fa-angle-down").addClass("fa-angle-left"),b.removeClass("active")):(b.find(" > a .toggle-icon").removeClass("fa-angle-left").addClass("fa-angle-down"),b.addClass("active")),b.find(" > .sub-menu").slideToggle(300)}),f.find(".js-toggle-minified").clickToggle(function(){f.addClass("minified"),$(".content-wrapper").addClass("expanded"),f.find(".sub-menu").css("display","none").css("overflow","hidden"),f.find(".main-menu > li > a > .text").animate({opacity:0},200),f.find(".sidebar-minified").find("i.fa-angle-left").toggleClass("fa-angle-right")},function(){f.removeClass("minified"),$(".content-wrapper").removeClass("expanded"),f.find(".main-menu > li > a > .text").animate({opacity:1},600),f.find(".sidebar-minified").find("i.fa-angle-left").toggleClass("fa-angle-right")}),f.find(".main-nav-toggle").clickToggle(function(){f.slideDown(300)},function(){f.slideUp(300)}),$.each(f.find(".main-nav li.active"),function(a,b){var c=$(b);c.parents(".sub-menu").addClass("open"),c.parents("li").addClass("active"),c.parents("li").find("i.toggle-icon").removeClass("fa-angle-left").addClass("fa-angle-down")})})}}}]),angular.module("culAdminApp").directive("masterTopToolbar",["$rootScope","$http","userService","$location","customerService","faqService","plugMessenger",function(a,b,c,d,e,f,g){return{templateUrl:"views/templates/master/top_tpl.html",restrict:"E",replace:!0,$scope:!0,link:function(b,h,i){a.$emit("changeMenu"),b.btnLogout=function(){c.logout(function(){b.$root.userInfo=null})},b.btnViewMessageList=function(){d.path("/customer/messagelist")},b.btnVieIdauthList=function(){d.path("/customer/idauth")},b.getVipAndMsg=function(){e.getVipAndMsg({},function(a){b.vipCount=a.data.count,b.vipData=a.data.data})},a.getmessageList=function(){f.getMessageOperationlog({status:"Processing",noMessageType:28},function(a){b.tipMessage=a.data,b.tipMessageLength=a.data.length})},a.getIdMessageList=function(){f.getMessageOperationlog({status:"Processing",messageTypes:28},function(a){b.idMessage=a.data,b.idCardLength=a.data.length})},b.$on("updateMessageList",function(){a.getIdMessageList()}),b.getVipAndMsg(),a.getmessageList(),a.getIdMessageList(),b.updateAllIdMessageOperate=function(){g.confirm(" 确定标记所有身份证申请为已读",function(b){b&&f.updateMessageOperation({idAll:!0}).then(function(b){a.getIdMessageList()})})},b.btnViewMessage=function(a){d.path("/customer/faqdetail").search({messageNumber:a.messageNumber})},b.btnViewAddressMessage=function(a){f.updateMessageOperation({messageNumber:a.messageNumber}).then(function(b){2==a.authType?d.path("/customer/idauth").search({authType:2}):d.path("/customer/addressdetail").search({transactionNumber:a.addressId})})},b.$on("message",function(b){a.getmessageList()}),b.btnViewCustomer=function(a){d.path("/customer/customerdetail").search({customerNumber:a.customerNumber})},b.btnViewCustomerList=function(){d.path("/customer/customerlist")}}}}]),angular.module("culAdminApp").directive("masterAlert",["$http",function(a){return{templateUrl:"views/templates/master/alert_tpl.html",restrict:"E",replace:!0,$scope:!0,link:function(a,b,c){function d(a,b){null==b||"1"==b?a.removeClass("fa-volume-off").addClass("fa-volume-up"):a.removeClass("fa-volume-up").addClass("fa-volume-off")}var e=new Tour({basePath:"/dev/kingadmin-1.4/",steps:[{element:"#tour-searchbox",title:'Bootstrap Tour <span class="badge element-bg-color-blue">New</span>',content:"<p>Hello there, this tour can <strong>guide new user</strong> or show new feature/update on your website. Oh and why don't you try search <em>'sales'</em> here to see Widget Live Search on action.</p><p><em>To navigate the site please follow the tour first or click \"End tour\".</em></p>",placement:"bottom"},{element:"#sales-stat-tab",title:"Dynamic Content",content:"You can select statistic view based on predefined period here."},{element:"#tour-focus",title:"Focus Mode",content:"Focus your attention and hide all irrelevant contents.",placement:"left"},{element:".del-switcher-toggle",title:"Color Skins",content:"Open the hidden panel here by clicking this icon to apply built-in skins.",placement:"left",backdrop:!0},{element:"#start-tour",title:"Start/Restart Tour",content:"Click this link later if you need to <strong>restart the tour</strong>.",placement:"bottom",backdrop:!0}],template:"<div class='popover tour'> <div class='arrow'></div> <h3 class='popover-title'></h3><div class='popover-content'></div><div class='popover-navigation'><button class='btn btn-default' data-role='prev'>« Prev</button><button class='btn btn-primary' data-role='next'>Next »</button><button class='btn btn-default' data-role='end'>End tour</button></div></div>",onEnd:function(a){$("#start-tour").prop("disabled",!1)}});$(".top-general-alert").length>0&&null==localStorage.getItem("general-alert")&&($(".top-general-alert").delay(800).slideDown("medium"),$(".top-general-alert .close").click(function(){$(this).parent().slideUp("fast"),localStorage.setItem("general-alert","closed")})),e.init(),$("#start-tour").click(function(){e.ended()?e.restart():e.start(),$(this).prop("disabled",!0)});var f=$(".btn-global-volume"),g=f.find("i");d(g,localStorage.getItem("global-volume")),f.click(function(){var a=localStorage.getItem("global-volume");null==a||"1"==a?localStorage.setItem("global-volume",0):localStorage.setItem("global-volume",1),d(g,localStorage.getItem("global-volume"))})}}}]),angular.module("culAdminApp").directive("masterBreadCrumbs",["$location","$timeout","menuInfoService",function(a,b,c){return{templateUrl:"views/templates/master/breadcrumb_tpl.html",restrict:"E",replace:!0,$scope:!0,link:function(b,d,e){b.btnTransfer=function(b){b.url&&a.path(b.url)};var f=function(){var d=[{icon:"fa-home",tip:null,title:"首页",url:"/"}];b.routePath=c.getMenuInfo(a.path()).routePath,b.routePath=d.concat(b.routePath),console.log(b.routePath)};b.$on("$routeChangeSuccess",function(){f()}),f()}}}]),angular.module("culAdminApp").directive("chartNumberStat",["$timeout",function(a){return{templateUrl:"views/templates/common/chart-number-stat_tpl.html",restrict:"E",replace:!0,scope:{data:"=ngData"},link:function(b,c,d){a(function(){var a=function(){var a={width:"140px",height:"30px",lineWidth:"2",lineColor:"#1D92AF",fillColor:!1,spotRadius:"2",highlightLineColor:"#aedaff",highlightSpotColor:"#71aadb",spotColor:!1,minSpotColor:!1,maxSpotColor:!1,disableInteraction:!1};$.each(c.find(".inlinesparkline"),function(c,d){$(d).sparkline(b.data[c].values,a)})};a()})}}}]),angular.module("culAdminApp").directive("chartMiniStat",["$timeout",function(a){return{templateUrl:"views/templates/common/chart-mini-stat_tpl.html",restrict:"E",replace:!0,scope:!0,link:function(b,c,d){b.chartType=d.type,b.chartList=[{id:"chart1",title:"LIKES",css:"stat-color-orange",value:"81,450",chartValues:[20,10,36,48,25,91,70,26,82],barColor:"#CE7B11"},{id:"chart2",title:"SUBSCRIBERS",css:"stat-color-blue",value:"150,743",chartValues:[16,23,45,98,15,64,88,42,99],barColor:"#1D92AF"},{id:"chart3",title:"CUSTOMERS",css:"stat-color-seagreen",value:"43,748",chartValues:[77,55,69,44,22,19,87,22,65],barColor:"#3F7577"}],a(function(){$.each(b.chartList,function(a,b){var d={type:"bar",barWidth:5,height:25,barColor:b.barColor};c.find("#"+b.id+" .mini-bar-chart").sparkline(b.chartValues,d)})})}}}]),angular.module("culAdminApp").directive("chartQuickAccess",["$location","$timeout","userService","menuInfoService",function(a,b,c,d){return{templateUrl:"views/templates/common/chart-quick-access_tpl.html",restrict:"E",replace:!0,scope:!0,link:function(b,d,e){b.userInfo=c.getUserInfo(),b.btnTransferPage=function(b){a.path(b)};var f=function(){switch(b.userInfo.roleName){case"super_admin":case"warehouse_admin":b.chartList=[{route:"/order/orderlist",icon:"fa-envelope",title:"订单管理",desc:"查询管理订单信息",css:"bg-color-blue"}];break;case"cs_admin":b.chartList=[{route:"/order/orderlist",icon:"fa-table",title:"订单查询",desc:"查询管理订单信息",css:"bg-color-orange"}];break;case"culwebapp_customer":b.chartList=[{route:"/order/orderlist",icon:"fa-table",title:"订单查询",desc:"查询管理订单信息",css:"bg-color-orange"}]}};b.$on("$routeChangeSuccess",function(){f()}),f()}}}]),angular.module("culAdminApp").directive("chartFlot",["$timeout",function(a){return{templateUrl:"views/templates/common/chart-flot_tpl.html",restrict:"E",replace:!0,scope:{data:"=ngData",filter:"=ngFilter"},link:function(a,b,c){a.title=c.title,a.desc=c.desc;var d=null;a.currentTab={period:"week"},a.filter&&angular.isArray(a.filter)&&$.each(a.filter,function(b,c){a.currentTab[c.key]=c.options[0].key}),a.btnTransferTab=function(b,d){a.currentTab[d]=b,a.$emit(c.ngFilterTrigger,a.currentTab,e)};var e=function(c){a.data=c;var e={},f=angular.copy(a.data.dataList);switch(a.currentTab.period){case"week":for(var g=0;g<f.length;g++)f[g]=$.extend({lines:{show:!0,fill:!0},points:{show:!0,fill:!0,fillColor:"#fafafa"}},f[g]);e={series:{lines:{fillColor:{colors:[{opacity:.1},{opacity:.1}]}}},colors:["#E7A13D","#FF3300"],xaxis:{timeformat:"%a"}};break;case"month":f[0]=$.extend({bars:{show:!0,fill:!1,barWidth:.1,align:"center",lineWidth:18}},f[0]),e={series:{lines:{show:!0,fill:!1},points:{show:!0,fill:!0,fillColor:"#fafafa"}},colors:["rgba(217,217,217, 0.3)","#d7ea2b"]};break;case"year":e={series:{lines:{show:!0,fill:!1},points:{show:!0,fill:!0,fillColor:"#fafafa"}},colors:["#d9d9d9","#5399D6"],xaxis:{minTickSize:[1,"month"]}}}d=$.plot(b.find("#chart-control"),f,$.extend(!0,{series:{lines:{lineWidth:2},points:{lineWidth:3},shadowSize:0},grid:{hoverable:!0,clickable:!0,borderWidth:0,tickColor:"#E4E4E4"},yaxis:{font:{color:"#555"},ticks:8},xaxis:{mode:"time",timezone:"browser",minTickSize:[1,"day"],font:{color:"#555"},tickColor:"#fafafa",autoscaleMargin:.02},legend:{labelBoxBorderColor:"transparent",backgroundColor:"transparent"},tooltip:!0,tooltipOpts:{content:"%s: %y"}},e))};e(a.data),b.find(".widget-header-toolbar").kingAdminCommon()}}}]),angular.module("culAdminApp").directive("chartSecondaryStat",["$timeout",function(a){return{templateUrl:"views/templates/common/chart-secondary-stat_tpl.html",restrict:"E",replace:!0,scope:!0,link:function(a,b,c){a.data=null,c.data&&"string"==typeof c.data&&(a.data=JSON.parse(c.data)),a.data&&(b.find(".inlinesparkline").sparkline(a.data.values||[],{width:""+b.find(".secondary-stat-item").innerWidth(),height:"60px",spotRadius:"2",spotColor:!1,minSpotColor:!1,maxSpotColor:!1,lineWidth:1,lineColor:"rgba(255,255,255, 0.2)",fillColor:"rgba(255,255,255, 0.1)",highlightLineColor:"#fff",highlightSpotColor:"#fff",disableInteraction:!0}),b.find(".secondary-stat-item").css({"background-color":a.data.backgroundColor}))}}}]),angular.module("culAdminApp").directive("ticketTable",["$timeout",function(a){return{templateUrl:"views/templates/common/ticket-table_tpl.html",restrict:"E",replace:!0,scope:{data:"=ngData"},link:function(a,b,c){a.title=c.title,a.desc=c.desc,a.criticalTotal=$.grep(a.data.dataList,function(a){return 1==a.priority}).length,b.find(".widget-header-toolbar").kingAdminCommon()}}}]),angular.module("culAdminApp").directive("bucketItem",["$timeout",function(a){return{templateUrl:"views/templates/common/bucket-item_tpl.html",restrict:"E",replace:!0,scope:{type:"@type",data:"=ngData",disabled:"=ngDisabled",callback_check:"&ngFnCheck",callback_add:"&ngFnAdd",callback_remove:"&ngFnRemove"},link:function(a,b,c){a.$on("bucket-item-selected",function(b,c,d){switch(d){case"pallet":a.isSelected=a.data.name==c;break;case"box":"pallet"!=a.type&&(a.isSelected=a.data.name==c);break;case"package":"pallet"!=a.type&&"box"!=a.type&&"bag"!=a.type&&(a.isSelected=a.data.name==c)}}),a.btnPrint=function(b){a.$broadcast("print-flying-express.action",b.orderNumber)}}}}]),!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.io=b():a.io=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(a,b){"object"===("undefined"==typeof a?"undefined":e(a))&&(b=a,a=void 0),b=b||{};var c,d=f(a),g=d.source,k=d.id,l=d.path,m=j[k]&&l in j[k].nsps,n=b.forceNew||b["force new connection"]||!1===b.multiplex||m;return n?(i("ignoring socket cache for %s",g),c=h(g,b)):(j[k]||(i("new io instance for %s",g),j[k]=h(g,b)),c=j[k]),d.query&&!b.query&&(b.query=d.query),c.socket(d.path,b)}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(1),g=c(7),h=c(12),i=c(3)("socket.io-client");a.exports=b=d;var j=b.managers={};b.protocol=g.protocol,b.connect=d,b.Manager=c(12),b.Socket=c(37)},function(a,b,c){(function(b){"use strict";function d(a,c){var d=a;c=c||b.location,null==a&&(a=c.protocol+"//"+c.host),"string"==typeof a&&("/"===a.charAt(0)&&(a="/"===a.charAt(1)?c.protocol+a:c.host+a),/^(https?|wss?):\/\//.test(a)||(f("protocol-less url %s",a),a="undefined"!=typeof c?c.protocol+"//"+a:"https://"+a),f("parse %s",a),d=e(a)),d.port||(/^(http|ws)$/.test(d.protocol)?d.port="80":/^(http|ws)s$/.test(d.protocol)&&(d.port="443")),d.path=d.path||"/";var g=-1!==d.host.indexOf(":"),h=g?"["+d.host+"]":d.host;return d.id=d.protocol+"://"+h+":"+d.port,d.href=d.protocol+"://"+h+(c&&c.port===d.port?"":":"+d.port),d}var e=c(2),f=c(3)("socket.io-client:url");a.exports=d}).call(b,function(){return this}())},function(a,b){var c=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,d=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];a.exports=function(a){var b=a,e=a.indexOf("["),f=a.indexOf("]");-1!=e&&-1!=f&&(a=a.substring(0,e)+a.substring(e,f).replace(/:/g,";")+a.substring(f,a.length));for(var g=c.exec(a||""),h={},i=14;i--;)h[d[i]]=g[i]||"";return-1!=e&&-1!=f&&(h.source=b,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0),h}},function(a,b,c){(function(d){function e(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function f(a){var c=this.useColors;if(a[0]=(c?"%c":"")+this.namespace+(c?" %c":" ")+a[0]+(c?"%c ":" ")+"+"+b.humanize(this.diff),c){var d="color: "+this.color;a.splice(1,0,d,"color: inherit");var e=0,f=0;a[0].replace(/%[a-zA-Z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))}),a.splice(f,0,d)}}function g(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function h(a){try{null==a?b.storage.removeItem("debug"):b.storage.debug=a}catch(c){}}function i(){var a;try{a=b.storage.debug}catch(c){}return!a&&"undefined"!=typeof d&&"env"in d&&(a=d.env.DEBUG),a}function j(){try{return window.localStorage}catch(a){}}b=a.exports=c(5),b.log=g,b.formatArgs=f,b.save=h,b.load=i,b.useColors=e,b.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:j(),b.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],b.formatters.j=function(a){try{return JSON.stringify(a)}catch(b){return"[UnexpectedJSONParseError]: "+b.message}},b.enable(i())}).call(b,c(4))},function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function e(a){if(k===setTimeout)return setTimeout(a,0);if((k===c||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{return k(a,0)}catch(b){try{return k.call(null,a,0)}catch(b){return k.call(this,a,0)}}}function f(a){if(l===clearTimeout)return clearTimeout(a);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(a);try{return l(a)}catch(b){try{return l.call(null,a)}catch(b){return l.call(this,a)}}}function g(){p&&n&&(p=!1,n.length?o=n.concat(o):q=-1,o.length&&h())}function h(){if(!p){var a=e(g);p=!0;for(var b=o.length;b;){for(n=o,o=[];++q<b;)n&&n[q].run();q=-1,b=o.length}n=null,p=!1,f(a)}}function i(a,b){this.fun=a,this.array=b}function j(){}var k,l,m=a.exports={};!function(){try{k="function"==typeof setTimeout?setTimeout:c}catch(a){k=c}try{l="function"==typeof clearTimeout?clearTimeout:d}catch(a){l=d}}();var n,o=[],p=!1,q=-1;m.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];o.push(new i(a,b)),1!==o.length||p||e(h)},i.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=j,m.addListener=j,m.once=j,m.off=j,m.removeListener=j,m.removeAllListeners=j,m.emit=j,m.prependListener=j,m.prependOnceListener=j,m.listeners=function(a){return[]},m.binding=function(a){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(a){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(a,b,c){function d(a){var c,d=0;for(c in a)d=(d<<5)-d+a.charCodeAt(c),d|=0;return b.colors[Math.abs(d)%b.colors.length]}function e(a){function c(){if(c.enabled){var a=c,d=+new Date,f=d-(e||d);a.diff=f,a.prev=e,a.curr=d,e=d;for(var g=new Array(arguments.length),h=0;h<g.length;h++)g[h]=arguments[h];g[0]=b.coerce(g[0]),"string"!=typeof g[0]&&g.unshift("%O");var i=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(c,d){if("%%"===c)return c;i++;var e=b.formatters[d];if("function"==typeof e){var f=g[i];c=e.call(a,f),g.splice(i,1),i--}return c}),b.formatArgs.call(a,g);var j=c.log||b.log||console.log.bind(console);j.apply(a,g)}}var e;return c.namespace=a,c.enabled=b.enabled(a),c.useColors=b.useColors(),c.color=d(a),c.destroy=f,"function"==typeof b.init&&b.init(c),b.instances.push(c),c}function f(){var a=b.instances.indexOf(this);return-1!==a&&(b.instances.splice(a,1),!0)}function g(a){b.save(a),b.names=[],b.skips=[];var c,d=("string"==typeof a?a:"").split(/[\s,]+/),e=d.length;for(c=0;e>c;c++)d[c]&&(a=d[c].replace(/\*/g,".*?"),"-"===a[0]?b.skips.push(new RegExp("^"+a.substr(1)+"$")):b.names.push(new RegExp("^"+a+"$")));for(c=0;c<b.instances.length;c++){var f=b.instances[c];f.enabled=b.enabled(f.namespace)}}function h(){b.enable("")}function i(a){if("*"===a[a.length-1])return!0;var c,d;for(c=0,d=b.skips.length;d>c;c++)if(b.skips[c].test(a))return!1;for(c=0,d=b.names.length;d>c;c++)if(b.names[c].test(a))return!0;return!1}function j(a){return a instanceof Error?a.stack||a.message:a}b=a.exports=e.debug=e["default"]=e,b.coerce=j,b.disable=h,b.enable=g,b.enabled=i,b.humanize=c(6),b.instances=[],b.names=[],b.skips=[],b.formatters={}},function(a,b){function c(a){if(a=String(a),!(a.length>100)){var b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]),d=(b[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return c*k;case"days":case"day":case"d":return c*j;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*h;case"seconds":case"second":case"secs":case"sec":case"s":return c*g;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function d(a){return a>=j?Math.round(a/j)+"d":a>=i?Math.round(a/i)+"h":a>=h?Math.round(a/h)+"m":a>=g?Math.round(a/g)+"s":a+"ms"}function e(a){return f(a,j,"day")||f(a,i,"hour")||f(a,h,"minute")||f(a,g,"second")||a+" ms"}function f(a,b,c){return b>a?void 0:1.5*b>a?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var g=1e3,h=60*g,i=60*h,j=24*i,k=365.25*j;a.exports=function(a,b){b=b||{};var f=typeof a;if("string"===f&&a.length>0)return c(a);if("number"===f&&isNaN(a)===!1)return b["long"]?e(a):d(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}},function(a,b,c){function d(){}function e(a){var c=""+a.type;if(b.BINARY_EVENT!==a.type&&b.BINARY_ACK!==a.type||(c+=a.attachments+"-"),a.nsp&&"/"!==a.nsp&&(c+=a.nsp+","),null!=a.id&&(c+=a.id),null!=a.data){var d=f(a.data);if(d===!1)return r;c+=d}return m("encoded %j as %s",a,c),c}function f(a){try{return JSON.stringify(a)}catch(b){return!1}}function g(a,b){function c(a){var c=o.deconstructPacket(a),d=e(c.packet),f=c.buffers;f.unshift(d),b(f)}o.removeBlobs(a,c)}function h(){this.reconstructor=null}function i(a){var c=0,d={type:Number(a.charAt(0))};if(null==b.types[d.type])return l("unknown packet type "+d.type);if(b.BINARY_EVENT===d.type||b.BINARY_ACK===d.type){for(var e="";"-"!==a.charAt(++c)&&(e+=a.charAt(c),c!=a.length););if(e!=Number(e)||"-"!==a.charAt(c))throw new Error("Illegal attachments");d.attachments=Number(e)}if("/"===a.charAt(c+1))for(d.nsp="";++c;){var f=a.charAt(c);if(","===f)break;if(d.nsp+=f,c===a.length)break}else d.nsp="/";var g=a.charAt(c+1);if(""!==g&&Number(g)==g){for(d.id="";++c;){var f=a.charAt(c);if(null==f||Number(f)!=f){--c;break}if(d.id+=a.charAt(c),c===a.length)break}d.id=Number(d.id)}if(a.charAt(++c)){var h=j(a.substr(c)),i=h!==!1&&(d.type===b.ERROR||p(h));if(!i)return l("invalid payload");d.data=h}return m("decoded %s as %j",a,d),d}function j(a){try{return JSON.parse(a)}catch(b){return!1}}function k(a){this.reconPack=a,this.buffers=[]}function l(a){return{type:b.ERROR,data:"parser error: "+a}}var m=c(3)("socket.io-parser"),n=c(8),o=c(9),p=c(10),q=c(11);b.protocol=4,b.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],b.CONNECT=0,b.DISCONNECT=1,b.EVENT=2,b.ACK=3,b.ERROR=4,b.BINARY_EVENT=5,b.BINARY_ACK=6,b.Encoder=d,b.Decoder=h;var r=b.ERROR+'"encode error"';d.prototype.encode=function(a,c){if(m("encoding packet %j",a),b.BINARY_EVENT===a.type||b.BINARY_ACK===a.type)g(a,c);else{var d=e(a);c([d])}},n(h.prototype),h.prototype.add=function(a){var c;if("string"==typeof a)c=i(a),b.BINARY_EVENT===c.type||b.BINARY_ACK===c.type?(this.reconstructor=new k(c),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",c)):this.emit("decoded",c);else{if(!q(a)&&!a.base64)throw new Error("Unknown type: "+a);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");c=this.reconstructor.takeBinaryData(a),c&&(this.reconstructor=null,this.emit("decoded",c))}},h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},k.prototype.takeBinaryData=function(a){if(this.buffers.push(a),this.buffers.length===this.reconPack.attachments){var b=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),b}return null},k.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(a,b,c){function d(a){return a?e(a):void 0}function e(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}a.exports=d,d.prototype.on=d.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(b),this},d.prototype.once=function(a,b){function c(){this.off(a,c),b.apply(this,arguments)}return c.fn=b,this.on(a,c),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks["$"+a];if(!c)return this;if(1==arguments.length)return delete this._callbacks["$"+a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks["$"+a];if(c){c=c.slice(0);for(var d=0,e=c.length;e>d;++d)c[d].apply(this,b)}return this},d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]},d.prototype.hasListeners=function(a){return!!this.listeners(a).length}},function(a,b,c){(function(a){function d(a,b){if(!a)return a;if(g(a)){var c={_placeholder:!0,num:b.length};return b.push(a),c}if(f(a)){for(var e=new Array(a.length),h=0;h<a.length;h++)e[h]=d(a[h],b);return e}if("object"==typeof a&&!(a instanceof Date)){var e={};for(var i in a)e[i]=d(a[i],b);return e}return a}function e(a,b){if(!a)return a;if(a&&a._placeholder)return b[a.num];if(f(a))for(var c=0;c<a.length;c++)a[c]=e(a[c],b);else if("object"==typeof a)for(var d in a)a[d]=e(a[d],b);return a}var f=c(10),g=c(11),h=Object.prototype.toString,i="function"==typeof a.Blob||"[object BlobConstructor]"===h.call(a.Blob),j="function"==typeof a.File||"[object FileConstructor]"===h.call(a.File);b.deconstructPacket=function(a){var b=[],c=a.data,e=a;return e.data=d(c,b),e.attachments=b.length,{packet:e,buffers:b}},b.reconstructPacket=function(a,b){return a.data=e(a.data,b),a.attachments=void 0,a},b.removeBlobs=function(a,b){function c(a,h,k){if(!a)return a;if(i&&a instanceof Blob||j&&a instanceof File){d++;var l=new FileReader;l.onload=function(){k?k[h]=this.result:e=this.result,--d||b(e)},l.readAsArrayBuffer(a)}else if(f(a))for(var m=0;m<a.length;m++)c(a[m],m,a);else if("object"==typeof a&&!g(a))for(var n in a)c(a[n],n,a)}var d=0,e=a;c(e),d||b(e)}}).call(b,function(){return this}())},function(a,b){var c={}.toString;a.exports=Array.isArray||function(a){return"[object Array]"==c.call(a)}},function(a,b){(function(b){function c(a){return d&&b.Buffer.isBuffer(a)||e&&(a instanceof b.ArrayBuffer||f(a))}a.exports=c;var d="function"==typeof b.Buffer&&"function"==typeof b.Buffer.isBuffer,e="function"==typeof b.ArrayBuffer,f=function(){return e&&"function"==typeof b.ArrayBuffer.isView?b.ArrayBuffer.isView:function(a){return a.buffer instanceof b.ArrayBuffer}}()}).call(b,function(){return this}())},function(a,b,c){"use strict";function d(a,b){if(!(this instanceof d))return new d(a,b);a&&"object"===("undefined"==typeof a?"undefined":e(a))&&(b=a,a=void 0),b=b||{},b.path=b.path||"/socket.io",this.nsps={},this.subs=[],this.opts=b,this.reconnection(b.reconnection!==!1),this.reconnectionAttempts(b.reconnectionAttempts||1/0),this.reconnectionDelay(b.reconnectionDelay||1e3),this.reconnectionDelayMax(b.reconnectionDelayMax||5e3),this.randomizationFactor(b.randomizationFactor||.5),this.backoff=new n({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==b.timeout?2e4:b.timeout),this.readyState="closed",this.uri=a,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var c=b.parser||i;this.encoder=new c.Encoder,this.decoder=new c.Decoder,this.autoConnect=b.autoConnect!==!1,this.autoConnect&&this.open()}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(13),g=c(37),h=c(8),i=c(7),j=c(39),k=c(40),l=c(3)("socket.io-client:manager"),m=c(36),n=c(41),o=Object.prototype.hasOwnProperty;a.exports=d,d.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)o.call(this.nsps,a)&&this.nsps[a].emit.apply(this.nsps[a],arguments)},d.prototype.updateSocketIds=function(){for(var a in this.nsps)o.call(this.nsps,a)&&(this.nsps[a].id=this.generateId(a))},d.prototype.generateId=function(a){return("/"===a?"":a+"#")+this.engine.id},h(d.prototype),d.prototype.reconnection=function(a){return arguments.length?(this._reconnection=!!a,this):this._reconnection},d.prototype.reconnectionAttempts=function(a){return arguments.length?(this._reconnectionAttempts=a,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(a){return arguments.length?(this._reconnectionDelay=a,this.backoff&&this.backoff.setMin(a),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(a){return arguments.length?(this._randomizationFactor=a,this.backoff&&this.backoff.setJitter(a),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(a){return arguments.length?(this._reconnectionDelayMax=a,this.backoff&&this.backoff.setMax(a),this):this._reconnectionDelayMax},d.prototype.timeout=function(a){return arguments.length?(this._timeout=a,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(a,b){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=f(this.uri,this.opts);var c=this.engine,d=this;this.readyState="opening",this.skipReconnect=!1;var e=j(c,"open",function(){d.onopen(),a&&a()}),g=j(c,"error",function(b){if(l("connect_error"),d.cleanup(),d.readyState="closed",d.emitAll("connect_error",b),a){var c=new Error("Connection error");c.data=b,a(c)}else d.maybeReconnectOnOpen()});if(!1!==this._timeout){var h=this._timeout;l("connect attempt will timeout after %d",h);var i=setTimeout(function(){l("connect attempt timed out after %d",h),e.destroy(),c.close(),c.emit("error","timeout"),d.emitAll("connect_timeout",h)},h);this.subs.push({destroy:function(){clearTimeout(i)}})}return this.subs.push(e),this.subs.push(g),this},d.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var a=this.engine;this.subs.push(j(a,"data",k(this,"ondata"))),this.subs.push(j(a,"ping",k(this,"onping"))),this.subs.push(j(a,"pong",k(this,"onpong"))),this.subs.push(j(a,"error",k(this,"onerror"))),this.subs.push(j(a,"close",k(this,"onclose"))),this.subs.push(j(this.decoder,"decoded",k(this,"ondecoded")))},d.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},d.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},d.prototype.ondata=function(a){this.decoder.add(a)},d.prototype.ondecoded=function(a){this.emit("packet",a)},d.prototype.onerror=function(a){
l("error",a),this.emitAll("error",a)},d.prototype.socket=function(a,b){function c(){~m(e.connecting,d)||e.connecting.push(d)}var d=this.nsps[a];if(!d){d=new g(this,a,b),this.nsps[a]=d;var e=this;d.on("connecting",c),d.on("connect",function(){d.id=e.generateId(a)}),this.autoConnect&&c()}return d},d.prototype.destroy=function(a){var b=m(this.connecting,a);~b&&this.connecting.splice(b,1),this.connecting.length||this.close()},d.prototype.packet=function(a){l("writing packet %j",a);var b=this;a.query&&0===a.type&&(a.nsp+="?"+a.query),b.encoding?b.packetBuffer.push(a):(b.encoding=!0,this.encoder.encode(a,function(c){for(var d=0;d<c.length;d++)b.engine.write(c[d],a.options);b.encoding=!1,b.processPacketQueue()}))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}},d.prototype.cleanup=function(){l("cleanup");for(var a=this.subs.length,b=0;a>b;b++){var c=this.subs.shift();c.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(a){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",a),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var b=this.backoff.duration();l("will wait %dms before reconnect attempt",b),this.reconnecting=!0;var c=setTimeout(function(){a.skipReconnect||(l("attempting reconnect"),a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),a.skipReconnect||a.open(function(b){b?(l("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",b.data)):(l("reconnect success"),a.onreconnect())}))},b);this.subs.push({destroy:function(){clearTimeout(c)}})}},d.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",a)}},function(a,b,c){a.exports=c(14),a.exports.parser=c(21)},function(a,b,c){(function(b){function d(a,c){if(!(this instanceof d))return new d(a,c);c=c||{},a&&"object"==typeof a&&(c=a,a=null),a?(a=k(a),c.hostname=a.host,c.secure="https"===a.protocol||"wss"===a.protocol,c.port=a.port,a.query&&(c.query=a.query)):c.host&&(c.hostname=k(c.host).host),this.secure=null!=c.secure?c.secure:b.location&&"https:"===location.protocol,c.hostname&&!c.port&&(c.port=this.secure?"443":"80"),this.agent=c.agent||!1,this.hostname=c.hostname||(b.location?location.hostname:"localhost"),this.port=c.port||(b.location&&location.port?location.port:this.secure?443:80),this.query=c.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==c.upgrade,this.path=(c.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!c.forceJSONP,this.jsonp=!1!==c.jsonp,this.forceBase64=!!c.forceBase64,this.enablesXDR=!!c.enablesXDR,this.timestampParam=c.timestampParam||"t",this.timestampRequests=c.timestampRequests,this.transports=c.transports||["polling","websocket"],this.transportOptions=c.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=c.policyPort||843,this.rememberUpgrade=c.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=c.onlyBinaryUpgrades,this.perMessageDeflate=!1!==c.perMessageDeflate&&(c.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=c.pfx||null,this.key=c.key||null,this.passphrase=c.passphrase||null,this.cert=c.cert||null,this.ca=c.ca||null,this.ciphers=c.ciphers||null,this.rejectUnauthorized=void 0===c.rejectUnauthorized||c.rejectUnauthorized,this.forceNode=!!c.forceNode;var e="object"==typeof b&&b;e.global===e&&(c.extraHeaders&&Object.keys(c.extraHeaders).length>0&&(this.extraHeaders=c.extraHeaders),c.localAddress&&(this.localAddress=c.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function e(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var f=c(15),g=c(8),h=c(3)("engine.io-client:socket"),i=c(36),j=c(21),k=c(2),l=c(30);a.exports=d,d.priorWebsocketSuccess=!1,g(d.prototype),d.protocol=j.protocol,d.Socket=d,d.Transport=c(20),d.transports=c(15),d.parser=c(21),d.prototype.createTransport=function(a){h('creating transport "%s"',a);var b=e(this.query);b.EIO=j.protocol,b.transport=a;var c=this.transportOptions[a]||{};this.id&&(b.sid=this.id);var d=new f[a]({query:b,socket:this,agent:c.agent||this.agent,hostname:c.hostname||this.hostname,port:c.port||this.port,secure:c.secure||this.secure,path:c.path||this.path,forceJSONP:c.forceJSONP||this.forceJSONP,jsonp:c.jsonp||this.jsonp,forceBase64:c.forceBase64||this.forceBase64,enablesXDR:c.enablesXDR||this.enablesXDR,timestampRequests:c.timestampRequests||this.timestampRequests,timestampParam:c.timestampParam||this.timestampParam,policyPort:c.policyPort||this.policyPort,pfx:c.pfx||this.pfx,key:c.key||this.key,passphrase:c.passphrase||this.passphrase,cert:c.cert||this.cert,ca:c.ca||this.ca,ciphers:c.ciphers||this.ciphers,rejectUnauthorized:c.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:c.perMessageDeflate||this.perMessageDeflate,extraHeaders:c.extraHeaders||this.extraHeaders,forceNode:c.forceNode||this.forceNode,localAddress:c.localAddress||this.localAddress,requestTimeout:c.requestTimeout||this.requestTimeout,protocols:c.protocols||void 0});return d},d.prototype.open=function(){var a;if(this.rememberUpgrade&&d.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))a="websocket";else{if(0===this.transports.length){var b=this;return void setTimeout(function(){b.emit("error","No transports available")},0)}a=this.transports[0]}this.readyState="opening";try{a=this.createTransport(a)}catch(c){return this.transports.shift(),void this.open()}a.open(),this.setTransport(a)},d.prototype.setTransport=function(a){h("setting transport %s",a.name);var b=this;this.transport&&(h("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=a,a.on("drain",function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",function(){b.onClose("transport close")})},d.prototype.probe=function(a){function b(){if(m.onlyBinaryUpgrades){var b=!this.supportsBinary&&m.transport.supportsBinary;l=l||b}l||(h('probe transport "%s" opened',a),k.send([{type:"ping",data:"probe"}]),k.once("packet",function(b){if(!l)if("pong"===b.type&&"probe"===b.data){if(h('probe transport "%s" pong',a),m.upgrading=!0,m.emit("upgrading",k),!k)return;d.priorWebsocketSuccess="websocket"===k.name,h('pausing current transport "%s"',m.transport.name),m.transport.pause(function(){l||"closed"!==m.readyState&&(h("changing transport and sending upgrade packet"),j(),m.setTransport(k),k.send([{type:"upgrade"}]),m.emit("upgrade",k),k=null,m.upgrading=!1,m.flush())})}else{h('probe transport "%s" failed',a);var c=new Error("probe error");c.transport=k.name,m.emit("upgradeError",c)}}))}function c(){l||(l=!0,j(),k.close(),k=null)}function e(b){var d=new Error("probe error: "+b);d.transport=k.name,c(),h('probe transport "%s" failed because of error: %s',a,b),m.emit("upgradeError",d)}function f(){e("transport closed")}function g(){e("socket closed")}function i(a){k&&a.name!==k.name&&(h('"%s" works - aborting "%s"',a.name,k.name),c())}function j(){k.removeListener("open",b),k.removeListener("error",e),k.removeListener("close",f),m.removeListener("close",g),m.removeListener("upgrading",i)}h('probing transport "%s"',a);var k=this.createTransport(a,{probe:1}),l=!1,m=this;d.priorWebsocketSuccess=!1,k.once("open",b),k.once("error",e),k.once("close",f),this.once("close",g),this.once("upgrading",i),k.open()},d.prototype.onOpen=function(){if(h("socket open"),this.readyState="open",d.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){h("starting upgrade probes");for(var a=0,b=this.upgrades.length;b>a;a++)this.probe(this.upgrades[a])}},d.prototype.onPacket=function(a){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(h('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),a.type){case"open":this.onHandshake(JSON.parse(a.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var b=new Error("server error");b.code=a.data,this.onError(b);break;case"message":this.emit("data",a.data),this.emit("message",a.data)}else h('packet received with socket readyState "%s"',this.readyState)},d.prototype.onHandshake=function(a){this.emit("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this.upgrades=this.filterUpgrades(a.upgrades),this.pingInterval=a.pingInterval,this.pingTimeout=a.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},d.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){"closed"!==b.readyState&&b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)},d.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer),a.pingIntervalTimer=setTimeout(function(){h("writing ping packet - expecting pong within %sms",a.pingTimeout),a.ping(),a.onHeartbeat(a.pingTimeout)},a.pingInterval)},d.prototype.ping=function(){var a=this;this.sendPacket("ping",function(){a.emit("ping")})},d.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},d.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(h("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},d.prototype.write=d.prototype.send=function(a,b,c){return this.sendPacket("message",a,b,c),this},d.prototype.sendPacket=function(a,b,c,d){if("function"==typeof b&&(d=b,b=void 0),"function"==typeof c&&(d=c,c=null),"closing"!==this.readyState&&"closed"!==this.readyState){c=c||{},c.compress=!1!==c.compress;var e={type:a,data:b,options:c};this.emit("packetCreate",e),this.writeBuffer.push(e),d&&this.once("flush",d),this.flush()}},d.prototype.close=function(){function a(){d.onClose("forced close"),h("socket closing - telling transport to close"),d.transport.close()}function b(){d.removeListener("upgrade",b),d.removeListener("upgradeError",b),a()}function c(){d.once("upgrade",b),d.once("upgradeError",b)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var d=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?c():a()}):this.upgrading?c():a()}return this},d.prototype.onError=function(a){h("socket error %j",a),d.priorWebsocketSuccess=!1,this.emit("error",a),this.onClose("transport error",a)},d.prototype.onClose=function(a,b){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){h('socket close with reason: "%s"',a);var c=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",a,b),c.writeBuffer=[],c.prevBufferLen=0}},d.prototype.filterUpgrades=function(a){for(var b=[],c=0,d=a.length;d>c;c++)~i(this.transports,a[c])&&b.push(a[c]);return b}}).call(b,function(){return this}())},function(a,b,c){(function(a){function d(b){var c,d=!1,h=!1,i=!1!==b.jsonp;if(a.location){var j="https:"===location.protocol,k=location.port;k||(k=j?443:80),d=b.hostname!==location.hostname||k!==b.port,h=b.secure!==j}if(b.xdomain=d,b.xscheme=h,c=new e(b),"open"in c&&!b.forceJSONP)return new f(b);if(!i)throw new Error("JSONP disabled");return new g(b)}var e=c(16),f=c(18),g=c(33),h=c(34);b.polling=d,b.websocket=h}).call(b,function(){return this}())},function(a,b,c){(function(b){var d=c(17);a.exports=function(a){var c=a.xdomain,e=a.xscheme,f=a.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!c||d))return new XMLHttpRequest}catch(g){}try{if("undefined"!=typeof XDomainRequest&&!e&&f)return new XDomainRequest}catch(g){}if(!c)try{return new(b[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(g){}}}).call(b,function(){return this}())},function(a,b){try{a.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(c){a.exports=!1}},function(a,b,c){(function(b){function d(){}function e(a){if(i.call(this,a),this.requestTimeout=a.requestTimeout,this.extraHeaders=a.extraHeaders,b.location){var c="https:"===location.protocol,d=location.port;d||(d=c?443:80),this.xd=a.hostname!==b.location.hostname||d!==a.port,this.xs=a.secure!==c}}function f(a){this.method=a.method||"GET",this.uri=a.uri,this.xd=!!a.xd,this.xs=!!a.xs,this.async=!1!==a.async,this.data=void 0!==a.data?a.data:null,this.agent=a.agent,this.isBinary=a.isBinary,this.supportsBinary=a.supportsBinary,this.enablesXDR=a.enablesXDR,this.requestTimeout=a.requestTimeout,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized,this.extraHeaders=a.extraHeaders,this.create()}function g(){for(var a in f.requests)f.requests.hasOwnProperty(a)&&f.requests[a].abort()}var h=c(16),i=c(19),j=c(8),k=c(31),l=c(3)("engine.io-client:polling-xhr");a.exports=e,a.exports.Request=f,k(e,i),e.prototype.supportsBinary=!0,e.prototype.request=function(a){return a=a||{},a.uri=this.uri(),a.xd=this.xd,a.xs=this.xs,a.agent=this.agent||!1,a.supportsBinary=this.supportsBinary,a.enablesXDR=this.enablesXDR,a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized,a.requestTimeout=this.requestTimeout,a.extraHeaders=this.extraHeaders,new f(a)},e.prototype.doWrite=function(a,b){var c="string"!=typeof a&&void 0!==a,d=this.request({method:"POST",data:a,isBinary:c}),e=this;d.on("success",b),d.on("error",function(a){e.onError("xhr post error",a)}),this.sendXhr=d},e.prototype.doPoll=function(){l("xhr poll");var a=this.request(),b=this;a.on("data",function(a){b.onData(a)}),a.on("error",function(a){b.onError("xhr poll error",a)}),this.pollXhr=a},j(f.prototype),f.prototype.create=function(){var a={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized;var c=this.xhr=new h(a),d=this;try{l("xhr open %s: %s",this.method,this.uri),c.open(this.method,this.uri,this.async);try{if(this.extraHeaders){c.setDisableHeaderCheck&&c.setDisableHeaderCheck(!0);for(var e in this.extraHeaders)this.extraHeaders.hasOwnProperty(e)&&c.setRequestHeader(e,this.extraHeaders[e])}}catch(g){}if("POST"===this.method)try{this.isBinary?c.setRequestHeader("Content-type","application/octet-stream"):c.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(g){}try{c.setRequestHeader("Accept","*/*")}catch(g){}"withCredentials"in c&&(c.withCredentials=!0),this.requestTimeout&&(c.timeout=this.requestTimeout),this.hasXDR()?(c.onload=function(){d.onLoad()},c.onerror=function(){d.onError(c.responseText)}):c.onreadystatechange=function(){if(2===c.readyState)try{var a=c.getResponseHeader("Content-Type");d.supportsBinary&&"application/octet-stream"===a&&(c.responseType="arraybuffer")}catch(b){}4===c.readyState&&(200===c.status||1223===c.status?d.onLoad():setTimeout(function(){d.onError(c.status)},0))},l("xhr data %s",this.data),c.send(this.data)}catch(g){return void setTimeout(function(){d.onError(g)},0)}b.document&&(this.index=f.requestsCount++,f.requests[this.index]=this)},f.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},f.prototype.onData=function(a){this.emit("data",a),this.onSuccess()},f.prototype.onError=function(a){this.emit("error",a),this.cleanup(!0)},f.prototype.cleanup=function(a){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=d:this.xhr.onreadystatechange=d,a)try{this.xhr.abort()}catch(c){}b.document&&delete f.requests[this.index],this.xhr=null}},f.prototype.onLoad=function(){var a;try{var b;try{b=this.xhr.getResponseHeader("Content-Type")}catch(c){}a="application/octet-stream"===b?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(c){this.onError(c)}null!=a&&this.onData(a)},f.prototype.hasXDR=function(){return"undefined"!=typeof b.XDomainRequest&&!this.xs&&this.enablesXDR},f.prototype.abort=function(){this.cleanup()},f.requestsCount=0,f.requests={},b.document&&(b.attachEvent?b.attachEvent("onunload",g):b.addEventListener&&b.addEventListener("beforeunload",g,!1))}).call(b,function(){return this}())},function(a,b,c){function d(a){var b=a&&a.forceBase64;k&&!b||(this.supportsBinary=!1),e.call(this,a)}var e=c(20),f=c(30),g=c(21),h=c(31),i=c(32),j=c(3)("engine.io-client:polling");a.exports=d;var k=function(){var a=c(16),b=new a({xdomain:!1});return null!=b.responseType}();h(d,e),d.prototype.name="polling",d.prototype.doOpen=function(){this.poll()},d.prototype.pause=function(a){function b(){j("paused"),c.readyState="paused",a()}var c=this;if(this.readyState="pausing",this.polling||!this.writable){var d=0;this.polling&&(j("we are currently polling - waiting to pause"),d++,this.once("pollComplete",function(){j("pre-pause polling complete"),--d||b()})),this.writable||(j("we are currently writing - waiting to pause"),d++,this.once("drain",function(){j("pre-pause writing complete"),--d||b()}))}else b()},d.prototype.poll=function(){j("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},d.prototype.onData=function(a){var b=this;j("polling got data %s",a);var c=function(a,c,d){return"opening"===b.readyState&&b.onOpen(),"close"===a.type?(b.onClose(),!1):void b.onPacket(a)};g.decodePayload(a,this.socket.binaryType,c),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():j('ignoring poll - transport state "%s"',this.readyState))},d.prototype.doClose=function(){function a(){j("writing close packet"),b.write([{type:"close"}])}var b=this;"open"===this.readyState?(j("transport open - closing"),a()):(j("transport not open - deferring close"),this.once("open",a))},d.prototype.write=function(a){var b=this;this.writable=!1;var c=function(){b.writable=!0,b.emit("drain")};g.encodePayload(a,this.supportsBinary,function(a){b.doWrite(a,c)})},d.prototype.uri=function(){var a=this.query||{},b=this.secure?"https":"http",c="";!1!==this.timestampRequests&&(a[this.timestampParam]=i()),this.supportsBinary||a.sid||(a.b64=1),a=f.encode(a),this.port&&("https"===b&&443!==Number(this.port)||"http"===b&&80!==Number(this.port))&&(c=":"+this.port),a.length&&(a="?"+a);var d=-1!==this.hostname.indexOf(":");return b+"://"+(d?"["+this.hostname+"]":this.hostname)+c+this.path+a}},function(a,b,c){function d(a){this.path=a.path,this.hostname=a.hostname,this.port=a.port,this.secure=a.secure,this.query=a.query,this.timestampParam=a.timestampParam,this.timestampRequests=a.timestampRequests,this.readyState="",this.agent=a.agent||!1,this.socket=a.socket,this.enablesXDR=a.enablesXDR,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized,this.forceNode=a.forceNode,this.extraHeaders=a.extraHeaders,this.localAddress=a.localAddress}var e=c(21),f=c(8);a.exports=d,f(d.prototype),d.prototype.onError=function(a,b){var c=new Error(a);return c.type="TransportError",c.description=b,this.emit("error",c),this},d.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},d.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},d.prototype.send=function(a){if("open"!==this.readyState)throw new Error("Transport not open");this.write(a)},d.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},d.prototype.onData=function(a){var b=e.decodePacket(a,this.socket.binaryType);this.onPacket(b)},d.prototype.onPacket=function(a){this.emit("packet",a)},d.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(a,b,c){(function(a){function d(a,c){var d="b"+b.packets[a.type]+a.data.data;return c(d)}function e(a,c,d){if(!c)return b.encodeBase64Packet(a,d);var e=a.data,f=new Uint8Array(e),g=new Uint8Array(1+e.byteLength);g[0]=s[a.type];for(var h=0;h<f.length;h++)g[h+1]=f[h];return d(g.buffer)}function f(a,c,d){if(!c)return b.encodeBase64Packet(a,d);var e=new FileReader;return e.onload=function(){a.data=e.result,b.encodePacket(a,c,!0,d)},e.readAsArrayBuffer(a.data)}function g(a,c,d){if(!c)return b.encodeBase64Packet(a,d);if(r)return f(a,c,d);var e=new Uint8Array(1);e[0]=s[a.type];var g=new v([e.buffer,a.data]);return d(g)}function h(a){try{a=o.decode(a,{strict:!1})}catch(b){return!1}return a}function i(a,b,c){for(var d=new Array(a.length),e=n(a.length,c),f=function(a,c,e){b(c,function(b,c){d[a]=c,e(b,d)})},g=0;g<a.length;g++)f(g,a[g],e)}var j,k=c(22),l=c(23),m=c(24),n=c(25),o=c(26);a&&a.ArrayBuffer&&(j=c(28));var p="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),q="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),r=p||q;b.protocol=3;var s=b.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},t=k(s),u={type:"error",data:"parser error"},v=c(29);b.encodePacket=function(b,c,f,h){"function"==typeof c&&(h=c,c=!1),"function"==typeof f&&(h=f,f=null);var i=void 0===b.data?void 0:b.data.buffer||b.data;if(a.ArrayBuffer&&i instanceof ArrayBuffer)return e(b,c,h);if(v&&i instanceof a.Blob)return g(b,c,h);if(i&&i.base64)return d(b,h);var j=s[b.type];return void 0!==b.data&&(j+=f?o.encode(String(b.data),{strict:!1}):String(b.data)),h(""+j)},b.encodeBase64Packet=function(c,d){var e="b"+b.packets[c.type];if(v&&c.data instanceof a.Blob){var f=new FileReader;return f.onload=function(){var a=f.result.split(",")[1];d(e+a)},f.readAsDataURL(c.data)}var g;try{g=String.fromCharCode.apply(null,new Uint8Array(c.data))}catch(h){for(var i=new Uint8Array(c.data),j=new Array(i.length),k=0;k<i.length;k++)j[k]=i[k];g=String.fromCharCode.apply(null,j)}return e+=a.btoa(g),d(e)},b.decodePacket=function(a,c,d){if(void 0===a)return u;if("string"==typeof a){if("b"===a.charAt(0))return b.decodeBase64Packet(a.substr(1),c);if(d&&(a=h(a),a===!1))return u;var e=a.charAt(0);return Number(e)==e&&t[e]?a.length>1?{type:t[e],data:a.substring(1)}:{type:t[e]}:u}var f=new Uint8Array(a),e=f[0],g=m(a,1);return v&&"blob"===c&&(g=new v([g])),{type:t[e],data:g}},b.decodeBase64Packet=function(a,b){var c=t[a.charAt(0)];if(!j)return{type:c,data:{base64:!0,data:a.substr(1)}};var d=j.decode(a.substr(1));return"blob"===b&&v&&(d=new v([d])),{type:c,data:d}},b.encodePayload=function(a,c,d){function e(a){return a.length+":"+a}function f(a,d){b.encodePacket(a,!!g&&c,!1,function(a){d(null,e(a))})}"function"==typeof c&&(d=c,c=null);var g=l(a);return c&&g?v&&!r?b.encodePayloadAsBlob(a,d):b.encodePayloadAsArrayBuffer(a,d):a.length?void i(a,f,function(a,b){return d(b.join(""))}):d("0:")},b.decodePayload=function(a,c,d){if("string"!=typeof a)return b.decodePayloadAsBinary(a,c,d);"function"==typeof c&&(d=c,c=null);var e;if(""===a)return d(u,0,1);for(var f,g,h="",i=0,j=a.length;j>i;i++){var k=a.charAt(i);if(":"===k){if(""===h||h!=(f=Number(h)))return d(u,0,1);if(g=a.substr(i+1,f),h!=g.length)return d(u,0,1);if(g.length){if(e=b.decodePacket(g,c,!1),u.type===e.type&&u.data===e.data)return d(u,0,1);var l=d(e,i+f,j);if(!1===l)return}i+=f,h=""}else h+=k}return""!==h?d(u,0,1):void 0},b.encodePayloadAsArrayBuffer=function(a,c){function d(a,c){b.encodePacket(a,!0,!0,function(a){return c(null,a)})}return a.length?void i(a,d,function(a,b){var d=b.reduce(function(a,b){var c;return c="string"==typeof b?b.length:b.byteLength,a+c.toString().length+c+2},0),e=new Uint8Array(d),f=0;return b.forEach(function(a){var b="string"==typeof a,c=a;if(b){for(var d=new Uint8Array(a.length),g=0;g<a.length;g++)d[g]=a.charCodeAt(g);c=d.buffer}b?e[f++]=0:e[f++]=1;for(var h=c.byteLength.toString(),g=0;g<h.length;g++)e[f++]=parseInt(h[g]);e[f++]=255;for(var d=new Uint8Array(c),g=0;g<d.length;g++)e[f++]=d[g]}),c(e.buffer)}):c(new ArrayBuffer(0))},b.encodePayloadAsBlob=function(a,c){function d(a,c){b.encodePacket(a,!0,!0,function(a){var b=new Uint8Array(1);if(b[0]=1,"string"==typeof a){for(var d=new Uint8Array(a.length),e=0;e<a.length;e++)d[e]=a.charCodeAt(e);a=d.buffer,b[0]=0}for(var f=a instanceof ArrayBuffer?a.byteLength:a.size,g=f.toString(),h=new Uint8Array(g.length+1),e=0;e<g.length;e++)h[e]=parseInt(g[e]);if(h[g.length]=255,v){var i=new v([b.buffer,h.buffer,a]);c(null,i)}})}i(a,d,function(a,b){return c(new v(b))})},b.decodePayloadAsBinary=function(a,c,d){"function"==typeof c&&(d=c,c=null);for(var e=a,f=[];e.byteLength>0;){for(var g=new Uint8Array(e),h=0===g[0],i="",j=1;255!==g[j];j++){if(i.length>310)return d(u,0,1);i+=g[j]}e=m(e,2+i.length),i=parseInt(i);var k=m(e,0,i);if(h)try{k=String.fromCharCode.apply(null,new Uint8Array(k))}catch(l){var n=new Uint8Array(k);k="";for(var j=0;j<n.length;j++)k+=String.fromCharCode(n[j])}f.push(k),e=m(e,i)}var o=f.length;f.forEach(function(a,e){d(b.decodePacket(a,c,!0),e,o)})}}).call(b,function(){return this}())},function(a,b){a.exports=Object.keys||function(a){var b=[],c=Object.prototype.hasOwnProperty;for(var d in a)c.call(a,d)&&b.push(d);return b}},function(a,b,c){(function(b){function d(a){if(!a||"object"!=typeof a)return!1;if(e(a)){for(var c=0,f=a.length;f>c;c++)if(d(a[c]))return!0;return!1}if("function"==typeof b.Buffer&&b.Buffer.isBuffer&&b.Buffer.isBuffer(a)||"function"==typeof b.ArrayBuffer&&a instanceof ArrayBuffer||g&&a instanceof Blob||h&&a instanceof File)return!0;if(a.toJSON&&"function"==typeof a.toJSON&&1===arguments.length)return d(a.toJSON(),!0);for(var i in a)if(Object.prototype.hasOwnProperty.call(a,i)&&d(a[i]))return!0;return!1}var e=c(10),f=Object.prototype.toString,g="function"==typeof b.Blob||"[object BlobConstructor]"===f.call(b.Blob),h="function"==typeof b.File||"[object FileConstructor]"===f.call(b.File);a.exports=d}).call(b,function(){return this}())},function(a,b){a.exports=function(a,b,c){var d=a.byteLength;if(b=b||0,c=c||d,a.slice)return a.slice(b,c);if(0>b&&(b+=d),0>c&&(c+=d),c>d&&(c=d),b>=d||b>=c||0===d)return new ArrayBuffer(0);for(var e=new Uint8Array(a),f=new Uint8Array(c-b),g=b,h=0;c>g;g++,h++)f[h]=e[g];return f.buffer}},function(a,b){function c(a,b,c){function e(a,d){if(e.count<=0)throw new Error("after called too many times");--e.count,a?(f=!0,b(a),b=c):0!==e.count||f||b(null,d)}var f=!1;return c=c||d,e.count=a,0===a?b():e}function d(){}a.exports=c},function(a,b,c){var d;(function(a,e){!function(f){function g(a){for(var b,c,d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e++),b>=55296&&56319>=b&&f>e?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function h(a){for(var b,c=a.length,d=-1,e="";++d<c;)b=a[d],b>65535&&(b-=65536,e+=u(b>>>10&1023|55296),b=56320|1023&b),e+=u(b);return e}function i(a,b){if(a>=55296&&57343>=a){if(b)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function j(a,b){return u(a>>b&63|128)}function k(a,b){if(0==(4294967168&a))return u(a);var c="";return 0==(4294965248&a)?c=u(a>>6&31|192):0==(4294901760&a)?(i(a,b)||(a=65533),c=u(a>>12&15|224),c+=j(a,6)):0==(4292870144&a)&&(c=u(a>>18&7|240),c+=j(a,12),c+=j(a,6)),c+=u(63&a|128)}function l(a,b){b=b||{};for(var c,d=!1!==b.strict,e=g(a),f=e.length,h=-1,i="";++h<f;)c=e[h],i+=k(c,d);return i}function m(){if(t>=s)throw Error("Invalid byte index");var a=255&r[t];if(t++,128==(192&a))return 63&a;throw Error("Invalid continuation byte")}function n(a){var b,c,d,e,f;if(t>s)throw Error("Invalid byte index");if(t==s)return!1;if(b=255&r[t],t++,0==(128&b))return b;if(192==(224&b)){if(c=m(),f=(31&b)<<6|c,f>=128)return f;throw Error("Invalid continuation byte")}if(224==(240&b)){if(c=m(),d=m(),f=(15&b)<<12|c<<6|d,f>=2048)return i(f,a)?f:65533;throw Error("Invalid continuation byte")}if(240==(248&b)&&(c=m(),d=m(),e=m(),f=(7&b)<<18|c<<12|d<<6|e,f>=65536&&1114111>=f))return f;throw Error("Invalid UTF-8 detected")}function o(a,b){b=b||{};var c=!1!==b.strict;r=g(a),s=r.length,t=0;for(var d,e=[];(d=n(c))!==!1;)e.push(d);return h(e)}var p="object"==typeof b&&b,q=("object"==typeof a&&a&&a.exports==p&&a,"object"==typeof e&&e);q.global!==q&&q.window!==q||(f=q);var r,s,t,u=String.fromCharCode,v={version:"2.1.2",encode:l,decode:o};d=function(){return v}.call(b,c,b,a),!(void 0!==d&&(a.exports=d))}(this)}).call(b,c(27)(a),function(){return this}())},function(a,b){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1),a}},function(a,b){!function(){"use strict";for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=new Uint8Array(256),d=0;d<a.length;d++)c[a.charCodeAt(d)]=d;b.encode=function(b){var c,d=new Uint8Array(b),e=d.length,f="";for(c=0;e>c;c+=3)f+=a[d[c]>>2],f+=a[(3&d[c])<<4|d[c+1]>>4],f+=a[(15&d[c+1])<<2|d[c+2]>>6],f+=a[63&d[c+2]];return e%3===2?f=f.substring(0,f.length-1)+"=":e%3===1&&(f=f.substring(0,f.length-2)+"=="),f},b.decode=function(a){var b,d,e,f,g,h=.75*a.length,i=a.length,j=0;"="===a[a.length-1]&&(h--,"="===a[a.length-2]&&h--);var k=new ArrayBuffer(h),l=new Uint8Array(k);for(b=0;i>b;b+=4)d=c[a.charCodeAt(b)],e=c[a.charCodeAt(b+1)],f=c[a.charCodeAt(b+2)],g=c[a.charCodeAt(b+3)],l[j++]=d<<2|e>>4,l[j++]=(15&e)<<4|f>>2,l[j++]=(3&f)<<6|63&g;return k}}()},function(a,b){(function(b){function c(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.buffer instanceof ArrayBuffer){var d=c.buffer;if(c.byteLength!==d.byteLength){var e=new Uint8Array(c.byteLength);e.set(new Uint8Array(d,c.byteOffset,c.byteLength)),d=e.buffer}a[b]=d}}}function d(a,b){b=b||{};var d=new f;c(a);for(var e=0;e<a.length;e++)d.append(a[e]);return b.type?d.getBlob(b.type):d.getBlob()}function e(a,b){return c(a),new Blob(a,b||{})}var f=b.BlobBuilder||b.WebKitBlobBuilder||b.MSBlobBuilder||b.MozBlobBuilder,g=function(){try{var a=new Blob(["hi"]);return 2===a.size}catch(b){return!1}}(),h=g&&function(){try{var a=new Blob([new Uint8Array([1,2])]);return 2===a.size}catch(b){return!1}}(),i=f&&f.prototype.append&&f.prototype.getBlob;a.exports=function(){return g?h?b.Blob:e:i?d:void 0}()}).call(b,function(){return this}())},function(a,b){b.encode=function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b.length&&(b+="&"),b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b},b.decode=function(a){for(var b={},c=a.split("&"),d=0,e=c.length;e>d;d++){var f=c[d].split("=");b[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return b}},function(a,b){a.exports=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},function(a,b){"use strict";function c(a){var b="";do b=g[a%h]+b,a=Math.floor(a/h);while(a>0);return b}function d(a){var b=0;for(k=0;k<a.length;k++)b=b*h+i[a.charAt(k)];return b;
}function e(){var a=c(+new Date);return a!==f?(j=0,f=a):a+"."+c(j++)}for(var f,g="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),h=64,i={},j=0,k=0;h>k;k++)i[g[k]]=k;e.encode=c,e.decode=d,a.exports=e},function(a,b,c){(function(b){function d(){}function e(a){f.call(this,a),this.query=this.query||{},h||(b.___eio||(b.___eio=[]),h=b.___eio),this.index=h.length;var c=this;h.push(function(a){c.onData(a)}),this.query.j=this.index,b.document&&b.addEventListener&&b.addEventListener("beforeunload",function(){c.script&&(c.script.onerror=d)},!1)}var f=c(19),g=c(31);a.exports=e;var h,i=/\n/g,j=/\\n/g;g(e,f),e.prototype.supportsBinary=!1,e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),f.prototype.doClose.call(this)},e.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),b.async=!0,b.src=this.uri(),b.onerror=function(b){a.onError("jsonp poll error",b)};var c=document.getElementsByTagName("script")[0];c?c.parentNode.insertBefore(b,c):(document.head||document.body).appendChild(b),this.script=b;var d="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);d&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a),document.body.removeChild(a)},100)},e.prototype.doWrite=function(a,b){function c(){d(),b()}function d(){if(e.iframe)try{e.form.removeChild(e.iframe)}catch(a){e.onError("jsonp polling iframe removal error",a)}try{var b='<iframe src="javascript:0" name="'+e.iframeId+'">';f=document.createElement(b)}catch(a){f=document.createElement("iframe"),f.name=e.iframeId,f.src="javascript:0"}f.id=e.iframeId,e.form.appendChild(f),e.iframe=f}var e=this;if(!this.form){var f,g=document.createElement("form"),h=document.createElement("textarea"),k=this.iframeId="eio_iframe_"+this.index;g.className="socketio",g.style.position="absolute",g.style.top="-1000px",g.style.left="-1000px",g.target=k,g.method="POST",g.setAttribute("accept-charset","utf-8"),h.name="d",g.appendChild(h),document.body.appendChild(g),this.form=g,this.area=h}this.form.action=this.uri(),d(),a=a.replace(j,"\\\n"),this.area.value=a.replace(i,"\\n");try{this.form.submit()}catch(l){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===e.iframe.readyState&&c()}:this.iframe.onload=c}}).call(b,function(){return this}())},function(a,b,c){(function(b){function d(a){var b=a&&a.forceBase64;b&&(this.supportsBinary=!1),this.perMessageDeflate=a.perMessageDeflate,this.usingBrowserWebSocket=l&&!a.forceNode,this.protocols=a.protocols,this.usingBrowserWebSocket||(n=e),f.call(this,a)}var e,f=c(20),g=c(21),h=c(30),i=c(31),j=c(32),k=c(3)("engine.io-client:websocket"),l=b.WebSocket||b.MozWebSocket;if("undefined"==typeof window)try{e=c(35)}catch(m){}var n=l;n||"undefined"!=typeof window||(n=e),a.exports=d,i(d,f),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var a=this.uri(),b=this.protocols,c={agent:this.agent,perMessageDeflate:this.perMessageDeflate};c.pfx=this.pfx,c.key=this.key,c.passphrase=this.passphrase,c.cert=this.cert,c.ca=this.ca,c.ciphers=this.ciphers,c.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(c.headers=this.extraHeaders),this.localAddress&&(c.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?b?new n(a,b):new n(a):new n(a,b,c)}catch(d){return this.emit("error",d)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var a=this;this.ws.onopen=function(){a.onOpen()},this.ws.onclose=function(){a.onClose()},this.ws.onmessage=function(b){a.onData(b.data)},this.ws.onerror=function(b){a.onError("websocket error",b)}},d.prototype.write=function(a){function c(){d.emit("flush"),setTimeout(function(){d.writable=!0,d.emit("drain")},0)}var d=this;this.writable=!1;for(var e=a.length,f=0,h=e;h>f;f++)!function(a){g.encodePacket(a,d.supportsBinary,function(f){if(!d.usingBrowserWebSocket){var g={};if(a.options&&(g.compress=a.options.compress),d.perMessageDeflate){var h="string"==typeof f?b.Buffer.byteLength(f):f.length;h<d.perMessageDeflate.threshold&&(g.compress=!1)}}try{d.usingBrowserWebSocket?d.ws.send(f):d.ws.send(f,g)}catch(i){k("websocket closed before onclose event")}--e||c()})}(a[f])},d.prototype.onClose=function(){f.prototype.onClose.call(this)},d.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},d.prototype.uri=function(){var a=this.query||{},b=this.secure?"wss":"ws",c="";this.port&&("wss"===b&&443!==Number(this.port)||"ws"===b&&80!==Number(this.port))&&(c=":"+this.port),this.timestampRequests&&(a[this.timestampParam]=j()),this.supportsBinary||(a.b64=1),a=h.encode(a),a.length&&(a="?"+a);var d=-1!==this.hostname.indexOf(":");return b+"://"+(d?"["+this.hostname+"]":this.hostname)+c+this.path+a},d.prototype.check=function(){return!(!n||"__initialize"in n&&this.name===d.prototype.name)}}).call(b,function(){return this}())},function(a,b){},function(a,b){var c=[].indexOf;a.exports=function(a,b){if(c)return a.indexOf(b);for(var d=0;d<a.length;++d)if(a[d]===b)return d;return-1}},function(a,b,c){"use strict";function d(a,b,c){this.io=a,this.nsp=b,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},c&&c.query&&(this.query=c.query),this.io.autoConnect&&this.open()}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(7),g=c(8),h=c(38),i=c(39),j=c(40),k=c(3)("socket.io-client:socket"),l=c(30),m=c(23);a.exports=b=d;var n={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},o=g.prototype.emit;g(d.prototype),d.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[i(a,"open",j(this,"onopen")),i(a,"packet",j(this,"onpacket")),i(a,"close",j(this,"onclose"))]}},d.prototype.open=d.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},d.prototype.send=function(){var a=h(arguments);return a.unshift("message"),this.emit.apply(this,a),this},d.prototype.emit=function(a){if(n.hasOwnProperty(a))return o.apply(this,arguments),this;var b=h(arguments),c={type:(void 0!==this.flags.binary?this.flags.binary:m(b))?f.BINARY_EVENT:f.EVENT,data:b};return c.options={},c.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof b[b.length-1]&&(k("emitting packet with ack id %d",this.ids),this.acks[this.ids]=b.pop(),c.id=this.ids++),this.connected?this.packet(c):this.sendBuffer.push(c),this.flags={},this},d.prototype.packet=function(a){a.nsp=this.nsp,this.io.packet(a)},d.prototype.onopen=function(){if(k("transport is open - connecting"),"/"!==this.nsp)if(this.query){var a="object"===e(this.query)?l.encode(this.query):this.query;k("sending connect packet with query %s",a),this.packet({type:f.CONNECT,query:a})}else this.packet({type:f.CONNECT})},d.prototype.onclose=function(a){k("close (%s)",a),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",a)},d.prototype.onpacket=function(a){if(a.nsp===this.nsp)switch(a.type){case f.CONNECT:this.onconnect();break;case f.EVENT:this.onevent(a);break;case f.BINARY_EVENT:this.onevent(a);break;case f.ACK:this.onack(a);break;case f.BINARY_ACK:this.onack(a);break;case f.DISCONNECT:this.ondisconnect();break;case f.ERROR:this.emit("error",a.data)}},d.prototype.onevent=function(a){var b=a.data||[];k("emitting event %j",b),null!=a.id&&(k("attaching ack callback to event"),b.push(this.ack(a.id))),this.connected?o.apply(this,b):this.receiveBuffer.push(b)},d.prototype.ack=function(a){var b=this,c=!1;return function(){if(!c){c=!0;var d=h(arguments);k("sending ack %j",d),b.packet({type:m(d)?f.BINARY_ACK:f.ACK,id:a,data:d})}}},d.prototype.onack=function(a){var b=this.acks[a.id];"function"==typeof b?(k("calling ack %s with %j",a.id,a.data),b.apply(this,a.data),delete this.acks[a.id]):k("bad ack %s",a.id)},d.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},d.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)o.apply(this,this.receiveBuffer[a]);for(this.receiveBuffer=[],a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]},d.prototype.ondisconnect=function(){k("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},d.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)},d.prototype.close=d.prototype.disconnect=function(){return this.connected&&(k("performing disconnect (%s)",this.nsp),this.packet({type:f.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},d.prototype.compress=function(a){return this.flags.compress=a,this},d.prototype.binary=function(a){return this.flags.binary=a,this}},function(a,b){function c(a,b){var c=[];b=b||0;for(var d=b||0;d<a.length;d++)c[d-b]=a[d];return c}a.exports=c},function(a,b){"use strict";function c(a,b,c){return a.on(b,c),{destroy:function(){a.removeListener(b,c)}}}a.exports=c},function(a,b){var c=[].slice;a.exports=function(a,b){if("string"==typeof b&&(b=a[b]),"function"!=typeof b)throw new Error("bind() requires a function");var d=c.call(arguments,2);return function(){return b.apply(a,d.concat(c.call(arguments)))}}},function(a,b){function c(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}a.exports=c,c.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var b=Math.random(),c=Math.floor(b*this.jitter*a);a=0==(1&Math.floor(10*b))?a-c:a+c}return 0|Math.min(a,this.max)},c.prototype.reset=function(){this.attempts=0},c.prototype.setMin=function(a){this.ms=a},c.prototype.setMax=function(a){this.max=a},c.prototype.setJitter=function(a){this.jitter=a}}])}),angular.module("culAdminApp").controller("IndexCtrl",["$scope","$rootScope","$window",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],$(".content-wrapper").css("min-height",$(".wrapper").outerHeight(!0)-$(".top-bar").outerHeight(!0)),a.userInfo=null,b.$on("changeMenu",function(){var a={},b=[];c.sessionStorage.getItem("role")&&(a=JSON.parse(c.sessionStorage.getItem("role"))),a&&a.length>0&&a.forEach(function(a){b=$.extend(b,a.functions?JSON.parse(a.functions):{})});var d=1,e=setInterval(function(){d+=1,$(".role").each(function(){var a=$(this).data("role");b[a]&&2!=b[a]||$(this).hide()}),d>15&&clearInterval(e)},100)})}]),angular.module("culAdminApp").controller("MainCtrl",["$scope","$window","$location",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"];var d={numberData:[{title:"运费收入",total:"22500",symbol:"￥",icon:"fa-caret-up",percent:"19",values:[47,39,33,22,103,86,42]},{title:"订单数",total:"225",icon:"fa-caret-up",percent:"24",values:[47,39,103,86,42,81,82]},{title:"新注册客户",total:"24",icon:"fa-caret-up",percent:"44",values:[47,39,33,22,42,81,82]},{title:"客户总数",total:"132000",icon:"fa-caret-up",percent:"6",values:[47,22,5,86,42,81,3]}],customerFlotData:{dataList:[{label:"注册客户",data:[[new Date("10/18/2015").getTime(),188],[new Date("10/19/2015").getTime(),205],[new Date("10/20/2015").getTime(),250],[new Date("10/21/2015").getTime(),230],[new Date("10/22/2015").getTime(),240],[new Date("10/23/2015").getTime(),200],[new Date("10/24/2015").getTime(),290]]},{label:"提交订单",data:[[new Date("10/18/2015").getTime(),10],[new Date("10/19/2015").getTime(),20],[new Date("10/20/2015").getTime(),55],[new Date("10/21/2015").getTime(),50],[new Date("10/22/2015").getTime(),45],[new Date("10/23/2015").getTime(),60],[new Date("10/24/2015").getTime(),75]]}],secondaryList:[{id:"category1",title:"本月新注册用户",total:260,percent:15,icon:"fa-caret-up",backgroundColor:"#3F7577",values:[47,39,33,22,103,86,42,81,82]},{id:"category2",title:"本月客户留言",total:700,percent:5,icon:"fa-caret-down",backgroundColor:"#67773F",values:[64,58,32,27,60,107,48,120,53]},{id:"category3",title:"本月提交订单",total:1200,percent:7,icon:"fa-caret-up",backgroundColor:"#D36B19",values:[76,23,62,61,53,71,42,83,86]}]},customerTicketData:{dataList:[{number:"A001",date:Date.now(),category:"Front-End Site",name:"Smith",title:"Product Review Problem",priority:1},{number:"A002",date:Date.now(),category:"Front-End Site",name:"Smith",title:"Product Review Problem",priority:2},{number:"A003",date:Date.now(),category:"Front-End Site",name:"Smith",title:"Product Review Problem",priority:4},{number:"A004",date:Date.now(),category:"Front-End Site",name:"Smith",title:"Product Review Problem",priority:3},{number:"A005",date:Date.now(),category:"Front-End Site",name:"Smith",title:"Product Review Problem",priority:5}]},warehouseFlotData:{dataList:[{label:"入库包裹",data:[[new Date("10/18/2015").getTime(),188],[new Date("10/19/2015").getTime(),205],[new Date("10/20/2015").getTime(),250],[new Date("10/21/2015").getTime(),230],[new Date("10/22/2015").getTime(),240],[new Date("10/23/2015").getTime(),200],[new Date("10/24/2015").getTime(),290]]},{label:"出库订单",data:[[new Date("10/18/2015").getTime(),10],[new Date("10/19/2015").getTime(),20],[new Date("10/20/2015").getTime(),55],[new Date("10/21/2015").getTime(),50],[new Date("10/22/2015").getTime(),45],[new Date("10/23/2015").getTime(),60],[new Date("10/24/2015").getTime(),75]]}],secondaryList:[{id:"category1",title:"本月预报货物",total:5260,percent:3,icon:"fa-caret-up",backgroundColor:"#3F7577",values:[47,39,33,22,103,86,42,81,82]},{id:"category2",title:"本月已入库包裹",total:3e3,percent:5,icon:"fa-caret-down",backgroundColor:"#67773F",values:[64,58,32,27,60,107,48,120,53]},{id:"category3",title:"本月出库订单",total:700,percent:7,icon:"fa-caret-up",backgroundColor:"#D36B19",values:[76,23,62,61,53,71,42,83,86]}]},warehouseTicketData:{dataList:[{number:"A001",date:Date.now(),category:"Front-End Site",name:"Smith",title:"Product Review Problem",priority:1},{number:"A002",date:Date.now(),category:"Front-End Site",name:"Smith",title:"Product Review Problem",priority:2},{number:"A003",date:Date.now(),category:"Front-End Site",name:"Smith",title:"Product Review Problem",priority:4},{number:"A004",date:Date.now(),category:"Front-End Site",name:"Smith",title:"Product Review Problem",priority:3},{number:"A005",date:Date.now(),category:"Front-End Site",name:"Smith",title:"Product Review Problem",priority:5}]}},e=a.$root.userInfo;switch(a.model={numberStat:!1,customerFlot:!1,customerTicket:!1,warehouseFlot:!1,warehouseTicket:!1,warehouseFilter:[]},e.roleName){case"super_admin":case"warehouse_admin":a.model.numberStat=d.numberData,a.model.customerFlot=d.customerFlotData,a.model.warehouseFlot=d.warehouseFlotData;break;case"cs_admin":a.model.customerFlot=d.customerFlotData,a.model.customerTicket=d.customerTicketData;break;case"culwebapp_customer":"vip_customer"==e.userType&&c.path("/order/orderlist")}a.$on("flot.customer.refresh",function(b,c,d){switch(c.period){case"week":for(var e=0;e<a.model.customerFlot.dataList.length;e++)a.model.customerFlot.dataList[e].data=f("week");break;case"month":a.model.customerFlot.dataList[0].data=f("month"),a.model.customerFlot.dataList[1].data=f("month");break;case"year":a.model.customerFlot.dataList[0].data=f("year"),a.model.customerFlot.dataList[1].data=f("year")}d(a.model.customerFlot)}),a.$on("flot.warehouse.refresh",function(b,c,d){switch(c.period){case"week":for(var e=0;e<a.model.warehouseFlot.dataList.length;e++)a.model.warehouseFlot.dataList[e].data=f("week");break;case"month":a.model.warehouseFlot.dataList[0].data=f("month"),a.model.warehouseFlot.dataList[1].data=f("month");break;case"year":a.model.warehouseFlot.dataList[0].data=f("year"),a.model.warehouseFlot.dataList[1].data=f("year")}d(a.model.warehouseFlot)});var f=function(a){var b=[];switch(a){case"week":for(var c=25;31>=c;c++)b.push([new Date("10/"+c+"/2015").getTime(),parseInt(100*Math.random())]);break;case"month":for(var c=1;31>=c;c++)b.push([new Date("10/"+c+"/2015").getTime(),parseInt(100*Math.random())]);break;case"year":for(var c=1;12>=c;c++)b.push([new Date(c+"/1/2015").getTime(),parseInt(100*Math.random())])}return b}}]),angular.module("culAdminApp").controller("ProfileCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("culAdminApp").controller("InvoiceCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("culAdminApp").controller("KnowledgebaseCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("culAdminApp").controller("InboxCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("culAdminApp").controller("LoginCtrl",["$scope","$rootScope","$location","$element","userService","plugMessenger",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.search={},a.resetFlag="0",a.model={username:"",password:"",remember:!1},a.btnLogin=function(){e.login(a.model,function(d){d||"0"!=a.resetFlag?d||"1"!=a.resetFlag||(a.search.resetFlag="1",a.search.emailAddress=b.userInfo.emailAddress,e.resetPassword(a.search,function(a){a.success?f.success("重置成功"):(e.logout(),f.error("重置失败,请在次尝试"))})):(f.success("登录成功"),b.$broadcast("refresh.menus"),c.path("/"))})},a.reset=function(){a.resetFlag="1"},a.resetPassword=function(){a.search.password?a.search.password!=a.search.repassword?f.error("两次输入不一致"):a.btnLogin():f.error("新密码不能为空")}}]),angular.module("culAdminApp").controller("CustomerListCtrl",["$scope","$rootScope","$location","$filter","customerService","warehouseService","plugMessenger","$compile","$http","$window","storage",function(a,b,c,d,e,f,g,h,i,j,k){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={keywordType:"customerNumber",countryCode:"",accountBalance:"",startDate:"",endDate:"",pagination:{pageIndex:1},opened:{startDate:!1,endDate:!1}},a.tempSearchBar=angular.copy(k.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar),a.getData=function(){k.session.setObject("searchBar",a.searchBar);var c={pageInfo:a.pagination,dateFrom:a.searchBar.startDate?a.searchBar.startDate.toISOString():"",dateTo:a.searchBar.endDate?a.searchBar.endDate.toISOString():"",active:1};a.searchBar.countryCode&&(c.countryCode=a.searchBar.countryCode),a.searchBar.accountBalance&&(c.accountBalance=a.searchBar.accountBalance),c[a.searchBar.keywordType]=a.searchBar.keywords,e.getList(c,function(c){a.dataList=c.data,a.pagination.totalCount=c.pageInfo.totalCount,b.$emit("changeMenu")})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.btnOpenDetail=function(a){c.search({customerNumber:a.customerNumber}),c.path("/customer/customerdetail")},a.btnDelete=function(b){g.confirm("确认删除该用户吗?",function(c){c&&e["delete"](b.customerNumber,function(b){1==b.success&&(g.success("删除成功"),a.getData())})})},a.btnComment=function(a){c.search({customerNumber:a.customerNumber}),c.path("/customer/customermessage")},a.btnMessage=function(b){return a.message.message?(a.message.messageType=29,void e.addCustomerMessage(a.message).then(function(a){200==a.status?(g.success("留言成功"),$(b.currentTarget).parents("#confirm-modal").modal("hide")):(g.error("留言失败"),$(b.currentTarget).parents("#confirm-modal").modal("hide"))})):void g.info("请填写留言信息")},a.vipCustomer={customer:null,vipStatus:"",memo:"",warehouseNumber:""},a.btnDeleteVIP=function(b){g.confirm("确认删除该用户吗?",function(b){b&&e.vipApprove({customerNumber:a.vipCustomer.customer.customerNumber,vipStatus:"Cancelled",memo:a.vipCustomer.memo,warehouseNumber:a.vipCustomer.warehouseNumber||""},function(a){a&&a.success&&(g.success("审核通过"),$(event.currentTarget).parents("#confirm-modal").modal("hide"))})})},a.btnApproveVIP=function(b){a.vipCustomer.customer=b,a.vipCustomer.vipStatus="Approved",a.vipCustomer.memo="",a.vipCustomer.warehouseNumber=b.warehouseNumber||"",g.template(h($("#tplVip_approval_form").html())(a))},a.btnApproveVIP=function(b){a.vipCustomer.customer=b,a.vipCustomer.vipStatus="Approved",a.vipCustomer.memo="",a.vipCustomer.warehouseNumber=b.warehouseNumber||"",g.template(h($("#tplVip_approval_form").html())(a))},a.warehouse={list:[]},f.getWarehouse(function(b){1==b.length?(a.warehouse.list=b,a.vipCustomer.warehouseNumber=a.warehouse.list[0].warehouseNumber):a.warehouse.list=[{warehouseNumber:"",warehouseName:"全部"}].concat(b)}),a.btnApprove=function(b){e.vipApprove({customerNumber:a.vipCustomer.customer.customerNumber,vipStatus:a.vipCustomer.vipStatus,memo:a.vipCustomer.memo,warehouseNumber:a.vipCustomer.warehouseNumber||""},function(a){a&&a.success&&(g.success("审核通过"),$(b.currentTarget).parents("#confirm-modal").modal("hide"))})},a.btnCancel=function(a){$(a.currentTarget).parents("#confirm-modal").modal("hide")}}]),angular.module("culAdminApp").controller("CustomerDetailCtrl",["$scope","$location","customerService","$window","plugMessenger","userService","storage",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.emailFlag=!1,a.tpl_status={editPoint:!1},a.changeEmailFlag=!1,a.changeEmail=function(){a.changeEmailFlag=!0},a.saveEmail=function(b){console.log("data",b),a.changeEmailFlag=!1,f.updateUser({userID:b.userID,emailAddress:b.emailAddress},function(b){console.log("result",b),e.info("修改成功"),a.changeEmailFlag=!1})},a.customerNumber=b.search().customerNumber,c.getDetail(a.customerNumber,function(b){a.data=b,h($("#uploadImg"),"images")}),a.btnSave=function(){a.data;c.update(a.data,function(b){b.message||(e.success("保存成功"),a.btnPrev())})},a.btnResetPassword=function(){e.confirm("确认要重置密码吗？",function(b){b&&f.resetPassword({emailAddress:a.data.emailAddress},function(a){1==a.success&&e.success("密码重置成功")})})},a.btnReference=function(a){switch(a){case"clear":}},a.btnEditPoint=function(){return void 0==a.data.changePoint||""==a.data.changePoint?e.info("请填写输入的数值为增加或者减少的积分"):void 0==a.data.pointNote||""==a.data.pointNote?e.info("请填写积分调整理由"):void c.updatePoint({customerNumber:a.data.customerNumber,changePoint:a.data.changePoint,pointNote:a.data.pointNote,backFlag:"1"},function(b){1==b.success&&(a.tpl_status.editPoint=!1,e.success("积分调整成功"),d.location.reload())})},a.btnPrev=function(){g.session.setValue("historyFlag",1),d.sessionStorage.setItem("historyFlag",1),d.history.back()},a.btnClearReference=function(){c.clearReference(a.data.customerNumber,function(b){1==b.success&&(a.data.reference=null,e.success("推荐关系已取消"))})},a.btnMessagePush=function(){return a.message.message?(a.message.messageType=29,a.message.images=a.data.images,void c.addCustomerMessage(a.message).then(function(b){a.message.message="",a.data.images="",$("#uploadImg_show").attr("src","")})):void e.info("请填写留言信息")};var h=function(b,c){var d=b.parents(".fileupload-buttonbar:first");b.fileupload({url:cul.apiPath+"/files/upload",type:"post",headers:{token:sessionStorage.getItem("token")}}).bind("fileuploadprogress",function(a,b){var c=parseInt(b.loaded/b.total*100,10);d.find("#progress").css("width",c+"%")}).bind("fileuploaddone",function(b,e){d.find("#file_btn_text").text("重新上传"),a.$apply(function(){a.data[c]=e.result.url})})}}]),angular.module("culAdminApp").controller("CustomerMessageCtrl",["$scope","$location","customerService","$window","plugMessenger","userService","storage",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.tpl_status={editPoint:!1},a.customerNumber=b.search().customerNumber,c.getDetail(a.customerNumber,function(b){console.log(" $scope.data",b),a.data=b,h($("#uploadImg"),"images")}),a.btnPrev=function(){g.session.setValue("historyFlag",1),d.sessionStorage.setItem("historyFlag",1),d.history.back()},a.btnMessagePush=function(){return a.message.message?(a.message.messageType=29,a.message.images=a.data.images,a.message.customerNumber=a.customerNumber,a.message.userName=a.data.userName,void c.addCustomerMessage(a.message).then(function(b){a.message.message="",a.data.images="",$("#uploadImg_show").attr("src","")})):void e.info("请填写留言信息")};var h=function(b,c){var d=b.parents(".fileupload-buttonbar:first");b.fileupload({url:cul.apiPath+"/files/upload",type:"post",headers:{token:sessionStorage.getItem("token")}}).bind("fileuploadprogress",function(a,b){var c=parseInt(b.loaded/b.total*100,10);d.find("#progress").css("width",c+"%")}).bind("fileuploaddone",function(b,e){d.find("#file_btn_text").text("重新上传"),a.$apply(function(){a.data[c]=e.result.url})})}}]),angular.module("culAdminApp").controller("AddressListCtrl",["$scope","$location","addressService","plugMessenger","$rootScope","storage",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.api=cul.apiPath,b.search({trackingNumber:null}),a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={keywordType:"customerNumber",countryCode:"",accountBalance:"",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},a.tempSearchBar=angular.copy(f.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar),a.btnPrint=function(){a.$broadcast("print-idcard.action",{data:a.dataList})},a.getData=function(){f.session.setObject("searchBar",a.searchBar);var b={pageInfo:a.pagination};b[a.searchBar.keywordType]=a.searchBar.keywords,c.getList(b,function(b){a.dataList=b.data,a.pagination.totalCount=b.pageInfo.totalCount,e.$emit("changeMenu")})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.btnSearch(),a.btnOpenDetail=function(a,c){switch(a){case"customer":b.search({customerNumber:c.customerNumber}),b.path("/customer/customerdetail");break;case"address":b.search({transactionNumber:c.transactionNumber}),b.path("/customer/addressdetail")}},a.btnVerification=function(b,e){var f=angular.copy(b);f.verifyMark=0==f.verifyMark?1:0,f._verifyMark=0==f.verifyMark?"未验证":"已验证",c.update(f,function(b){1==b.success?(1==f.verifyMark?d.success("验证成功"):d.success("验证取消"),a.dataList[e]=f):d.error("验证失败： "+b.message)})},a.btnDelete=function(b){d.confirm("确认删除该地址吗?",function(e){e&&c["delete"](b.transactionNumber,function(b){1==b.success&&(d.success("删除成功"),a.getData())})})}}]),angular.module("culAdminApp").controller("AddressDetailCtrl",["$scope","$location","addressService","plugMessenger","$window","customerMessageService",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.transactionNumber=b.search().transactionNumber,a.tpl_status={provinceList:[],apiPath:cul.apiPath},a.$emit("updateMessageList"),a.search={},a.search.parentid=0,a.search.province={},a.provinces=[],a.citys=[],a.areas=[],a.getProvince=function(b,d,e){c.getDistrict(a.search).then(function(c){a.provinces=c.data.data,b&&(a.provinces.forEach(function(c){b.indexOf(c.name)>=0&&(a.data.stateOrProvince=c)}),d&&a.getCity(d,e))})},a.getProvince(),a.getCity=function(b,d){a.search.parentid=a.data.stateOrProvince.id,c.getDistrict(a.search).then(function(c){a.citys=c.data.data,b&&(a.citys.forEach(function(c){b.indexOf(c.name)>=0&&(a.data.city=c)}),d&&a.getArea(d))})},a.getArea=function(b){a.search.parentid=a.data.city.id,c.getDistrict(a.search).then(function(c){a.areas=c.data.data,b&&a.areas.forEach(function(c){b.indexOf(c.name)>=0&&(a.data.area=c)})})},a.init=function(){c.getDetail(a.transactionNumber,function(b){a.data=b,a.tempVerifyMark=null==a.data.verifyMark?0:a.data.verifyMark,a._province=b.stateOrProvince,a._city=b.city,a._area=b.area,a.getProvince(a._province,a._city,a._area),h($("#fileupload_front"),"idCardFront"),h($("#fileupload_back"),"idCardBack")})},a.init();var g=function(){var b=$.grep(a.tpl_status.provinceList,function(b){return b.name==a.data.stateOrProvince});b.length>0&&(a.tpl_status.cities=[{name:"请选择"}].concat(b[0].cities))};a.changeProvince=function(){a.data.city="请选择",g()},a.btnSave=function(){return a.data.stateOrProvince=a.data.stateOrProvince.name,a.data.city=a.data.city.name,a.data.area&&(a.data.area=a.data.area.name),""==a.data.city?void d.info("收货地址没有填写完整"):-1!=a.data.verifyMark||a.data.idRemark?void c.update(a.data,function(b){b.message||(d.success("保存成功"),a.search.parentid=0,a.getProvince(a.data.stateOrProvince,a.data.city,a.data.area),a.tempVerifyMark!=a.data.verifyMark&&(1==a.data.verifyMark&&a.createMessageLog("身份认证通过"),-1==a.data.verifyMark&&a.createMessageLog("身份认证失败: "+a.data.idRemark),0==a.data.verifyMark&&a.createMessageLog("身份认证取消")))}):void d.info("验证备注信息没有填写")},a.createMessageLog=function(b){a.data.messageNumber&&f.push({messageNumber:a.data.messageNumber,message:b},function(a){})},a.btnPrev=function(){e.sessionStorage.setItem("historyFlag",1),e.history.back()},a.btnPrint=function(){a.$broadcast("print-idcard.action",{data:[a.data]})};var h=function(b,c){var d=b.parents(".fileupload-buttonbar:first");b.fileupload({url:cul.apiPath+"/files/upload",type:"post",headers:{token:sessionStorage.getItem("token")}}).bind("fileuploadprogress",function(a,b){var c=parseInt(b.loaded/b.total*100,10);d.find("#progress").css("width",c+"%")}).bind("fileuploaddone",function(b,e){d.find("#file_btn_text").text("重新上传"),a.$apply(function(){a.data[c]=e.result.url,a.data[c+"Url"]=e.result.url})})}}]),angular.module("culAdminApp").controller("TwAddressDetailCtrl",["$scope","$location","addressService","plugMessenger","$window","customerMessageService",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.transactionNumber=b.search().transactionNumber,a.tpl_status={provinceList:[],apiPath:cul.apiPath},a.$emit("updateMessageList"),a.search={},a.search.parentid=0,a.search.province={},a.provinces=[],a.citys=[],a.areas=[],a.getProvince=function(b,d,e){c.getDistrict(a.search).then(function(c){a.provinces=c.data.data,b&&(a.provinces.forEach(function(c){b.indexOf(c.name)>=0&&(a.data.stateOrProvince=c)}),d&&a.getCity(d,e))})},a.getProvince(),a.getCity=function(b,d){a.search.parentid=a.data.stateOrProvince.id,c.getDistrict(a.search).then(function(c){a.citys=c.data.data,b&&(a.citys.forEach(function(c){b.indexOf(c.name)>=0&&(a.data.city=c)}),d&&a.getArea(d))})},a.getArea=function(b){a.search.parentid=a.data.city.id,c.getDistrict(a.search).then(function(c){a.areas=c.data.data,b&&a.areas.forEach(function(c){b.indexOf(c.name)>=0&&(a.data.area=c)})})},a.init=function(){c.getDetail(a.transactionNumber,function(b){a.data=b,a.tempVerifyMark=null==a.data.verifyMark?0:a.data.verifyMark,a._province=b.stateOrProvince,a._city=b.city,a._area=b.area,a.getProvince(a._province,a._city,a._area),h($("#fileupload_front"),"idCardFront"),h($("#fileupload_back"),"idCardBack")})},a.init();var g=function(){var b=$.grep(a.tpl_status.provinceList,function(b){return b.name==a.data.stateOrProvince});b.length>0&&(a.tpl_status.cities=[{name:"请选择"}].concat(b[0].cities))};a.changeProvince=function(){a.data.city="请选择",g()},a.btnSave=function(){return a.data.stateOrProvince=a.data.stateOrProvince.name,a.data.city=a.data.city.name,a.data.area&&(a.data.area=a.data.area.name),""==a.data.city?void d.info("收货地址没有填写完整"):-1!=a.data.verifyMark||a.data.idRemark?void c.update(a.data,function(b){b.message||(d.success("保存成功"),a.tempVerifyMark!=a.data.verifyMark&&(1==a.data.verifyMark&&a.createMessageLog("身份认证通过"),-1==a.data.verifyMark&&a.createMessageLog("身份认证失败: "+a.data.idRemark),0==a.data.verifyMark&&a.createMessageLog("身份认证取消")));
}):void d.info("验证备注信息没有填写")},a.createMessageLog=function(b){a.data.messageNumber&&f.push({messageNumber:a.data.messageNumber,message:b},function(a){})},a.btnPrev=function(){e.sessionStorage.setItem("historyFlag",1),e.history.back()},a.btnPrint=function(){a.$broadcast("print-idcard.action",{data:[a.data]})};var h=function(b,c){var d=b.parents(".fileupload-buttonbar:first");b.fileupload({url:cul.apiPath+"/files/upload",type:"post",headers:{token:sessionStorage.getItem("token")}}).bind("fileuploadprogress",function(a,b){var c=parseInt(b.loaded/b.total*100,10);d.find("#progress").css("width",c+"%")}).bind("fileuploaddone",function(b,e){d.find("#file_btn_text").text("重新上传"),a.$apply(function(){a.data[c]=e.result.url,a.data[c+"Url"]=e.result.url})})}}]),angular.module("culAdminApp").controller("FAQManagementCtrl",["$scope",function(a){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("culAdminApp").controller("FAQListCtrl",["$scope","$location","$filter","faqService","plugMessenger","storage",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={keywordType:"transactionnumber",orderStatus:"0",warehouse:"0",messageType:"",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1},selectedAll:!1},a.tempSearchBar=angular.copy(f.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar),d.getMessageType(7,function(b){a.searchBar.messageTypeData=[{typeID:"",typeName:"全部问题"}].concat(b)}),a.btnSelectedItem=function(b){b?b._selected||(a.searchBar.selectedAll=!1):$.each(a.dataList,function(b,c){c._selected=a.searchBar.selectedAll})},a.getData=function(){f.session.setObject("searchBar",a.searchBar);var b={pageInfo:a.pagination,dateFrom:a.searchBar.startDate?a.searchBar.startDate.toISOString():"",dateTo:a.searchBar.endDate?a.searchBar.endDate.toISOString():""};a.searchBar.orderStatus&&(b.status=a.searchBar.orderStatus),a.searchBar.warehouse&&(b.receivedWarehouseNumber=a.searchBar.warehouse),a.searchBar.messageType&&(b.messageType=a.searchBar.messageType),b[a.searchBar.keywordType]=a.searchBar.keywords,d.getList(b,function(b){$.each(b.data,function(b,c){switch(c._status=0==c.status?"已处理":"未处理",c.receivedWarehouseNumber){case 0:c._receivedWarehouseNumber="CA";break;case 1:c._receivedWarehouseNumber="DE";break;case 2:c._receivedWarehouseNumber="OR"}c._messageType=$.grep(a.searchBar.messageTypeData,function(a){return a.typeID==c.messageType})[0].typeName}),a.dataList=b.data,a.pagination.totalCount=b.pageInfo.totalCount})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.btnOpenDetail=function(a){b.search({transactionNumber:a.transactionNumber}),b.path("/customer/faqdetail")},a.btnRemove=function(b){d["delete"](b.messageNumber,function(b){1==b.success&&(e.success("移除成功"),a.getData())})}}]),angular.module("culAdminApp").controller("FAQDetailCtrl",["$scope","$rootScope","$location","$window","faqService","warehouseService","customerMessageService","plugMessenger",function(a,b,c,d,e,f,g,h){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.messageTypeList=[],a.search={},a.tpl_status={messageNumber:c.search().messageNumber,messageTypeData:[],warehouseList:[]},e.getMessageType(7,function(b){a.tpl_status.messageTypeData=[{typeID:"",typeName:"全部"}].concat(b),b.forEach(function(b){("19"==b.typeID||"20"==b.typeID||"21"==b.typeID||"22"==b.typeID||"23"==b.typeID||"24"==b.typeID||"25"==b.typeID||"26"==b.typeID)&&a.messageTypeList.push(b)})}),f.getWarehouse(function(b){a.tpl_status.warehouseList=b}),e.getDetail(a.tpl_status.messageNumber,function(b){b&&b.images&&(a.images=b.images.split(",")),a.data=b,e.getMessagelog({messageNumber:a.tpl_status.messageNumber},function(b){a.logs=b.data;var c=$.grep(a.tpl_status.messageTypeData,function(b){return b.typeID==a.data.messageType});switch(c.length>0&&(a.data._messageType=c[0].typeName),a.data.status){case"0":case"Closed":a.data._status="已关闭";break;case"1":case"Processing":a.data._status="待处理";break;case"ForwardWH":a.data._status="转交仓库"}var d=$.grep(a.tpl_status.warehouseList,function(b){return b.warehouseNumber==a.data.receivedWarehouseNumber});d.length>0&&(a.data._receivedWarehouseName=d[0].warehouseName),a.refreshMessage()}),i($("#uploadImg"),"_images")}),a.refreshMessage=function(){g.getDetail(a.tpl_status.messageNumber,function(b){a.messageLogs=[],b&&(a.messageLogs=b.data.messageLogs,a.messageLogs&&a.messageLogs.forEach(function(a){a.images&&a.images.indexOf(",")>=0?a.images=a.images.split(","):a.images=[a.images]}))})},a.btnMessagePush=function(){a._message&&g.push({messageNumber:a.tpl_status.messageNumber,message:a._message,images:a.data._images},function(b){a.refreshMessage(),a._message="",a.data._images="",$("#uploadImg_show").attr("src",""),e.updateMessageOperation({messageNumber:a.tpl_status.messageNumber}).then(function(b){a.$emit("message")})})},a.delMessageBtn=function(b){h.confirm("确定要删除该留言吗？",function(c){c&&e.deleteMessageOperation({transactionNumber:b.transactionNumber}).then(function(b){a.refreshMessage()})})},a.btnOpenDetail=function(a,b){switch(a){case"customerDetail":c.search({customerNumber:b.customerNumber}),c.path("/customer/customerdetail")}},a.btnViewCustomer=function(a){c.path("/order/orderdetail").search({orderNumber:a})},a.setMessageLog=function(){return a.search.messageType?(a.search.messageNumber=a.data.messageNumber,a.search.typeId=a.search.messageType.typeID,a.search.typeName=a.search.messageType.typeName,void e.setMessagelog(a.search,function(a){})):void h.error("请选择转交问题")},a.btnUpdateStatus=function(c){var d=function(){e.update({messageNumber:a.data.messageNumber,messageType:a.data.messageType,status:c},function(c){1==c.success&&(b.getmessageList(),h.success("处理成功"),a.btnPrev())})};switch(c){case"Closed":if(0==a.data.status||"Closed"==a.data.status)return;h.confirm("确认关闭该问题?",function(a){a&&d()});break;case"ForwardWH":if("ForwardWH"==a.data.status)return;h.confirm("请确认转交该问题到仓库处理?",function(a){a&&d()})}},a.btnPrev=function(){d.sessionStorage.setItem("historyFlag",1),d.history.back()};var i=function(b,c){var d=b.parents(".fileupload-buttonbar:first");b.fileupload({url:cul.apiPath+"/files/upload",type:"post",headers:{token:sessionStorage.getItem("token")}}).bind("fileuploadprogress",function(a,b){var c=parseInt(b.loaded/b.total*100,10);d.find("#progress").css("width",c+"%")}).bind("fileuploaddone",function(b,e){d.find("#file_btn_text").text("重新上传"),a.$apply(function(){a.data[c]=e.result.url})})}}]),angular.module("culAdminApp").controller("MSGListCtrl",["$scope","$filter","faqService","storage",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={keywordType:"messageNumber",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},a.tempSearchBar=angular.copy(d.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar),c.getMessageType(7,function(b){a.searchBar.messageTypeData=b}),a.getData=function(){d.session.setObject("searchBar",a.searchBar);var b={pageInfo:a.pagination,dateFrom:a.searchBar.startDate?a.searchBar.startDate.toISOString():"",dateTo:a.searchBar.endDate?a.searchBar.endDate.toISOString():""};b[a.searchBar.keywordType]=a.searchBar.keywords,c.getList(b,function(b){a.dataList=b.data,a.pagination.totalCount=b.pageInfo.totalCount,$.each(a.dataList,function(b,c){var d=$.grep(a.searchBar.messageTypeData,function(b){return b.typeID==a.dataList[0].messageType});d.length>0&&(d=d[0]),c._typeName=d.typeName})})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()}}]),angular.module("culAdminApp").controller("MessageListCtrl",["$scope","$rootScope","$location","faqService","warehouseService","plugMessenger","$route","storage",function(a,b,c,d,e,f,g,h){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],c.search({customerNumber:null,messageNumber:null}),a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={keywordType:"customerNumber",messageType:"",status:"",receivedWarehouseNumber:" ",startDate:"",startTime_HH:"0",startTime_mm:"",startTime_ss:"",endDate:"",endTime_HH:"0",endTime_mm:"",endTime_ss:"",opened:{startDate:!1,endDate:!1}},a.tempSearchBar=angular.copy(h.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar);var i=function(){a.searchBar.startDate&&(a.searchBar.startDate.setHours(""!==a.searchBar.startTime_HH?a.searchBar.startTime_HH:0),a.searchBar.startDate.setMinutes(""!==a.searchBar.startTime_mm?a.searchBar.startTime_mm:0),a.searchBar.startDate.setSeconds(""!==a.searchBar.startTime_ss?a.searchBar.startTime_ss:0)),a.searchBar.endDate&&(a.searchBar.endDate.setHours(""!==a.searchBar.endTime_HH?a.searchBar.endTime_HH:23),a.searchBar.endDate.setMinutes(""!==a.searchBar.endTime_mm?a.searchBar.endTime_mm:59),a.searchBar.endDate.setSeconds(""!==a.searchBar.endTime_ss?a.searchBar.endTime_ss:59));var b={pageInfo:a.pagination,dateFrom:a.searchBar.startDate?a.searchBar.startDate.toISOString():"",dateTo:a.searchBar.endDate?a.searchBar.endDate.toISOString():""};return a.searchBar.messageType&&(b.messageType=a.searchBar.messageType),a.searchBar.status&&(b.status=a.searchBar.status),a.searchBar.receivedWarehouseNumber&&(b.receivedWarehouseNumber=a.searchBar.receivedWarehouseNumber),a.searchBar.keywords&&(b[a.searchBar.keywordType]=a.searchBar.keywords),angular.copy(b)};a.getData=function(){h.session.setObject("searchBar",a.searchBar);var c=i();d.getList(angular.copy(c),function(c){a.dataList=c.data,a.pagination.totalCount=c.pageInfo.totalCount,b.$emit("changeMenu"),$.each(a.dataList,function(b,c){var d=$.grep(a.searchBar.messageTypeData,function(a){return a.typeID==c.messageType});switch(d.length>0&&(c._messageType=d[0].typeName),c.status){case"0":case"Closed":c._status="已关闭";break;case"1":case"Processing":c._status="待处理";break;case"ForwardWH":c._status="转交仓库"}var e=$.grep(a.searchBar.warehouseList,function(a){return a.warehouseNumber==c.receivedWarehouseNumber});e.length>0&&(c._receivedWarehouseName=e[0].warehouseName)})})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.btnOpenDetail=function(a,b){switch(b){case"faqdetail":c.search({messageNumber:a.messageNumber}),c.path("/customer/faqdetail");break;case"customerdetail":c.search({customerNumber:a.customerNumber}),c.path("/customer/customerdetail")}},a.btnCloseFAQ=function(a){if(0!=a.status){var c=function(){d.update({messageNumber:a.messageNumber,messageType:a.messageType,status:"Closed"},function(a){1==a.success&&(b.getmessageList(),g.reload(),f.success("处理成功"))})};f.confirm("确认关闭该问题?",function(a){a&&c()})}},d.getMessageType(7,function(b){a.searchBar.messageTypeData=[{typeID:"",typeName:"全部"}].concat(b)}),e.getWarehouse(function(b){1==b.length?(a.searchBar.warehouseList=b,a.searchBar.receivedWarehouseNumber=a.searchBar.warehouseList[0].warehouseNumber):(a.searchBar.warehouseList=b,a.searchBar.warehouseList=[{warehouseNumber:" ",warehouseName:"全部"}].concat(b))});var j=setInterval(function(){a.$apply(function(){a.searchBar.messageTypeData&&a.searchBar.warehouseList&&(a.getData(),clearInterval(j))})},500)}]);var culAdminApp=angular.module("culAdminApp");culAdminApp.controller("ArrearslistCtrl",["$scope","$rootScope","$location","$filter","customerService","warehouseService","plugMessenger","$compile","$http","storage",function(a,b,c,d,e,f,g,h,i,j){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={keywordType:"customerNumber",countryCode:"",accountBalance:"",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},a.tempSearchBar=angular.copy(j.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar),a.getData=function(){j.session.setObject("searchBar",a.searchBar);var c={pageInfo:a.pagination,dateFrom:a.searchBar.startDate?a.searchBar.startDate.toISOString():"",dateTo:a.searchBar.endDate?a.searchBar.endDate.toISOString():"",active:1};a.searchBar.countryCode&&(c.countryCode=a.searchBar.countryCode),a.searchBar.accountBalance&&(c.accountBalance=a.searchBar.accountBalance),c[a.searchBar.keywordType]=a.searchBar.keywords,e.getArrearsList(c,function(c){a.dataList=c.data,a.pagination.totalCount=c.pageInfo.totalCount,b.$emit("changeMenu")})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.btnOpenDetail=function(a,b){"customerdetail"===b?(c.search({customerNumber:a.customerNumber}),c.path("/customer/customerdetail")):"orderdetail"===b?(c.search({orderNumber:a.orderNumber}),c.path("/order/orderdetail")):(c.search({payMessage:JSON.stringify(a)}),c.path("/customer/paydetail"))},a.vipCustomer={customer:null,vipStatus:"",memo:"",warehouseNumber:""},a.btnApproveVIP=function(b){a.vipCustomer.customer=b,a.vipCustomer.vipStatus="Approved",a.vipCustomer.memo="",a.vipCustomer.warehouseNumber=b.warehouseNumber||"",g.template(h($("#tplVip_approval_form").html())(a))},a.warehouse={list:[]},f.getWarehouse(function(b){1==b.length?(a.warehouse.list=b,a.vipCustomer.warehouseNumber=a.warehouse.list[0].warehouseNumber):a.warehouse.list=[{warehouseNumber:"",warehouseName:"全部"}].concat(b)}),a.btnApprove=function(b){e.vipApprove({customerNumber:a.vipCustomer.customer.customerNumber,vipStatus:a.vipCustomer.vipStatus,memo:a.vipCustomer.memo,warehouseNumber:a.vipCustomer.warehouseNumber||""},function(a){a&&a.success&&(g.success("审核通过"),$(b.currentTarget).parents("#confirm-modal").modal("hide"))})},a.btnCancel=function(a){$(a.currentTarget).parents("#confirm-modal").modal("hide")}}]),culAdminApp.controller("PayDetailCtrl",["$scope","$rootScope","$location","$filter","customerService","warehouseService","plugMessenger","$compile","$http","orderService","$window",function(a,b,c,d,e,f,g,h,i,j,k){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data=JSON.parse(c.search().payMessage),a.data.balance=a.data.shippingFee+a.data.tip-a.data.usedPoint,a.back=function(){k.sessionStorage.setItem("historyFlag",1),window.history.back()},a.pay=function(){a.data.memo="订单编号: "+a.data.orderNumber+" 扣款人: "+b.userInfo.userName+" 备注: ","Arrears"==a.data.orderStatus&&(a.data.memo+="运费不足"),a.data.remark&&(a.data.memo=a.data.memo+a.data.remark),g.confirm("确认扣款吗？",function(b){b&&j.adminPaymentOrder(a.data).then(function(a){200==a.status&&(g.success("扣款成功"),c.path("/customer/arrearslist"))})})}}]),angular.module("culAdminApp").controller("IdAuthCtrl",["$scope","$location","addressService","plugMessenger","$rootScope","$compile","customerMessageService","storage",function(a,b,c,d,e,f,g,h){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],console.log(b.search().authType)}]),angular.module("culAdminApp").controller("IdAuthCulCtrl",["$scope","$location","addressService","plugMessenger","$rootScope","$compile","customerMessageService","storage",function(a,b,c,d,e,f,g,h){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.api=cul.apiPath,b.search({trackingNumber:null}),a.dataList=[],a.validateType=1,a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={keywordType:"customerNumber",countryCode:"",accountBalance:"",startDate:"",endDate:"",verifyMark:"",opened:{startDate:!1,endDate:!1}},a.idRemarkError="",a.idRemark="",a.tempSearchBar=angular.copy(h.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar),a.btnPrint=function(){a.$broadcast("print-idcard.action",{data:a.dataList})},a.btnDownload=function(){a.$broadcast("print-idcardImg.action",{data:a.dataList})},a.getData=function(){h.session.setObject("searchBar",a.searchBar);var b={pageInfo:a.pagination,noAuthType:2,dateFrom:a.searchBar.startDate?a.searchBar.startDate.toISOString():"",dateTo:a.searchBar.endDate?a.searchBar.endDate.toISOString():""};a.searchBar.verifyMark&&(b.verifyMark=a.searchBar.verifyMark),b[a.searchBar.keywordType]=a.searchBar.keywords,c.getList(b,function(b){a.dataList=b.data,a.dataList.forEach(function(a){a._verifyMark=i(a.verifyMark)}),a.pagination.totalCount=b.pageInfo.totalCount,e.$emit("changeMenu")})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.btnOpenDetail=function(a,c){switch(a){case"customer":b.search({customerNumber:c.customerNumber}),b.path("/customer/customerdetail");break;case"address":b.search({transactionNumber:c.transactionNumber}),b.path("/customer/addressdetail")}},a.btnVerification=function(b,c,e){a._address=angular.copy(b),a.index=c,0==e?(a.validateType=0,a.idRemark=a._address.idRemark):a.idRemark="",d.template(f($("#tplValidate_approval_form").html())(a))},a.btnVerificationCancle=function(b,e){var f=angular.copy(b);e=e,f.verifyMark=0,f._verifyMark=i(f.verifyMark),d.confirm("确认取消验证吗?",function(b){b&&c.update(f,function(b){1==b.success?(1==f.verifyMark?d.success("取消验证成功"):d.success("验证取消"),a.dataList[e]=f):d.error("取消验证失败： "+b.message)})})};var i=function(a){switch(a){case-1:return"验证失败";case 0:return"未验证";case 1:return"验证通过";default:return}};a.btnDelete=function(b){d.confirm("确认删除该地址吗?",function(e){e&&c["delete"](b.transactionNumber,function(b){1==b.success&&(d.success("删除成功"),a.getData())})})},a.createMessageLog=function(b){a._address.messageNumber&&g.push({messageNumber:a._address.messageNumber,message:b},function(a){})},a.btnApprove=function(b){if(1==a.validateType&&(a._address.verifyMark=1,a._address._verifyMark=i(a._address.verifyMark),""==a._address.idRemark,a.idRemark="",c.update(a._address,function(c){1==c.success?(a.dataList[a.index]=a._address,d.success("成功"),$(b.currentTarget).parents("#confirm-modal").modal("hide"),a.createMessageLog("身份认证通过")):d.error("失败： "+c.message)})),0==a.validateType){if(a._address.idRemark=a.idRemark,""==a._address.idRemark)return void(a.idRemarkError="请输入备注");a._address.verifyMark=-1,a._address._verifyMark=i(a._address.verifyMark),c.update(a._address,function(c){a.createMessageLog("身份认证失败: "+a._address.idRemark),1==c.success?(a.dataList[a.index]=a._address,d.success("成功"),$(b.currentTarget).parents("#confirm-modal").modal("hide")):d.error("失败： "+c.message)}),a.idRemark=""}},a.btnCancel=function(b){a.validateType=1,$(b.currentTarget).parents("#confirm-modal").modal("hide")},$("#idauth_cul").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"批量下载图片较慢，<br/>请耐心等待，尽量不要全导出，<br/>那样需要等待很长时间。"})}]),angular.module("culAdminApp").controller("IdAuthTwCtrl",["$scope","$location","addressService","plugMessenger","$rootScope","$compile","customerMessageService","storage",function(a,b,c,d,e,f,g,h){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.api=cul.apiPath,b.search({trackingNumber:null}),a.dataList=[],a.validateType=1,a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={keywordType:"receivePersonName",startDate:"",endDate:"",verifyMark:"",opened:{startDate:!1,endDate:!1}},a.idRemarkError="",a.idRemark="",a.tempSearchBar=angular.copy(h.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar),a.btnPrint=function(){a.$broadcast("print-idcard.action",{data:a.dataList})},a.btnDownload=function(){a.$broadcast("print-idcardImg.action",{data:a.dataList})},a.getData=function(){h.session.setObject("searchBar",a.searchBar);var b={pageInfo:a.pagination,dateFrom:a.searchBar.startDate?a.searchBar.startDate.toISOString():"",dateTo:a.searchBar.endDate?a.searchBar.endDate.toISOString():"",authType:2};a.searchBar.verifyMark&&(b.verifyMark=a.searchBar.verifyMark),b[a.searchBar.keywordType]=a.searchBar.keywords,c.getList(b,function(b){a.dataList=b.data,a.dataList.forEach(function(a){a._verifyMark=i(a.verifyMark)}),a.pagination.totalCount=b.pageInfo.totalCount,e.$emit("changeMenu")})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.btnSearch(),a.btnOpenDetail=function(a,c){switch(a){case"customer":b.search({customerNumber:c.customerNumber}),b.path("/customer/customerdetail");break;case"address":b.search({transactionNumber:c.transactionNumber}),b.path("/customer/twAddressdetail")}},a.btnVerification=function(b,c,e){a._address=angular.copy(b),a.index=c,0==e?a.validateType=0:a.idRemark="",d.template(f($("#tplValidate_approval_form").html())(a))},a.btnVerificationCancle=function(b,e){var f=angular.copy(b);e=e,f.verifyMark=0,f._verifyMark=i(f.verifyMark),d.confirm("确认取消验证吗?",function(b){b&&c.update(f,function(b){1==b.success?(1==f.verifyMark?d.success("取消验证成功"):d.success("验证取消"),a.dataList[e]=f):d.error("取消验证失败： "+b.message)})})};var i=function(a){switch(a){case-1:return"验证失败";case 0:return"未验证";case 1:return"验证通过";default:return}};a.btnDelete=function(b){d.confirm("确认删除该地址吗?",function(e){e&&c["delete"](b.transactionNumber,function(b){1==b.success&&(d.success("删除成功"),a.getData())})})},a.createMessageLog=function(b){a._address.messageNumber&&g.push({messageNumber:a._address.messageNumber,message:b},function(a){})},a.btnApprove=function(b){if(1==a.validateType&&(a._address.verifyMark=1,a._address._verifyMark=i(a._address.verifyMark),""==a._address.idRemark,a.idRemark="",c.update(a._address,function(c){1==c.success?(a.dataList[a.index]=a._address,d.success("成功"),$(b.currentTarget).parents("#confirm-modal").modal("hide"),a.createMessageLog("身份认证通过")):d.error("失败： "+c.message)})),0==a.validateType){if(a._address.idRemark=a.idRemark,""==a._address.idRemark)return void(a.idRemarkError="请输入备注");a._address.verifyMark=-1,a._address._verifyMark=i(a._address.verifyMark),c.update(a._address,function(c){a.createMessageLog("身份认证失败: "+a._address.idRemark),1==c.success?(a.dataList[a.index]=a._address,d.success("成功"),$(b.currentTarget).parents("#confirm-modal").modal("hide")):d.error("失败： "+c.message)}),a.idRemark=""}},a.btnCancel=function(b){a.validateType=1,$(b.currentTarget).parents("#confirm-modal").modal("hide")},$("#idauth_tw").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"批量下载图片较慢，<br/>请耐心等待，尽量不要全导出，<br/>那样需要等待很长时间。"})}]),angular.module("culAdminApp").controller("OrderListCtrl",["$timeout","$window","$scope","$rootScope","$location","$filter","orderService","warehouseService","plugMessenger","storage","$compile",function(a,b,c,d,e,f,g,h,i,j,k){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],c.dataList=[],c.orderNumberList=[],c.deleteMessage="";var l=sessionStorage.getItem("token");l=l?encodeURIComponent(l):null,console.log(l),$("#form_export").attr("action",cul.apiPath+"/order/list/export?Token="+l),$("#form_exportUSPS").attr("action",cul.apiPath+"/order/list/export/usps?Token="+l),$("#form_exportHT").attr("action",cul.apiPath+"/order/list/export/ht?Token="+l),c.exportUrl="",c.pagination={pageSize:"20",pageIndex:1,totalCount:0},c.searchBar={selectedAll:!1,keywordType:"customerNumber",orderStatus:"",orderType:"",printStatus:"",warehouseNumber:"",shipServiceId:0,isFastOrder:void 0,startDate:"",startTime_HH:"0",startTime_mm:"",startTime_ss:"",endDate:"",endTime_HH:"0",endTime_mm:"",endTime_ss:"",opened:{startDate:!1,endDate:!1}},c.tempSearchBar=angular.copy(j.getSearchObject()),c.tempSearchBar&&(c.searchBar=c.tempSearchBar?c.tempSearchBar:c.searchBar),h.getWarehouse(function(a){1==a.length?(c.searchBar.warehouseList=a,c.searchBar.warehouseNumber=c.searchBar.warehouseList[0].warehouseNumber):c.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(a)}),h.getShippingChannelList(function(a){1==a.length?(c.searchBar.shippingChannelList=a,c.searchBar.shipServiceId=c.searchBar.shippingChannelList[0].shipServiceId):c.searchBar.shippingChannelList=[{shipServiceId:0,shipServiceName:"全部"}].concat(a)});var m=function(){c.searchBar.startDate&&(c.searchBar.startDate.setHours(""!==c.searchBar.startTime_HH?c.searchBar.startTime_HH:0),c.searchBar.startDate.setMinutes(""!==c.searchBar.startTime_mm?c.searchBar.startTime_mm:0),c.searchBar.startDate.setSeconds(""!==c.searchBar.startTime_ss?c.searchBar.startTime_ss:0)),c.searchBar.endDate&&(c.searchBar.endDate.setHours(""!==c.searchBar.endTime_HH?c.searchBar.endTime_HH:23),c.searchBar.endDate.setMinutes(""!==c.searchBar.endTime_mm?c.searchBar.endTime_mm:59),c.searchBar.endDate.setSeconds(""!==c.searchBar.endTime_ss?c.searchBar.endTime_ss:59));var a={pageInfo:c.pagination,dateFrom:c.searchBar.startDate?c.searchBar.startDate.toISOString():"",dateTo:c.searchBar.endDate?c.searchBar.endDate.toISOString():""};return c.searchBar.orderStatus?a.orderStatus=c.searchBar.orderStatus:a.exceptOrderStatus=["Void"],c.searchBar.printStatus&&(a.printStatus=c.searchBar.printStatus),c.searchBar.warehouseNumber&&(a.warehouseNumber=c.searchBar.warehouseNumber),c.searchBar.shipServiceId&&(a.shipServiceId=c.searchBar.shipServiceId),c.searchBar.orderType&&(a.orderType=c.searchBar.orderType),1==c.searchBar.isFastOrder&&(a.isFastOrder=1),c.searchBar.keywords&&(a[c.searchBar.keywordType]=c.searchBar.keywords,"orderNumber"==c.searchBar.keywordType&&c.searchBar.keywords.indexOf("\n")>=0&&(a[c.searchBar.keywordType]=c.searchBar.keywords.split("\n")),a.orderNumber&&(a.cOrderNumber=a.orderNumber.toString())),angular.copy(a)};c.getData=function(){j.session.setObject("searchBar",c.searchBar);var a=m();console.log("_options",a),g.getList(angular.copy(a),function(a){c.dataList=a.data,c.pagination.totalCount=a.pageInfo.totalCount,d.$emit("changeMenu"),$.each(c.dataList,function(a,b){b._selected=$.grep(c.selectedListCache,function(a){return a.orderNumber==b.orderNumber}).length>0}),c.searchBar.selectedAll=$.grep(c.dataList,function(a){return 1==a._selected}).length==c.dataList.length});var b=[];$.each(c.selectedListCache,function(a,c){b.push(c.orderNumber)}),b.length>0&&(a.orderNumber=b.join(",")),a=g.getCurrentOption(a),c.exportOptions=$.extend({token:l},a)},c.btnSearch=function(){c.selectedListCache=[],c.dataList=[],c.pagination.pageIndex=1,c.pagination.totalCount=0,c.getData()},c.selectedListCache=[],c.btnSelectedItem=function(a){a?a._selected||(c.searchBar.selectedAll=!1):$.each(c.dataList,function(a,b){b._selected=c.searchBar.selectedAll}),$.each(c.dataList,function(a,b){var d=$.grep(c.selectedListCache,function(a){return a.orderNumber==b.orderNumber}).length>0;b._selected&&0==d?c.selectedListCache.push(angular.copy(b)):b._selected||1!=d||(c.selectedListCache=$.grep(c.selectedListCache,function(a){return a.orderNumber!=b.orderNumber}))});var b=[],d=m();$.each(c.selectedListCache,function(a,c){b.push(c.orderNumber)}),d.orderNumber=b,b.length>0&&(d.orderNumber=b.join(",")),d=g.getCurrentOption(d),c.exportOptions=$.extend({token:l},d)},c.btnOpenDetail=function(a,b){switch(b){case"orderdetail":e.search({orderNumber:a.orderNumber}),e.path("/order/orderdetail");break;case"customerdetail":e.search({customerNumber:a.customer.customerNumber}),e.path("/customer/customerdetail")}},c.delSomeOrder=function(){return c.orderNumberList=[],c.dataList.forEach(function(a){1==a._selected&&c.orderNumberList.push(a.orderNumber)}),c.orderNumberList[0]?void c.btnDelete(c.orderNumberList):void i.info("请选择需要删除的订单")},c.btnDeleteApproval=function(a,b){c.item=a,i.template(k($("#confirm-modal").html())(c))},c.btnDelete=function(a,b){if(c.searchOrder={},a instanceof Array)c.searchOrder.orderNumberList=a;else if(a.deleteMessage=c.deleteMessage,c.searchOrder.orderNumber=a.orderNumber,!c.deleteMessage)return i.info("删除原因不能为空");c.searchOrder.deleteMessage=c.deleteMessage,i.confirm("确定要删除订单吗？(删除后不可恢复)",function(d){d&&g["delete"](c.searchOrder,function(d){1==d.success&&(i.info("删除成功"),$("#confirm-modal").modal("hide"),$(b.currentTarget).parents("#confirm-modal").modal("hide"),a.deleteMessage="",c.deleteMessage="",c.getData(),c.selectedListCache=$.grep(c.selectedListCache,function(b){return b.orderNumber!=a.orderNumber}))})})},c.btnClearSelectedListCache=function(){c.selectedListCache=[],c.searchBar.selectedAll=!1,$.each(c.dataList,function(a,b){b._selected=!1});var a=m();a=g.getCurrentOption(a),c.exportOptions=$.extend({token:l},a)},a(function(){c.getData()},500),c.btnCancel=function(a){$(a.currentTarget).parents("#confirm-modal").modal("hide")}}]),angular.module("culAdminApp").controller("OrderExportCtrl",["$scope","orderService","storage",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.searchBar={type:"single",channel:"0",selectedAll:!1},a.tempSearchBar=angular.copy(c.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar),a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.channelFilter={single:[{title:"小包裹身份证渠道",value:"0"},{title:"小包裹CA",value:""},{title:"大包裹新",value:""},{title:"USPS渠道",value:""}],multi:[{title:"小包裹身份证渠道",value:"0"},{title:"小包裹CA",value:""},{title:"大包裹新",value:""},{title:"USPS渠道",value:""}],bak:[{title:"小包裹身份证渠道",value:"0"},{title:"小包裹CQ",value:""},{title:"小包裹TJ",value:""},{title:"大包裹",value:""},{title:"大包裹新",value:""}],update:[{title:"小包裹身份证渠道",value:"0"},{title:"小包裹CQ",value:""},{title:"小包裹TJ",value:""},{title:"大包裹",value:""},{title:"大包裹新",value:""}]},a.btnSelectedItem=function(b){b?b._selected||(a.searchBar.selectedAll=!1):$.each(a.dataList,function(b,c){c._selected=a.searchBar.selectedAll})},a.getData=function(){c.session.setObject("searchBar",a.searchBar),b.getList(a.pagination,function(b){a.dataList=b.data,a.pagination.totalCount=b.totalCount})},a.getData()}]),angular.module("culAdminApp").controller("OrderPrintCtrl",["$timeout","$window","$scope","$rootScope","orderService","warehouseService","$location","plugMessenger","customerMessageService",function(a,b,c,d,e,f,g,h,i){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],c.dataList=[],c.searchBar={type:"single",channel:"0",batchChannel:"0",selectedAll:!1,keywordType:"customerNumber",orderStatus:"",printStatus:"",orderType:"",warehouseNumber:"",startDate:"",startTime_HH:"0",startTime_mm:"",startTime_ss:"",endDate:"",endTime_HH:"0",endTime_mm:"",endTime_ss:"",opened:{startDate:!1,endDate:!1}},c.pagination={pageSize:"20",pageIndex:1,totalCount:0},c.channelFilter=[{title:"小包裹身份证渠道",value:"0"},{title:"小包裹CA",value:""},{title:"大包裹新",value:""},{title:"USPS渠道",value:""}],f.getWarehouse(function(a){1==a.length?(c.searchBar.warehouseList=a,c.searchBar.warehouseNumber=c.searchBar.warehouseList[0].warehouseNumber):c.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(a)}),f.getShippingChannelList(function(a){1==a.length?(c.searchBar.shippingChannelList=a,c.searchBar.shipServiceId=c.searchBar.shippingChannelList[0].shipServiceId):c.searchBar.shippingChannelList=[{shipServiceId:0,shipServiceName:"全部"}].concat(a)}),c.selectedListCache=[],c.btnSelectedItem=function(a){a?a._selected||(c.searchBar.selectedAll=!1):$.each(c.dataList,function(a,b){b._selected=c.searchBar.selectedAll}),$.each(c.dataList,function(a,b){var d=$.grep(c.selectedListCache,function(a){return a.orderNumber==b.orderNumber}).length>0;b._selected&&0==d?c.selectedListCache.push(angular.copy(b)):b._selected||1!=d||(c.selectedListCache=$.grep(c.selectedListCache,function(a){return a.orderNumber!=b.orderNumber}))})};var j=function(){c.searchBar.startDate&&(c.searchBar.startDate.setHours(""!==c.searchBar.startTime_HH?c.searchBar.startTime_HH:0),c.searchBar.startDate.setMinutes(""!==c.searchBar.startTime_mm?c.searchBar.startTime_mm:0),c.searchBar.startDate.setSeconds(""!==c.searchBar.startTime_ss?c.searchBar.startTime_ss:0)),c.searchBar.endDate&&(c.searchBar.endDate.setHours(""!==c.searchBar.endTime_HH?c.searchBar.endTime_HH:23),c.searchBar.endDate.setMinutes(""!==c.searchBar.endTime_mm?c.searchBar.endTime_mm:59),c.searchBar.endDate.setSeconds(""!==c.searchBar.endTime_ss?c.searchBar.endTime_ss:59));var a={pageInfo:c.pagination,dateFrom:c.searchBar.startDate?c.searchBar.startDate.toISOString():"",dateTo:c.searchBar.endDate?c.searchBar.endDate.toISOString():""};return c.searchBar.orderStatus?a.orderStatus=c.searchBar.orderStatus:a.exceptOrderStatus=["Void"],
c.searchBar.printStatus&&(a.printStatus=c.searchBar.printStatus),c.searchBar.warehouseNumber&&(a.warehouseNumber=c.searchBar.warehouseNumber),c.searchBar.shipServiceId&&(a.shipServiceId=c.searchBar.shipServiceId),1==c.searchBar.isFastOrder&&(a.isFastOrder=1),c.searchBar.orderType&&(a.orderType=c.searchBar.orderType),c.searchBar.keywords&&(a[c.searchBar.keywordType]=c.searchBar.keywords,"orderNumber"==c.searchBar.keywordType&&c.searchBar.keywords.indexOf("\n")>=0&&(a[c.searchBar.keywordType]=c.searchBar.keywords.split("\n"))),angular.copy(a)};c.getData=function(){e.getList(j(),function(a){c.dataList=a.data,c.pagination.totalCount=a.pageInfo.totalCount,d.$emit("changeMenu"),$.each(c.dataList,function(a,b){b._selected=$.grep(c.selectedListCache,function(a){return a.orderNumber==b.orderNumber}).length>0}),c.searchBar.selectedAll=$.grep(c.dataList,function(a){return 1==a._selected}).length==c.dataList.length})},a(function(){c.getData()},500),c.btnSearch=function(){c.selectedListCache=[],c.dataList=[],c.pagination.pageIndex=1,c.pagination.totalCount=0,c.getData()},c.btnOpenDetail=function(a,b){switch(b){case"orderdetail":g.search({orderNumber:a.orderNumber}),g.path("/order/orderdetail");break;case"customerdetail":g.search({customerNumber:a.customer.customerNumber}),g.path("/customer/customerdetail")}},c.btnPrint=function(a,b){var d=function(){switch(b){case"order":c.$broadcast("print-order.action",a.orderNumber);break;case"package":c.$broadcast("print-package.action",a.orderNumber);break;case"flyingexpress":c.$broadcast("print-flying-express.action",a.orderNumber);break;case"flyingexpress_new":c.$broadcast("print-flying-express-new.action",a.orderNumber);break;case"flyingexpress_blank":c.$broadcast("print-flying-express-blank.action",a.orderNumber);break;case"flyingexpress2":c.$broadcast("print-flying-express2.action",a.orderNumber);break;case"trackingNumber":c.$broadcast("print-tracking-number.action",a)}};if("Printed"==a.printStatus)d();else switch(b){case"order":case"flyingexpress":case"flyingexpress2":case"flyingexpress_new":case"flyingexpress_blank":if(console.log("item",a),1==a.orderType&&(!a.payDate||"UNPAID"===a.orderStatus.toUpperCase()||"VOID"===a.orderStatus.toUpperCase())){h.info("未支付或者已删除的线上订单不能打印.");break}h.confirm("订单将变为已打印状态,请确认是否打印？",function(b){b&&e.printOrder(a.orderNumber,function(b){if("WaybillUpdated"===a.orderStatus)var c={orderNumber:a.orderNumber,orderStatus:"WaybillUpdated"};else var c={orderNumber:a.orderNumber,orderStatus:"Processing"};e.update(c,function(a){d()})})});break;default:d()}},c.btnPrintBatch=function(a){var b=[],d=angular.copy(c.selectedListCache);$.each(c.selectedListCache,function(a,c){b.push(c.orderNumber)});var f=function(){if(b.length>0)switch(a){case"order":c.$broadcast("print-order.action",b);break;case"package":c.$broadcast("print-package.action",b);break;case"flyingexpress":c.$broadcast("print-flying-express.action",b);break;case"flyingexpress_new":c.$broadcast("print-flying-express-new.action",b);break;case"flyingexpress_blank":c.$broadcast("print-flying-express-blank.action",b);break;case"flyingexpress2":c.$broadcast("print-flying-express2.action",b);break;case"trackingNumber":c.$broadcast("print-tracking-number.action",d)}},g=function(){switch(a){case"order":case"flyingexpress":case"flyingexpress2":var b=!1;if($.each(d,function(a,c){return console.log(c),1!=c.orderType||c.payDate&&"UNPAID"!==c.orderStatus.toUpperCase()&&"VOID"!==c.orderStatus.toUpperCase()?void 0:(h.info("未支付或者已删除的线上订单["+c.orderNumber+"]不能打印."),void(b=!0))}),b)break;h.confirm("订单将变为已打印状态,请确认是否打印？",function(a){if(a){var b=[],c=[];$.each(d,function(a,d){b.push(d.orderNumber),c.push({orderNumber:d.orderNumber,orderStatus:"Processing"})}),console.log(b),e.printOrder(b,function(a){e.batchUpdate(c,function(a){f()})})}});break;default:f()}};if(0==c.selectedListCache.length){var i=$.extend(!0,j(),{pageInfo:{pageSize:99999,pageIndex:1}});e.getList(i,function(a){$.each(a.data,function(a,c){b.push(c.orderNumber),d.push(c)}),g()})}else g()};c.btnClearSelectedListCache=function(){c.selectedListCache=[],c.searchBar.selectedAll=!1,$.each(c.dataList,function(a,b){b._selected=!1})},c.btnPrintEmptyFlyingExpress=function(){c.$broadcast("print-flying-express-empty","show")}}]),angular.module("culAdminApp").controller("OrderDetailCtrl",["$scope","$location","$window","orderService","addressService","customerMessageService","plugMessenger",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.search={},a.search.parentid=0,a.provinces=[],a.tempOrderItems,a.citys=[],a.areas=[],a.getProvince=function(b,c,d,f){e.getDistrict(a.search).then(function(e){a.provinces=e.data.data,b&&(a.provinces.forEach(function(c){b.indexOf(c.name)>=0&&(f.province=c,a.search.province=c)}),c&&a.getCity(c,d,f))})},a.getProvince(),a.getCity=function(b,c,d){d.area="",d.city="",a.search.parentid=d.province.id,e.getDistrict(a.search).then(function(e){a.citys=e.data.data,b&&(a.citys.forEach(function(c){b.indexOf(c.name)>=0&&(d.city=c,a.search.city=c)}),c&&a.getArea(c,d))})},a.getArea=function(b,c){a.search.parentid=c.city.id,e.getDistrict(a.search).then(function(d){a.areas=d.data.data,b&&a.areas.forEach(function(d){b.indexOf(d.name)>=0&&(c.area=d,a.search.area=d)})})},a.provinceList=[],a.isPrintDetail=!!b.search().print,a.isShow=!1,d.getDetail(b.search().orderNumber,function(b){a.tempOrderItems=angular.copy(b.orderItems),a.data=b,a.result=b,a.data.shipToAddresses&&a.data.shipToAddresses[0]&&a.data.shipToAddresses.forEach(function(b){var c=b.stateOrProvince,d=b.city,e=b.area;a.getProvince(c,d,e,b)}),b.outboundPackages&&b.outboundPackages[0]&&b.orderItems instanceof Array&&b.outboundPackages.forEach(function(a){a.items.forEach(function(c){b.orderItems.forEach(function(b){c.transactionNumber==b.transactionNumber&&(b.trackingNumber=a.trackingNumber)})})}),console.log("123",b),"Printed"!=b.printStatus&&"WaybillUpdated"!=b.orderStatus&&"Shipped"!=b.orderStatus&&(a.isShow=!0),$.each(a.data.shipToAddresses,function(b,c){c._trackingNumbers=[],$.each(a.data.outboundPackages,function(a,b){b.address.transactionNumber==c.transactionNumber&&c._trackingNumbers.push(b.trackingNumber)})}),a.data._shippingFeeTotal=0,$.each(a.data.outboundPackages,function(b,c){a.data._shippingFeeTotal+=c.shippingFee}),a.data._shippingFeeTotal=a.data._shippingFeeTotal.toFixed(2),a.refreshMessage()}),a.refreshMessage=function(){f.getDetail(a.data.orderMessageNumber,function(b){a.data.messageLogs=[],b&&(a.data.messageLogs=b.data.messageLogs,a.data.messageLogs&&a.data.messageLogs.forEach(function(a){a.images&&a.images.indexOf(",")>=0?a.images=a.images.split(","):a.images=[a.images]})),h($("#uploadImg"),"_images")})},a.btnEditOrderItems=function(){a._editOrderItemsData=JSON.parse(JSON.stringify(a.data.orderItems)),a._editOrderItems=!0},a.cloneAddress=null,a.btnEditOrderAddress=function(b){a.cloneAddress=angular.copy(b),b._edit=!0},a.btnSaveAddress=function(b){if(b.receivePersonName&&b.cellphoneNumber&&b.address1_before&&b.city&&b.zipcode){if(b.stateOrProvince=b.province.name,b.city=b.city?b.city.name:" ",b.area=b.area?b.area.name:" ",b.stateOrProvince.indexOf("区")<0&&b.stateOrProvince.indexOf("市")<0){if(!b.area)return void g.info("收货地址没有填写全，不能提交更改。")}else b.area=" ";b.address1=b.address1_before,b.transactionNumber=b.addressNumber,e.update(b,function(d){1==d.success&&(b._edit=!1,a.cloneAddress=null,g.success("收货地址保存成功。"),setTimeout(function(){c.location.reload()},300))})}else g.info("收货地址没有填写全，不能提交更改。")},a.btnCancelAddress=function(b){for(var c in a.cloneAddress)"$$hashKey"!=c&&(b[c]=a.cloneAddress[c]);b._edit=!1,a.cloneAddress=null},a.btnOrderItems_Oper=function(b,c){switch(b){case"add":a.data.orderItems.push({itemBrand:"",description:"",quantity:"",unitprice:""});break;case"del":a.data.orderItems[c]=null,a.data.orderItems=$.grep(a.data.orderItems,function(a){return!!a});break;case"repeat":var d=$.grep(a._editOrderItemsData,function(b){return b.transactionNumber==a.data.orderItems[c].transactionNumber});d.length>0&&(d=d[0]);for(var e in a.data.orderItems[c])"$$hashKey"!=e&&(a.data.orderItems[c][e]=d[e]);break;case"cancel":a._editOrderItems=!1,a.data.orderItems=a._editOrderItemsData}},a.btnMessagePush=function(){a._message&&f.push({messageNumber:a.data.orderMessageNumber,message:a._message,images:a.data._images},function(b){a.refreshMessage(),a._message="",a.data._images="",$("#uploadImg_show").attr("src","")})},a.btnSave=function(){var b=a.data;d.update({orderNumber:b.orderNumber,orderStatus:b.orderStatus,printStatus:b.printStatus,payDate:b.payDate,paied:b.paied,priceAdjustMemo:b.priceAdjustMemo,orderItems:b.orderItems},function(a){a.message||(g.success("保存成功"),c.location.reload())})},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()};var h=function(b,c){var d=b.parents(".fileupload-buttonbar:first");b.fileupload({url:cul.apiPath+"/files/upload",type:"post",headers:{token:sessionStorage.getItem("token")}}).bind("fileuploadprogress",function(a,b){var c=parseInt(b.loaded/b.total*100,10);d.find("#progress").css("width",c+"%")}).bind("fileuploaddone",function(b,e){d.find("#file_btn_text").text("重新上传"),a.$apply(function(){a.data[c]=e.result.url})})}}]),angular.module("culAdminApp").controller("OrderOfflineImportCtrl",["$scope","$timeout","$filter","orderService","warehouseService","plugMessenger",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.stepIndex=1,a.stepValidation=[],a.btnNextEnable=!1,a.tpl_status={step3:1};var g=[function(){Dropzone.autoDiscover=!1,$(".dropzone").dropzone({url:cul.apiPath+"/files/upload",addRemoveLinks:!0,maxFilesize:3,maxFiles:1,acceptedFiles:".xls, .xlsx",headers:{token:sessionStorage.getItem("token")},dictDefaultMessage:"点击此处上传线下订单Excel。",dictFallbackMessage:"您的浏览器不支持拖放文件上传方式。",dictFileTooBig:"所选的文件太大({{filesize}}MiB)。 文件最大限制：{{maxFilesize}}MiB。",dictInvalidFileType:"您不能上传该类型的文件。",dictResponseError:"文件上传失败，错误代码 {{statusCode}}",dictCancelUpload:"取消上传",dictCancelUploadConfirmation:"您确定要取消这次上传吗？",dictRemoveFile:"删除文件",dictMaxFilesExceeded:"您不能上传更多文件。",success:function(c){b(function(){var b=JSON.parse(c.xhr.response);console.log("result.filePath;",b.filePath),a.fileId=b.filePath,a.stepValidation[0]=!0,h.wizard("next")})}}),a.btnNextEnable=!0},function(){$("#precheckProgressBar").progressbar({done:function(){b(function(){d.offlineOrderCheckExcel(a.fileId,function(b){1==b.success?(a.stepValidation[1]=!0,a.btnNextEnable=!0,a.excelErrorMessage=""):(a.stepValidation[1]=!1,a.excelErrorMessage=b.message)})})}})},function(){$("#createOrderProgressBar").progressbar({done:function(){b(function(){a.tpl_status.step3=2,d.offlineOrderCreateExcel(a.fileId,function(b){$.each(b,function(a,b){b.actualTotalWeight=0,$.each(b.outboundPackages,function(a,c){b.actualTotalWeight+=c.actualWeight||0}),b.actualTotalWeight=b.actualTotalWeight.toFixed(2)}),a.dataList=b,a.pagination.totalCount=a.dataList.totalCount,a.stepValidation[2]=!0,a.btnNextEnable=!0})})}})},function(){d.settlementForOffline(a.dataList[0].batchNumber,function(b){a.paymentInfo={paymentType:"2",totalWeight:0,shippingFee:0},$.each(b,function(b,c){$.each(a.dataList,function(a,b){return b.orderNumber==c.orderNumber?(b=$.extend(b,c),!1):void 0}),a.paymentInfo.totalWeight+=c.totalWeight,a.paymentInfo.shippingFee+=c.totalCount})}),a.stepValidation[3]=!0,a.validPaymentPrice()},function(){a.paymentErrorMessage="",d.outbound({batchNumber:a.dataList[0].batchNumber,paied:a.paymentPrice,payType:a.paymentInfo.paymentType},function(b){b.message&&(a.paymentErrorMessage=b.message)})}],h=null;h=$("#offline-order-wizard"),h.wizard({clickableSteps:!1}),h.on("change",function(c,d){if("next"==d.direction){if(!a.stepValidation[d.step-1]){switch(d.step){case 1:f.info("请上传线下订单Excel文件");break;case 2:f.info("文件检查未通过，请返回上一步重新上传")}return!1}if(3==d.step){var e=null;if($.each(a.dataList,function(a,b){return null==b.actualTotalWeight||0==b.actualTotalWeight?(e="订单编号为“"+b.orderNumber+"”的订单，没有填写实际订单重量。",!1):void 0}),e)return f.error(e),!1}else 4==d.step;switch(d.step){case 1:g[1]();break;case 2:g[2]();break;case 3:g[3]();break;case 4:g[4]()}b(function(){a.stepIndex=d.step+1,4==a.stepIndex?a.validPaymentPrice():a.btnNextEnable=!1})}else b(function(){a.stepIndex=d.step-1,a.btnNextEnable=!0})}).on("finished",function(){}),$(".wizard-wrapper .btn-next").click(function(){h.wizard("next")}),$(".wizard-wrapper .btn-prev").click(function(){h.wizard("previous")}),$(".wizard-wrapper .btn-checkout").click(function(){f.confirm("确定要出库吗？",function(a){a&&h.wizard("next")})}),g[0](),a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.openDetail=function(b){d.getDetail(b.orderNumber,function(c){a.editOrderInfo=angular.copy($.extend(!0,b,c)),a.editOrderInfo.message="",a.editOrderInfo.orderItems&&$.each(a.editOrderInfo.orderItems,function(b,c){$.each(a.editOrderInfo.outboundPackages,function(a,b){return $.grep(b.items,function(a){return a.transactionNumber==c.transactionNumber}).length>0?(c.trackingNumber=b.trackingNumber,!1):void 0})}),$("#offlineOrderDetailModal").modal("show")})},a.btnRemoveOrder=function(b){f.confirm("确定要删除吗？",function(c){c&&d["delete"](b.orderNumber,function(c){1==c.success&&(a.dataList=$.grep(a.dataList,function(a){return a.orderNumber!=b.orderNumber}))})})},a.btnSaveDetail=function(){d.updateOutboundPackageAndMessage({orderNumber:a.editOrderInfo.orderNumber,orderMessageNumber:a.editOrderInfo.orderMessageNumber,message:a.editOrderInfo.message||"",outboundPackages:a.editOrderInfo.outboundPackages},function(b){1==b.success&&($.each(a.dataList,function(b,c){return c.orderNumber==a.editOrderInfo.orderNumber?(a.editOrderInfo.actualTotalWeight=0,$.each(a.editOrderInfo.outboundPackages,function(b,c){a.editOrderInfo.actualTotalWeight+=parseFloat(c.actualWeight||0)}),a.editOrderInfo.actualTotalWeight=a.editOrderInfo.actualTotalWeight.toFixed(2),a.dataList[b]=angular.copy(a.editOrderInfo),!1):void 0}),$("#offlineOrderDetailModal").modal("hide"))})},a.btnSplitPackage=function(b){e.outboundPackageSplit({trackingNumber:b.trackingNumber},function(b){a.editOrderInfo.outboundPackages.push(b)})},a.btnRemovePackage=function(b){f.confirm("确定要删除该包裹吗？",function(c){c&&d.deleteOutboundPackage([b.trackingNumber],function(c){1==c.success&&(a.editOrderInfo.outboundPackages=$.grep(a.editOrderInfo.outboundPackages,function(a){return a.trackingNumber!=b.trackingNumber}))})})},a.validPaymentPrice=function(){a.btnNextEnable=/^([1-9][\d]{0,7}|0)(\.[\d]{1,2})?$/.test(a.paymentPrice)},a.btnBatchQuery=function(){return a.stepIndex=3,a.selectedListCache=[],a.searchBatchNumber?void d.getList({pageInfo:{pageSize:9999,pageIndex:1},batchNumber:a.searchBatchNumber||""},function(b){if(b.data)if(b.data.length>0){if(a.dataList=[],$.each(b.data,function(b,c){"Unpaid"==c.orderStatus&&(c.customerNumber=c.customer.customerNumber,c.id=c.referenceOrderNumber,c.actualTotalWeight=0,$.each(c.outboundPackages,function(a,b){c.actualTotalWeight+=b.actualWeight}),c.actualTotalWeight=c.actualTotalWeight.toFixed(2),a.dataList.push(c))}),0==a.dataList.length)return f.info("该批号对应的订单都已完成支付"),!1;h.data("wizard").selectedItem({step:3}),a.tpl_status.step3=2,a.stepValidation[2]=!0,a.btnNextEnable=!0}else f.info("您输入的的订单批号不存在")}):!1},a.selectedListCache=[],a.btnSelectedItem=function(b){b?b._selected||(a.searchBar.selectedAll=!1):$.each(a.dataList,function(b,c){c._selected=a.searchBar.selectedAll}),$.each(a.dataList,function(b,c){var d=$.grep(a.selectedListCache,function(a){return a.orderNumber==c.orderNumber}).length>0;c._selected&&0==d?a.selectedListCache.push(angular.copy(c)):c._selected||1!=d||(a.selectedListCache=$.grep(a.selectedListCache,function(a){return a.orderNumber!=c.orderNumber}))})},a.btnClearSelectedListCache=function(){a.selectedListCache=[],a.searchBar.selectedAll=!1,$.each(a.dataList,function(a,b){b._selected=!1})},a.btnPrint=function(b,c){var d=function(){switch(c){case"package":a.$broadcast("print-offline-package.action",b.orderNumber);break;case"trackingNumber":a.$broadcast("print-tracking-number.action",b)}};d()},a.btnPrintBatch=function(b){var c=[],d=angular.copy(a.selectedListCache);$.each(a.selectedListCache,function(a,b){c.push(b.orderNumber)});var e=function(){if(c.length>0)switch(b){case"package":a.$broadcast("print-offline-package.action",c);break;case"trackingNumber":a.$broadcast("print-tracking-number.action",d)}};0==a.selectedListCache.length&&$.each(a.dataList,function(a,b){c.push(b.orderNumber),d.push(b)}),e()}}]),angular.module("culAdminApp").controller("OrderPackageBatchUpdateCtrl",["$scope","$timeout","orderService","plugMessenger",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.stepIndex=1,a.stepValidation=[],a.btnNextEnable=!1,a.tpl_status={step3:1};var e=null;b(function(){e=$("#order-package-wizard"),e.on("change",function(c,e){if("next"==e.direction&&!a.stepValidation[e.step-1]){switch(e.step){case 1:d.info("请上传更新包裹物流Excel文件");break;case 2:d.info("文件检查未通过，请返回上一步重新上传")}return!1}switch(b(function(){a.stepIndex=e.step+("previous"==e.direction?-1:1),a.btnNextEnable=!1}),e.step){case 1:f[1]();break;case 2:f[2]();break;case 3:f[3]()}}),$(".wizard-wrapper .btn-next").click(function(){e.wizard("next")}),$(".wizard-wrapper .btn-prev").click(function(){e.wizard("previous")}),$(".wizard-wrapper .btn-update").click(function(){d.confirm("确定要更新吗？",function(a){a&&e.wizard("next")})}),f[0]()});var f=[function(){Dropzone.autoDiscover=!1,$(".dropzone").dropzone({url:cul.apiPath+"/files/upload",addRemoveLinks:!0,maxFilesize:3,maxFiles:1,acceptedFiles:".xls, .xlsx",headers:{token:sessionStorage.getItem("token")},dictDefaultMessage:"点击此处上传更新包裹物流Excel。",dictFallbackMessage:"您的浏览器不支持拖放文件上传方式。",dictFileTooBig:"所选的文件太大({{filesize}}MiB)。 文件最大限制：{{maxFilesize}}MiB。",dictInvalidFileType:"您不能上传该类型的文件。",dictResponseError:"文件上传失败，错误代码 {{statusCode}}",dictCancelUpload:"取消上传",dictCancelUploadConfirmation:"您确定要取消这次上传吗？",dictRemoveFile:"删除文件",dictMaxFilesExceeded:"您不能上传更多文件。",success:function(c){b(function(){var b=JSON.parse(c.xhr.response);a.fileId=b.filePath,a.stepValidation[0]=!0,e.wizard("next")})}}),a.btnNextEnable=!0},function(){$("#precheckProgressBar").progressbar({done:function(){b(function(){a.fileId?(a.stepValidation[1]=!0,a.btnNextEnable=!0,a.excelErrorMessage=""):(a.stepValidation[1]=!1,a.excelErrorMessage="预检测未通过")})}})},function(){c.orderPackageUpdateByExcel(a.fileId,function(b){"import successfully"==b?(a.stepValidation[2]=!0,a.btnNextEnable=!0,a.excelErrorMessage=""):(a.stepValidation[2]=!1,a.excelErrorMessage=b||"包裹更新失败!")})}];a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.openDetail=function(b){c.getDetail(b.orderNumber,function(c){a.editOrderInfo=$.extend(!0,b,c),$("#offlineOrderDetailModal").modal("show")})},a.btnRemoveOrder=function(b){d.confirm("确定要删除吗？",function(c){c&&(a.dataList=$.grep(a.dataList,function(a){return a.orderNumber!=b.orderNumber}))})},a.btnEditAddPackage=function(){c.generatePackageNumber(function(b){a.editOrderInfo.outboundPackages.push({trackingNumber:b,actualWeight:null})})},a.btnSaveDetail=function(){c.update(a.editOrderInfo,function(b){1==b&&($.each(a.dataList,function(b,c){return c.orderNumber==a.editOrderInfo.orderNumber?(a.editOrderInfo.actualTotalWeight=0,$.each(a.editOrderInfo.outboundPackages,function(b,c){a.editOrderInfo.actualTotalWeight+=parseFloat(c.actualWeight||0)}),a.dataList[b]=angular.copy(a.editOrderInfo),!1):void 0}),$("#offlineOrderDetailModal").modal("hide"))})},a.btnRemovePackage=function(b){b.actualTotalWeight&&d.confirm("确定要删除该包裹吗？",function(c){c&&(a.editOrderInfo.outboundPackages=$.grep(a.editOrderInfo.outboundPackages,function(a){return a.trackingNumber!=b.trackingNumber}))})}}]),angular.module("culAdminApp").controller("OrderTrackBatchUpdateCtrl",["$scope","$timeout","orderService","plugMessenger",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.stepIndex=1,a.stepValidation=[],a.btnNextEnable=!1,a.tpl_status={step3:1};var e=null;b(function(){e=$("#order-package-wizard"),e.on("change",function(c,e){if("next"==e.direction&&!a.stepValidation[e.step-1]){switch(e.step){case 1:d.info("请上传更新轨迹Excel文件");break;case 2:d.info("文件检查未通过，请返回上一步重新上传")}return!1}switch(b(function(){a.stepIndex=e.step+("previous"==e.direction?-1:1),a.btnNextEnable=!1}),e.step){case 1:f[1]();break;case 2:f[2]();break;case 3:f[3]()}}),$(".wizard-wrapper .btn-next").click(function(){e.wizard("next")}),$(".wizard-wrapper .btn-prev").click(function(){e.wizard("previous")}),$(".wizard-wrapper .btn-update").click(function(){d.confirm("确定要更新吗？",function(a){a&&e.wizard("next")})}),f[0]()});var f=[function(){Dropzone.autoDiscover=!1,$(".dropzone").dropzone({url:cul.apiPath+"/files/upload",addRemoveLinks:!0,maxFilesize:3,maxFiles:1,acceptedFiles:".xls, .xlsx",headers:{token:sessionStorage.getItem("token")},dictDefaultMessage:"点击此处上传更新轨迹Excel。",dictFallbackMessage:"您的浏览器不支持拖放文件上传方式。",dictFileTooBig:"所选的文件太大({{filesize}}MiB)。 文件最大限制：{{maxFilesize}}MiB。",dictInvalidFileType:"您不能上传该类型的文件。",dictResponseError:"文件上传失败，错误代码 {{statusCode}}",dictCancelUpload:"取消上传",dictCancelUploadConfirmation:"您确定要取消这次上传吗？",dictRemoveFile:"删除文件",dictMaxFilesExceeded:"您不能上传更多文件。",success:function(c){b(function(){var b=JSON.parse(c.xhr.response);a.fileId=b.filePath,a.stepValidation[0]=!0,e.wizard("next")})}}),a.btnNextEnable=!0},function(){$("#precheckProgressBar").progressbar({done:function(){b(function(){a.fileId?(a.stepValidation[1]=!0,a.btnNextEnable=!0,a.excelErrorMessage=""):(a.stepValidation[1]=!1,a.excelErrorMessage="预检测未通过")})}})},function(){c.orderTrackUpdateByExcel(a.fileId,function(b){"import successfully"==b?(a.stepValidation[2]=!0,a.btnNextEnable=!0,a.excelErrorMessage=""):(a.stepValidation[2]=!1,a.excelErrorMessage=b||"轨迹更新失败！")})}]}]),angular.module("culAdminApp").controller("OrderCommentsCtrl",["$rootScope","$scope","$location","$filter","$window","warehouseService","orderService","receiptService","plugMessenger","storage",function(a,b,c,d,e,f,g,h,i,j){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],b.dataList=[],b.customer_ids=JSON.parse(e.sessionStorage.getItem("role")).customer_ids,b.pagination={pageSize:"20",pageIndex:1,totalCount:0},b.searchBar={keywordType:"orderNumber",keywords:c.search().orderNumber||"",questionStatus:"",warehouseNumber:"",startDate:"",startTime_HH:"0",startTime_mm:"",startTime_ss:"",endDate:"",endTime_HH:"0",endTime_mm:"",endTime_ss:"",opened:{startDate:!1,endDate:!1}},b.questionStatusList=[{key:"",value:"全部"},{key:"Closed",value:"已处理"},{key:"Processing",value:"未处理"}],f.getWarehouse(function(a){1==a.length?(b.searchBar.warehouseList=a,b.searchBar.warehouseNumber=b.searchBar.warehouseList[0].warehouseNumber):b.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(a)});var k=function(){b.searchBar.startDate&&(b.searchBar.startDate.setHours(""!==b.searchBar.startTime_HH?b.searchBar.startTime_HH:0),b.searchBar.startDate.setMinutes(""!==b.searchBar.startTime_mm?b.searchBar.startTime_mm:0),b.searchBar.startDate.setSeconds(""!==b.searchBar.startTime_ss?b.searchBar.startTime_ss:0)),b.searchBar.endDate&&(b.searchBar.endDate.setHours(""!==b.searchBar.endTime_HH?b.searchBar.endTime_HH:23),b.searchBar.endDate.setMinutes(""!==b.searchBar.endTime_mm?b.searchBar.endTime_mm:59),b.searchBar.endDate.setSeconds(""!==b.searchBar.endTime_ss?b.searchBar.endTime_ss:59));var a={pageInfo:b.pagination,dateFrom:b.searchBar.startDate?b.searchBar.startDate.toISOString():"",dateTo:b.searchBar.endDate?b.searchBar.endDate.toISOString():""};return b.searchBar.warehouseNumber&&(a.receivedWarehouseNumber=b.searchBar.warehouseNumber),b.searchBar.questionStatus&&(a.status=b.searchBar.questionStatus),b.searchBar.keywords&&(a[b.searchBar.keywordType]=b.searchBar.keywords,"orderNumber"==b.searchBar.keywordType&&b.searchBar.keywords.indexOf("\n")>=0&&(a[b.searchBar.keywordType]=b.searchBar.keywords.split("\n"))),angular.copy(a)};b.getData=function(){var a=k();g.getOrderCommentsList(angular.copy(a),function(a){b.dataList=a.data,b.pagination.totalCount=a.pageInfo.totalCount,b.dataList.forEach(function(a){a._massage=a.messageLogs[a.messageLogs.length-1].message})})},b.btnSearch=function(){b.selectedListCache=[],b.dataList=[],b.pagination.pageIndex=1,b.pagination.totalCount=0,b.getData()},b.btnOpenDetail=function(a,b){switch(a){case"receiptDetail":c.search({receiptNumber:b.receiptNumber}),c.path("/warehouse/receiptdetail2");break;case"ordercommentsdetail":c.search({orderMessageNumber:b.messageNumber}),c.path("/order/ordercommentsdetail");break;case"orderdetail":c.search({orderNumber:b.orderNumber}),c.path("/order/orderdetail")}},b.btnAction=function(a,b){switch(a){case"exception":c.path("/warehouse/receiptexception");break;case"inbound":b&&c.search({receiptNumber:b.receiptNumber,inboundStatus:b.inboundStatus}),c.path("/warehouse/receiptedit2");break;case"check":b&&c.search({receiptNumber:b.receiptNumber}),c.path("/warehouse/receiptcheck2");break;case"delete":i.confirm("请确认是否删除该记录？",function(a){})}}}]),angular.module("culAdminApp").controller("OrderCommentsDetailCtrl",["$scope","$location","$window","orderService","addressService","customerMessageService","plugMessenger",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.search={},a.search.parentid=0,a.provinces=[],a.citys=[],a.areas=[],a.getProvince=function(b,c,d,f){e.getDistrict(a.search).then(function(e){a.provinces=e.data.data,b&&(a.provinces.forEach(function(c){b.indexOf(c.name)>=0&&(f.province=c,a.search.province=c)}),c&&a.getCity(c,d,f))})},a.getProvince(),a.getCity=function(b,c,d){d.area="",d.city="",a.search.parentid=d.province.id,e.getDistrict(a.search).then(function(e){a.citys=e.data.data,b&&(a.citys.forEach(function(c){b.indexOf(c.name)>=0&&(d.city=c,a.search.city=c)}),c&&a.getArea(c,d))})},a.getArea=function(b,c){a.search.parentid=c.city.id,e.getDistrict(a.search).then(function(d){a.areas=d.data.data,b&&a.areas.forEach(function(d){b.indexOf(d.name)>=0&&(c.area=d,a.search.area=d)})})},a.provinceList=[],a.isPrintDetail=!!b.search().print,a.isShow=!1,a.data=[],a.refreshMessage=function(){f.getDetail(b.search().orderMessageNumber,function(b){a.data.messageLogs=[],b&&(a.data=b.data,a.data.messageLogs=b.data.messageLogs,a.data.messageLogs.forEach(function(a){a.images&&a.images.indexOf(",")>=0?a.images=a.images.split(","):a.images=[a.images]})),h($("#uploadImg"),"_images")})},a.refreshMessage(),a.btnEditOrderItems=function(){a._editOrderItemsData=JSON.parse(JSON.stringify(a.data.orderItems)),a._editOrderItems=!0},a.cloneAddress=null,a.btnEditOrderAddress=function(b){a.cloneAddress=angular.copy(b),b._edit=!0},a.btnMessagePush=function(){a._message&&f.push({messageNumber:b.search().orderMessageNumber,message:a._message,images:a.data._images},function(b){a.refreshMessage(),a._message="",a.data._images="",$("#uploadImg_show").attr("src","")})},a.btnSave=function(){var b=a.data;d.update({orderNumber:b.orderNumber,orderStatus:b.orderStatus,printStatus:b.printStatus,payDate:b.payDate,paied:b.paied,priceAdjustMemo:b.priceAdjustMemo,orderItems:b.orderItems},function(a){a.message||(g.success("保存成功"),c.location.reload())})},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()},a.btnOpenDetail=function(a,c){switch(c){case"orderdetail":b.search({orderNumber:a.orderNumber}),b.path("/order/orderdetail");break;case"customerdetail":b.search({customerNumber:a.customer.customerNumber}),b.path("/customer/customerdetail")}};var h=function(b,c){var d=b.parents(".fileupload-buttonbar:first");b.fileupload({url:cul.apiPath+"/files/upload",type:"post",headers:{token:sessionStorage.getItem("token")}}).bind("fileuploadprogress",function(a,b){var c=parseInt(b.loaded/b.total*100,10);d.find("#progress").css("width",c+"%")}).bind("fileuploaddone",function(b,e){d.find("#file_btn_text").text("重新上传"),a.$apply(function(){a.data[c]=e.result.url})})}}]),angular.module("culAdminApp").controller("ReceiptCtrl",["$rootScope","$scope","$location","$filter","$window","warehouseService","plugMessenger","storage",function(a,b,c,d,e,f,g,h){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],b.dataList=[],b.customer_ids=JSON.parse(e.sessionStorage.getItem("role")).customer_ids,b.pagination={pageSize:"20",pageIndex:1,totalCount:0},b.searchBar={keywordType:"trackingNumber",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},b.tempSearchBar=angular.copy(h.getSearchObject()),b.tempSearchBar&&(b.searchBar=b.tempSearchBar?b.tempSearchBar:b.searchBar),b.getData=function(){h.session.setObject("searchBar",b.searchBar);var c={pageInfo:b.pagination,dateFrom:b.searchBar.startDate?b.searchBar.startDate.toISOString():"",dateTo:b.searchBar.endDate?b.searchBar.endDate.toISOString():""};b.searchBar.keywords&&("customerNumber"!=b.searchBar.keywordType||void 0==b.customer_ids||0===parseInt(b.customer_ids)||b.customer_ids.split(",").includes(b.searchBar.keywords)||(b.searchBar.keywords="没有查看该客户的权限,请联系统管理员"),c[b.searchBar.keywordType]=b.searchBar.keywords),f.getInboundPackageList(c,function(c){var d=c.data;void 0!=b.customer_ids&&0!==parseInt(b.customer_ids)&&(d=d.filter(function(a){return b.customer_ids.split(",").includes(a.customerNumber)})),b.dataList=d,b.pagination.totalCount=c.pageInfo.totalCount,a.$emit("changeMenu")})},b.btnSearch=function(){b.dataList=[],b.pagination.pageIndex=1,b.pagination.totalCount=0,b.getData()},b.btnOpenDetail=function(a,b){switch(b){case"trackingDetail":c.search({trackingNumber:a.trackingNumber}),c.path("/warehouse/editreceipt");break;case"customerDetail":c.search({customerNumber:a.customerNumber}),c.path("/customer/customerdetail")}},b.btnActions=function(a,c){switch(c){case"void":break;case"delete":g.confirm("确定要删除吗？",function(c){f.deleteInboundPackageDetail(a.trackingNumber,function(a){1==a.success&&(g.success("删除成功"),b.btnSearch())})})}},b.btnPrint=function(a){b.$broadcast("print-inboundPackage.action",a.trackingNumber)},b.addReceipt=function(){c.path("/warehouse/editreceipt")}}]),angular.module("culAdminApp").controller("EditReceiptCtrl",["$scope","$location","warehouseService","plugMessenger",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data={trackingNumber:angular.copy(b.search().trackingNumber||"")},a._trackingNumber="",a.tpl_status={warehouseList:[],isExist:!1},a.getPackageDetail=function(){a.data.trackingNumber&&a._trackingNumber!=a.data.trackingNumber&&c.getInboundPackageDetail(a.data.trackingNumber,function(b){if(null==b){var c=angular.copy(a.data.trackingNumber);a.data={trackingNumber:c},a._trackingNumber="",a.tpl_status.isExist=!1}else a.data=b,a._trackingNumber=angular.copy(a.data.trackingNumber),a.tpl_status.isExist=!0})},a.hotKey=function(b){switch(b.keyCode){case 13:a.getPackageDetail()}},c.getWarehouse(function(b){a.tpl_status.warehouseList=b,a.getPackageDetail()}),a.btnSave=function(b){var f=parseFloat(a.data.packageWeight);return null==a.data.trackingNumber?void d.info("请输入入库单号"):null==a.data.warehouseNumber?void d.info("请选择收货仓库"):null==a.data.carrierName?void d.info("请选择快递公司"):null==a.data.customerNumber?void d.info("请输入客户编号"):null==a.data.receiveIdentity?void d.info("请输入客户标示"):null==a.data.packageDescription?void d.info("请输入运单内容"):"NaN"==f.toString()||0>=f?void d.info("请正确输入包裹重量"):(a.data.status="Inbound",a.data.inboundDate=Date.now(),a.data.inboundUserName=a.$root.userInfo.userName,a.data.OnshelfDate=Date.now(),a.data.OnshelfUserName=a.$root.userInfo.userName,void c.updateInboundPackageDetail(a.data,function(a){1==a.success&&(d.success("保存成功"),"function"==typeof b?b():e())}))},a.cancelEdit=function(){b.path("/warehouse/receipt")},a.btnSaveAndPrint=function(){a.$broadcast("print-inboundPackage.action",a.data.trackingNumber)},a.btnPrint=function(){a.$broadcast("print-inboundPackage.action",a.data.trackingNumber)};var e=function(){$("#txtTrackingNumber").focus(),a._trackingNumber="",a.tpl_status.isExist=!1,a.data={}};a.$on("$destroy",function(){b.search("trackingNumber",null)})}]),angular.module("culAdminApp").controller("Receipt2Ctrl",["$rootScope","$scope","$location","$filter","$window","warehouseService","shelfService","receiptService","plugMessenger","storage",function(a,b,c,d,e,f,g,h,i,j){
this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],b.dataList=[],b.customer_ids=JSON.parse(e.sessionStorage.getItem("role")).customer_ids,b.pagination={pageSize:"20",pageIndex:1,totalCount:0},b.searchBar={keywordType:"receiptNumber",keywords:c.search().receiptNumber||"",warehouseNumber:"",sendType:"",inboundStatus:"0",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1},isUnusual:"",flag:"5"},b.tempSearchBar=angular.copy(j.getSearchObject()),b.tempSearchBar&&(b.searchBar=b.tempSearchBar?b.tempSearchBar:b.searchBar),b.sendTypes=[{key:"",value:"全部"},{key:"1",value:"寄送库存"},{key:"2",value:"海淘包裹"},{key:"3",value:"异常包裹"},{key:"4",value:"员工包裹"}],f.getWarehouse(function(a){1==a.length?(b.searchBar.warehouseList=a,b.searchBar.warehouseNumber=b.searchBar.warehouseList[0].warehouseNumber):b.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(a)});var k=function(){var a={pageInfo:b.pagination,inboundDateFrom:b.searchBar.startDate?new Date(b.searchBar.startDate):"",inboundDateTo:b.searchBar.endDate?new Date(b.searchBar.endDate):"",flag:b.searchBar.flag};return b.searchBar.sendType&&(a.sendType=b.searchBar.sendType),b.searchBar.isUnusual&&(a.isUnusual=b.searchBar.isUnusual),b.searchBar.inboundStatus&&(a.inboundStatus=b.searchBar.inboundStatus),b.searchBar.warehouseNumber&&(a.warehouseNumber=b.searchBar.warehouseNumber),b.searchBar.keywords&&("customerNumber"!=b.searchBar.keywordType||void 0==b.customer_ids||0===parseInt(b.customer_ids)||b.customer_ids.split(",").includes(b.searchBar.keywords)||(b.searchBar.keywords="没有查看该客户的权限,请联系统管理员"),a[b.searchBar.keywordType]=b.searchBar.keywords),a.isUnusual=b.searchBar.isUnusual,angular.copy(a)};b.getData=function(){j.session.setObject("searchBar",b.searchBar),b.searchBar.isUnusual=0,3==b.searchBar.sendType&&(b.searchBar.isUnusual=2,b.searchBar.sendType=2),4==b.searchBar.sendType&&(b.searchBar.isUnusual=1,b.searchBar.sendType=2),g.getTransportList(k(),function(c){console.log(c);var d=c.data;void 0!=b.customer_ids&&0!==parseInt(b.customer_ids)&&(d=d.filter(function(a){return b.customer_ids.toString().split(",").indexof(a.customerNumber)>=0})),d.forEach(function(a){a.packageDescription&&a.packageDescription.length>20&&(a.packageDescriptionFlag=1),a.packageDescription&&(a.packageDescription1=a.packageDescription.substring(0,20)),a.packageNoteFlag&&a.packageNote.length>20&&(a.packageNoteFlag=1),a.packageNote&&(a.packageNote1=a.packageNote.substring(0,20))}),2==b.searchBar.isUnusual&&(b.searchBar.sendType=b.sendTypes[3].key),1==b.searchBar.isUnusual&&(b.searchBar.sendType=b.sendTypes[4].key),b.dataList=d,b.dataList.forEach(function(a){1==a.isUnusual&&(a._sendType="员工包裹"),2==a.isUnusual&&(a._sendType="异常包裹")}),b.pagination.totalCount=c.pageInfo.totalCount,a.$emit("changeMenu")})},b.btnSearch=function(){b.dataList=[],b.pagination.pageIndex=1,b.pagination.totalCount=0,b.getData()},b.btnOpenDetail=function(a,b){switch(a){case"receiptDetail":c.search({receiptNumber:b.receiptNumber}),c.path("/warehouse/receiptdetail2");break;case"customerDetail":c.search({customerNumber:b.customerNumber}),c.path("/customer/customerdetail")}},b.adjustWeight=function(a){console.log(a),a&&c.search({itemNumber:a.receiptNumber,packageWeight:a.packageWeight}),c.path("/warehouse/inventoryadjustweight")},b.deleteLog=function(){c.path("/warehouse/deleteReceiptLog")},b.btnAction=function(a,d){switch(a){case"exception":c.path("/warehouse/receiptexception");break;case"inbound":d&&c.search({receiptNumber:d.receiptNumber,inboundStatus:d.inboundStatus}),c.path("/warehouse/receiptedit2");break;case"check":d&&c.search({receiptNumber:d.receiptNumber}),c.path("/warehouse/receiptcheck2");break;case"delete":i.confirm("请确认是否删除该记录？",function(a){a&&h["delete"](d,function(a){1==a.success&&(i.success("删除成功"),b.getData())})})}}}]),angular.module("culAdminApp").controller("ReceiptEdit2Ctrl",["$scope","$location","$window","receiptService","plugMessenger","$timeout",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data=null,a.checkReceiveIdentity=function(b){var c=window.event?b.keyCode:b.which;if(13==c){if(!a.data.receiveIdentity)return void e.error("客户标示不能为空");a.flag="0",d.checkReceiveIdentity(a.data).then(function(b){return"999"==b.data.code?(document.getElementById("receiveIdentity").focus(),void e.error(b.data.msg)):void("000"==b.data.code&&(packageDescription.focus(),a.data.customerNumber=b.data.data[0].customerNumber))})}},a.myKeyup=function(b,c){a.myKeyup=function(b){var d=window.event?b.keyCode:b.which;13==d&&a.btnSave(c)}},a.$on("$viewContentLoaded",function(){}),a.tempReceiptNumber=b.search().receiptNumber||"",a.tempInboundStatus=b.search().inboundStatus||1,a.tempReceipt=a.tempReceiptNumber.substring(0,3),a.tempReceiptNumber&&("ASN"==a.tempReceipt?a.checkReceiptNumber():(b.search({trackingNumber:a.tempReceiptNumber,inboundStatus:a.tempInboundStatus}),b.path("/warehouse/receiptNoASN")));var g=null;a.checkReceiptNumber=function(e){var f=window.event?e.keyCode:e.which;if(13==f){if(a.tempInboundStatus=-1,a.tempReceiptNumber&&"ASN"!=a.tempReceipt)return b.search({trackingNumber:a.tempReceiptNumber,inboundStatus:a.tempInboundStatus}),void b.path("/warehouse/receiptNoASN");g&&clearTimeout(g),g=setTimeout(function(){a.$apply(function(){a.tempReceiptNumber?d.getDetail(a.tempReceiptNumber,function(b){a.data=null,b.message||(a.data=b),"2"==a.data.sendType,"1"==a.data.isTransfer&&a.data.packageWeight&&(a.data.items[0].weight=a.data.packageWeight);var d=c.document.getElementById("weight");d&&d.focus(),a.tempReceiptNumber=""}):a.tempReceiptNumber=""})},1e3)}},a.checkReceiptNumber2=function(){return a.tempInboundStatus=-1,a.tempReceiptNumber&&"ASN"!=a.tempReceipt?(b.search({trackingNumber:a.tempReceiptNumber,inboundStatus:a.tempInboundStatus}),void b.path("/warehouse/receiptNoASN")):(g&&clearTimeout(g),void(g=setTimeout(function(){a.$apply(function(){a.tempReceiptNumber?d.getDetail(a.tempReceiptNumber,function(b){a.data=null,b.message||(a.data=b),"2"==a.data.sendType,"1"==a.data.isTransfer&&a.data.packageWeight&&(a.data.items[0].weight=a.data.packageWeight);var d=c.document.getElementById("weight");d&&d.focus(),a.tempReceiptNumber=""}):a.tempReceiptNumber=""})},1e3)))},a.btnSave=function(b){a.data.isUnusual=0,$("input[name='pro']:checked").each(function(b,c){a.isStaffFlag=$(this).attr("value")}),"true"==a.isStaffFlag&&(a.data.isUnusual=1);var c=function(c){c.message||(e.success("操作成功"),b?a.btnPrint(b):a.data=null)};switch(a.data.sendType){case 1:d.saveForOffline({receiptNumber:a.data.receiptNumber,customerNumber:a.data.customerNumber},c);break;case 2:d.saveForOnline({receiptNumber:a.data.receiptNumber,customerNumber:a.data.customerNumber,isUnusual:a.data.isUnusual,weight:a.data.items[0].weight},c)}},a.btnException=function(){b.search({receiptNumber:a.data.receiptNumber}),b.path("warehouse/receiptexceptionedit")},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()},$("#tip_receiptNumber_receiptedit2").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"请扫描收货单据编号。<br/>海淘包裹请扫描包裹上面的快递跟踪编号，<br/>比如UPS是1z开头的14-18位条码。<br/>VIP客户寄送库存单据请扫描ASN开头的条码。"}),a.btnOpenDetail=function(a,c){switch(c){case"customerdetail":b.search({customerNumber:a.customerNumber}),b.path("/customer/customerdetail")}},a.btnPrint=function(b){switch(a.data.sendType){case 1:a.$broadcast("print-helper.action","receipt-tag-check-tag",{receiptNumber:b.receiptNumber}),a.data=null;break;case 2:a.$broadcast("print-inboundPackage.action",b.receiptNumber),a.data=null}},a.btnNoASN=function(){b.path("/warehouse/receiptNoASN")}}]),angular.module("culAdminApp").controller("ReceiptNoASNCtrl",["$scope","$location","$window","receiptService","warehouseService","plugMessenger","$timeout",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data={},a.warehouseList=[],a.flag="0",a.customerNumberFocus=!1,a.myKeyup_1=function(b){var c=window.event?b.keyCode:b.which;13==c&&a.getPackageDetail()},a.isUnusual=b.search().isUnusual,a.data={trackingNumber:angular.copy(b.search().trackingNumber||""),inboundStatus:angular.copy(b.search().inboundStatus||"")},a._trackingNumber="",a.tpl_status={warehouseList:[],isExist:!1},a.isWarehouseRight=!1,a.pkgWarehouseNumber="",a.getPackageDetail=function(){a.data.trackingNumber&&a._trackingNumber!=a.data.trackingNumber&&e.getInboundPackageDetail(a.data.trackingNumber,function(c){if(null==c){a.isWarehouseRight=!0,warehouseNumber.focus();var d=angular.copy(a.data.trackingNumber);a.data={trackingNumber:d},a.data.warehouseNumber=a.warehouseList[0].key||"1",a._trackingNumber="",a.tpl_status.isExist=!1,a.data.inboundStatus=angular.copy(b.search().inboundStatus||"")}else console.log(c),a.data=c,a.pkgWarehouseNumber=c.warehouseNumber,a.data.inboundStatus=angular.copy(b.search().inboundStatus||""),a._trackingNumber=angular.copy(a.data.trackingNumber),a.tpl_status.isExist=!0,a.tpl_status.isExist_p=!0,a.data.trackingNumber&&a.data.inboundStatus<3&&(packageWeight.focus(),a.tpl_status.isExist_p=!1),"InOrder"==a.data.status&&(a.tpl_status.isExist_p=!0),a.warehouseList.forEach(function(b){a.data.warehouseNumber==b.key&&(a.isWarehouseRight=!0)}),0==a.isWarehouseRight&&f.error("收货仓库跟入库信息不符，请修改入库信息重新登记入库")})},e.getWarehouse(function(b){a.tpl_status.warehouseList=b;for(var c=0;c<b.length;c++){var d={};a.data.warehouseNumber=b[0].warehouseNumber,d.key=b[c].warehouseNumber,d.value=b[c].warehouseName,a.warehouseList.push(d),a.getPackageDetail()}}),a.getReceiveIdentity=function(){return void 0==a.data.receiveIdentity||""==a.data.receiveIdentity.trim()?(f.error("客户标识不能为空"),document.getElementById("receiveIdentity").focus(),!1):(a.flag="0",void d.checkReceiveIdentity(a.data).then(function(b){return"999"==b.data.code?(document.getElementById("receiveIdentity").focus(),f.error(b.data.msg),!1):"000"==b.data.code?(a.data.tempCustomerNumber=b.data.data[0].customerNumber,!0):void 0}))},a.checkReceiveIdentity=function(b){var c=window.event?b.keyCode:b.which;if(13==c){if(!a.data.receiveIdentity)return;a.flag="0",d.checkReceiveIdentity(a.data).then(function(b){return"999"==b.data.code?(document.getElementById("receiveIdentity").focus(),void f.error(b.data.msg)):void("000"==b.data.code&&(customerNumber.focus(),a.data.tempCustomerNumber=b.data.data[0].customerNumber))})}},a.myKeyup=function(b){var c=window.event?b.keyCode:b.which;13==c&&a.register()},a.checkReceive=function(b){var d=window.event?b.keyCode:b.which;if(13==d){if(!a.data.customerNumber)return f.error("客户编号不能为空"),void(a.customerNumberFocus=!0);if(a.data.tempCustomerNumber!=a.data.customerNumber)return f.error("客户标示和客户编号不匹配，请重新输入"),a.data.customerNumber="",void c.document.getElementById("customerNumber").focus();packageDescription.focus()}},a.checkCustomerNumber=function(b){return a.data.customerNumber?a.data.tempCustomerNumber!=a.data.customerNumber?(f.error("客户标示和客户编号不匹配，请重新输入"),a.data.customerNumber="",c.document.getElementById("customerNumber").focus(),!1):!0:(f.error("客户编号不能为空"),c.document.getElementById("customerNumber").focus(),!1)},a.checkInboundPackage=function(){d.checkInboundPackage(a.data).then(function(b){return a.flag="0","999"==b.data.code?void f.error(b.data.msg):void("000"==b.data.code&&a.data.customerNumber&&(a.flag="1"))})},a.inboundpackage=function(){e.inboundpackage(a.data).then(function(b){200==b.status&&a.btnSave(a.data.trackingNumber)})},a.btnSave=function(b){var c=function(c){c.message?f.success("货物预报成功，入库失败，请到收货仓库入库"):(a.$broadcast("print-inboundPackage.action",b),a.data=null)};d.saveForOnline(a.data,c)},a.register=function(){if(0==a.isWarehouseRight)return void f.error("收货仓库跟入库信息不符，请修改入库信息重新登记入库");if(a.tpl_status.isExist)a.updateSave();else{if(0==a.getReceiveIdentity())return;if(0==a.checkCustomerNumber())return;a.btnSaveAndPrint()}},a.btnSaveAndPrint=function(){return a.isUnusual&&(a.data.isUnusual=a.isUnusual),0==a.isWarehouseRight?void f.error("收货仓库跟入库信息不符，请修改入库信息重新登记入库"):("true"==a.isStaffFlag&&(a.data.isUnusual=1),a.data.receiveIdentity&&a.data.customerNumber&&a.data.trackingNumber&&a.data.warehouseNumber&&a.data.packageWeight?(a.data.weight=a.data.packageWeight,a.data.receiptNumber=a.data.trackingNumber,a.inboundpackage(),void 0):void f.error("请填写所有必填项"))},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),b.path("/warehouse/receipt2")},a.print=function(){a.$broadcast("print-inboundPackage.action",a.data.trackingNumber)},a.updateSave=function(b){if(!a.data.packageWeight)return void f.error("必须填写重量");a.isUnusual&&(a.data.isUnusual=a.isUnusual);var e=function(b){if(!b.message){f.success("操作成功"),a.$broadcast("print-inboundPackage.action",a.data.trackingNumber),a.data=null;var d=c.document.getElementById("txtTrackingNumber");d&&d.focus()}};a.options={receiptNumber:a.data.trackingNumber,customerNumber:a.data.customerNumber,isUnusual:a.data.isUnusual,weight:a.data.packageWeight,warehouseNote:a.data.warehouseNote},d.saveForOnline(a.options,e)},a.btnException=function(){b.search({receiptNumber:a.data.trackingNumber}),b.path("warehouse/receiptexceptionedit")},a.updateWarehouse=function(b){0===a.data.inOrder?"Intransit"===a.data.status||"Inbound"===a.data.status?e.updateWareInboundpackage(a.data,function(b){"000"==b.code&&(f.success("更新成功"),a.warehouseList.forEach(function(b){a.data.warehouseNumber==b.key&&(a.isWarehouseRight=!0)}))}):(f.error("该包裹已经完成上架，无法更改仓库"),a.data.warehouseNumber=a.pkgWarehouseNumber):1===a.data.isFastShip?"Intransit"===a.data.status||"Inbound"===a.data.status||"InOrder"===a.data.status?e.updateWareInboundpackage(a.data,function(b){"000"==b.code&&(f.success("更新成功"),a.warehouseList.forEach(function(b){a.data.warehouseNumber==b.key&&(a.isWarehouseRight=!0)}))}):(f.error("该包裹已经完成上架, 且非极速订单，无法更改仓库"),a.data.warehouseNumber=a.pkgWarehouseNumber):(f.error("该包裹已经提交订单，无法做仓库修改，除非删除订单，方可做仓库更改"),a.data.warehouseNumber=a.pkgWarehouseNumber)},$("#tip_pkg_weight").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"已收货和已上架包裹可修改重量。<br/>已提交订单的包裹需要删除订单<br/>方可做入库重量的修改。<br/>"})}]),angular.module("culAdminApp").controller("ReceiptDetail2Ctrl",["$scope","$location","$window","receiptService","plugMessenger","$timeout",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data=null,a.tempReceiptNumber=b.search().receiptNumber,d.getDetail(a.tempReceiptNumber,function(b){a.data=null,b.message||(a.data=b)}),a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()},a.btnOpenDetail=function(a,c){switch(c){case"customerdetail":b.search({customerNumber:a.customerNumber}),b.path("/customer/customerdetail")}},a.linkToShelfDetail=function(a){b.search({shelfNumber:a.shelfNumber,warehouseNumber:a.warehouseNumber}),b.path("/warehouse/shelfmanagementdetail")},a.btnPrint=function(b){switch(a.data.sendType){case 1:a.$broadcast("print-helper.action","receipt-tag-check-tag",{receiptNumber:b.receiptNumber});break;case 2:a.$broadcast("print-inboundPackage.action",b.receiptNumber)}}}]),angular.module("culAdminApp").controller("ReceiptCheck2Ctrl",["$scope","$location","$window","receiptService","plugMessenger","$timeout","$compile",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data=null,a.tempReceiptNumber=b.search().receiptNumber||"",a.tempItemNumber="",a.checkedItemsForFailed=[];var h=null;a.checkReceiptNumber=function(){h&&clearTimeout(h),h=setTimeout(function(){a.$apply(function(){a.tempReceiptNumber?d.getDetail(a.tempReceiptNumber,function(b){a.data=null,b.message||(a.data=b),a.tempReceiptNumber=""}):a.tempReceiptNumber=""})},1e3)},a.checkReceiptNumber(),a.checkItemNumber=function(){h&&clearTimeout(h),h=setTimeout(function(){a.$apply(function(){a.tempItemNumber?d.checkItem(a.tempItemNumber,function(b,c){var d=$("#check_success_alert"),f=$("#check_fail_alert");if(d.hide(),f.hide(),b){var g=!1;if(_.each(a.data.items,function(b){(b.upccode==a.tempItemNumber||b.itemNumber==a.tempItemNumber)&&(b._isShow=!0,null==b.scanCount&&(b.scanCount=0),b.scanCount++,g=!0)}),g){var h="已清点商品 {0} x 1".replace("{0}",a.tempItemNumber);d.text(h),d.show()}else{var h="商品 {0} 不在该收获单据中".replace("{0}",a.tempItemNumber);f.text(h),f.show(),a.checkedItemsForFailed.push(h)}}else e.error("商品不存在");a.tempItemNumber=""}):a.tempItemNumber=""})},1e3)},a.btnSave=function(){var b=[],c=0;_.each(a.data.items,function(a){a._isShow&&(b.push({itemNumber:a.itemNumber,scanCount:a.scanCount,weight:a.weight}),c+=a.scanCount)});var f=function(){d.checkForOffline({receiptNumber:a.data.receiptNumber,items:b},function(b,c){200==c&&(e.success("操作成功"),a.btnPrev())})};a.data.itemCount>c?e.confirm("应收货商品数量为"+a.data.itemCount+"，实际清点商品为"+c+"。请确认是否部分收货？",function(a){a&&f()}):f()},a.btnFailedItemsDetail=function(){e.template(g($("#failedItemsDetail").html())(a))},a.btnException=function(){b.search({receiptNumber:a.data.receiptNumber}),b.path("warehouse/receiptexceptionedit")},a.btnFailedItemsClose=function(a){$(a.currentTarget).parents("#confirm-modal").modal("hide")},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()},a.btnPrint=function(b,c){switch(b){case"inbound":a.$broadcast("print-helper.action","receipt-tag-inbound-tag",{receiptNumber:c.receiptNumber,number:c.scanCount});break;case"exception":a.$broadcast("print-helper.action","receipt-tag-exception-log",{data:a.checkedItemsForFailed})}},$("#tip_receiptNumber_receipcheck2").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"请扫描收货单据编号。<br/>海淘包裹请扫描包裹上面的快递跟踪编号，<br/>比如UPS是1z开头的14-18位条码。<br/>VIP客户寄送库存单据请扫描ASN开头的条码。"})}]),angular.module("culAdminApp").controller("ReceiptStaffCtrl",["$scope","$location","$window","receiptService","warehouseService","plugMessenger","$timeout",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data=null,a.tempReceiptNumber=b.search().receiptNumber||"",a.staff=b.search().staff,e.getWarehouse(function(b){a.warehouseList=b}),a.checkReceiptNumber=function(c){var e=window.event?c.keyCode:c.which;13==e&&d.getDetail(a.tempReceiptNumber,function(c){c.message||(b.search({trackingNumber:a.tempReceiptNumber,inboundStatus:a.tempInboundStatus,isUnusual:1}),b.path("/warehouse/receiptNoASN"))})},a.keyDown=function(b){var c=window.event?b.keyCode:b.which;13==c&&a.checkReceiptNumber()},a.checkReceiptNumber=function(){a.tempReceiptNumber?d.getDetail(a.tempReceiptNumber,function(c){a.data=null,c.message||(b.search({trackingNumber:a.tempReceiptNumber,inboundStatus:a.tempInboundStatus,isUnusual:1}),b.path("/warehouse/receiptNoASN")),a.tempReceiptNumber=""}):a.tempReceiptNumber=""},a.checkReceiptNumber(),a.btnSave=function(){d.exceptionSave({customerNumber:a.data.customerNumber,receiptNumber:a.data.receiptNumber,warehouseNumber:a.data.warehouseNumber,type:a.data.type,sendtype:a.data.sendType,memo:a.data.memo},function(b){f.success("操作成功"),a.data.exceptionNumber=b.data[0].exceptionNumber,a.btnPrint()})},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()},a.btnPrint=function(b){switch(a.data.sendType){case 1:a.$broadcast("print-helper.action","receipt-tag-exception-tag",{exceptionNumber:a.data.exceptionNumber});break;case 2:a.$broadcast("print-helper.action","receipt-tag-exception-tag",{exceptionNumber:a.data.exceptionNumber})}},$("#tip_receiptNumber_staff").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"请扫描收货单据编号。<br/>海淘包裹请扫描包裹上面的快递跟踪编号，<br/>比如UPS是1z开头的14-18位条码。<br/>VIP客户寄送库存单据请扫描ASN开头的条码。"})}]),angular.module("culAdminApp").controller("ReceiptExceptionCtrl",["$rootScope","$scope","$location","$filter","$window","warehouseService","shelfService","receiptService","plugMessenger","storage",function(a,b,c,d,e,f,g,h,i,j){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],b.dataList=[],b.customer_ids=JSON.parse(e.sessionStorage.getItem("role")).customer_ids,b.pagination={pageSize:"20",pageIndex:1,totalCount:0},b.searchBar={keywordType:"receiptNumber",warehouseNumber:"",sendType:"",status:"",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},b.tempSearchBar=angular.copy(j.getSearchObject()),b.tempSearchBar&&(b.searchBar=b.tempSearchBar?b.tempSearchBar:b.searchBar),f.getWarehouse(function(a){1==a.length?(b.searchBar.warehouseList=a,b.searchBar.warehouseNumber=b.searchBar.warehouseList[0].warehouseNumber):b.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(a)});var k=function(){var a={pageInfo:b.pagination,dateFrom:b.searchBar.startDate?new Date(b.searchBar.startDate):"",dateTo:b.searchBar.endDate?new Date(b.searchBar.endDate):""};return b.searchBar.sendType&&(a.sendType=b.searchBar.sendType),b.searchBar.status&&(a.status=b.searchBar.status),b.searchBar.warehouseNumber&&(a.warehouseNumber=b.searchBar.warehouseNumber),b.searchBar.keywords&&("customerNumber"!=b.searchBar.keywordType||void 0==b.customer_ids||0===parseInt(b.customer_ids)||b.customer_ids.split(",").includes(b.searchBar.keywords)||(b.searchBar.keywords="没有查看该客户的权限,请联系统管理员"),a[b.searchBar.keywordType]=b.searchBar.keywords),angular.copy(a)};b.getData=function(){j.session.setObject("searchBar",b.searchBar),h.getExceptionList(k(),function(c){var d=c.data;void 0!=b.customer_ids&&0!==parseInt(b.customer_ids)&&(d=d.filter(function(a){return b.customer_ids.split(",").includes(a.customerNumber)})),b.dataList=d,b.pagination.totalCount=c.pageInfo.totalCount,a.$emit("changeMenu")})},b.btnSearch=function(){b.dataList=[],b.pagination.pageIndex=1,b.pagination.totalCount=0,b.getData()},b.btnPrev=function(){e.sessionStorage.setItem("historyFlag",1),e.history.back()},b.btnOpenDetail=function(a,b){switch(a){case"receiptDetail":c.search({receiptNumber:b.receiptNumber}),c.path("/warehouse/receiptdetail2");break;case"customerDetail":c.search({customerNumber:b.customerNumber}),c.path("/customer/customerdetail");break;case"exceptionDetail":c.search({exceptionNumber:b.exceptionNumber}),c.path("/warehouse/receiptexceptiondetail")}},b.btnAction=function(a,d){switch(a){case"exceptionRegister":d&&c.search({receiptNumber:d.receiptNumber}),c.path("/warehouse/receiptexceptionedit");break;case"staff":d&&c.search({receiptNumber:d.receiptNumber,staff:"staff"}),c.path("/warehouse/receiptstaff");break;case"close":i.confirm("请确认是否关闭异常？",function(a){a&&h.exceptionEdit({customerNumber:d.customerNumber,warehouseNumber:d.warehouseNumber,exceptionNumber:d.exceptionNumber,trackingNumber:d.receiptNumber,status:2},function(a){a.success&&(i.success("关闭成功"),b.getData())})});break;case"delete":i.confirm("请确认是否删除该记录？",function(a){a&&h.exceptionEdit({customerNumber:d.customerNumber,warehouseNumber:d.warehouseNumber,exceptionNumber:d.exceptionNumber,status:-1},function(a){a.success&&(i.success("删除成功"),b.getData())})})}}}]),angular.module("culAdminApp").controller("ReceiptExceptionEditCtrl",["$scope","$location","$window","receiptService","warehouseService","plugMessenger","$timeout",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data=null,a.tempReceiptNumber=b.search().receiptNumber||"",e.getWarehouse(function(b){a.warehouseList=b}),a.keyDown=function(b){var c=window.event?b.keyCode:b.which;13==c&&a.checkReceiptNumber()},a.checkReceiptNumber=function(){a.tempReceiptNumber?d.getDetail(a.tempReceiptNumber,function(b){if(a.data=null,!b.message)switch(a.data={receiptNumber:b.receiptNumber,sendType:b.sendType,customerNumber:b.customerNumber,warehouseName:b.warehouseName,warehouseNumber:null!=b.warehouseNumber?b.warehouseNumber:a.warehouseList[0].warehouseNumber},a.data.sendType){case 1:a.data.type="3";break;case 2:a.data.type="1"}a.tempReceiptNumber=""}):a.tempReceiptNumber=""},a.checkReceiptNumber(),a.btnSave=function(){d.exceptionSave({customerNumber:a.data.customerNumber,receiptNumber:a.data.receiptNumber,warehouseNumber:a.data.warehouseNumber,type:a.data.type,sendtype:a.data.sendType,memo:a.data.memo},function(b){f.success("操作成功"),a.data.exceptionNumber=b.data[0].exceptionNumber,a.btnPrint()})},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()},a.btnPrint=function(b){switch(a.data.sendType){case 1:a.$broadcast("print-helper.action","receipt-tag-exception-tag",{exceptionNumber:a.data.exceptionNumber});break;case 2:a.$broadcast("print-helper.action","receipt-tag-exception-tag",{exceptionNumber:a.data.exceptionNumber})}},$("#tip_receiptNumber_receip").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"请扫描收货单据编号。<br/>海淘包裹请扫描包裹上面的快递跟踪编号，<br/>比如UPS是1z开头的14-18位条码。<br/>VIP客户寄送库存单据请扫描ASN开头的条码。"})}]),angular.module("culAdminApp").controller("ReceiptExceptionDetailCtrl",["$scope","$location","$window","receiptService","plugMessenger","$timeout",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data=null,d.getExceptionDetail(b.search().exceptionNumber,function(b){a.data=b,a.data._sendtype=d.mapping.sendType(a.data.sendtype),a.data._type=d.mapping.type(a.data.type),a.data._status=d.mapping.status(a.data.status)}),a.btnOpenDetail=function(a,c){switch(a){case"customerDetail":b.search({customerNumber:c.customerNumber}),b.path("/customer/customerdetail")}},a.btnAction=function(b){switch(b){case"close":d.exceptionEdit({customerNumber:a.data.customerNumber,warehouseNumber:a.data.warehouseNumber,exceptionNumber:a.data.exceptionNumber,status:2},function(b){b.success&&(e.success("关闭成功"),a.btnPrev())})}},a.btnPrint=function(b){switch(a.data.sendtype){case 1:a.$broadcast("print-helper.action","receipt-tag-exception-tag",{exceptionNumber:a.data.exceptionNumber});break;case 2:a.$broadcast("print-helper.action","receipt-tag-exception-tag",{exceptionNumber:a.data.exceptionNumber})}},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()}}]),angular.module("culAdminApp").controller("WarehouseShelfCtrl",["$window","$rootScope","$scope","$location","warehouseService","shelfService","storage",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],c.dataList=[],c.warehouseList=[],c.customer_ids=JSON.parse(a.sessionStorage.getItem("role")).customer_ids,c.getWarehouseName=function(a){var b=_.findWhere(c.warehouseList,{warehouseNumber:a});return b?b.warehouseName:""},c.searchBar={keywordType:d.search().receiptNumber?"receiptNumber":"shelfNumber",keywords:d.search().receiptNumber||"",warehouseNumber:""},c.pagination={pageSize:"20",pageIndex:1,totalCount:0},e.getWarehouse(function(a){1==a.length?(c.searchBar.warehouseList=a,c.searchBar.warehouseNumber=c.searchBar.warehouseList[0].warehouseNumber):c.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(a),c.warehouseList=a});var h=function(){var a={pageInfo:c.pagination};return c.searchBar.warehouseNumber&&(a.warehouseNumber=c.searchBar.warehouseNumber),c.searchBar.keywords&&("customerNumber"!=c.searchBar.keywordType||void 0==c.customer_ids||0===parseInt(c.customer_ids)||c.customer_ids.split(",").includes(c.searchBar.keywords)||(c.searchBar.keywords="没有查看该客户的权限,请联系统管理员"),a[c.searchBar.keywordType]=c.searchBar.keywords),angular.copy(a)};c.getData=function(){f.getOnshelfList(h(),function(a){var d=a.data;void 0!=c.customer_ids&&0!==parseInt(c.customer_ids)&&(d=d.filter(function(a){return c.customer_ids.split(",").includes(a.customerNumber)})),c.dataList=d,c.pagination.totalCount=a.pageInfo.totalCount,b.$emit("changeMenu")})},c.btnSearch=function(){c.selectedListCache=[],c.dataList=[],c.pagination.pageIndex=1,c.pagination.totalCount=0,c.getData()},c.btnSearch(),c.btnAction=function(a,b){switch(a){case"edit":b&&d.search({receiptNumber:b.receiptNumber}),d.path("/warehouse/shelfdetail")}},c.btnPrev=function(){a.sessionStorage.setItem("historyFlag",1),a.history.back()},c.btnPrint=function(a){c.$broadcast("print-unshelf.action",a)},c.getData()}]),angular.module("culAdminApp").controller("WarehouseShelfDetailCtrl",["$scope","$location","$window","shelfService","warehouseService","plugMessenger",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data={itemNumber:"",originShelfNumber:"",warehouseName:"",targetShelfNumber:"",warehouseNumber:"",moveItemCount:""},a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={keywordType:b.search().receiptNumber?"receiptNumber":"shelfNumber",keywords:b.search().receiptNumber||"",warehouseNumber:""},a.warehouseList=[],e.getWarehouse(function(b){a.warehouseList=b,a.data.warehouseNumber=a.warehouseList[0].warehouseNumber});var g=function(){var b={pageInfo:a.pagination};return a.searchBar.warehouseNumber&&(b.warehouseNumber=a.searchBar.warehouseNumber),a.searchBar.keywords&&("customerNumber"!=a.searchBar.keywordType||void 0==a.customer_ids||0===parseInt(a.customer_ids)||a.customer_ids.split(",").includes(a.searchBar.keywords)||(a.searchBar.keywords="没有查看该客户的权限,请联系统管理员"),b[a.searchBar.keywordType]=a.searchBar.keywords),angular.copy(b)};a.getData=function(){d.getOnshelfList(g(),function(b){if(console.log(b),b.data[0]){var c=b.data;void 0!=a.customer_ids&&0!==parseInt(a.customer_ids)&&(c=c.filter(function(b){return a.customer_ids.split(",").includes(b.customerNumber)})),a.data=c[0],a.data.originShelfNumber=c[0].shelfNumber,a.data.moveItemCount=c[0].itemCount,a.pagination.totalCount=b.pageInfo.totalCount}})},a.btnSearch=function(){a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.btnSearch(),a.btnSave=function(b){if(a.data.moveItemCount<=0)return void f.error("移动数量不能小于等于0");if(!a.data.targetShelfNumber)return void f.error("目标价位不能为空");var c={itemNumber:a.data.itemNumber,originShelfNumber:a.data.originShelfNumber,targetShelfNumber:a.data.targetShelfNumber,warehouseNumber:a.data.warehouseNumber,warehouseName:a.data.warehouseName,moveItemCount:a.data.moveItemCount};d.onshelfForMove(c,function(b){b.message||(f.success("操作成功"),a.btnPrev())})},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()},$("#tip_originShelfNumber").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"填000将会只添加商品到目标架位"})}]),angular.module("culAdminApp").controller("WarehouseOnShelfCtrl",["$window","$rootScope","$scope","$location","warehouseService","shelfService",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],c.dataList=[],c.warehouseList=[],c.customer_ids=JSON.parse(a.sessionStorage.getItem("role")).customer_ids,c.isUnusual=d.search().isUnusual,c.isExpecial=function(){if(1==c.isUnusual){var a=c.data.shelfNumber.substring(0,1);"D"!=a&&(c.data.shelfNumber="",plugMessenger.error("员工包裹必须以D开头"))}if(1==c.isUnusual){var a=c.data.shelfNumber.substring(0,1);"C"!=a&&(c.data.shelfNumber="",plugMessenger.error("异常包裹必须以C开头"))}},c.getWarehouseName=function(a){var b=_.findWhere(c.warehouseList,{warehouseNumber:a});return b?b.warehouseName:""},c.searchBar={keywordType:"receiptNumber",warehouseNumber:"",sendType:"",shelfStatus:"",dateRange:"",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},c.pagination={pageSize:"20",pageIndex:1,totalCount:0},c.sendTypes=[{key:"",value:"全部"},{key:"1",value:"寄送库存"},{key:"2",value:"海淘包裹"},{key:"3",value:"异常包裹"},{key:"4",value:"员工包裹"}],e.getWarehouse(function(a){1==a.length?(c.searchBar.warehouseList=a,c.searchBar.warehouseNumber=c.searchBar.warehouseList[0].warehouseNumber):c.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(a),c.warehouseList=a});var g=function(){var a={pageInfo:c.pagination,unstatus:"Intransit",onshelfDateFrom:c.searchBar.startDate?new Date(c.searchBar.startDate):"",onshelfDateTo:c.searchBar.endDate?new Date(c.searchBar.endDate):""};return c.searchBar.sendType&&(a.sendType=c.searchBar.sendType),c.searchBar.isUnusual&&(a.isUnusual=c.searchBar.isUnusual),c.searchBar.shelfStatus&&(a.shelfStatus=c.searchBar.shelfStatus),c.searchBar.warehouseNumber&&(a.warehouseNumber=c.searchBar.warehouseNumber),c.searchBar.keywords&&("customerNumber"!=c.searchBar.keywordType||void 0==c.customer_ids||0===parseInt(c.customer_ids)||c.customer_ids.split(",").includes(c.searchBar.keywords)||(c.searchBar.keywords="没有查看该客户的权限,请联系统管理员"),
a[c.searchBar.keywordType]=c.searchBar.keywords),angular.copy(a)};c.getData=function(){f.getTransportList(g(),function(a){var d=a.data,e=[];c.searchBar.isUnusual||2!=c.searchBar.sendType?e=d:d.map(function(a){1!=a.isUnusual&&2!=a.isUnusual&&e.push(a)}),e.forEach(function(a){2==a.sendType&&1==a.isUnusual&&(a._sendType="员工包裹"),2==a.sendType&&2==a.isUnusual&&(a._sendType="异常包裹")}),2==c.searchBar.isUnusual&&(c.searchBar.sendType=c.sendTypes[3].key),1==c.searchBar.isUnusual&&(c.searchBar.sendType=c.sendTypes[4].key),void 0!=c.customer_ids&&0!==parseInt(c.customer_ids)&&(e=e.filter(function(a){return c.customer_ids.split(",").includes(a.customerNumber)})),c.dataList=e,console.log("2323",c.dataList),c.pagination.totalCount=a.pageInfo.totalCount,b.$emit("changeMenu")})},c.btnSearch=function(){c.searchBar.isUnusual=0,3==c.searchBar.sendType&&(c.searchBar.isUnusual=2,c.searchBar.sendType=2),4==c.searchBar.sendType&&(c.searchBar.isUnusual=1,c.searchBar.sendType=2),c.selectedListCache=[],c.dataList=[],c.pagination.pageIndex=1,c.pagination.totalCount=0,c.getData()},c.btnAction=function(a,b){switch(a){case"receipt":b&&d.search({receiptNumber:b.receiptNumber}),"已上架"==b._shelfStatus&&d.path("/warehouse/shelf"),"未上架"==b._shelfStatus&&d.path("/warehouse/onshelfdetail");break;case"shelf":b&&d.search({receiptNumber:b.receiptNumber}),d.path("/warehouse/shelf");break;case"onshelf":b&&2==b.sendType&&d.search({receiptNumber:b.receiptNumber,isUnusual:b.isUnusual}),d.path("/warehouse/onshelfdetail");break;case"onshelfbatch":d.path("/warehouse/onshelfdetailbatch");break;case"edit":b&&d.search({receiptNumber:b.receiptNumber}),d.path("/warehouse/shelfdetail")}},c.btnPrint=function(a){c.$broadcast("print-unshelf.action",a)}}]),angular.module("culAdminApp").controller("WarehouseOnShelfDetailCtrl",["$scope","$location","$window","shelfService","inventoryService","plugMessenger","$timeout",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data=null,a.receiptNumber=null,a.tempReceiptNumber=a.tempItemNumber=b.search().itemNumber||b.search().receiptNumber||"",a.isUnusual=b.search().isUnusual,a.isModifyShelf=!1,a.originShelfNumber=null,a.isExpecial=function(){if(1==a.isUnusual){var b=a.data.shelfNumber.substring(0,1);if("D"!=b)return a.data.shelfNumber="",f.error("员工包裹必须以D开头"),!1}if(2==a.isUnusual){var b=a.data.shelfNumber.substring(0,1);if("C"!=b)return a.data.shelfNumber="",f.error("异常包裹必须以C开头"),!1}return!0},a.hotKey=function(b){switch(b.keyCode){case 13:a.isExpecial()}},a.keydownReceiptNumber=function(b){switch(b.keyCode){case 13:a.checkItemNumber()}},a.keydownBtnSave=function(b){switch(b.keyCode){case 13:a.btnSave()}},a.checkItemNumber=function(){return a.isModifyShelf=!1,a.tempItemNumber==b.search().receiptNumber?void e.getInfoByReceiptNumber(a.tempItemNumber,function(c){a.data=null,console.log("23",c),c.message||(a.data=c,a.receiptNumber=b.search().receiptNumber,a._itemType=a.data.itemNumber.substr(0,2),a.data.itemCount="S1"==a._itemType?1:"",g(function(){$("#tip_ASNNumber").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"请扫描ASN开头寄送库存单据编号。"})})),a.tempItemNumber="",$("#shelfNumber").focus()}):a.tempItemNumber?(a.receiptNumber=a.tempItemNumber,a.tempReceiptNumber=a.tempItemNumber,e.getInfoByReceiptNumber(a.tempItemNumber,function(b){a.data=null,b.message||(a.data=b,a._itemType=a.data.itemNumber.substr(0,2),a.data.itemCount="S1"==a._itemType?1:"",b&&b.inventoryList&&b.inventoryList.length>0&&b.inventoryList[0].shelfNumber&&"S1"==a._itemType&&(a.data.shelfNumber=b.inventoryList[0].shelfNumber,a.isModifyShelf=!0,a.originShelfNumber=b.inventoryList[0].shelfNumber),g(function(){$("#tip_ASNNumber").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"请扫描ASN开头寄送库存单据编号。"})})),a.tempItemNumber=""}),void $("#shelfNumber").focus()):void(a.tempItemNumber="")},a.checkItemNumber(),a.btnSave=function(b){if(!a.data.shelfNumber)return void f.error("架位号不能为空");if(0!=a.isExpecial()){if(a.isModifyShelf){if(a.originShelfNumber==a.data.shelfNumber)return;var e={itemNumber:a.data.itemNumber,originShelfNumber:a.originShelfNumber,targetShelfNumber:a.data.shelfNumber,moveItemCount:a.data.itemCount};return void d.onshelfForMove(e,function(b){b.success?(f.success("修改架位成功"),a.data=null,a.isModifyShelf=!1,a.originShelfNumber=null,g(function(){c.document.getElementById("tempItemNumber").focus()},1e3)):(c.document.getElementById("shelfNumber").select(),c.document.getElementById("shelfNumber").focus())})}var h={itemNumber:a.data.itemNumber,customerNumber:a.data.customerNumber,receiveIdentity:a.data.receiveIdentity,weight:a.data.weight,shelfNumber:a.data.shelfNumber,receiptNumber:a.receiptNumber,itemCount:a.data.itemCount,emailAddress:a.data.emailAddress};"S2"==a._itemType&&(h.receiptNumber=a.data.receiptNumber),d.onshelfForInbound(h,function(b){b.success?(f.success("操作成功"),a.data=null,g(function(){c.document.getElementById("tempItemNumber").focus()},1e3)):(c.document.getElementById("shelfNumber").select(),c.document.getElementById("shelfNumber").focus())})}},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()},$("#tip_itemNumber").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"请扫描商品编号<br/>S1开头为海淘包裹<br/>S2开头为VIP客户寄送库存商品"})}]),angular.module("culAdminApp").controller("WarehouseOnShelfDetailBatchCtrl",["$scope","$location","$window","shelfService","inventoryService","plugMessenger","$timeout","warehouseService",function(a,b,c,d,e,f,g,h){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data=null,a.receiptNumber=null,a.shelfInput=!0,a.isOnShelf=!1,a.shelfNumber="",a.receiptNumber="",a.shelfList=[],a.warehouseNumber="",a.isExpecial=function(){if(1==a.isUnusual){var b=a.data.shelfNumber.substring(0,1);if("D"!=b)return a.data.shelfNumber="",f.error("员工包裹必须以D开头"),!1}if(2==a.isUnusual){var b=a.data.shelfNumber.substring(0,1);if("C"!=b)return a.data.shelfNumber="",f.error("异常包裹必须以C开头"),!1}return!0},h.getWarehouse(function(b){1==b.length?a.warehouseNumber=1:a.warehouseNumber=""});var i=function(){var b={shelfNumber:a.shelfNumber,pageInfo:{pageIndex:1,pageSize:"20",totalCount:0}};d.getList(b,function(b){a.shelfList=b.data,a.shelfList.length>0?(a.shelfInput=!1,g(function(){c.document.getElementById("receiptNumber").focus()},300)):(f.error("架位"+a.shelfNumber+"不存在，请重新输入"),a.shelfNumber="",g(function(){c.document.getElementById("shelfNumber").focus()},300))})};a.keydownShelfNumber=function(b){var c=document.getElementById("shelfNumber").value;if(a.shelfNumber=c,a.shelfNumber)switch(b.keyCode){case 13:i()}},a.keydownReceiptNumber=function(b){var c=document.getElementById("receiptNumber").value;if(a.receiptNumber=c,a.receiptNumber)switch(b.keyCode){case 13:a.checkReceiptNumber()}},a.checkReceiptNumber=function(){a.data=null,a.receiptNumber?e.getInfoByReceiptNumber(a.receiptNumber,function(b){b.message||(a.data=b,b&&b.inventoryList&&b.inventoryList.length>0&&b.inventoryList[0].shelfNumber&&"S1"==a._itemType?(a.isOnShelf=!0,f.error("该商品已经上架，不允许重复上架")):a.btnSave()),a.receiptNumber=""}):a.receiptNumber=""},a.btnSave=function(b){if(!a.shelfNumber)return void f.error("架位号不能为空");if(0!=a.isExpecial()){var e={itemNumber:a.data.itemNumber,customerNumber:a.data.customerNumber,receiveIdentity:a.data.receiveIdentity,weight:a.data.weight,shelfNumber:a.shelfNumber,receiptNumber:a.receiptNumber,itemCount:1,emailAddress:a.data.emailAddress};d.onshelfForInbound(e,function(b){b.success?(f.success("上架成功"),a.data=null,a.receiptNumber="",g(function(){c.document.getElementById("receiptNumber").focus()},1e3)):f.confirm("单号【 "+e.receiptNumber+" 】上架失败，是否重新输入架位再进行批量上架？",function(b){b?(a.shelfInput=!0,a.receiptNumber="",a.shelfNumber="",g(function(){c.document.getElementById("shelfNumber").focus()},300)):(a.shelfInput=!1,a.receiptNumber="",g(function(){c.document.getElementById("receiptNumber").focus()},300))})})}},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()}}]),angular.module("culAdminApp").controller("WarehouseShelfManagementCtrl",["$timeout","$window","$rootScope","$scope","$location","warehouseService","shelfService","plugMessenger","storage",function(a,b,c,d,e,f,g,h,i){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],d.dataList=[],d.warehouseList=[],d.customer_ids=JSON.parse(b.sessionStorage.getItem("role")).customer_ids,d.getWarehouseName=function(a){var b=_.findWhere(d.warehouseList,{warehouseNumber:a});return b?b.warehouseName:""},d.searchBar={keywordType:e.search().receiptNumber?"receiptNumber":"shelfNumber",keywords:e.search().receiptNumber||"",warehouseNumber:""},d.tempSearchBar=angular.copy(i.getSearchObject()),d.tempSearchBar&&(d.searchBar=d.tempSearchBar?d.tempSearchBar:d.searchBar),d.pagination={pageSize:"20",pageIndex:1,totalCount:0},f.getWarehouse(function(a){1==a.length?(d.searchBar.warehouseList=a,d.searchBar.warehouseNumber=d.searchBar.warehouseList[0].warehouseNumber):d.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(a),d.warehouseList=a});var j=function(){var a={pageInfo:d.pagination};return d.searchBar.type&&(a.type=d.searchBar.type),d.searchBar.warehouseNumber&&(a.warehouseNumber=d.searchBar.warehouseNumber),d.searchBar.keywords&&("customerNumber"!=d.searchBar.keywordType||void 0==d.customer_ids||0===parseInt(d.customer_ids)||d.customer_ids.split(",").includes(d.searchBar.keywords)||(d.searchBar.keywords="没有查看该客户的权限,请联系统管理员"),a[d.searchBar.keywordType]=d.searchBar.keywords),angular.copy(a)};d.getData=function(){i.session.setObject("searchBar",d.searchBar),console.log(j()),g.getList(j(),function(a){var b=a.data;b.forEach(function(a){"C"==a.type&&(a._type="异常包裹"),"D"==a.type&&(a._type="\b员工包裹")}),void 0!=d.customer_ids&&0!==parseInt(d.customer_ids)&&(b=b.filter(function(a){return d.customer_ids.split(",").includes(a.customerNumber)})),d.dataList=b,d.pagination.totalCount=a.pageInfo.totalCount,c.$emit("changeMenu")})},a(function(){},500),d.btnSearch=function(){d.selectedListCache=[],d.dataList=[],d.pagination.pageIndex=1,d.pagination.totalCount=0,d.getData()},d.btnAction=function(a,b){switch(a){case"detail":b&&e.search({warehouseNumber:b.warehouseNumber,shelfNumber:b.shelfNumber}),e.path("/warehouse/shelfmanagementdetail");break;case"create":e.path("/warehouse/shelfmanagementcreate")}},d.btnPrint=function(a){d.$broadcast("print-helper.action","shelf-management-tag",{shelfNumber:a.shelfNumber})},d.deleteShelf=function(a){return a.itemCount>0?void h.info("该架位还有包裹，不允许删除"):void h.confirm("确认删除架位"+a.shelfNumber+"吗?",function(b){b&&g.deleteShelf(a,function(a){"000"==a.code&&(h.success("操作成功"),d.getData())})})}}]),angular.module("culAdminApp").controller("WarehouseShelfManagementDetailCtrl",["$scope","$location","$window","shelfService","warehouseService","plugMessenger",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.warehouseName="",a.warehouseList=[],e.getWarehouse(function(b){a.warehouseList=b}),d.getDetail({warehouseNumber:b.search().warehouseNumber,shelfNumber:b.search().shelfNumber},function(b){a.data=b;var c=_.findWhere(a.warehouseList,{warehouseNumber:a.data.warehouseNumber});a.warehouseName=c?c.warehouseName:""}),a.btnAction=function(a,c){switch(a){case"detail":b.search({warehouseNumber:c.warehouseNumber,itemNumber:c.itemNumber}),b.path("/warehouse/inventorydetail")}},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()}}]),angular.module("culAdminApp").controller("WarehouseShelfManagementCreateCtrl",["$scope","$location","$window","warehouseService","shelfService","plugMessenger",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data={area:"A",row:"01",layer:"1",position:"001"},a.isBox=!1,a.shelfOptions={area:[{title:"A-海淘客户",value:"A"},{title:"B-大客户",value:"B"},{title:"C-异常客户",value:"C"},{title:"D-员工客户",value:"D"}],row:[],layer:[],position:[]};for(var g=1;1e3>g;g++){if(10>g&&a.shelfOptions.layer.push({title:g.toString(),value:g.toString()}),100>g){var h=g.toString().length<2?"0"+g.toString():g.toString();a.shelfOptions.row.push({title:h,value:h})}if(1e3>g){var h="";h=1==g.toString().length?"00"+g.toString():2==g.toString().length?"0"+g.toString():g.toString(),a.shelfOptions.position.push({title:h,value:h})}}a.warehouseList=[],d.getWarehouse(function(b){a.warehouseList=b,a.data.warehouseNumber=a.warehouseList[0].warehouseNumber});var i=function(){return"{area}-{row}-{layer}-{position}".replace("{area}",a.data.area).replace("{row}",a.data.row).replace("{layer}",a.data.layer).replace("{position}",a.data.position)};a.btnSave=function(){e.update({shelfNumber:i(),type:a.data.area,warehouseNumber:a.data.warehouseNumber,isBox:a.isBox},function(b){b.message||(f.success("创建成功"),a.btnPrev())})},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()},a.btnPrint=function(){a.$broadcast("print-helper.action","shelf-management-tag",{shelfNumber:i()})}}]),angular.module("culAdminApp").controller("WarehouseEditshelfCtrl",["$scope","$location",function(a,b){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.cancelEdit=function(){b.path("/warehouse/shelf")}}]),angular.module("culAdminApp").controller("WarehouseInventoryCtrl",["$timeout","$rootScope","$scope","$location","$window","warehouseService","inventoryService","storage",function(a,b,c,d,e,f,g,h){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],c.sendTypes=[{key:"",value:"全部"},{key:1,value:"寄送库存"},{key:2,value:"海淘包裹"},{key:"3",value:"异常包裹"},{key:"4",value:"员工包裹"}],c.dataList=[],c.searchBar={keywordType:"receiptNumber",warehouseNumber:"",inventoryCondition:"",inventoryConditionValue:"0",categoryId:"",categorySubId:"",sendType:"",dateRange:"",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1},days:"",daysValue:""},c.tempSearchBar=angular.copy(h.getSearchObject()),c.tempSearchBar&&(c.searchBar=c.tempSearchBar?c.tempSearchBar:c.searchBar),c.pagination={pageSize:"20",pageIndex:1,totalCount:0},f.getWarehouse(function(a){1==a.length?(c.searchBar.warehouseList=a,c.searchBar.warehouseNumber=c.searchBar.warehouseList[0].warehouseNumber):c.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(a)}),g.getCategoryList(function(a){a&&(c.searchBar.categoryList=[{cateid:"",name:"全部"}].concat(a),c.searchBar.categorySubList=[{cateid:"",name:"全部"}])}),c.changeCategory=function(){c.searchBar.categorySubId="",c.searchBar.categorySubList=[{cateid:"",name:"全部"}];var a=_.findWhere(c.searchBar.categoryList,{cateid:c.searchBar.categoryId});a&&(c.searchBar.categorySubList=c.searchBar.categorySubList.concat(a.sub||[]))};var i=function(){var a={pageInfo:c.pagination,dateFrom:c.searchBar.startDate?new Date(c.searchBar.startDate):"",dateTo:c.searchBar.endDate?new Date(c.searchBar.endDate):""};switch(c.searchBar.categoryId&&(a.itemCategory=c.searchBar.categoryId),c.searchBar.sendType&&(a.sendType=c.searchBar.sendType),c.searchBar.isUnusual&&(a.isUnusual=c.searchBar.isUnusual),c.searchBar.categorySubId&&(a.itemSubCategory=c.searchBar.categorySubId),c.searchBar.inventoryCondition){case">":a.inventoryFrom=c.searchBar.inventoryConditionValue;break;case"<":a.inventoryTo=c.searchBar.inventoryConditionValue;break;case"=":a.inventory=c.searchBar.inventoryConditionValue}return c.searchBar.warehouseNumber&&(a.warehouseNumber=c.searchBar.warehouseNumber),c.searchBar.keywords&&(a[c.searchBar.keywordType]=c.searchBar.keywords),angular.copy(a)};c.getData=function(){h.session.setObject("searchBar",c.searchBar),g.getList(i(),function(a){console.log("result-->",a);var b=a.data,d=[];c.searchBar.isUnusual||2!=c.searchBar.sendType?d=b:b.map(function(a){1!=a.isUnusual&&2!=a.isUnusual&&d.push(a)}),d.forEach(function(a){2==a.sendType&&(a._sendType="海淘包裹"),1==a.sendType&&(a._sendType="寄送库存"),2==a.sendType&&1==a.isUnusual&&(a._sendType="员工包裹"),2==a.sendType&&2==a.isUnusual&&(a._sendType="异常包裹")}),2==c.searchBar.isUnusual&&(c.searchBar.sendType=c.sendTypes[3].key),1==c.searchBar.isUnusual&&(c.searchBar.sendType=c.sendTypes[4].key),c.dataList=d,c.pagination.totalCount=a.pageInfo.totalCount})},a(function(){},500),c.btnSearch=function(){3==c.searchBar.sendType&&(c.searchBar.isUnusual=2,c.searchBar.sendType=2),4==c.searchBar.sendType&&(c.searchBar.isUnusual=1,c.searchBar.sendType=2),c.selectedListCache=[],c.dataList=[],c.pagination.pageIndex=1,c.pagination.totalCount=0,c.getData()},c.adjustWeight=function(a){console.log(a),a&&d.search({itemNumber:a.receiptNumber,originItemNumber:a.itemNumber}),d.path("/warehouse/inventoryadjustweight")},c.btnAction=function(a,b){switch(b&&d.search({itemNumber:b.itemNumber}),a){case"frozen":d.path("/warehouse/inventoryfrozen");break;case"adjust":d.path("/warehouse/inventoryadjust");break;case"logs":d.path("/warehouse/inventoryloglist");break;case"detail":d.path("/warehouse/inventorydetail");break;case"check":d.path("/warehouse/inventorycheck")}}}]),angular.module("culAdminApp").controller("InventoryTimeCtrl",["$timeout","$rootScope","$scope","$location","$window","warehouseService","inventoryService","storage","plugMessenger",function(a,b,c,d,e,f,g,h,i){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],c.sendTypes=[{key:"",value:"全部"},{key:1,value:"寄送库存"},{key:2,value:"海淘包裹"},{key:"3",value:"异常包裹"},{key:"4",value:"员工包裹"}],c.dataList=[],c.searchBar={keywordType:"receiptNumber",warehouseNumber:"",dayCondition:"",dayConditionValue:"0",categoryId:"",categorySubId:"",sendType:"",dateRange:"",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},c.tempSearchBar=angular.copy(h.getSearchObject()),c.tempSearchBar&&(c.searchBar=c.tempSearchBar?c.tempSearchBar:c.searchBar),c.pagination={pageSize:"20",pageIndex:1,totalCount:0},f.getWarehouse(function(a){1==a.length?(c.searchBar.warehouseList=a,c.searchBar.warehouseNumber=c.searchBar.warehouseList[0].warehouseNumber):c.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(a)}),g.getCategoryList(function(a){a&&(c.searchBar.categoryList=[{cateid:"",name:"全部"}].concat(a),c.searchBar.categorySubList=[{cateid:"",name:"全部"}])}),c.changeCategory=function(){c.searchBar.categorySubId="",c.searchBar.categorySubList=[{cateid:"",name:"全部"}];var a=_.findWhere(c.searchBar.categoryList,{cateid:c.searchBar.categoryId});a&&(c.searchBar.categorySubList=c.searchBar.categorySubList.concat(a.sub||[]))};var j=function(){var a={pageInfo:c.pagination,dateFrom:c.searchBar.startDate?new Date(c.searchBar.startDate):"",dateTo:c.searchBar.endDate?new Date(c.searchBar.endDate):""};switch(c.searchBar.categoryId&&(a.itemCategory=c.searchBar.categoryId),c.searchBar.sendType&&(a.sendType=c.searchBar.sendType),c.searchBar.isUnusual&&(a.isUnusual=c.searchBar.isUnusual),c.searchBar.categorySubId&&(a.itemSubCategory=c.searchBar.categorySubId),c.searchBar.dayCondition){case">":a.dayFrom=c.searchBar.dayConditionValue;break;case"<":a.dayTo=c.searchBar.dayConditionValue;break;case"=":a.day=c.searchBar.dayConditionValue}return c.searchBar.warehouseNumber&&(a.warehouseNumber=c.searchBar.warehouseNumber),c.searchBar.keywords&&(a[c.searchBar.keywordType]=c.searchBar.keywords),angular.copy(a)};c.getData=function(){h.session.setObject("searchBar",c.searchBar),g.getTimeList(j(),function(a){console.log("result-->",a);var b=a.data,d=[];c.searchBar.isUnusual||2!=c.searchBar.sendType?d=b:b.map(function(a){1!=a.isUnusual&&2!=a.isUnusual&&d.push(a)}),d.forEach(function(a){2==a.sendType&&(a._sendType="海淘包裹"),1==a.sendType&&(a._sendType="寄送库存"),2==a.sendType&&1==a.isUnusual&&(a._sendType="员工包裹"),2==a.sendType&&2==a.isUnusual&&(a._sendType="异常包裹")}),2==c.searchBar.isUnusual&&(c.searchBar.sendType=c.sendTypes[3].key),1==c.searchBar.isUnusual&&(c.searchBar.sendType=c.sendTypes[4].key),c.dataList=d,c.pagination.totalCount=a.pageInfo.totalCount})},a(function(){},500),c.btnSearch=function(){3==c.searchBar.sendType&&(c.searchBar.isUnusual=2,c.searchBar.sendType=2),4==c.searchBar.sendType&&(c.searchBar.isUnusual=1,c.searchBar.sendType=2),c.selectedListCache=[],c.dataList=[],c.pagination.pageIndex=1,c.pagination.totalCount=0,c.getData()},c.adjustWeight=function(a){console.log(a),a&&d.search({itemNumber:a.receiptNumber,originItemNumber:a.itemNumber}),d.path("/warehouse/inventoryadjustweight")},c.payMoney=function(a){console.log("item",a);var b={customerNumber:a.customerNumber,operationType:"12",payment:a.payMoney,memo:a.memo,payInventory:a.payMoney,receiptNumber:a.receiptNumber};return a.shouldPay<=0?i.error("需要支付的金额必须大于0元"):void i.confirm("确认扣除客户管理费"+a.payMoney+"元?",function(a){a&&g.payInventory(b,function(a){1==a.success&&(i.success("扣款成功"),c.getData())})})},c.btnAction=function(a,b){switch(b&&d.search({itemNumber:b.itemNumber}),a){case"frozen":d.path("/warehouse/inventoryfrozen");break;case"adjust":d.path("/warehouse/inventoryadjust");break;case"logs":d.path("/warehouse/inventoryloglist");break;case"detail":d.path("/warehouse/inventorydetail");break;case"check":d.path("/warehouse/inventorycheck")}}}]),angular.module("culAdminApp").controller("WarehouseInventoryLogListCtrl",["$scope","$location","$window","warehouseService","inventoryService","storage",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.searchBar={keywordType:"itemNumber",keywords:b.search().itemNumber||"",warehouseNumber:"",inventoryCondition:"",inventoryConditionValue:"0",categoryId:"",categorySubId:"",dateRange:"",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},a.tempSearchBar=angular.copy(f.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar),a.pagination={pageSize:"20",pageIndex:1,totalCount:0},d.getWarehouse(function(b){1==b.length?(a.searchBar.warehouseList=b,a.searchBar.warehouseNumber=a.searchBar.warehouseList[0].warehouseNumber):a.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(b)}),e.getCategoryList(function(b){b&&(a.searchBar.categoryList=[{cateid:"",name:"全部"}].concat(b),a.searchBar.categorySubList=[{cateid:"",name:"全部"}])}),a.changeCategory=function(){a.searchBar.categorySubId="",a.searchBar.categorySubList=[{cateid:"",name:"全部"}];var b=_.findWhere(a.searchBar.categoryList,{cateid:a.searchBar.categoryId});b&&(a.searchBar.categorySubList=a.searchBar.categorySubList.concat(b.sub||[]))};var g=function(){var b={pageInfo:a.pagination,dateFrom:a.searchBar.startDate?a.searchBar.startDate:"",dateTo:a.searchBar.endDate?a.searchBar.endDate:""};switch(a.searchBar.categoryId&&(b.itemCategory=a.searchBar.categoryId),a.searchBar.categorySubId&&(b.itemSubCategory=a.searchBar.categorySubId),a.searchBar.inventoryCondition){case">":b.inventoryFrom=a.searchBar.inventoryConditionValue;break;case"<":b.inventoryTo=a.searchBar.inventoryConditionValue;break;case"=":b.inventory=a.searchBar.inventoryConditionValue}return a.searchBar.warehouseNumber&&(b.warehouseNumber=a.searchBar.warehouseNumber),a.searchBar.keywords&&(b[a.searchBar.keywordType]=a.searchBar.keywords),angular.copy(b)};a.getData=function(){f.session.setObject("searchBar",a.searchBar),e.getLogList(g(),function(b){a.dataList=b.data,a.pagination.totalCount=b.pageInfo.totalCount})},a.btnSearch=function(){a.selectedListCache=[],a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()},a.searchBar.keywords&&a.searchBar.keywords.length>0&&a.btnSearch()}]),angular.module("culAdminApp").controller("WarehouseInventoryFrozenCtrl",["$scope","$location","$window","inventoryService","plugMessenger",function(a,b,c,d,e){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data=null,a.tempItemNumber=b.search().itemNumber||"",a.tpl_status={btnRelieve:!0},a.keyDown=function(b){var c=window.event?b.keyCode:b.which;13==c&&a.checkItemNumber()},a.checkItemNumber=function(){a.tempItemNumber?d.getDetail(a.tempItemNumber,function(b){a.tpl_status.btnRelieve=!0,b.length>0&&(a.data={itemNumber:b[0].itemNumber,warehouseNumber:b[0].warehouseNumber,inventory_frozen:b[0].inventory_frozen,inventory:b[0].inventory,reason:b[0].frozenReason||""},a.inventory=b[0].inventory,0==b[0].inventory_frozen&&(a.data.reason="",a.tpl_status.btnRelieve=!1)),a.tempItemNumber=""}):a.tempItemNumber=""},a.checkItemNumber(),a.btnSave=function(b){if(Number(a.data.incrementInventory_frozen)+Number(a.data.inventory_frozen)>Number(a.inventory))return void e.info("冻结库存超过库存,请重新填写");if(Number(a.data.incrementInventory_frozen)+Number(a.data.inventory_frozen)<0)return void e.info("解冻库存超过冻结的，不允许解冻");if(4==b&&!a.data.incrementInventory_frozen)return void e.info("请填写正确的数量");var c=angular.copy(a.data);c.type=b,a.data.inventory_frozen=void 0,d.frozen(c,function(b){b.success&&(e.success("操作成功"),a.btnPrev())})},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()},$("#tip_itemNumber").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"请扫描商品编号<br/>S1开头为海淘包裹<br/>S2开头为VIP客户寄送库存商品"})}]),angular.module("culAdminApp").controller("WarehouseInventoryAdjustCtrl",["$scope","$location","$window","inventoryService","plugMessenger",function(a,b,c,d,e){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data=null,a.tempItemNumber=b.search().itemNumber||"",a.keyDown=function(b){var c=window.event?b.keyCode:b.which;13==c&&a.checkItemNumber()},a.checkItemNumber=function(){a.tempItemNumber?d.getDetail(a.tempItemNumber,function(b){console.log(" $scope.data",b),b.length>0&&(a.data={itemNumber:b[0].itemNumber,warehouseNumber:b[0].warehouseNumber,inventory:"0",weight:b[0].weight,reason:""}),a.tempItemNumber=""}):a.tempItemNumber=""},a.checkItemNumber(),a.btnSave=function(b){return a.data.inventory?void d.adjust(a.data,function(b){b.success&&(e.success("操作成功"),a.btnPrev())}):void e.info("请填写正确的数量")},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()},$("#tip_itemNumber").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"请扫描商品编号<br/>S1开头为海淘包裹<br/>S2开头为VIP客户寄送库存商品"})}]),angular.module("culAdminApp").controller("WarehouseInventoryAdjustWeightCtrl",["$scope","$location","$window","inventoryService","plugMessenger","warehouseService","receiptService","orderService",function(a,b,c,d,e,f,g,h){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data=null,a.tempItemNumber=b.search().itemNumber||"",a.packageWeight=b.search().packageWeight||0,a.data={trackingNumber:a.tempItemNumber,packageWeight:a.packageWeight,reason:""},a.keyDown=function(b){var c=window.event?b.keyCode:b.which;13==c&&a.checkItemNumber()},a.checkItemNumber=function(){a.tempItemNumber?(console.log("2345"),g.getInboundPackage(a.tempItemNumber,function(b){console.log("result",b),b&&(a.data={trackingNumber:a.tempItemNumber,packageWeight:b.packageWeight,reason:""}),a.tempItemNumber=""})):a.tempItemNumber=""},a.checkItemNumber(),a.btnSave=function(b){if(console.log(a.data),!a.data.packageWeight)return void e.info("请填写正确的重量");var c={dateFrom:"",dateTo:"",exceptOrderStatus:["Void"],pageInfo:{pageSize:"20",pageIndex:1,totalCount:0},receiveTrackingNumber:a.data.trackingNumber};h.getList(angular.copy(c),function(b){return b.data instanceof Array&&b.data[0]?void e.error("该包裹已提交订单，不能修改重量"):void f.updateInboundpackageWeight(a.data,function(b){b.success&&(e.success("操作成功"),a.btnPrev())})})},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()},$("#tip_itemNumber").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"请扫描商品编号<br/>S1开头为海淘包裹<br/>S2开头为VIP客户寄送库存商品"})}]),angular.module("culAdminApp").controller("WarehouseInventoryDetailCtrl",["$scope","$location","$window","inventoryService","plugMessenger",function(a,b,c,d,e){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data=null,a.tempItemNumber=b.search().itemNumber||"";var f=null;a.checkItemNumber=function(){f&&clearTimeout(f),f=setTimeout(function(){a.$apply(function(){a.tempItemNumber?d.getInfo(a.tempItemNumber,function(b){b&&(a.data=b,a.data.inventoryList[0]&&a.data.inventoryList.forEach(function(a){a.shelfList&&a.shelfList[0]&&a.shelfList.forEach(function(a){"1"==a.sendType&&(a._sendType="线下订单"),"2"==a.sendType&&(a._sendType="海淘订单"),"C"==a.shelfNumber.substr(0,1)&&(a._sendType="异常订单"),"D"==a.shelfNumber.substr(0,1)&&(a._sendType="员工包裹")})})),a.tempItemNumber=""}):a.tempItemNumber=""})},1e3)},a.checkItemNumber(),a.btnOpenDetail=function(a,c){switch(c){case"customerdetail":b.search({customerNumber:a.customerNumber}),b.path("/customer/customerdetail")}},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()}}]),angular.module("culAdminApp").controller("WarehouseInventoryCheckCtrl",["$scope","$location","$window","inventoryService","plugMessenger",function(a,b,c,d,e){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data=null,a.tempTrackingNumber=b.search().trackingNumber||"",a.checkTrackingNumber=function(){a.tempTrackingNumber?d.check({trackingNumber:a.tempTrackingNumber},function(b){"000"==b.code?(a.data=b.data,2==a.data.sendType&&(a.data._sendType="海淘包裹"),1==a.data.sendType&&(a.data._sendType="寄送库存"),2==a.data.sendType&&1==a.data.isUnusual&&(a.data._sendType="员工包裹"),2==a.data.sendType&&2==a.data.isUnusual&&(a.data._sendType="异常包裹"),a.data.shelfNumber&&(a.shelfs=a.data.shelfNumber.split("-"),a.shelfs[0]=a.shelfs[0]+"-"+a.data._sendType)):e.error(b.msg),a.tempItemNumber=""}):a.tempTrackingNumber=""},a.keyDown=function(b){var c=window.event?b.keyCode:b.which;13==c&&a.checkTrackingNumber()},a.checkTrackingNumber(),a.btnSave=function(b){return a.data.inventory?void d.adjust(a.data,function(b){b.success&&(e.success("操作成功"),a.btnPrev())}):void e.info("请填写正确的数量")},a.btnPrint=function(b){switch(b.sendType){case 1:a.$broadcast("print-helper.action","receipt-tag-check-tag",{receiptNumber:b.receiptNumber});break;case 2:a.$broadcast("print-inboundPackage.action",b.receiptNumber)}},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()},a.btnAction=function(a,c){switch(c&&b.search({itemNumber:c.itemNumber}),a){case"detail":b.path("/warehouse/inventorydetail")}}}]),angular.module("culAdminApp").controller("WarehousePickingCtrl",["$scope","$location","receiptSvr",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,total:0},a.getData=function(){var b=c.getReceiptList({},a.pagination.pageIndex,a.pagination.pageSize);a.dataList=b.list,a.pagination.total=b.total},a.getData(),a.searchBar={startDate:new Date,endDate:new Date,opened:{startDate:!1,endDate:!1}},a.addPicking=function(){b.path("/warehouse/editpicking")}}]),angular.module("culAdminApp").controller("WarehouseEditpickingCtrl",["$scope","$location",function(a,b){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.cancelEdit=function(){b.path("/warehouse/picking")}}]),angular.module("culAdminApp").controller("WarehousePackageCtrl",["$window","$rootScope","$scope","$location","warehouseService","orderService","plugMessenger","storage",function(a,b,c,d,e,f,g,h){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],d.search({trackingNumber:null}),c.dataList=[],c.customer_ids=JSON.parse(a.sessionStorage.getItem("role")).customer_ids;var i=sessionStorage.getItem("token");i=i?encodeURIComponent(i):null,$("#form_export_order").attr("action",cul.apiPath+"/outboundorderlist/list/export?Token="+i),$("#form_export_send").attr("action",cul.apiPath+"/outboundpackage/list/export?Token="+i),$("#form_export_order_offline").attr("action",cul.apiPath+"/outboundorderlist/list/export?Token="+i),$("#form_export_send_offline").attr("action",cul.apiPath+"/outboundpackage/list/export?Token="+i),$("#form_exportHT").attr("action",cul.apiPath+"/order/list/export/ht?Token="+i),c.pagination={pageSize:"20",pageIndex:1,totalCount:0},c.searchBar={selectedAll:!1,keywordType:"customerNumber",orderStatus:"",warehouseNumber:"",orderType:"",exportStatus:"UnExported",startDate:"",endDate:""},c.tempSearchBar=angular.copy(h.getSearchObject()),
c.tempSearchBar&&(c.searchBar=c.tempSearchBar?c.tempSearchBar:c.searchBar),e.getWarehouse(function(a){1==a.length?(c.searchBar.warehouseList=a,c.searchBar.warehouseNumber=c.searchBar.warehouseList[0].warehouseNumber):c.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(a)});var j=function(){var a={pageInfo:c.pagination,outDateFrom:c.searchBar.startDate?c.searchBar.startDate:"",outDateTo:c.searchBar.endDate?c.searchBar.endDate:""};return c.searchBar.orderStatus?a.orderStatus=c.searchBar.orderStatus:a.exceptOrderStatus=["Void"],c.searchBar.warehouseNumber&&(a.warehouseNumber=c.searchBar.warehouseNumber),c.searchBar.orderType&&(a.orderType=c.searchBar.orderType),c.searchBar.exportStatus&&(a.exportStatus=c.searchBar.exportStatus),c.searchBar.keywords&&(a[c.searchBar.keywordType]=c.searchBar.keywords,"customerNumber"!=c.searchBar.keywordType||void 0==c.customer_ids||0===parseInt(c.customer_ids)||c.customer_ids.split(",").includes(c.searchBar.keywords)||(c.searchBar.keywords="没有查看该客户的权限,请联系统管理员"),"trackingNumber"==c.searchBar.keywordType&&c.searchBar.keywords.indexOf("\n")>=0&&(a[c.searchBar.keywordType]=c.searchBar.keywords.split("\n"),a.outBoundTrackingNumber=c.searchBar.keywords),"orderNumber"==c.searchBar.keywordType&&(console.log(c.searchBar.keywords),c.searchBar.keywords.indexOf("\n")>=0&&(a[c.searchBar.keywordType]=c.searchBar.keywords.split("\n"))),a.orderNumber&&(a.cOrderNumber=a.orderNumber.toString())),angular.copy(a)};c.getData=function(){h.session.setObject("searchBar",c.searchBar);var a=j();e.getOutboundPackageList($.extend(angular.copy(a),{hasWeight:!0}),function(a){var d=a.data;console.log("result",a),void 0!=c.customer_ids&&0!==parseInt(c.customer_ids)&&(d=d.filter(function(a){return c.customer_ids.split(",").includes(a.customerNumber)})),c.dataList=d,c.pagination.totalCount=a.pageInfo.totalCount,b.$emit("changeMenu"),$.each(c.dataList,function(a,b){b._selected=$.grep(c.selectedListCache,function(a){return a.trackingNumber==b.trackingNumber}).length>0}),c.searchBar.selectedAll=$.grep(c.dataList,function(a){return 1==a._selected}).length==c.dataList.length});var d=[],f=[];$.each(c.selectedListCache,function(a,b){d.push(b.trackingNumber),f.push(b.orderNumber)}),d.length>0&&(a.trackingNumber=d.join(",")),f.length>0&&(a.orderNumber=f.join(",")),c.exportOptions=$.extend({token:i},a)},c.btnSearch=function(){c.selectedListCache=[],c.dataList=[],c.pagination.pageIndex=1,c.pagination.totalCount=0,c.getData()},c.selectedListCache=[],c.btnSelectedItem=function(a){a?a._selected||(c.searchBar.selectedAll=!1):$.each(c.dataList,function(a,b){b._selected=c.searchBar.selectedAll}),$.each(c.dataList,function(a,b){var d=$.grep(c.selectedListCache,function(a){return a.trackingNumber==b.trackingNumber}).length>0;b._selected&&0==d?c.selectedListCache.push(angular.copy(b)):b._selected||1!=d||(c.selectedListCache=$.grep(c.selectedListCache,function(a){return a.trackingNumber!=b.trackingNumber}))});var b=j(),d=[],e=[];$.each(c.selectedListCache,function(a,b){d.push(b.trackingNumber),e.push(b.orderNumber)}),d.length>0&&(b.trackingNumber=d.join(",")),e.length>0&&(b.orderNumber=e.join(",")),c.exportOptions=$.extend({token:i},b)},c.btnOpenDetail=function(a,b){switch(b){case"orderdetail":d.search({orderNumber:a.orderNumber}),d.path("/order/orderdetail");break;case"customerdetail":d.search({customerNumber:a.customerNumber}),d.path("/customer/customerdetail");break;case"trackingNumber":0==a.orderType?(d.search({trackingNumber:a.trackingNumber}),d.path("/warehouse/registerpackageoffline")):1==a.orderType&&f.getDetail(a.orderNumber,function(a){var b=a.inboundPackages[0].trackingNumber;d.search({trackingNumber:b}),d.path("/warehouse/registerpackageonline")})}},c.btnClearSelectedListCache=function(){c.selectedListCache=[],c.searchBar.selectedAll=!1,$.each(c.dataList,function(a,b){b._selected=!1});var a=j();c.exportOptions=$.extend({token:i},a)},c.addPackage=function(a){switch(a){case"online":d.path("/warehouse/registerpackageonline");break;case"offline":d.path("/warehouse/registerpackageoffline")}},c.bucketManage=function(){d.path("/warehouse/bucket")},c.btnPrint=function(a,b){var d=function(){switch(b){case"order":c.$broadcast("print-order.action",a.orderNumber);break;case"package":c.$broadcast("print-package.action",a.orderNumber);break;case"flyingexpress":c.$broadcast("print-flying-express.action",a.orderNumber);break;case"flyingexpress2":c.$broadcast("print-flying-express2.action",a.orderNumber);break;case"trackingNumber":_printTrackingNumbers(a)}};if("Printed"==a.printStatus)d();else switch(b){case"flyingexpress":case"flyingexpress2":g.confirm("订单将变为已打印状态,请确认是否打印？",function(b){if(b){var c=[{orderNumber:a.orderNumber,printStatus:"Printed"}];f.batchUpdate(c,function(a){d()})}});break;default:d()}},c.btnBatchOutBound=function(){var a=[];$.each(c.selectedListCache,function(b,c){a.push(c.trackingNumber)}),0==a.length?g.info("请选择包裹后在执行该操作!"):g.confirm("包裹将变为已出库状态，请确认是否继续操作？",function(b){b&&e.outboundPackageShip(a,function(a){1==a.success&&(g.success("出库成功!"),c.selectedListCache=[],c.dataList=[],c.getData())})})},$("#tip_batchOutbound").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"点击此按钮将修改包裹状态为已出库，打包记录将自动从上面的列表中消失，请到订单查询页面查看。"})}]),angular.module("culAdminApp").controller("WarehouseEditpackageCtrl",["$scope","$location",function(a,b){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.cancelEdit=function(){b.path("/warehouse/package")}}]),angular.module("culAdminApp").controller("WarehouseShippingCtrl",["$scope","$location","$window","shippingSvr","storage",function(a,b,c,d,e){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,total:0},a.getData=function(){e.session.setObject("searchBar",a.searchBar);var b=d.getShippingList({},a.pagination.pageIndex,a.pagination.pageSize);a.dataList=b.list,a.pagination.total=b.total},a.searchBar={startDate:new Date,endDate:new Date,opened:{startDate:!1,endDate:!1}},a.tempSearchBar=angular.copy(e.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar),a.linkToExpressWebSite=function(a){var b={USPS:"https://tools.usps.com/go/TrackConfirmAction_input?strOrigTrackNum="+a.expressNumber,UPS:"http://wwwapps.ups.com/etracking/tracking.cgi?tracknum="+a.expressNumber,ONTRAC:"http://www.ontrac.com/trackingres.asp?tracking_number="+a.expressNumber,DHL:"http://www.dhl.com/atrknav.asp?ShipmentNumber="+a.expressNumber,FEDEX:"https://www.fedex.com/apps/fedextrack/?action=track&action=track&language=english&cntry_code=us&initial=x&tracknumbers="+a.expressNumber};c.open(b[a.expressCompany])},a.linkToCustomerInfoPage=function(a){c.open("http://www.culexpress.com/WMS/ClientInfo.aspx?sysid="+a)},a.addShipping=function(){b.path("/warehouse/editshipping")}}]),angular.module("culAdminApp").controller("WarehouseEditshippingCtrl",["$scope","$location",function(a,b){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.cancelEdit=function(){b.path("/warehouse/shipping")}}]),angular.module("culAdminApp").controller("RegisterPackageOnlineCtrl",["$scope","$location","$window","orderService","warehouseService","plugMessenger",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data=null,a.tempInboundPackageNumber=b.search().trackingNumber||"",a.isPrint=!1,a.isSplit=!1,a.isDel=!1;a.getCompatibleInboundTrackingNumber=function(a){return"string"==typeof a&&/^9622001900009612705000/.test(a)&&34===a.length?a=a.replace(/^9622001900009612705000/,""):"string"==typeof a&&/^9612019/.test(a)&&22===a.length?a=a.replace(/^9612019/,""):"string"==typeof a&&/^4201972092/.test(a)&&30===a.length?(console.log("234",2345),a=a.replace(/^4201972092/,"")):"string"==typeof a&&/^9622085030000054164400/.test(a)&&34===a.length?a=a.replace(/^9622085030000054164400/,""):"string"==typeof a&&/^42019720/.test(a)&&30===a.length?a=a.replace(/^42019720/,""):"string"==typeof a&&/^42019720/.test(a)&&34===a.length?a=a.replace(/^42019720/,""):"string"==typeof a&&/^420\d{5}\d{21,22}$/.test(a)&&(a=a.substr(8)),a},a.keyDown=function(b){var c=window.event?b.keyCode:b.which;13==c&&(a.data=null,a.checkInboundPackageNumber())},a.checkInboundPackageNumber=function(){a.tempData=a.tempInboundPackageNumber,a.getData()},a.btnPrint=function(b){a.data&&a.data.shipServiceName&&a.data.shipServiceName.toUpperCase().indexOf("USPS")>-1?$("USPS<div></div>").barcode(b.trackingNumber,"code128",{addQuietZone:"1",barHeight:"50",barWidth:"1",bgColor:"#FFFFFF",color:"#000000",moduleSize:"5",output:"css",posX:"10",posY:"20"}).jqprint():$("<div></div>").barcode(b.trackingNumber,"code128",{addQuietZone:"1",barHeight:"50",barWidth:"1",bgColor:"#FFFFFF",color:"#000000",moduleSize:"5",output:"css",posX:"10",posY:"20"}).jqprint()},a.btnEditAddPackage=function(){d.generatePackageNumber(function(b){a.data.outboundPackages.push({trackingNumber:b[0].trackingNumber,actualWeight:null})})},a.btnSplitPackage=function(b){e.outboundPackageSplit({trackingNumber:b.trackingNumber},function(c){c.checked=!0,c.actualWeight=b.actualWeight,a.data.outboundPackages.push(c)})},a.btnDelPackage=function(b,c){return a.data.outboundPackages.length<=1?f.info("只有一个包裹，不允许删除"):void("Packaged"===b.status?f.confirm("该包裹已打包，是否删除？",function(e){e&&d.deleteOutboundPackage({number:b.trackingNumber},function(b){a.tempInboundPackageNumber=a.tempData,a.data.outboundPackages.splice(c,1),a.getData()})}):f.confirm("确认删除转运包裹“"+b.trackingNumber+"”吗？",function(e){e&&d.deleteOutboundPackage({number:b.trackingNumber},function(b){a.tempInboundPackageNumber=a.tempData,a.data.outboundPackages.splice(c,1),a.getData()})}))},a.lpad=function(a,b,c){for(var d=a.substring(a.length-c,a.length),e=1;e<a.length-c;)d=b+d,e+=1;return d},a.rpad=function(a,b,c){for(var d=a.substring(0,c),e=1;e<a.length-c;)d+=b,e+=1;return a},a.scannedTrackingList=[],a.getData=function(){a.tempInboundPackageNumber?d.getList({receiveTrackingNumber:a.tempInboundPackageNumber},function(b){if(b&&b.data&&b.data.length>0){if(a.data||(a.data=b.data[0],console.log(a.data)),"Printed"!==a.data.printStatus)return a.tempInboundPackageNumber="",a.data=null,f.error("订单未打印不能打包,请在订单打印页面打印.");if("Processing"!==a.data.orderStatus&&"Paid"!==a.data.orderStatus&&"PartialShipped"!==a.data.orderStatus&&"WaybillUpdated"!==a.data.orderStatus&&"Arrears"!==a.data.orderStatus){a.tempInboundPackageNumber="";var c=a.data._orderStatus;return a.data=null,f.error("当前订单状态为["+c+"],不能打包!")}var d=!1;$.each(a.data.inboundPackages,function(b,c){c._trackingNumber=a.lpad(c.trackingNumber,"*",6),a.scannedTrackingList&&a.scannedTrackingList.length>0&&$.each(a.scannedTrackingList,function(a,b){b.checked&&b.trackingNumber.trim().toLowerCase()===c.trackingNumber.trim().toLowerCase()&&(c.checked=!0)}),c.checked||(0===a.getCompatibleInboundTrackingNumber(c.trackingNumber.trim()).toLowerCase().localeCompare(a.getCompatibleInboundTrackingNumber(a.tempInboundPackageNumber.trim()).toLowerCase())&&(c.checked=!0,a.scannedTrackingList.push({trackingNumber:c.trackingNumber,checked:!0})),d=!0)}),a.data._quantityCount=0,$.each(a.data.orderItems,function(b,c){a.data._quantityCount+=c.quantity}),$.grep(a.data.inboundPackages,function(a){return 1==a.checked}).length==a.data.inboundPackages.length}a.tempInboundPackageNumber="",console.log(b)}):a.tempInboundPackageNumber=""},a.checkInboundPackageNumber(),a.checkNum=function(a){a.subGoodNumber&&a.subGoodNumber<1&&(a.subGoodNumber="",f.info("填写的数字不能小于1"))},a.dealUpdate=function(b){var e=0,h=a.data.outboundPackages,i=function(){f.success("保存成功");var a=c.document.getElementById("tempInboundPackageNumber");a&&a.focus(),g()};$.each(h,function(a,b){b.status="Packaged",d.updateOutboundPackage(b,function(a){a.message||(e++,e==h.length&&i())})})},a.btnSave=function(){if(a.data&&a.data.inboundPackages.length>0){if(a.data.outboundPackages[0].actualWeight<=0)return void f.error("请填写实际包裹重量！");"Paid"==a.data.orderStatus&&"UnPrinted"==a.data.printStatus?f.confirm("该订单["+a.data.orderNumber+"]未打印,确认打包处理?",function(b){b&&($.grep(a.data.inboundPackages,function(a){return 1==a.checked}).length==a.data.inboundPackages.length?a.dealUpdate("WaybillUpdated"):a.dealUpdate("PartialShipped"))}):$.grep(a.data.inboundPackages,function(a){return 1==a.checked}).length==a.data.inboundPackages.length?a.dealUpdate("WaybillUpdated"):f.info("订单包裹尚未完成扫描")}},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()};var g=function(){a.data=null,a.tempInboundPackageNumber=""}}]),angular.module("culAdminApp").controller("RegisterPackageOfflineCtrl",["$scope","$location","$window","orderService","warehouseService","plugMessenger",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data=null,a.tempOutboundPackageNumber=b.search().trackingNumber||"",a.keyDown=function(b){var c=window.event?b.keyCode:b.which;13==c&&a.checkOutboundPackageNumber()},a.checkOutboundPackageNumber=function(){a.tempData=a.tempOutboundPackageNumber,a.getData()},a.btnPrint=function(b,c){switch(b){case"flyingexpress":a.$broadcast("print-flying-express.action",c.orderNumber);break;case"flyingexpress_new":a.$broadcast("print-flying-express-new.action",c.orderNumber);break;case"trackingNumber":$("<div></div>").barcode(c.trackingNumber,"code128",{addQuietZone:"1",barHeight:"50",barWidth:"1",bgColor:"#FFFFFF",color:"#000000",moduleSize:"5",output:"css",posX:"10",posY:"20"}).jqprint()}},a.btnDelPackage=function(b){return a.data.outboundPackages.length<=1?f.info("只有一个包裹，不允许删除"):void f.confirm("确认删除转运包裹“"+b.trackingNumber+"”吗？",function(c){c&&d.deleteOutboundPackage({number:b.trackingNumber},function(b){f.success("删除成功"),a.tempOutboundPackageNumber=a.tempData,a.getData()})})},a.getData=function(){a.tempOutboundPackageNumber?d.getList({outBoundTrackingNumber:a.tempOutboundPackageNumber},function(b){if(b&&b.data&&b.data.length>0){a.data=b.data[0];var c=!1;$.each(a.data.outboundPackages,function(b,e){"scan"==e.scanStatus?e.checked=!0:e.checked=!1,e.trackingNumber==a.tempOutboundPackageNumber&&(e.checked=!0,c=!0,"scan"!=e.scanStatus&&(e.scanStatus="scan",d.updateOutboundPackage(e,function(a){console.log(a)})))}),$.grep(a.data.outboundPackages,function(a){return 1==a.checked}).length==a.data.outboundPackages.length,a.weightChanged()}a.tempOutboundPackageNumber=""}):a.tempOutboundPackageNumber=""},a.checkOutboundPackageNumber(),a.btnSplitPackage=function(b){e.outboundPackageSplit({trackingNumber:b.trackingNumber},function(b){b.checked=!0,b.scanStatus="scan",a.data.outboundPackages.push(b)})},a.weightChanged=function(){"WaybillUpdated"==a.data.orderStatus&&(a.outboundEnable=$.grep(a.data.outboundPackages,function(a){return!!a.actualWeight&&1==a.checked}).length==a.data.outboundPackages.length)},a.dealUpdate=function(b){var e=0,h=a.data.outboundPackages,i=function(){d.update({orderNumber:a.data.orderNumber,orderStatus:b},function(a){f.success("保存成功"),g();var b=c.document.getElementById("tempOutboundPackageNumber");b&&b.focus()})};$.each(h,function(a,b){b.status="Packaged",d.updateOutboundPackage(b,function(a){a.message||(e++,e==h.length&&i())})})},a.dealOutBoundUpdate=function(b){var h=0,i=a.data.outboundPackages,j=function(){d.update({orderNumber:a.data.orderNumber,orderStatus:b},function(b){var d=[];$.each(a.data.outboundPackages,function(a,b){d.push(b.trackingNumber)}),e.outboundPackageShip(d,function(a){if(1==a.success){f.success("出库成功");var b=c.document.getElementById("tempOutboundPackageNumber");b&&b.focus(),g()}})})};$.each(i,function(a,b){d.updateOutboundPackage(b,function(a){a.message||(h++,h==i.length&&j())})})},a.btnSave=function(){if(a.data&&a.data.outboundPackages.length>0){if(a.data.outboundPackages[0].actualWeight<=0)return void f.error("请填写实际包裹重量！");"UnPrinted"==a.data.printStatus?f.confirm("该订单["+a.data.orderNumber+"]未打印,确认打包处理?",function(b){b&&($.grep(a.data.outboundPackages,function(a){return 1==a.checked}).length==a.data.outboundPackages.length?a.dealUpdate("WaybillUpdated"):f.info("订单包裹尚未完成扫描"))}):$.grep(a.data.outboundPackages,function(a){return 1==a.checked}).length==a.data.outboundPackages.length?a.dealUpdate("WaybillUpdated"):f.info("订单包裹尚未完成扫描")}},a.btnOutBound=function(){if(a.data&&a.data.outboundPackages.length>0)if($.grep(a.data.outboundPackages,function(a){return!!a.actualWeight}).length==a.data.outboundPackages.length){if(a.data&&a.data.outboundPackages.length>0){if(a.data.outboundPackages[0].actualWeight<=0)return void f.error("请填写实际包裹重量！");"UnPrinted"==a.data.printStatus?f.confirm("该订单["+a.data.orderNumber+"]未打印,确认打包处理?",function(b){b&&($.grep(a.data.outboundPackages,function(a){return 1==a.checked}).length==a.data.outboundPackages.length?a.dealOutBoundUpdate("WaybillUpdated"):a.dealOutBoundUpdate("PartialShipped"))}):$.grep(a.data.outboundPackages,function(a){return 1==a.checked}).length==a.data.outboundPackages.length?a.dealOutBoundUpdate("WaybillUpdated"):a.dealOutBoundUpdate("PartialShipped")}}else f.info("订单还有包裹没有称重")},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()},$("#tip_umipackage").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"请扫描CUL包裹编号，比如CUL100000001"}),$("#tip_outbound").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"订单中所有包裹完成打包后，点击此按钮将修改订单为已出库状态。客户可以在轨迹跟踪页面看到包裹完成出库操作的信息。"});var g=function(){a.data=null,a.tempOutboundPackageNumber=""}}]),angular.module("culAdminApp").controller("WarehouseBucketCtrl",["$scope","$location","$window","warehouseService","bucketService","storage",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[];var g=sessionStorage.getItem("token");g=g?encodeURIComponent(g):null,$("#form_export_order").attr("action",cul.apiPath+"/outboundorderlist/list/export?Token="+g),$("#form_exportHT").attr("action",cul.apiPath+"/order/list/export/ht?Token="+g),a.searchBar={keywordType:"bucketNumber",keywords:b.search().bucketNumber||"",warehouseNumber:"",status:"",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},a.tempSearchBar=angular.copy(f.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar),a.pagination={pageSize:"20",pageIndex:1,totalCount:0},d.getWarehouse(function(b){1==b.length?(a.searchBar.warehouseList=b,a.searchBar.warehouseNumber=a.searchBar.warehouseList[0].warehouseNumber):a.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(b)});var h=function(){var b={pageInfo:a.pagination,indateFrom:a.searchBar.startDate?a.searchBar.startDate.toISOString():"",indateTo:a.searchBar.endDate?a.searchBar.endDate.toISOString():""};return a.searchBar.warehouseNumber&&(b.warehouseNumber=a.searchBar.warehouseNumber),a.searchBar.status&&(b.status=a.searchBar.status),a.searchBar.keywords&&(b[a.searchBar.keywordType]=a.searchBar.keywords),angular.copy(b)};a.getData=function(){var b=h();f.session.setObject("searchBar",a.searchBar),e.getList(h(),function(c){a.dataList=c.data,a.pagination.totalCount=c.pageInfo.totalCount;var d=[];$.each(a.dataList,function(a,b){b.totalWeight=0,b.detail.forEach(function(a){a.totalWeight=0,a.boxes&&a.boxes[0]?a.boxes.forEach(function(a){a.bags&&a.bags[0]&&a.bags.forEach(function(a){a.totalWeight=0,a.packages&&a.packages[0]&&a.packages.forEach(function(a){b.totalWeight+=a.weight,d.push(a.trackingNumber)})})}):a.bags&&a.bags[0]&&a.bags.forEach(function(a){a.totalWeight=0,a.packages&&a.packages[0]&&a.packages.forEach(function(a){b.totalWeight+=a.weight,d.push(a.trackingNumber)})})})}),d.length>0&&(b.trackingNumber=d.join(","),b.outBoundTrackingNumber=d.join("\r\n")),a.exportOptions=$.extend({token:g},b)})},a.btnSearch=function(){a.selectedListCache=[],a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.btnAction=function(a,c){switch(a){case"create":b.search({createBucket:1}),b.path("/warehouse/bucketedit");break;case"edit":c&&b.search({bucketNumber:c.bucketNumber,editBucket:1}),b.path("/warehouse/bucketedit");break;case"detail":c&&b.search({bucketNumber:c.bucketNumber,readonly:1}),b.path("/warehouse/bucketedit");break;case"editFlightNo":c&&b.search({bucketNumber:c.bucketNumber,editFlightNo:1}),b.path("/warehouse/bucketedit")}},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()}}]),angular.module("culAdminApp").controller("DeleteReceiptLogCtrl",["$timeout","$window","$scope","$rootScope","$location","$filter","orderService","warehouseService","plugMessenger","storage",function(a,b,c,d,e,f,g,h,i,j){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],c.dataList=[],c.orderNumberList=[],c.pagination={pageSize:"20",pageIndex:1,totalCount:0},c.searchBar={selectedAll:!1,keywordType:"customerNumber",orderStatus:"",printStatus:"",warehouseNumber:"",shipServiceId:0,isFastOrder:void 0,startDate:"",startTime_HH:"0",startTime_mm:"",startTime_ss:"",endDate:"",endTime_HH:"0",endTime_mm:"",endTime_ss:"",opened:{startDate:!1,endDate:!1}},c.tempSearchBar=angular.copy(j.getSearchObject()),c.tempSearchBar&&(c.searchBar=c.tempSearchBar?c.tempSearchBar:c.searchBar);var k=function(){var a={pageInfo:c.pagination,dateFrom:c.searchBar.startDate?c.searchBar.startDate:"",dateTo:c.searchBar.endDate?c.searchBar.endDate:""};return c.searchBar.keywords&&(a[c.searchBar.keywordType]=c.searchBar.keywords,"orderNumber"==c.searchBar.keywordType&&c.searchBar.keywords.indexOf("\n")>=0&&(a[c.searchBar.keywordType]=c.searchBar.keywords.split("\n"))),angular.copy(a)};c.getData=function(){j.session.setObject("searchBar",c.searchBar);var a=k();h.getDeleteReceiptLog(angular.copy(a),function(a){c.dataList=a.data.data,c.pagination.totalCount=a.data.count})},c.btnSearch=function(){c.selectedListCache=[],c.dataList=[],c.pagination.pageIndex=1,c.pagination.totalCount=0,c.getData()}}]),angular.module("culAdminApp").controller("WarehouseBucketEditCtrl",["$scope","$location","$window","warehouseService","bucketService","plugMessenger","orderService",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.cul={},a.cul.bagWeight=1,a.data={detail:[],packageList:[]},a.selectPkgTotalWeight=0,a.selectPkgTotalCount=0,a.tpl_status={actionType:"bucket",bucketNumber:b.search().bucketNumber||"",readonly:b.search().readonly||"",editFlightNo:b.search().editFlightNo||"",editBucket:b.search().editBucket||"",createBucket:b.search().createBucket||""},a.errorFlightNo="",a.flightNo="",a.packages={},a.tpl_status.bucketNumber&&(e.getDetail(a.tpl_status.bucketNumber,function(c){a.data=c,a.data.detail[0]&&a.data.detail.forEach(function(c){c.totalWeight=0,c.boxes&&c.boxes[0]?c.boxes.forEach(function(d){d.bags&&d.bags[0]&&d.bags.forEach(function(d){d.totalWeight=0,d.packages&&d.packages[0]&&d.packages.forEach(function(e){a.selectPkgTotalWeight+=e.weight,a.selectPkgTotalCount++,a.data.packageList.forEach(function(a){e==a.trackingNumber&&(d.readonly=b.search().readonly||"",c.readonly=b.search().readonly||"",d.totalWeight+=a.weight,c.totalWeight+=a.weight)})})})}):c.bags&&c.bags[0]&&c.bags.forEach(function(d){d.totalWeight=0,d.packages&&d.packages[0]&&d.packages.forEach(function(e){a.selectPkgTotalWeight+=e.weight,a.selectPkgTotalCount++,a.data.packageList.forEach(function(a){e==a.trackingNumber&&(d.readonly=b.search().readonly||"",c.readonly=b.search().readonly||"",d.totalWeight+=a.weight,c.totalWeight+=a.weight)})})})})}),$("#bucket-title").text("编辑"+a.tpl_status.bucketNumber)),a.getShippingChannelList=function(){d.getShippingChannelList(function(b){1==b.length?(a.shippingChannelList=b,a.data.shipServiceId=a.shippingChannelList[0].shipServiceId):(a.shippingChannelList=[{shipServiceId:0,shipServiceName:"全部"}].concat(b),a.data.shipServiceId=a.shippingChannelList[0].shipServiceId)}),a.getSummaryInboundPackage()},a.$on("$viewContentLoaded",function(){a.getWarehouse()}),a.getWarehouse=function(){d.getWarehouse(function(b){a.warehouseList=b,a.data.warehouseNumber=a.warehouseList[0].warehouseNumber,a.getShippingChannelList()})},a.callback={check:function(b,c,d){if(b)if(_.isObject(b)){if(!_.findWhere(c,{name:b.name,_selected:!0})){var e=function(a){_.each(a,function(a){delete a._selected;for(var b in a)_.isArray(a[b])&&e(a[b])})};e(c),b._selected=!0,a.$broadcast("bucket-item-selected",b.name,d)}}else a._selectedPackage=angular.copy(_.findWhere(a.data.packageList,{trackingNumber:b})),a.$broadcast("bucket-item-selected",a._selectedPackage.trackingNumber)},add:function(b,c){if(b){a.callback.check(b,c),a.tpl_status.actionType="package";var d=_.findWhere(a.data.detail,{_selected:!0}),e=null,f=null,g=[d.name];_.isArray(d.bags)&&d.bags.length>0?f=_.findWhere(d.bags,{_selected:!0}):(e=_.findWhere(d.boxes,{_selected:!0}),f=_.findWhere(e.bags,{_selected:!0})),f&&f.packages&&f.packages[0]&&(a.data.packageList=[],f.packages.forEach(function(b){a.data.packageList.push(b)})),e&&g.push(e.name),f&&g.push(f.name),a.totalWeight(),$("#package-title").text(g.join(" > ")),setTimeout(function(){$("#key_trackingNumber").focus()},100)}},remove:function(b,c){if(b){if(b.boxes&&b.boxes.length>0)return void f.info("该{0}已经装载[{1}]个Box，清空后才能删除。".replace("{0}",c).replace("{1}",b.boxes.length));if(b.bags&&b.bags.length>0)return void f.info("该{0}已经装载[{1}]个Bag，清空后才能删除。".replace("{0}",c).replace("{1}",b.bags.length));if(b.packages&&b.packages.length>0)return void f.info("该{0}已经装载[{1}]个包裹，清空后才能删除。".replace("{0}",c).replace("{1}",b.packages.length));switch(c){case"pallet":a.data.detail=_.filter(a.data.detail,function(a){return a.$$hashKey!=b.$$hashKey});break;case"box":var d=_.findWhere(a.data.detail,{_selected:!0});d.boxes=_.filter(d.boxes,function(a){return a.$$hashKey!=b.$$hashKey}),0==d.boxes.length&&(d.boxes=null);break;case"bag":var d=_.findWhere(a.data.detail,{_selected:!0});if(_.isArray(d.bags)&&d.bags.length>0)d.bags=_.filter(d.bags,function(a){return a.$$hashKey!=b.$$hashKey}),0==d.bags.length&&(d.bags=null);else{var e=_.findWhere(d.boxes,{_selected:!0});e.bags=_.filter(e.bags,function(a){return a.$$hashKey!=b.$$hashKey})}break;case"package":if(a._selectedPackage&&void 0==a._selectedPackage.weight)break;var d=_.findWhere(a.data.detail,{_selected:!0}),g=_.isArray(d.bags)&&d.bags.length>0?d.bags:_.findWhere(d.boxes,{_selected:!0}).bags,h=_.findWhere(g,{_selected:!0});h.packages=_.filter(h.packages,function(a){return a.trackingNumber!=b.trackingNumber}),a.data.packageList=_.filter(a.data.packageList,function(a){return a.trackingNumber!=b.trackingNumber}),a._selectedPackage&&a._selectedPackage.trackingNumber==b.trackingNumber&&(a._selectedPackage=null),h.isCheckWeight=!1,a.btnSave(),a.totalWeight(),a.refesh()}}}},a.refesh=function(){return a.tpl_status.bucketNumber?void e.update(a.data,function(a){a.message||f.success("修改成功")}):void 0},a.btnPrev=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()},a.btnClose=function(){var b=!0;if(!a.data.packageList||0==a.data.packageList.length)return void f.info("该总单没有扫描任何包裹不能关闭!");if(a.data.detail&&a.data.detail.forEach(function(a){a.boxes&&a.boxes[0]?a.boxes.forEach(function(a){a.bags&&a.bags[0]&&a.bags.forEach(function(a){return 0==a.isCheckWeight||void 0==a.isCheckWeight?(f.info("该总单还有包裹未校验或者校验不成功，不能关闭!"),void(b=!1)):void 0})}):a.bags&&a.bags[0]&&a.bags.forEach(function(a){return 0==a.isCheckWeight||void 0==a.isCheckWeight?(f.info("该总单还有包裹未校验或者校验不成功，不能关闭!"),void(b=!1)):void 0})}),""==a.data.flightNo&&a.data.flightNo.length<=0)return void(a.errorFlightNo="关闭前请输入航班号！");var c=function(){f.success("总单关闭成功"),a.btnPrev()};1==b&&f.confirm("所有已扫描包裹将变为已出库状态,确认关闭出库总单吗？",function(b){if(b){var f={bucketNumber:a.tpl_status.bucketNumber,flightNo:a.data.flightNo};e.close(f,function(b){if(!b.message){var e=[];$.each(a.data.packageList,function(a,b){e.push(b.trackingNumber)}),d.outboundPackageShip(e,function(a){1==a.success&&c()})}})}})},a.btnAdd=function(b){var c=_.findWhere(a.data.detail,{_selected:!0}),d=function(a){var c=1;if(a.length>0){var d=a[a.length-1].name;c=parseFloat(d.substring(d.lastIndexOf("-")+1))+1}return{name:"{0}-{1}".replace("{0}",b).replace("{1}",c)}};switch(b){case"pallet":a.data.detail.push(d(a.data.detail));break;case"box":c.bags&&0!=c.bags.length?f.info("请将Pallet下的Bag清理后再创建Box"):(c.boxes||(c.boxes=[]),c.boxes.push(d(c.boxes)));break;case"bag":if(c.boxes&&0!=c.boxes.length){var e=_.findWhere(c.boxes,{_selected:!0});e?(e.bags||(e.bags=[]),e.bags.push(d(e.bags))):f.info("请指定Box再创建Bag")}else c.bags||(c.bags=[]),c.bags.push(d(c.bags))}},a.btnSave=function(b){return a.tpl_status.bucketNumber?void e.update(a.data,function(c){c.message||(f.success("修改成功"),b&&a.btnPrev())}):void e.create(a.data,function(c){c.message||(a.tpl_status.bucketNumber=c[0].bucketNumber,a.data.bucketNumber=c[0].bucketNumber,f.success("创建成功"),b&&a.btnPrev())})};var h=null;a.keydownTrackingNumber=function(b){13===b.keyCode&&a.btnSaveByPackage()},a.checkWeight=function(b){13===b.keyCode&&a.btnCheckWeight()},a.totalWeight=function(){a.selectPkgTotalWeight=0,a.selectPkgTotalCount=0,a.data.packageList.forEach(function(b){a.selectPkgTotalCount++,a.selectPkgTotalWeight=parseFloat(parseFloat(a.selectPkgTotalWeight||0)+b.weight)},this)},a.btnSaveByPackage=function(){return void 0==a._selectedPackage||void 0==a._selectedPackage.trackingNumber?(f.info("请输入包裹单号."),void document.getElementById("key_trackingNumber").focus()):void e.checkPackage(a._selectedPackage.trackingNumber,function(b){if(b.msg)return f.info(b.msg),a._selectedPackage=null,h=null,void document.getElementById("key_trackingNumber").focus();a._selectedPackage.trackingNumber=b.trackingNumber,h=b;var c=_.findWhere(a.data.detail,{_selected:!0}),d=_.isArray(c.bags)&&c.bags.length>0?c.bags:_.findWhere(c.boxes,{_selected:!0}).bags,e=_.findWhere(d,{_selected:!0});if(a._selectedPackage){if(_.findWhere(e.packages,{trackingNumber:a._selectedPackage.trackingNumber})){_.findWhere(a.data.packageList,{trackingNumber:a._selectedPackage.trackingNumber})}else{if(_.findWhere(a.data.packageList,{trackingNumber:a._selectedPackage.trackingNumber}))return f.info("包裹["+a._selectedPackage.trackingNumber+"]已存在当前总单中。"),a._selectedPackage=null,h=null,void document.getElementById("key_trackingNumber").focus();if(h.actualWeight<=0)return f.info("CUL包裹单号"+a._selectedPackage.trackingNumber+"无法装袋:该包裹还未打包称重。"),a._selectedPackage=null,h=null,void document.getElementById("key_trackingNumber").focus();var g=angular.copy(a._selectedPackage);g.weight=h.actualWeight,g.orderNumber=h.orderNumber,_.isArray(e.packages)?(e.packages.push(g),e.isCheckWeight=!1,a.btnSave()):(e.packages=[g],e.isCheckWeight=!1,a.btnSave()),a.data.packageList=e.packages}h=null,a._selectedPackage=null,a.totalWeight(),document.getElementById("key_trackingNumber").focus()}})},a.btnCheckWeight=function(){if(!a._selectedPackage||!a._selectedPackage.totalWeight||a._selectedPackage.totalWeight<0)return void f.info("称重重量无效!");var b=_.reduce(a.data.packageList,function(a,b){return a+b.weight},0),c=_.findWhere(a.data.detail,{_selected:!0}),d=_.isArray(c.bags)&&c.bags.length>0?c.bags:_.findWhere(c.boxes,{_selected:!0}).bags,e=_.findWhere(d,{_selected:!0});if(!(a.data.packageList.length>0&&void 0!=a._selectedPackage.totalWeight))return f.info("还没有装袋包裹"),void document.getElementById("key_trackingNumber").focus();var g=parseFloat(b)+parseFloat(a.cul.bagWeight);return g-parseFloat(a._selectedPackage.totalWeight)<1&&g-parseFloat(a._selectedPackage.totalWeight)>-1?(e.isCheckWeight=!0,a.btnSave(),f.info("校验成功，并已经保存！"),void 0):(e.isCheckWeight=!1,f.error("重量校验失败![称重重量"+a._selectedPackage.totalWeight+"磅]和[包裹加袋子重量"+g+"磅]的误差必须小于正负1磅!"),void document.getElementById("key_trackingNumber").focus())},a.btnPrevByPackage=function(){a._selectedPackage=null,a.tpl_status.actionType="bucket"},a.btnUpdate=function(){if(""==a.flightNo&&a.flightNo.length<=0)return void(a.errorFlightNo="请输入航班号！");var b={bucketNumber:a.tpl_status.bucketNumber,flightNo:a.flightNo};e.update(b,function(b){b.message||(f.success("修改成功！"),a.btnPrev())})},a.pkgCount=[],a.getSummaryInboundPackage=function(){e.getSummaryInboundPackage(a.data,function(b){a.pkgCount=b.data.data,
a.pkgCount.PackageCount=0,a.pkgCount.PackageTotalWeight=0,a.pkgCount&&a.pkgCount.forEach(function(b){a.pkgCount.PackageCount=a.pkgCount.PackageCount+b.PackageCount,a.pkgCount.PackageTotalWeight=a.pkgCount.PackageTotalWeight+b.PackageTotalWeight})})}}]),angular.module("warehourseFilters",[]).filter("adviceStatus",function(){var a={1:"待反馈",2:"已反馈"};return function(b){return a[b]||b}}).filter("_sendType",function(){var a={1:"大客户",2:"海淘客户"};return function(b){return a[b]||b}}).filter("_outInventory",function(){var a={0:"否",1:"是"};return function(b){return a[b]||b}}).filter("_vipPayStatus",function(){var a={0:"否",1:"是","":"旧数据"};return function(b){return a[b]||b}}).filter("webType",function(){var a={1:"登入广告",2:"普通公告",3:"促销活动"};return function(b){return a[b]||b}}).filter("webstatus",function(){var a={0:"禁用",1:"启用"};return function(b){return a[b]||b}}).filter("webopenAll",function(){var a={1:"所有可见",0:"\b登录后可见"};return function(b){return a[b]||b}}).filter("countryCodeFilter",function(){var a={USA:"美国",CHN:"中国"};return function(b){return a[b]||b}}).filter("warehourseStatus",function(){var a={0:"禁用",1:"启用"};return function(b){return a[b]||b}}).filter("_payStatus",function(){var a={0:"未支付",1:"已支付"};return function(b){return a[b]||b}}).filter("_orderStatus",function(){var a={Canceled:"取消",Unpaid:"未支付",Paid:"已支付",Processing:"处理中",WaybillUpdated:"运单更新",Arrears:"运费不足",Shipped:"已出库",Arrived:"已送达",Void:"已删除",PartialShipped:"部分出库"};return function(b){return a[b]||b}}).filter("_packageStatus",function(){var a={Intransit:"在途",Inbound:"入库",Onshelf:"上架",Offshelf:"下架",Processing:"处理中"};return function(b){return a[b]||b}}).filter("_outPackageStatus",function(){var a={Init:"未打包",Packaged:"已打包",Shipped:"出库",Send:"送往机场",Arrived:"到达国内"};return function(b){return a[b]||b}}).filter("_shipService",function(){var a={1:"标准包裹服务",3:"特快服务A",4:"特快服务B",5:"标准邮寄服务A",6:"标准邮寄服务B",7:"标准邮寄服务C",8:"标准邮寄服务",9:"美国邮政 USPS特快",10:"美国邮政USPS PRIORITY MAIL"};return function(b){return a[b]||b}}).filter("_question",function(){var a={Closed:"已关闭",Processing:"待处理",ForwardWH:"转交仓库"};return function(b){return a[b]||b}}).filter("cutText",function(){return function(a,b,c,d){if(!a)return"";if(c=parseInt(c,10),!c)return a;if(a.length<=c)return a;if(a=a.substr(0,c),b){var e=a.lastIndexOf(" ");-1!=e&&(("."==a.charAt(e-1)||","==a.charAt(e-1))&&(e-=1),a=a.substr(0,e))}return a+(d||" ...")}}).filter("_webIsTaxFree",function(){var a={0:"否",1:"是"};return function(b){return a[b]||b}}).filter("_webWarehouseType",function(){var a={0:"转仓仓库",1:"普通仓库"};return function(b){return a[b]||b}}).filter("listInfo",function(){return function(a,b){for(var c=[],d=b-b%10,e=b;e>=d;d++)c.push(a[d]);return c}}).filter("intercept",function(){return function(a){return a?a.slice(a.length-6,a.length):void 0}}),angular.module("culAdminApp").controller("FinanceListCtrl",["$timeout","$window","$scope","$rootScope","$location","$filter","customerService","warehouseService","plugMessenger","storage",function(a,b,c,d,e,f,g,h,i,j){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],c.tpl_status={customerType:{normal_customer:"普通客户",vip_customer:"VIP客户"}},c.dataList=[],c.pagination={pageSize:"20",pageIndex:1,totalCount:0},c.searchBar={selectedAll:!1,keywordType:"customerNumber",warehouseNumber:""},c.tempSearchBar=angular.copy(j.getSearchObject()),c.tempSearchBar&&(c.searchBar=c.tempSearchBar?c.tempSearchBar:c.searchBar),h.getWarehouse(function(a){1==a.length?(c.searchBar.warehouseList=a,c.searchBar.warehouseNumber=c.searchBar.warehouseList[0].warehouseNumber):c.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(a)});var k=function(){var a={pageInfo:c.pagination};return c.searchBar.warehouseNumber&&(a.warehouseNumber=c.searchBar.warehouseNumber),c.searchBar.keywords&&(a[c.searchBar.keywordType]=c.searchBar.keywords),angular.copy(a)};c.getData=function(){j.session.setObject("searchBar",c.searchBar);var a=k();g.statisticsList(angular.copy(a),function(a){c.dataList=a.data,c.pagination.totalCount=a.pageInfo.totalCount})},c.btnSearch=function(){c.dataList=[],c.pagination.pageIndex=1,c.pagination.totalCount=0,c.getData()},c.btnOpenDetail=function(a,b){switch(b){case"customerdetail":e.search({customerNumber:a.customerNumber}),e.path("/customer/customerdetail");break;case"financedetail":e.search({customerNumber:a.customerNumber}),e.path("/finance/financedetail")}},a(function(){},500)}]),angular.module("culAdminApp").controller("FinanceDetailCtrl",["$scope","$location","$filter","$window","customerService","warehouseService","plugMessenger",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data={},a.customerNumber=b.search().customerNumber,a.tpl_status={date:Date.now()},e.getDetail(a.customerNumber,function(b){a.data.customer=b}),a.flag=0,e.getUnpaid({customerNumber:a.customerNumber},function(b){a.flag=1,a.data.unpaid=b,console.log("$scope.data.unpaid",a.data.unpaid)}),a.btnPay=function(c){switch(c){case"offline":a.data.unpaid||g.info("准备中，请稍后几秒尝试"),b.search({customerNumber:b.search().customerNumber,orderType:"offline",paid:a.data.unpaid.offLineCount}),b.path("/finance/financedetail/pay");break;case"online":a.data.unpaid||g.info("准备中，请稍后几秒尝试"),b.search({customerNumber:b.search().customerNumber,orderType:"online",paid:a.data.unpaid.onLineCount}),b.path("/finance/financedetail/pay");break;case"refund":b.search({customerNumber:b.search().customerNumber,orderType:"refund"}),b.path("/finance/financedetail/pay");break;case"recharge":b.search({customerNumber:b.search().customerNumber,orderType:"refund"}),b.path("/finance/financedetail/recharge")}},a.btnOpenDetail=function(a,c){switch(c){case"customerdetail":b.search({customerNumber:a.customerNumber}),b.path("/customer/customerdetail");break;case"orderdetail":b.search({orderNumber:a.orderNumber}),b.path("/order/orderdetail")}},a.btnPrev=function(){d.sessionStorage.setItem("historyFlag",1),d.history.back()},$("[id='tip_online_order']").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"海淘订单只能通过客户余额支付，请确保客户账户余额足够支付，单笔订单支付请查看最近活动页面。"}),$("[id='tip_offline_order']").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"如果客户通过现金转账等方式支付费用，请点击手动支付按钮进行记录，单笔订单支付请查看最近活动页面。"})}]),angular.module("culAdminApp").controller("FinanceDetailActiveOnlineCtrl",["$scope","$location","$filter","customerService","orderService","warehouseService","plugMessenger",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={selectedAll:!1,keywordType:"orderNumber",type:"",paidstatus:"",dateRange:"",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},a.changeDate=function(){var b=864e5;switch(a.searchBar.dateRange){case"3":a.searchBar.startDate=new Date(new Date-3*b),a.searchBar.startDate.setHours(0),a.searchBar.startDate.setMinutes(0),a.searchBar.startDate.setSeconds(0),a.searchBar.startDate.setMilliseconds(0),a.searchBar.endDate=new Date;break;case"7":a.searchBar.startDate=new Date(new Date-7*b),a.searchBar.startDate.setHours(0),a.searchBar.startDate.setMinutes(0),a.searchBar.startDate.setSeconds(0),a.searchBar.startDate.setMilliseconds(0),a.searchBar.endDate=new Date;break;default:a.searchBar.startDate="",a.searchBar.endDate=""}},f.getWarehouse(function(b){1==b.length?(a.searchBar.warehouseList=b,a.searchBar.warehouseNumber=a.searchBar.warehouseList[0].warehouseNumber):a.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(b)});var h=function(){var c={pageInfo:a.pagination,dateFrom:a.searchBar.startDate?a.searchBar.startDate.toISOString():"",dateTo:a.searchBar.endDate?a.searchBar.endDate.toISOString():"",customerNumber:b.search().customerNumber};return a.searchBar.paidstatus&&(c.paidstatus=a.searchBar.paidstatus),a.searchBar.keywords&&(c[a.searchBar.keywordType]=a.searchBar.keywords),angular.copy(c)};a.getData=function(){var b=h();b.orderType="1",e.activitiesList(angular.copy(b),function(b){a.dataList=b.data,a.pagination.totalCount=b.pageInfo.totalCount})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.btnOpenDetail=function(a,c){switch(c){case"customerdetail":b.search({customerNumber:a.customerNumber}),b.path("/customer/customerdetail");break;case"orderdetail":b.search({orderNumber:a.orderNumber}),b.path("/order/orderdetail")}},a.btnPay=function(a){a&&(b.search({customerNumber:b.search().customerNumber,orderNumber:a.orderNumber,orderType:"online",paid:-1*a.shippingFeeAdjust}),b.path("/finance/financedetail/pay"))}}]),angular.module("culAdminApp").controller("FinanceDetailActiveOfflineCtrl",["$scope","$location","$filter","customerService","orderService","warehouseService","plugMessenger",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={selectedAll:!1,keywordType:"orderNumber",type:"",paidstatus:"",dateRange:"",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},a.changeDate=function(){var b=864e5;switch(a.searchBar.dateRange){case"3":a.searchBar.startDate=new Date(new Date-3*b),a.searchBar.startDate.setHours(0),a.searchBar.startDate.setMinutes(0),a.searchBar.startDate.setSeconds(0),a.searchBar.startDate.setMilliseconds(0),a.searchBar.endDate=new Date;break;case"7":a.searchBar.startDate=new Date(new Date-7*b),a.searchBar.startDate.setHours(0),a.searchBar.startDate.setMinutes(0),a.searchBar.startDate.setSeconds(0),a.searchBar.startDate.setMilliseconds(0),a.searchBar.endDate=new Date;break;default:a.searchBar.startDate="",a.searchBar.endDate=""}},f.getWarehouse(function(b){1==b.length?(a.searchBar.warehouseList=b,a.searchBar.warehouseNumber=a.searchBar.warehouseList[0].warehouseNumber):a.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(b)});var h=function(){var c={pageInfo:a.pagination,dateFrom:a.searchBar.startDate?a.searchBar.startDate.toISOString():"",dateTo:a.searchBar.endDate?a.searchBar.endDate.toISOString():"",customerNumber:b.search().customerNumber};return a.searchBar.paidstatus&&(c.paidstatus=a.searchBar.paidstatus),a.searchBar.keywords&&(c[a.searchBar.keywordType]=a.searchBar.keywords),angular.copy(c)};a.getData=function(){var b=h();b.orderType="0",e.activitiesList(angular.copy(b),function(b){a.dataList=b.data,a.pagination.totalCount=b.pageInfo.totalCount})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.btnOpenDetail=function(a,c){switch(c){case"customerdetail":b.search({customerNumber:a.customerNumber}),b.path("/customer/customerdetail");break;case"orderdetail":b.search({orderNumber:a.orderNumber}),b.path("/order/orderdetail")}},a.btnPay=function(a){a&&(b.search({customerNumber:b.search().customerNumber,orderNumber:a.orderNumber,orderType:"online",paid:-1*a.shippingFeeAdjust}),b.path("/finance/financedetail/pay"))}}]),angular.module("culAdminApp").controller("FinanceDetailPayCtrl",["$scope","$location","$filter","$window","customerService","warehouseService","plugMessenger","orderService",function(a,b,c,d,e,f,g,h){switch(this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data={rechargeChannel:"4",fee:0,memo:""},a.search={},a.maxTotal,a.checkOrderNumber=function(){return a.maxTotal=0,a.search.customerNumber=a.data.customer.customerNumber,a.search.orderNumber?(a.flag="0",void h.checkOrderNumber(a.search).then(function(b){return"999"==b.data.code?(a.search.orderNumber="",void g.error(b.data.msg)):void("000"==b.data.code&&(a.tmpData={},a.tmpData=b.data.data[0],a.data.tempCustomerNumber=b.data.data[0].customerNumber,a.maxTotal=a.tmpData.paied))})):void g.error("订单编号必须填写")},a.tpl_status={customerNumber:b.search().customerNumber,orderNumber:b.search().orderNumber,packageNumber:b.search().packageNumber,orderType:b.search().orderType,fee:Number(b.search().paid||0),date:Date.now()},a.reloadPaymentDetail=function(){a.data.fee=a.tpl_status.fee},a.tpl_status.orderType){case"offline":a.tpl_status._orderType={sortTitle:"手动",title:"手动支付",orderType:"线下订单",helper:"批量手动支付不支持支付部分费用，请通过最近活动页面手动支付单笔订单。"},a.reloadPaymentDetail();break;case"online":a.tpl_status._orderType={sortTitle:"余额",title:"余额支付",orderType:"海淘订单",helper:"批量余额支付不支持支付部分费用，请通过最近活动页面余额支付单笔订单。"},a.reloadPaymentDetail();break;case"refund":a.tpl_status._orderType={sortTitle:"退款",title:"退还运费",orderType:"退还运费",helper:"退还金额将充值到客户账户余额中。"}}e.getDetail(a.tpl_status.customerNumber,function(b){a.data.customer=b}),a.btnSave=function(){if(a.data.fee<=0)return void g.info("请填写正确的金额（金额必须大于0元）");if(""==a.data.memo)return void g.info("请填写支付备注信息");switch(a.tpl_status.orderType){case"offline":var b={customerNumber:a.tpl_status.customerNumber,memo:a.data.memo,payment:a.data.fee,rechargeChannel:a.data.rechargeChannel};a.tpl_status.orderNumber&&(b.packageNumber=a.tpl_status.packageNumber),e.paymentByOffline(b,function(b){b.message||(g.success("支付成功"),a.btnPrev())});break;case"online":var b={customerNumber:a.tpl_status.customerNumber,memo:a.data.memo,payment:a.data.fee};a.tpl_status.orderNumber&&(b.orderNumber=a.tpl_status.orderNumber),e.paymentByOnline(b,function(b){b.message||(g.success("支付成功"),a.btnPrev())});break;case"refund":if(!a.search.orderNumber)return void g.info("订单编号不能为空");if(a.data.fee>a.maxTotal)return void g.info("退款金额不能超过原支付金额"+a.maxTotal);e.refundRecharge({customerNumber:a.tpl_status.customerNumber,orderNumber:a.search.orderNumber,operationType:"4",memo:a.data.memo,payment:a.data.fee},function(b){b.message||(g.success("退款成功"),a.btnPrev())})}},a.btnPrev=function(){d.sessionStorage.setItem("historyFlag",1),d.sessionStorage.setItem("historyFlag",1),d.history.back()},$("[id='tip_pay_fee']").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:a.tpl_status._orderType.helper})}]),angular.module("culAdminApp").controller("FinanceDetailRechangeCtrl",["$scope","$location","$filter","$window","customerService","warehouseService","plugMessenger","orderService",function(a,b,c,d,e,f,g,h){switch(this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data={rechargeChannel:"4",memo:""},a.search={},a.maxTotal,a.checkOrderNumber=function(){return a.maxTotal=0,a.search.customerNumber=a.data.customer.customerNumber,a.search.orderNumber?(a.flag="0",void h.checkOrderNumber(a.search).then(function(b){return"999"==b.data.code?(a.search.orderNumber="",void g.error(b.data.msg)):void("000"==b.data.code&&(a.tmpData={},a.tmpData=b.data.data[0],a.data.tempCustomerNumber=b.data.data[0].customerNumber,a.maxTotal=a.tmpData.paied))})):void g.error("订单编号必须填写")},a.tpl_status={customerNumber:b.search().customerNumber,orderNumber:b.search().orderNumber,packageNumber:b.search().packageNumber,orderType:b.search().orderType,fee:b.search().paid,date:Date.now()},a.reloadPaymentDetail=function(){a.data.fee=a.tpl_status.fee},a.tpl_status.orderType){case"offline":a.tpl_status._orderType={sortTitle:"手动",title:"手动支付",orderType:"线下订单",helper:"批量手动支付不支持支付部分费用，请通过最近活动页面手动支付单笔订单。"},a.reloadPaymentDetail();break;case"online":a.tpl_status._orderType={sortTitle:"余额",title:"余额支付",orderType:"海淘订单",helper:"批量余额支付不支持支付部分费用，请通过最近活动页面余额支付单笔订单。"},a.reloadPaymentDetail();break;case"refund":a.tpl_status._orderType={sortTitle:"退款",title:"退还运费",orderType:"退还运费",helper:"退还金额将充值到客户账户余额中。"}}e.getDetail(a.tpl_status.customerNumber,function(b){a.data.customer=b}),a.btnSave=function(){if(""==a.data.memo)return void g.info("请填写支付备注信息");var b="3";a.data.fee<0&&(b="1"),e.refundRecharge({customerNumber:a.tpl_status.customerNumber,operationType:b,memo:a.data.memo,payment:a.data.fee},function(b){b.message||(g.success("充值成功"),a.btnPrev())})},a.btnPrev=function(){d.sessionStorage.setItem("historyFlag",1),d.history.back()},$("[id='tip_pay_fee']").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:a.tpl_status._orderType.helper})}]),angular.module("culAdminApp").controller("FinanceDetailPaymentLogsCtrl",["$scope","$location","$filter","customerService","settlementService","plugMessenger",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.tpl_status={rechargeType:[{title:"全部",value:"2,8,9,10,11"},{title:"订单支付",value:"2"},{title:"扣款运费不足",value:"8"},{title:"大客户结算扣款",value:"9"},{title:"线下订单手动支付",value:"10"},{title:"线上订单余额手动支付",value:"11"}]},a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={customerNumber:b.search().customerNumber,selectedAll:!1,rechargeType:"2,8,9,10,11",dateRange:"",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},a.changeDate=function(){var b=864e5;switch(a.searchBar.dateRange){case"3":a.searchBar.startDate=new Date(new Date-3*b),a.searchBar.startDate.setHours(0),a.searchBar.startDate.setMinutes(0),a.searchBar.startDate.setSeconds(0),a.searchBar.startDate.setMilliseconds(0),a.searchBar.endDate=new Date;break;case"7":a.searchBar.startDate=new Date(new Date-7*b),a.searchBar.startDate.setHours(0),a.searchBar.startDate.setMinutes(0),a.searchBar.startDate.setSeconds(0),a.searchBar.startDate.setMilliseconds(0),a.searchBar.endDate=new Date;break;default:a.searchBar.startDate="",a.searchBar.endDate=""}};var g=function(){var b={pageInfo:a.pagination,dateFrom:a.searchBar.startDate?a.searchBar.startDate.toISOString():"",dateTo:a.searchBar.endDate?a.searchBar.endDate.toISOString():""};return a.searchBar.rechargeType&&(b.operationTypeList=a.searchBar.rechargeType.split(",")),a.searchBar.customerNumber&&(b.customerNumber=a.searchBar.customerNumber),angular.copy(b)};a.getData=function(){var b=g();d.financeLogList(angular.copy(b),function(b){a.dataList=b.data,a.pagination.totalCount=b.pageInfo.totalCount})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.getData()}]),angular.module("culAdminApp").controller("FinanceDetailRechargeLogsCtrl",["$scope","$location","$filter","customerService","settlementService","plugMessenger",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.tpl_status={rechargeType:[{title:"全部",value:"1,3,4,5,6,7"},{title:"支付宝人民币充值",value:"1"},{title:"赠送",value:"3"},{title:"退款",value:"4"},{title:"新用户首单奖励",value:"5"},{title:"推荐人奖励",value:"6"},{title:"推荐人订单奖励",value:"7"}]},a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={customerNumber:b.search().customerNumber,selectedAll:!1,rechargeType:"1,3,4,5,6,7",dateRange:"",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},a.changeDate=function(){var b=864e5;switch(a.searchBar.dateRange){case"3":a.searchBar.startDate=new Date(new Date-3*b),a.searchBar.startDate.setHours(0),a.searchBar.startDate.setMinutes(0),a.searchBar.startDate.setSeconds(0),a.searchBar.startDate.setMilliseconds(0),a.searchBar.endDate=new Date;break;case"7":a.searchBar.startDate=new Date(new Date-7*b),a.searchBar.startDate.setHours(0),a.searchBar.startDate.setMinutes(0),a.searchBar.startDate.setSeconds(0),a.searchBar.startDate.setMilliseconds(0),a.searchBar.endDate=new Date;break;default:a.searchBar.startDate="",a.searchBar.endDate=""}};var g=function(){var b={pageInfo:a.pagination,dateFrom:a.searchBar.startDate?a.searchBar.startDate.toISOString():"",dateTo:a.searchBar.endDate?a.searchBar.endDate.toISOString():""};return a.searchBar.rechargeType&&(b.operationTypeList=a.searchBar.rechargeType.split(",")),a.searchBar.customerNumber&&(b.customerNumber=a.searchBar.customerNumber),angular.copy(b)};a.getData=function(){var b=g();d.financeLogList(angular.copy(b),function(b){a.dataList=b.data,a.pagination.totalCount=b.pageInfo.totalCount})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.getData()}]),angular.module("culAdminApp").controller("FinanceDetailReportListCtrl",["$scope","$location","$filter","customerService","settlementService","plugMessenger",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.path=cul.apiPath,a.data=[],a.customerNumber=b.search().customerNumber,e.vipReport({customerNumber:a.customerNumber},function(b){console.log("result",b),a.data=b.data})}]),angular.module("culAdminApp").controller("FinanceDetailInstructionCtrl",["$scope","$location","$filter","customerService","settlementService","plugMessenger",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data=[],a.customerNumber=b.search().customerNumber,d.getDetail(a.customerNumber,function(b){a.customer=b}),e.instruction({customerNumber:a.customerNumber},function(b){a.data=b})}]),angular.module("culAdminApp").controller("ArriveCountCtrl",["$rootScope","$scope","$location","$filter","$window","warehouseService","shelfService","receiptService","plugMessenger",function(a,b,c,d,e,f,g,h,i){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],b.compareDate=function(a){var b=new Date;a=new Date(a);var c=a.getTime(),d=b.getTime(),e=d-c,f=e.toFixed(2)/864e5+1;return Math.floor(f)},b.dataList=[],b.customer_ids=JSON.parse(e.sessionStorage.getItem("role")).customer_ids,b.pagination={pageSize:"20",pageIndex:1,totalCount:0},b.searchBar={keywordType:"receiptNumber",keywords:c.search().receiptNumber||"",warehouseNumber:"",sendType:"",inboundStatus:"",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},b.searchBar.startDate=new Date,b.searchBar.endDate=new Date,f.getWarehouse(function(a){1==a.length?(b.searchBar.warehouseList=a,b.searchBar.warehouseNumber=b.searchBar.warehouseList[0].warehouseNumber):b.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(a)});var j=function(){var a={pageInfo:b.pagination,inboundDateFrom:b.searchBar.startDate?new Date(b.searchBar.startDate):"",inboundDateTo:b.searchBar.endDate?new Date(b.searchBar.endDate):""};return b.searchBar.inboundStatus=3,b.searchBar.sendType&&(a.sendType=b.searchBar.sendType),b.searchBar.inboundStatus&&(a.inboundStatus=b.searchBar.inboundStatus),b.searchBar.warehouseNumber&&(a.warehouseNumber=b.searchBar.warehouseNumber),b.searchBar.keywords&&("customerNumber"!=b.searchBar.keywordType||void 0==b.customer_ids||0===parseInt(b.customer_ids)||b.customer_ids.split(",").includes(b.searchBar.keywords)||(b.searchBar.keywords="没有查看该客户的权限,请联系统管理员"),a[b.searchBar.keywordType]=b.searchBar.keywords),angular.copy(a)};b.getData=function(){g.getTransportList(j(),function(c){b.allTotal=c.allTotal;var d=c.data;void 0!=b.customer_ids&&0!==parseInt(b.customer_ids)&&(d=d.filter(function(a){return b.customer_ids.toString().split(",").indexof(a.customerNumber)>=0})),d.forEach(function(a){a.day=b.compareDate(a.indate),a.packageDescription&&a.packageDescription.length>20&&(a.packageDescriptionFlag=1),a.packageDescription&&(a.packageDescription1=a.packageDescription.substring(0,20)),a.packageNoteFlag&&a.packageNote.length>20&&(a.packageNoteFlag=1),a.packageNote&&(a.packageNote1=a.packageNote.substring(0,20))}),b.dataList=d,b.pagination.totalCount=c.pageInfo.totalCount,a.$emit("changeMenu")})},b.btnSearch=function(){b.dataList=[],b.pagination.pageIndex=1,b.pagination.totalCount=0,b.getData()},b.getData()}]),angular.module("culAdminApp").controller("FinanceOutCtrl",["$window","$rootScope","$scope","$location","warehouseService","orderService","plugMessenger",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],d.search({trackingNumber:null}),c.dataList=[],c.customer_ids=JSON.parse(a.sessionStorage.getItem("role")).customer_ids;var h=sessionStorage.getItem("token");h=h?encodeURIComponent(h):null,$("#form_export_order").attr("action",cul.apiPath+"/order/list/export?Token="+h),$("#form_export_send").attr("action",cul.apiPath+"/outboundpackage/list/export?Token="+h),c.pagination={pageSize:"20",pageIndex:1,totalCount:0},c.searchBar={selectedAll:!1,keywordType:"customerNumber",orderStatus:"Shipped",warehouseNumber:"",exportStatus:""},c.searchBar.startDate=new Date,c.searchBar.endDate=new Date,e.getWarehouse(function(a){1==a.length?(c.searchBar.warehouseList=a,c.searchBar.warehouseNumber=c.searchBar.warehouseList[0].warehouseNumber):c.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(a)});var i=function(){var a={pageInfo:c.pagination,outDateFrom:c.searchBar.startDate?new Date(c.searchBar.startDate):"",outDateTo:c.searchBar.endDate?new Date(c.searchBar.endDate):""};return c.searchBar.orderStatus?a.orderStatus=c.searchBar.orderStatus:a.exceptOrderStatus=["Void"],c.searchBar.warehouseNumber&&(a.warehouseNumber=c.searchBar.warehouseNumber),c.searchBar.exportStatus&&(a.exportStatus=c.searchBar.exportStatus),c.searchBar.keywords&&("customerNumber"!=c.searchBar.keywordType||void 0==c.customer_ids||0===parseInt(c.customer_ids)||c.customer_ids.split(",").includes(c.searchBar.keywords)||(c.searchBar.keywords="没有查看该客户的权限,请联系统管理员"),a[c.searchBar.keywordType]=c.searchBar.keywords),angular.copy(a)};c.getData=function(){var a=i();e.getOutboundPackageList($.extend(angular.copy(a),{hasWeight:!0}),function(a){c.allTotal=a.allTotal;var d=a.data;void 0!=c.customer_ids&&0!==parseInt(c.customer_ids)&&(d=d.filter(function(a){return c.customer_ids.split(",").includes(a.customerNumber)})),c.dataList=d,c.pagination.totalCount=a.pageInfo.totalCount,b.$emit("changeMenu"),$.each(c.dataList,function(a,b){b._selected=$.grep(c.selectedListCache,function(a){return a.trackingNumber==b.trackingNumber}).length>0}),c.searchBar.selectedAll=$.grep(c.dataList,function(a){return 1==a._selected}).length==c.dataList.length});var d=[],f=[];$.each(c.selectedListCache,function(a,b){d.push(b.trackingNumber),f.push(b.orderNumber)}),d.length>0&&(a.trackingNumber=d.join(",")),f.length>0&&(a.orderNumber=f.join(",")),c.exportOptions=$.extend({token:h},a)},c.btnSearch=function(){c.selectedListCache=[],c.dataList=[],c.pagination.pageIndex=1,c.pagination.totalCount=0,c.getData()},c.selectedListCache=[],c.btnSelectedItem=function(a){a?a._selected||(c.searchBar.selectedAll=!1):$.each(c.dataList,function(a,b){b._selected=c.searchBar.selectedAll}),$.each(c.dataList,function(a,b){var d=$.grep(c.selectedListCache,function(a){return a.trackingNumber==b.trackingNumber}).length>0;b._selected&&0==d?c.selectedListCache.push(angular.copy(b)):b._selected||1!=d||(c.selectedListCache=$.grep(c.selectedListCache,function(a){return a.trackingNumber!=b.trackingNumber}))});var b=i(),d=[],e=[];$.each(c.selectedListCache,function(a,b){d.push(b.trackingNumber),e.push(b.orderNumber)}),d.length>0&&(b.trackingNumber=d.join(",")),e.length>0&&(b.orderNumber=e.join(",")),c.exportOptions=$.extend({token:h},b)},c.btnOpenDetail=function(a,b){switch(b){case"orderdetail":d.search({orderNumber:a.orderNumber}),d.path("/order/orderdetail");break;case"customerdetail":d.search({customerNumber:a.customerNumber}),d.path("/customer/customerdetail");break;case"trackingNumber":d.search({trackingNumber:a.trackingNumber}),0==a.orderType?d.path("/warehouse/registerpackageoffline"):1==a.orderType&&d.path("/warehouse/registerpackageonline")}},c.btnClearSelectedListCache=function(){c.selectedListCache=[],c.searchBar.selectedAll=!1,$.each(c.dataList,function(a,b){b._selected=!1});var a=i();c.exportOptions=$.extend({token:h},a)},c.getData(),c.addPackage=function(a){switch(a){case"online":d.path("/warehouse/registerpackageonline");break;case"offline":d.path("/warehouse/registerpackageoffline")}},c.btnPrint=function(a,b){var d=function(){switch(b){case"order":c.$broadcast("print-order.action",a.orderNumber);break;case"package":c.$broadcast("print-package.action",a.orderNumber);break;case"flyingexpress":c.$broadcast("print-flying-express.action",a.orderNumber);break;case"flyingexpress2":c.$broadcast("print-flying-express2.action",a.orderNumber);break;case"trackingNumber":_printTrackingNumbers(a)}};if("Printed"==a.printStatus)d();else switch(b){case"flyingexpress":case"flyingexpress2":g.confirm("订单将变为已打印状态,请确认是否打印？",function(b){if(b){var c=[{orderNumber:a.orderNumber,printStatus:"Printed"}];f.batchUpdate(c,function(a){d()})}});break;default:d()}},c.btnBatchOutBound=function(){var a=[];$.each(c.selectedListCache,function(b,c){a.push(c.trackingNumber)}),0==a.length?g.info("请选择包裹后在执行该操作!"):g.confirm("包裹将变为已出库状态，请确认是否继续操作？",function(b){b&&e.outboundPackageShip(a,function(a){1==a.success&&(g.success("出库成功!"),c.selectedListCache=[],c.dataList=[],c.getData())})})},$("#tip_batchOutbound").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"点击此按钮将修改包裹状态为已出库，打包记录将自动从上面的列表中消失。"})}]),angular.module("culAdminApp").controller("FinanceTotalCtrl",["$rootScope","$scope","$location","$filter","$window","warehouseService","shelfService","receiptService","plugMessenger","orderService",function(a,b,c,d,e,f,g,h,i,j){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],b.path=cul.apiPath,b.compareDate=function(a){var b=new Date;a=new Date(a);var c=a.getTime(),d=b.getTime(),e=d-c,f=e.toFixed(2)/864e5+1;return Math.floor(f)},b.dataList=[],b.customer_ids=JSON.parse(e.sessionStorage.getItem("role")).customer_ids,b.pagination={pageSize:"20",pageIndex:1,totalCount:0},b.searchBar={keywordType:"receiptNumber",keywords:c.search().receiptNumber||"",warehouseNumber:"",sendType:"",inboundStatus:"",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},b.searchBar.startDate=new Date,b.searchBar.endDate=new Date,f.getWarehouse(function(a){1==a.length?(b.searchBar.warehouseList=a,b.searchBar.warehouseNumber=b.searchBar.warehouseList[0].warehouseNumber):b.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(a)});var k=function(){var a={pageInfo:b.pagination,dateFrom:b.searchBar.startDate?new Date(b.searchBar.startDate):"",dateTo:b.searchBar.endDate?new Date(b.searchBar.endDate):""};return b.searchBar.sendType&&(a.sendType=b.searchBar.sendType),b.searchBar.orderStatus&&(a.orderStatus=b.searchBar.orderStatus),b.searchBar.inboundStatus&&(a.inboundStatus=b.searchBar.inboundStatus),b.searchBar.warehouseNumber&&(a.warehouseNumber=b.searchBar.warehouseNumber),b.searchBar.keywords&&("customerNumber"!=b.searchBar.keywordType||void 0==b.customer_ids||0===parseInt(b.customer_ids)||b.customer_ids.split(",").includes(b.searchBar.keywords)||(b.searchBar.keywords="没有查看该客户的权限,请联系统管理员"),a[b.searchBar.keywordType]=b.searchBar.keywords),angular.copy(a)};b.getData=function(){j.financeTotal(k(),function(a){"999"==a.code&&i.error(a.msg),b.dataList=a.data,b.totalOrderCount=0,b.totalOrderAmount=0,b.totalPaidAmount=0,b.dataList&&b.dataList.length>0&&b.dataList.forEach(function(a){b.totalOrderCount+=a.Count,b.totalOrderAmount+=a.tShippingFee,b.totalPaidAmount+=a.tTotalCount})})},b.btnSearch=function(){b.dataList=[],b.pagination.pageIndex=1,b.pagination.totalCount=0,b.getData()},b.getData()}]),angular.module("culAdminApp").controller("FinanceRecordCtrl",["$scope","$location","$filter","$window","customerService","warehouseService","plugMessenger",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data={},a.customerNumber=b.search().customerNumber,a.tpl_status={date:Date.now()},e.getDetail(a.customerNumber,function(b){a.data.customer=b}),e.getUnpaid({customerNumber:a.customerNumber},function(b){a.data.unpaid=b}),a.btnPay=function(c){switch(c){case"offline":b.search({customerNumber:b.search().customerNumber,orderType:"offline",paid:a.data.unpaid.offLineCount}),b.path("/finance/financedetail/pay");break;case"online":b.search({customerNumber:b.search().customerNumber,orderType:"online",paid:a.data.unpaid.onLineCount}),b.path("/finance/financedetail/pay");break;case"refund":b.search({customerNumber:b.search().customerNumber,orderType:"refund"}),b.path("/finance/financedetail/pay")}},a.btnOpenDetail=function(a,c){switch(c){case"customerdetail":b.search({customerNumber:a.customerNumber}),b.path("/customer/customerdetail");break;case"orderdetail":b.search({orderNumber:a.orderNumber}),b.path("/order/orderdetail")}},a.btnPrev=function(){d.sessionStorage.setItem("historyFlag",1),d.history.back()},$("[id='tip_online_order']").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",
content:"海淘订单只能通过客户余额支付，请确保客户账户余额足够支付，单笔订单支付请查看最近活动页面。"}),$("[id='tip_offline_order']").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"如果客户通过现金转账等方式支付费用，请点击手动支付按钮进行记录，单笔订单支付请查看最近活动页面。"})}]),angular.module("culAdminApp").controller("FinanceRecordLogsCtrl",["$scope","$location","$filter","customerService","settlementService","plugMessenger",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.tpl_status={rechargeType:[{title:"全部",value:"2,8,9,10,11"},{title:"订单支付",value:"2"},{title:"扣款运费不足",value:"8"},{title:"大客户结算扣款",value:"9"},{title:"线下订单手动支付",value:"10"},{title:"线上订单余额手动支付",value:"11"}]},a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={customerNumber:b.search().customerNumber,selectedAll:!1,rechargeType:"2,8,9,10,11",dateRange:"",keywordType:"customerNumber",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},a.changeDate=function(){var b=864e5;switch(a.searchBar.dateRange){case"3":a.searchBar.startDate=new Date(new Date-3*b),a.searchBar.startDate.setHours(0),a.searchBar.startDate.setMinutes(0),a.searchBar.startDate.setSeconds(0),a.searchBar.startDate.setMilliseconds(0),a.searchBar.endDate=new Date;break;case"7":a.searchBar.startDate=new Date(new Date-7*b),a.searchBar.startDate.setHours(0),a.searchBar.startDate.setMinutes(0),a.searchBar.startDate.setSeconds(0),a.searchBar.startDate.setMilliseconds(0),a.searchBar.endDate=new Date;break;default:a.searchBar.startDate="",a.searchBar.endDate=""}};var g=function(){var b={pageInfo:a.pagination,dateFrom:a.searchBar.startDate?a.searchBar.startDate.toISOString():"",dateTo:a.searchBar.endDate?a.searchBar.endDate.toISOString():""};return a.searchBar.rechargeType&&(b.operationTypeList=a.searchBar.rechargeType.split(",")),a.searchBar.customerNumber&&(b.customerNumber=a.searchBar.customerNumber),a.searchBar.keywords&&(b[a.searchBar.keywordType]=a.searchBar.keywords),angular.copy(b)};a.getData=function(){var b=g();d.financeLogList(angular.copy(b),function(b){a.allTotal=b.allTotal,a.dataList=b.data,a.pagination.totalCount=b.pageInfo.totalCount})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()}}]),angular.module("culAdminApp").controller("FinanceRecordRechargeLogsCtrl",["$scope","$location","$filter","customerService","settlementService","plugMessenger",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.tpl_status={rechargeType:[{title:"全部",value:"1,3,4,5,6,7"},{title:"支付宝人民币充值",value:"1"},{title:"赠送",value:"3"},{title:"退款",value:"4"},{title:"新用户首单奖励",value:"5"},{title:"推荐人奖励",value:"6"},{title:"推荐人订单奖励",value:"7"}]},a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={customerNumber:b.search().customerNumber,selectedAll:!1,rechargeType:"1,3,4,5,6,7",keywordType:"customerNumber",dateRange:"",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},a.changeDate=function(){var b=864e5;switch(a.searchBar.dateRange){case"3":a.searchBar.startDate=new Date(new Date-3*b),a.searchBar.startDate.setHours(0),a.searchBar.startDate.setMinutes(0),a.searchBar.startDate.setSeconds(0),a.searchBar.startDate.setMilliseconds(0),a.searchBar.endDate=new Date;break;case"7":a.searchBar.startDate=new Date(new Date-7*b),a.searchBar.startDate.setHours(0),a.searchBar.startDate.setMinutes(0),a.searchBar.startDate.setSeconds(0),a.searchBar.startDate.setMilliseconds(0),a.searchBar.endDate=new Date;break;default:a.searchBar.startDate="",a.searchBar.endDate=""}};var g=function(){var b={pageInfo:a.pagination,dateFrom:a.searchBar.startDate?a.searchBar.startDate.toISOString():"",dateTo:a.searchBar.endDate?a.searchBar.endDate.toISOString():""};return a.searchBar.rechargeType&&(b.operationTypeList=a.searchBar.rechargeType.split(",")),a.searchBar.customerNumber&&(b.customerNumber=a.searchBar.customerNumber),a.searchBar.keywords&&(b[a.searchBar.keywordType]=a.searchBar.keywords),angular.copy(b)};a.getData=function(){var b=g();d.financeLogList(angular.copy(b),function(b){a.allTotal=b.allTotal,a.dataList=b.data,a.pagination.totalCount=b.pageInfo.totalCount})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()}}]),angular.module("culAdminApp").controller("FinancePointLogsCtrl",["$scope","$location","$filter","customerService","settlementService","plugMessenger",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.tpl_status={rechargeType:[{title:"全部",value:"2,8,9,10,11"},{title:"订单支付",value:"2"},{title:"扣款运费不足",value:"8"},{title:"大客户结算扣款",value:"9"},{title:"线下订单手动支付",value:"10"},{title:"线上订单余额手动支付",value:"11"}]},a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={customerNumber:b.search().customerNumber,selectedAll:!1,rechargeType:"2,8,9,10,11",dateRange:"",keywordType:"customerNumber",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},a.changeDate=function(){var b=864e5;switch(a.searchBar.dateRange){case"3":a.searchBar.startDate=new Date(new Date-3*b),a.searchBar.startDate.setHours(0),a.searchBar.startDate.setMinutes(0),a.searchBar.startDate.setSeconds(0),a.searchBar.startDate.setMilliseconds(0),a.searchBar.endDate=new Date;break;case"7":a.searchBar.startDate=new Date(new Date-7*b),a.searchBar.startDate.setHours(0),a.searchBar.startDate.setMinutes(0),a.searchBar.startDate.setSeconds(0),a.searchBar.startDate.setMilliseconds(0),a.searchBar.endDate=new Date;break;default:a.searchBar.startDate="",a.searchBar.endDate=""}};var g=function(){var b={pageInfo:a.pagination,dateFrom:a.searchBar.startDate?a.searchBar.startDate.toISOString():"",dateTo:a.searchBar.endDate?a.searchBar.endDate.toISOString():""};return a.searchBar.rechargeType&&(b.operationTypeList=a.searchBar.rechargeType.split(",")),a.searchBar.customerNumber&&(b.customerNumber=a.searchBar.customerNumber),a.searchBar.keywords&&(b[a.searchBar.keywordType]=a.searchBar.keywords),angular.copy(b)};a.getData=function(){var b=g();d.getPointLog(angular.copy(b),function(b){a.allTotal=b.allTotal,a.dataList=b.data,a.pagination.totalCount=b.pageInfo.totalCount})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()}}]),angular.module("culAdminApp").controller("FinancePointRechargeLogsCtrl",["$scope","$location","$filter","customerService","settlementService","plugMessenger",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.tpl_status={rechargeType:[{title:"全部",value:"1,3,4,12"},{title:"支付宝人民币充值",value:"1"},{title:"赠送",value:"3"},{title:"退款",value:"4"},{title:"扣除货物保管费",value:"12"}]},a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={customerNumber:b.search().customerNumber,selectedAll:!1,rechargeType:"1,3,4,12",keywordType:"customerNumber",dateRange:"",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},a.changeDate=function(){var b=864e5;switch(a.searchBar.dateRange){case"3":a.searchBar.startDate=new Date(new Date-3*b),a.searchBar.startDate.setHours(0),a.searchBar.startDate.setMinutes(0),a.searchBar.startDate.setSeconds(0),a.searchBar.startDate.setMilliseconds(0),a.searchBar.endDate=new Date;break;case"7":a.searchBar.startDate=new Date(new Date-7*b),a.searchBar.startDate.setHours(0),a.searchBar.startDate.setMinutes(0),a.searchBar.startDate.setSeconds(0),a.searchBar.startDate.setMilliseconds(0),a.searchBar.endDate=new Date;break;default:a.searchBar.startDate="",a.searchBar.endDate=""}};var g=function(){var b={pageInfo:a.pagination,dateFrom:a.searchBar.startDate?a.searchBar.startDate.toISOString():"",dateTo:a.searchBar.endDate?a.searchBar.endDate.toISOString():""};return a.searchBar.rechargeType&&(b.operationTypeList=a.searchBar.rechargeType.split(",")),a.searchBar.customerNumber&&(b.customerNumber=a.searchBar.customerNumber),a.searchBar.keywords&&(b[a.searchBar.keywordType]=a.searchBar.keywords),angular.copy(b)};a.getData=function(){var b=g();d.financeLogList(angular.copy(b),function(b){console.log("result",b),a.allTotal=b.allTotal,a.dataList=b.data,a.pageInfo=b.pageInfo,a.pagination.totalCount=a.pageInfo.totalCount})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()}}]),angular.module("culAdminApp").controller("DeleteListCtrl",["$timeout","$window","$scope","$rootScope","$location","$filter","orderService","warehouseService","plugMessenger","storage",function(a,b,c,d,e,f,g,h,i,j){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],c.dataList=[],c.orderNumberList=[];var k=sessionStorage.getItem("token");k=k?encodeURIComponent(k):null,$("#form_export").attr("action",cul.apiPath+"/order/list/export?Token="+k),$("#form_exportUSPS").attr("action",cul.apiPath+"/order/list/export/usps?Token="+k),c.exportUrl="",c.pagination={pageSize:"20",pageIndex:1,totalCount:0},c.searchBar={selectedAll:!1,keywordType:"customerNumber",orderStatus:"",printStatus:"",warehouseNumber:"",shipServiceId:0,isFastOrder:void 0,startDate:"",startTime_HH:"0",startTime_mm:"",startTime_ss:"",endDate:"",endTime_HH:"0",endTime_mm:"",endTime_ss:"",opened:{startDate:!1,endDate:!1}},c.tempSearchBar=angular.copy(j.getSearchObject()),c.tempSearchBar&&(c.searchBar=c.tempSearchBar?c.tempSearchBar:c.searchBar),h.getWarehouse(function(a){1==a.length?(c.searchBar.warehouseList=a,c.searchBar.warehouseNumber=c.searchBar.warehouseList[0].warehouseNumber):c.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(a)}),h.getShippingChannelList(function(a){1==a.length?(c.searchBar.shippingChannelList=a,c.searchBar.shipServiceId=c.searchBar.shippingChannelList[0].shipServiceId):c.searchBar.shippingChannelList=[{shipServiceId:0,shipServiceName:"全部"}].concat(a)});var l=function(){c.searchBar.startDate&&(c.searchBar.startDate.setHours(""!==c.searchBar.startTime_HH?c.searchBar.startTime_HH:0),c.searchBar.startDate.setMinutes(""!==c.searchBar.startTime_mm?c.searchBar.startTime_mm:0),c.searchBar.startDate.setSeconds(""!==c.searchBar.startTime_ss?c.searchBar.startTime_ss:0)),c.searchBar.endDate&&(c.searchBar.endDate.setHours(""!==c.searchBar.endTime_HH?c.searchBar.endTime_HH:23),c.searchBar.endDate.setMinutes(""!==c.searchBar.endTime_mm?c.searchBar.endTime_mm:59),c.searchBar.endDate.setSeconds(""!==c.searchBar.endTime_ss?c.searchBar.endTime_ss:59));var a={pageInfo:c.pagination,dateFrom:c.searchBar.startDate?c.searchBar.startDate.toISOString():"",dateTo:c.searchBar.endDate?c.searchBar.endDate.toISOString():""};return a.orderStatus="Void",c.searchBar.orderStatus,c.searchBar.printStatus&&(a.printStatus=c.searchBar.printStatus),c.searchBar.warehouseNumber&&(a.warehouseNumber=c.searchBar.warehouseNumber),c.searchBar.shipServiceId&&(a.shipServiceId=c.searchBar.shipServiceId),1==c.searchBar.isFastOrder&&(a.isFastOrder=1),c.searchBar.keywords&&(a[c.searchBar.keywordType]=c.searchBar.keywords,"orderNumber"==c.searchBar.keywordType&&c.searchBar.keywords.indexOf("\n")>=0&&(a[c.searchBar.keywordType]=c.searchBar.keywords.split("\n"))),angular.copy(a)};c.getData=function(){j.session.setObject("searchBar",c.searchBar);var a=l();g.getList(angular.copy(a),function(a){c.dataList1=a.data,c.pagination.totalCount=a.pageInfo.totalCount,c.dataList=[],c.dataList1=_.sortBy(c.dataList1,function(a){return a.deleteTime}),c.dataList1.reverse(),c.dataList1.forEach(function(a){a.deleteMan&&c.dataList.push(a)}),c.pagination.totalCount=c.dataList.length,$.each(c.dataList,function(a,b){b._selected=$.grep(c.selectedListCache,function(a){return a.orderNumber==b.orderNumber}).length>0}),c.searchBar.selectedAll=$.grep(c.dataList,function(a){return 1==a._selected}).length==c.dataList.length});var b=[];$.each(c.selectedListCache,function(a,c){b.push(c.orderNumber)}),b.length>0&&(a.orderNumber=b.join(",")),c.exportOptions=$.extend({token:k},a)},c.btnSearch=function(){c.selectedListCache=[],c.dataList=[],c.pagination.pageIndex=1,c.pagination.totalCount=0,c.getData()},c.selectedListCache=[],c.btnSelectedItem=function(a){a?a._selected||(c.searchBar.selectedAll=!1):$.each(c.dataList,function(a,b){b._selected=c.searchBar.selectedAll}),$.each(c.dataList,function(a,b){var d=$.grep(c.selectedListCache,function(a){return a.orderNumber==b.orderNumber}).length>0;b._selected&&0==d?c.selectedListCache.push(angular.copy(b)):b._selected||1!=d||(c.selectedListCache=$.grep(c.selectedListCache,function(a){return a.orderNumber!=b.orderNumber}))});var b=[],d=l();$.each(c.selectedListCache,function(a,c){b.push(c.orderNumber)}),d.orderNumber=b,b.length>0&&(d.orderNumber=b.join(",")),c.exportOptions=$.extend({token:k},d)},c.btnOpenDetail=function(a,b){switch(b){case"orderdetail":e.search({orderNumber:a.orderNumber}),e.path("/order/orderdetail");break;case"customerdetail":e.search({customerNumber:a.customer.customerNumber}),e.path("/customer/customerdetail")}},c.delSomeOrder=function(){return c.dataList.forEach(function(a){1==a._selected&&c.orderNumberList.push(a.orderNumber)}),c.orderNumberList[0]?void c.btnDelete(c.orderNumberList):void i.info("请选择需要删除的订单")},c.btnDelete=function(a){c.searchOrder={},a instanceof Array?c.searchOrder.orderNumberList=a:c.searchOrder.orderNumber=a.orderNumber,i.confirm("确定要删除订单吗？(删除后不可恢复)",function(b){b&&g["delete"](c.searchOrder,function(){c.getData(),c.selectedListCache=$.grep(c.selectedListCache,function(b){return b.orderNumber!=a.orderNumber})})})},c.btnClearSelectedListCache=function(){c.selectedListCache=[],c.searchBar.selectedAll=!1,$.each(c.dataList,function(a,b){b._selected=!1});var a=l();c.exportOptions=$.extend({token:k},a)},a(function(){c.getData()},500)}]),angular.module("culAdminApp").controller("\bPointLogCtrl",["$scope","$location","$filter","$window","customerService","warehouseService","plugMessenger",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.data={},a.customerNumber=b.search().customerNumber,a.tpl_status={date:Date.now()},e.getDetail(a.customerNumber,function(b){a.data.customer=b}),e.getUnpaid({customerNumber:a.customerNumber},function(b){a.data.unpaid=b}),a.btnPay=function(c){switch(c){case"offline":b.search({customerNumber:b.search().customerNumber,orderType:"offline",paid:a.data.unpaid.offLineCount}),b.path("/finance/financedetail/pay");break;case"online":b.search({customerNumber:b.search().customerNumber,orderType:"online",paid:a.data.unpaid.onLineCount}),b.path("/finance/financedetail/pay");break;case"refund":b.search({customerNumber:b.search().customerNumber,orderType:"refund"}),b.path("/finance/financedetail/pay")}},a.btnOpenDetail=function(a,c){switch(c){case"customerdetail":b.search({customerNumber:a.customerNumber}),b.path("/customer/customerdetail");break;case"orderdetail":b.search({orderNumber:a.orderNumber}),b.path("/order/orderdetail")}},a.btnPrev=function(){d.sessionStorage.setItem("historyFlag",1),d.sessionStorage.setItem("historyFlag",1),d.history.back()},$("[id='tip_online_order']").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"海淘订单只能通过客户余额支付，请确保客户账户余额足够支付，单笔订单支付请查看最近活动页面。"}),$("[id='tip_offline_order']").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"如果客户通过现金转账等方式支付费用，请点击手动支付按钮进行记录，单笔订单支付请查看最近活动页面。"})}]),angular.module("culAdminApp").controller("RefundShippingVerifyCtl",["$timeout","$window","$scope","$rootScope","$location","$filter","plugMessenger","$compile","storage","customerService","warehouseService",function(a,b,c,d,e,f,g,h,i,j,k){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],c.dataList=[],c.pagination={pageSize:"20",pageIndex:1,totalCount:0},c.searchBar={selectedAll:!1,keywordType:"customerNumber",warehouseNumber:0,shipServiceId:0},c.tempSearchBar=angular.copy(i.getSearchObject()),c.tempSearchBar&&(c.searchBar=c.tempSearchBar?c.tempSearchBar:c.searchBar),k.getWarehouse(function(a){1==a.length?(c.searchBar.warehouseList=a,c.searchBar.warehouseNumber=c.searchBar.warehouseList[0].warehouseNumber):c.searchBar.warehouseList=[{warehouseNumber:"",warehouseName:"全部"}].concat(a)}),k.getShippingChannelList(function(a){1==a.length?(c.searchBar.shippingChannelList=a,c.searchBar.shipServiceId=c.searchBar.shippingChannelList[0].shipServiceId):c.searchBar.shippingChannelList=[{shipServiceId:0,shipServiceName:"全部"}].concat(a)});var l=function(){var a={pageInfo:c.pagination};return c.searchBar.warehouseNumber&&(a.warehouseNumber=c.searchBar.warehouseNumber),c.searchBar.shipServiceId&&(a.shipServiceId=c.searchBar.shipServiceId),c.searchBar.keywords&&(a[c.searchBar.keywordType]=c.searchBar.keywords),angular.copy(a)};c.getData=function(){i.session.setObject("searchBar",c.searchBar);var a=l();j.getRefundList(angular.copy(a),function(a){!a||!a.data||a.data.length<1||(c.dataList=a.data.data,c.pagination.totalCount=a.data.pageInfo.totalCount,d.$emit("changeMenu"),$.each(c.dataList,function(a,b){null==b.tariffMoney&&(b.tariffMoney=0),null==b.payment&&(b.payment=0),b.totalSurcharge=parseFloat(b.actualShippingFee+b.insuranceFee+b.tip+b.tariffMoney+b.valueAddFee+b.payment).toFixed(2),b.refundAmount=parseFloat(b.paied+b.usedPoint-b.totalSurcharge).toFixed(2),b._selected=$.grep(c.selectedListCache,function(a){return a.orderNumber==b.orderNumber}).length>0}),c.searchBar.selectedAll=$.grep(c.dataList,function(a){return 1==a._selected}).length==c.dataList.length)});var b=[];$.each(c.selectedListCache,function(a,c){b.push(c.orderNumber)}),b.length>0&&(a.orderNumber=b.join(","))},c.btnSearch=function(){c.selectedListCache=[],c.dataList=[],c.pagination.pageIndex=1,c.pagination.totalCount=0,c.getData()},c.selectedListCache=[],c.btnSelectedItem=function(a){a?a._selected||(c.searchBar.selectedAll=!1):$.each(c.dataList,function(a,b){b._selected=c.searchBar.selectedAll}),$.each(c.dataList,function(a,b){var d=$.grep(c.selectedListCache,function(a){return a.orderNumber==b.orderNumber}).length>0;b._selected&&0==d?c.selectedListCache.push(angular.copy(b)):b._selected||1!=d||(c.selectedListCache=$.grep(c.selectedListCache,function(a){return a.orderNumber!=b.orderNumber}))});var b=[],d=l();$.each(c.selectedListCache,function(a,c){b.push(c.orderNumber)}),d.orderNumber=b,b.length>0&&(d.orderNumber=b.join(","))},c.btnOpenDetail=function(a,b){switch(b){case"orderdetail":e.search({orderNumber:a.orderNumber}),e.path("/order/orderdetail");break;case"customerdetail":e.search({customerNumber:a.customerNumber}),e.path("/customer/customerdetail")}},c.btnSingleRefund=function(a){a&&g.confirm("确定要退款吗?",function(b){if(b){var d={orderList:[{orderNumber:a.orderNumber,customerNumber:a.customerNumber,actualShippingFee:a.actualShippingFee,orderStatus:a.orderStatus,shippingFee:a.shippingFee,totalCount:a.totalCount,refundAmount:a.refundAmount}]};j.refundShippingFee(d,function(b){1==b.success&&(g.info("退款成功"),c.getData(),c.selectedListCache=$.grep(c.selectedListCache,function(b){return b.orderNumber!=a.orderNumber}))})}})},c.btnBatchRefund=function(){c.selectedListCache&&g.confirm("确定要退款吗?",function(a){if(a){var b={orderList:[]};$.each(c.selectedListCache,function(a,c){b.orderList.push({orderNumber:c.orderNumber,customerNumber:c.customerNumber,actualShippingFee:c.actualShippingFee,orderStatus:c.orderStatus,shippingFee:c.shippingFee,totalCount:c.totalCount,refundAmount:c.refundAmount})}),j.refundShippingFee(b,function(a){1==a.success&&(g.info("退款成功"),c.getData(),c.selectedListCache=$.grep(c.selectedListCache,function(a){return a.orderNumber!=item.orderNumber}))})}})},c.btnClearSelectedListCache=function(){c.selectedListCache=[],c.searchBar.selectedAll=!1,$.each(c.dataList,function(a,b){b._selected=!1});l()},a(function(){c.getData()},500)}]),angular.module("culAdminApp").controller("CustomerWithdrawCtl",["$timeout","$window","$scope","$rootScope","$location","$filter","plugMessenger","storage","$compile","customerService",function(a,b,c,d,e,f,g,h,i,j){function k(a){return a!==a?!1:parseInt(a)===a||a%1!==0}this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],c.dataList=[],c.pagination={pageSize:"20",pageIndex:1,totalCount:0},c.searchBar={keywordType:"customerNumber",status:""},c.tempSearchBar=angular.copy(h.getSearchObject()),c.tempSearchBar&&(c.searchBar=c.tempSearchBar?c.tempSearchBar:c.searchBar);var l=function(){var a={pageInfo:c.pagination};return c.searchBar.status&&(a.status=c.searchBar.status),c.searchBar.keywords&&(a[c.searchBar.keywordType]=c.searchBar.keywords),angular.copy(a)};c.getData=function(){h.session.setObject("searchBar",c.searchBar);var a=l();j.getWithdrawRequestList(angular.copy(a),function(a){!a||!a.data||a.data.length<1||(c.dataList=a.data.data,c.pagination.totalCount=a.data.pageInfo.totalCount,d.$emit("changeMenu"))})},c.btnSearch=function(){c.dataList=[],c.pagination.pageIndex=1,c.pagination.totalCount=0,c.getData()},c.btnOpenDetail=function(a,b){switch(b){case"customerdetail":e.search({customerNumber:a.customerNumber}),e.path("/customer/customerdetail")}},c.btnAccept=function(a){a&&g.confirm("确定要接受提款申请吗?",function(b){if(b){var d={transactionNumber:a.transactionNumber,customerNumber:a.customerNumber,refundAmount:a.requestAmount,status:"A"};j.confirmWithdrawRequest(d,function(a){"000"==a.code?(g.info("操作成功"),c.getData()):g.info(a.msg)})}})},c.btnDeclineWithNote=function(a){c.item=a,g.template(i($("#decline_note_form").html())(c))},c.btnDecline=function(a,b){b&&g.confirm("确定要拒绝提款申请吗?",function(d){if($("#confirm-modal").modal("hide"),d){var e={transactionNumber:b.transactionNumber,status:"D",note:c.declineNote,customerNumber:b.customerNumber,requestAmount:b.requestAmount,memo:"管理员拒绝提现申请",operationType:"4",payment:-(Number(b.requestAmount)+20)};j.updateWithdrawRequest(e,function(b){c.declineNote="","000"==b.code?($(a.currentTarget).parents("#confirm-modal").modal("hide"),g.info("操作成功"),c.getData()):g.info(b.msg)})}})},c.btnConfirmWithNote=function(a){c.item=a,c.confirmRefundAmount=a.requestAmount,g.template(i($("#confirm_refund_form").html())(c))},c.btnCancelWithNote=function(a){a&&g.confirm("确定要取消提款申请吗?",function(b){if($("#confirm-modal").modal("hide"),b){var d={transactionNumber:a.transactionNumber,status:"C",note:"取消退款",customerNumber:a.customerNumber,requestAmount:a.requestAmount,memo:"管理员取消提现申请",operationType:"1",payment:-(Number(a.requestAmount)+20)};j.updateWithdrawRequest(d,function(a){"000"==a.code?(g.info("操作成功"),c.getData()):g.info(a.msg)})}})},c.btnConfirm=function(a){if(a){if(!c.confirmRefundAmount)return g.info("实际退款金额不能为空");var b=parseFloat(c.confirmRefundAmount);return k(b)?b.toFixed(2)==a.requestAmount||c.confirmNote?void g.confirm("确定通知客户已完成退款吗?",function(d){if(d){$("#confirm-modal").modal("hide");var e={transactionNumber:a.transactionNumber,refundAmount:b.toFixed(2),status:"R",customerNumber:a.customerNumber,note:c.confirmNote};j.updateWithdrawRequest(e,function(a){"000"==a.code?(g.info("操作成功"),$("#confirm-modal").modal("hide"),c.getData()):g.info(a.msg)})}}):g.info("实际退款不等于申请金额,必须输入备注信息"):g.info("实际退款金额格式不正确,请输入数字金额")}},c.btnCancel=function(a){$(a.currentTarget).parents("#confirm-modal").modal("hide")},a(function(){c.getData()},500)}]),angular.module("culAdminApp").controller("AnnounceCtrl",["$window","$rootScope","$scope","$location","warehouseService","shelfService","customerService","plugMessenger","storage",function(a,b,c,d,e,f,g,h,i){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],c.dataList=[],c.warehouseList=[],c.customer_ids=JSON.parse(a.sessionStorage.getItem("role")).customer_ids,c.getWarehouseName=function(a){var b=_.findWhere(c.warehouseList,{warehouseNumber:a});return b?b.warehouseName:""},c.searchBar={keywordType:"title",type:"",status:"",opened:{openTime:!1,endDate:!1,start:!1,end:!1}},c.pagination={pageSize:"20",pageIndex:1,totalCount:0},c.tempSearchBar=angular.copy(i.getSearchObject()),c.tempSearchBar&&(c.searchBar=c.tempSearchBar?c.tempSearchBar:c.searchBar);var j=function(){var a={pageInfo:c.pagination};return c.searchBar.type&&(a.type=c.searchBar.type),c.searchBar.status&&(a.status=c.searchBar.status),c.searchBar.warehouseNumber&&(a.warehouseNumber=c.searchBar.warehouseNumber),c.searchBar.keywords&&("customerNumber"!=c.searchBar.keywordType||void 0==c.customer_ids||0===parseInt(c.customer_ids)||c.customer_ids.split(",").includes(c.searchBar.keywords)||(c.searchBar.keywords="没有查看该客户的权限,请联系统管理员"),a[c.searchBar.keywordType]=c.searchBar.keywords),angular.copy(a)};c.getData=function(){i.session.setObject("searchBar",c.searchBar),g.getWebAnnounce(j(),function(a){c.dataList=a.data.data,c.pagination.totalCount=a.data.pageInfo.totalCount,b.$emit("changeMenu")})},c.btnSearch=function(){c.selectedListCache=[],c.dataList=[],c.pagination.pageIndex=1,c.pagination.totalCount=0,c.getData()},c.btnAction=function(a,b){switch(a){case"detail":b&&d.search({warehouseNumber:b.warehouseNumber,shelfNumber:b.shelfNumber}),d.path("/warehouse/shelfmanagementdetail");break;case"create":d.path("/web/newAnnounce")}},c.btnPrint=function(a){c.$broadcast("print-helper.action","shelf-management-tag",{shelfNumber:a.shelfNumber})},c.btnSave=function(){g.createWebAnnounce(c.data,function(a){(a.code="000")?(h.success("创建成功"),d.path("/web/announce")):h.error("创建失败")})},c.btnPrev=function(){a.sessionStorage.setItem("historyFlag",1),a.history.back()},c.update=function(a){a&&d.search({item:a}),d.path("/web/updateAnnounce")},c.updateAnnounce=function(){g.updateWebAnnounce(c.data,function(a){"000"==a.code&&(h.success("更新成功"),d.path("/web/announce"))})},c.changeOpenAll=function(a){1==a||3==a?(c.data.openAll=0,c.disabledFlag=1):(c.data.openAll=1,c.disabledFlag=0)},c.btnDelete=function(a){h.confirm("确认删除吗"+a.title+"？",function(b){b&&g.deleteWebAnnounce(a,function(a){"000"==a.code&&(h.success("删除成功"),c.getData())})})}}]),angular.module("culAdminApp").controller("UpdateAnnounceCtrl",["$window","$rootScope","$scope","$location","warehouseService","shelfService","customerService","plugMessenger",function(a,b,c,d,e,f,g,h){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],c.flag="1",c.data=d.search().item,c.data.sort?c.data.sort=Number(c.data.sort):c.data.sort=1,console.log("$scope.data.sort",c.data.sort),c.btnPrev=function(){a.sessionStorage.setItem("historyFlag",1),a.history.back()},c.updateAnnounce=function(){g.updateWebAnnounce(c.data,function(a){"000"==a.code&&(h.success("更新成功"),d.path("/web/announce"))})},c.changeOpenAll=function(a){1==a||3==a?(c.data.openAll=0,c.openFlag=1):c.openFlag=0}}]),angular.module("culAdminApp").controller("SystemOperationLogListCtrl",["$scope","$location","LogService","plugMessenger","storage",function(a,b,c,d,e){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={keywordType:"inuserId",operationType:"",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},a.tempSearchBar=angular.copy(e.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar);var f=function(){var b={pageInfo:a.pagination,dateFrom:a.searchBar.startDate?a.searchBar.startDate.toISOString():"",dateTo:a.searchBar.endDate?a.searchBar.endDate.toISOString():""};return a.searchBar.operationType&&(b.operationType=a.searchBar.operationType),a.searchBar.keywords&&(b[a.searchBar.keywordType]=a.searchBar.keywords),angular.copy(b)};a.getData=function(){e.session.setObject("searchBar",a.searchBar);var b=f();c.getOperationList(angular.copy(b),function(b){a.dataList=b.data,a.pagination.totalCount=b.pageInfo.totalCount})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()}}]),angular.module("culAdminApp").controller("SystemLoginLogListCtrl",["$scope","$location","LogService","plugMessenger","storage",function(a,b,c,d,e){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={keywordType:"emailAddress",result:"",startDate:"",endDate:"",opened:{startDate:!1,endDate:!1}},a.tempSearchBar=angular.copy(e.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar);var f=function(){var b={pageInfo:a.pagination,dateFrom:a.searchBar.startDate?a.searchBar.startDate.toISOString():"",dateTo:a.searchBar.endDate?a.searchBar.endDate.toISOString():""};return a.searchBar.result&&(b.result=a.searchBar.result),a.searchBar.keywords&&(b[a.searchBar.keywordType]=a.searchBar.keywords),angular.copy(b)};a.getData=function(){e.session.setObject("searchBar",a.searchBar);var b=f();c.getLoginList(angular.copy(b),function(b){a.dataList=b.data,a.pagination.totalCount=b.pageInfo.totalCount})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()}}]),angular.module("culAdminApp").controller("SysRoleListCtrl",["$scope","$location","sysroleService","plugMessenger","storage",function(a,b,c,d,e){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={status:"",roleName:""},a.tempSearchBar=angular.copy(e.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar),a.getData=function(){e.session.setObject("searchBar",a.searchBar);var b={pageInfo:a.pagination,status:a.searchBar.status,roleName:a.searchBar.roleName};c.getList(b,function(b){a.dataList=b.data,a.pagination.totalCount=b.pageInfo.totalCount})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.addReceipt=function(){b.path("/system/editrole").search({})},a.edit=function(a){b.path("/system/editrole").search({roleId:a})},a.del=function(b){d.confirm("确认删除该岗位吗?",function(e){e&&c["delete"](b,function(b){b.success&&(d.success("删除成功"),a.getData())})})},a.getData()}]),angular.module("culAdminApp").controller("SysRoleEditCtrl",["$scope","$location","$window","sysroleService","customerService","warehouseService","plugMessenger",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.form={roleName:"",roleDescribe:"",status:"1",warehouseIds:"",customerIds:"",functions:"",updater:"test"};var h=null;sessionStorage.getItem("functions")&&(h=JSON.parse(sessionStorage.getItem("functions")));var i=function(b){var c=[],d={};h.forEach(function(a){b?a.status=b[a.functionID]:a.status=2,1==a.type&&(a.close=!0),a.parentFunctionID?(d[a.functionID]=a,d[a.parentFunctionID].childs||(d[a.parentFunctionID].childs=[]),d[a.parentFunctionID].childs.push(a)):(d[a.functionID]=a,c.push(a))}),a.functions=c};a.roleId=b.search().roleId,a.roleId?d.getDetail(a.roleId,function(b){if(!b.message){a.form.roleName=b.role_name,a.form.roleDescribe=b.role_describe,a.form.status=b.status,a.warehouseIds=b.warehouse_ids.split(",").map(function(a){return parseInt(a)}),a.form.customerIds=b.role_name,0!=b.customer_ids?a.selCNumbers=b.customer_ids.split(","):a.selCNumbers=[],a.customers=0!=b.customer_ids?1:0;var c=JSON.parse(b.functions);i(c)}}):(a.warehouseIds=[],a.customers="0",a.customerNumber="",a.selCNumbers=[],i()),f.getWarehouse(function(b){a.warehouseList=b}),a.toggleSelection=function(b){var c=a.warehouseIds.indexOf(b);c>-1?a.warehouseIds.splice(c,1):a.warehouseIds.push(b)},a.enableSubFunc=function(a){a&&a.childs&&a.childs.length>0&&(1==a.status?a.close=!1:(a.close=!0,a.childs.forEach(function(a){a.status=2})))},a.removeCNumber=function(b){a.selCNumbers.splice(b,1)},a.addCustomer=function(){if(!a.customerNumber)return void g.info("请输入客户编号!");var b=a.selCNumbers.indexOf(a.customerNumber);return b>=0?void g.info("客户已经存在!"):void e.getDetail(a.customerNumber,function(b){b&&b.customerNumber?(a.selCNumbers.push(b.customerNumber),a.customerNumber=""):g.info("客户不存在!")})};var j=function(a,b){b[a.functionID]=a.status,a.childs&&a.childs.forEach(function(a){j(a,b)})};a.saveRole=function(){if(!a.form.roleName)return void g.info("请输入岗位名称!");a.form.roleDescribe||(a.form.roleDescribe=a.form.roleName),a.form.warehouseIds=a.warehouseIds.filter(Boolean).join(","),a.form.customerIds=0==a.customers?0:a.selCNumbers.join(",");var b={};a.functions.forEach(function(a){b[a.functionID]=a.status,j(a,b)}),a.form.functions=JSON.stringify(b),
a.roleId?(a.form.role_id=a.roleId,d.update(a.form,function(a){a.changedRows&&(g.success("保存成功"),c.sessionStorage.setItem("historyFlag",1),c.history.back())})):d.create(a.form,function(a){a.message||(g.success("保存成功"),c.sessionStorage.setItem("historyFlag",1),c.history.back())})},a.back=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()}}]),angular.module("culAdminApp").controller("SysUserGroupListCtrl",["$scope","$location","sysusergroupService","plugMessenger","storage",function(a,b,c,d,e){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={status:"",name:""},a.tempSearchBar=angular.copy(e.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar),a.getData=function(){e.session.setObject("searchBar",a.searchBar);var b={pageInfo:a.pagination,status:a.searchBar.status,name:a.searchBar.name};c.getList(b,function(b){a.dataList=b.data,a.pagination.totalCount=b.pageInfo.totalCount})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.addReceipt=function(){b.path("/system/editusergroup").search({})},a.edit=function(a){b.path("/system/editusergroup").search({groupId:a})},a.show=function(a){b.search({groupId:a}),b.path("/system/uglist")},a.del=function(b){d.confirm("确认删除该部门吗?",function(e){e&&c["delete"](b,function(b){b.success&&(d.success("删除成功"),a.getData())})})},a.getData()}]),angular.module("culAdminApp").controller("SysUserGroupEditCtrl",["$scope","$location","$window","sysroleService","sysusergroupService","plugMessenger",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.form={name:"",describe:"",status:"1"},a.groupId=b.search().groupId,a.groupId&&e.getDetail(a.groupId,function(b){b.message||(a.form.name=b.gname,a.form.describe=b.gdescribe,a.form.status=b.gstatus)}),a.saveRole=function(){return a.form.name?(a.form.describe||(a.form.describe=a.form.name),void(a.groupId?(a.form.group_id=a.groupId,e.update(a.form,function(a){a.changedRows&&(f.success("保存成功"),c.sessionStorage.setItem("historyFlag",1),c.history.back())})):e.create(a.form,function(a){a.message||(f.success("保存成功"),c.sessionStorage.setItem("historyFlag",1),c.history.back())}))):void f.info("请输入名称!")},a.back=function(){b.path("/system/usergrouplist")}}]),angular.module("culAdminApp").controller("UserListCtrl",["$scope","$location","userService","plugMessenger","storage",function(a,b,c,d,e){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={active:"",userName:""},a.tempSearchBar=angular.copy(e.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar),a.getData=function(){e.session.setObject("searchBar",a.searchBar);var b={pageInfo:a.pagination,active:a.searchBar.active,userName:a.searchBar.userName,customerNumber:"null"};c.getList(b,function(b){b.data;a.dataList=b.data,a.pagination.totalCount=b.pageInfo.totalCount})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.addReceipt=function(){b.path("/system/edituser").search({})},a.edit=function(a){b.path("/system/edituser").search({userId:a})},a.del=function(b){d.confirm("确认删除该员工吗?",function(e){e&&c["delete"](b,function(b){b.success&&(d.success("删除成功"),a.getData())})})},a.btnResetPassword=function(a){d.confirm("确认重置密码吗?",function(b){b&&c.resetPassword({emailAddress:a},function(a){1==a.success&&d.success("密码重置成功")})})},a.goToRolePage=function(a){b.path("/system/editrole").search({roleId:a.role_id})}}]).filter("activeStr",function(){return function(a){var b="已激活";return 0==a?b="未激活":"-1"==a&&(b="已禁用"),b}}),angular.module("culAdminApp").controller("UserEditCtrl",["$scope","$location","$window","$timeout","userService","sysusergroupService","sysroleService","plugMessenger",function(a,b,c,d,e,f,g,h){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.form={userName:"",password:"",emailAddress:"",countryCode:"",groupId:"",roleId:""},a.groups=[],f.getList({status:1},function(b){a.groups=b.data,b.data.length>0&&!a.userId&&(a.form.groupId=b.data[0].group_id)}),a.roles=[],g.getList({status:1},function(b){a.roles=b.data}),a.userId=b.search().userId,a.userId?e.getDetail(a.userId,function(b){b.message||(a.form.userName=b.userName,a.form.password=b.password,a.form.emailAddress=b.emailAddress,a.form.countryCode=b.countryCode,a.form.groupId=b.groupId,a.form.roleId=b.role_id,a.form.gender=b.gender,a.form.active=b.active,a.form.selectedRoles=b.roles)}):(a.form.gender="M",a.form.active=1),a.saveUser=function(){if(!a.form.userName)return void h.info("请输入员工名称!");if(a.form.emailAddress){if(!/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(a.form.emailAddress))return void h.info("邮箱格式不正确!")}else a.form.emailAddress=a.form.userName.trim()+"@culexpress.com";return a.form.password||a.userId?!a.userId&&a.form.password.toString().length<6?void h.info("密码至少6位数!"):a.form.groupId?!a.form.selectedRoles||a.form.selectedRoles.length<1?void h.info("请选择至少一个岗位!"):(a.form.roleId=null,a.form.selectedRoles&&a.form.selectedRoles.length>0&&a.form.selectedRoles.forEach(function(b){a.form.roleId=$.grep([a.form.roleId,b.role_id],Boolean).join(",")}),void(a.userId?(a.form.userId=a.userId,e.update(a.form,function(a){a.changedRows&&(h.success("保存成功"),c.sessionStorage.setItem("historyFlag",1),c.history.back())})):e.addUser(a.form,function(a){a.message||(h.success("保存成功"),c.sessionStorage.setItem("historyFlag",1),c.history.back())}))):void h.info("请选择部门!"):void h.info("请输入密码!")},a.back=function(){b.path("/system/userlist").search({})}}]),angular.module("culAdminApp").controller("UGListCtrl",["$scope","$location","userService","storage",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.searchBar={active:"",userName:""},a.tempSearchBar=angular.copy(d.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar),a.groupId=b.search().groupId,a.getData=function(){d.session.setObject("searchBar",a.searchBar);var b={pageInfo:a.pagination,groupId:a.groupId};c.getList(b,function(b){a.dataList=b.data,a.pagination.totalCount=b.pageInfo.totalCount})},a.back=function(){b.path("/system/usergrouplist").search({})},a.groupId&&a.getData(),a.goToRolePage=function(a){b.path("/system/editrole").search({roleId:a.role_id})}}]),angular.module("culAdminApp").controller("WarehouseListCtrl",["$scope","$location","$window","sysroleService","customerService","warehouseService","plugMessenger","storage",function(a,b,c,d,e,f,g,h){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.searchBar={countryCode:"",status:"",keywordType:"warehouseNumber"},a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.tempSearchBar=angular.copy(h.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar);var i=function(){var b={pageInfo:a.pagination};return a.searchBar.countryCode&&(b.countryCode=a.searchBar.countryCode),a.searchBar.status&&(b.status=a.searchBar.status),a.searchBar.keywords&&(b[a.searchBar.keywordType]=a.searchBar.keywords),angular.copy(b)};a.getData=function(){h.session.setObject("searchBar",a.searchBar),f.getWarehouseList(i(),function(b){a.dataList=b.data.data,a.pagination.totalCount=b.data.pageInfo.totalCount})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.getData(),a.addWarehouse=function(){b.path("/system/editwarehouse").search({})},a.edit=function(a){a&&b.search({item:a,flag:"update"}),b.path("/system/editwarehouse")},a.del=function(b){g.confirm("确认删除该仓库吗?",function(c){c&&f.deleteWarehouse({warehouseNumber:b},function(b){"000"==b.code?(g.success("删除成功"),a.getData()):g.error("删除出错")})})},a.back=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()}}]),angular.module("culAdminApp").controller("EditWarehouseCtrl",["$scope","$location","$window","sysroleService","customerService","warehouseService","plugMessenger",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.form={},a.form=b.search().item,a.form?a.flag="1":a.form={status:"1",warehouseType:"1",isTaxFree:"0",countryCode:"USA"},a.btnSearch=function(){f.getWarehouseList(function(a){})},a.back=function(){b.path("/system/warehouselist").search({})},a.saveWarehouse=function(){return a.form.warehouseShortName?a.form.warehouseName?a.form.contactName?a.form.contactPhoneNumber?a.form.address1?a.form.city?a.form.zipcode?a.form.stateOrProvince?void f.createWarehouse(a.form,function(a){a.message||(g.success("保存成功"),b.path("/system/warehouselist"))}):void g.info("请省/州!"):void g.info("请输入邮编!"):void g.info("请输入城市!"):void g.info("请输入地址1!"):void g.info("请输入联系电话!"):void g.info("请输入联系人!"):void g.info("请输入仓库名!"):void g.info("请输入仓库简称!")},a.update=function(){f.updateWarehouse(a.form,function(a){"000"==a.code?(g.success("更新成功"),b.path("/system/warehouselist")):g.success("更新失败"+req.msg)})}}]),angular.module("culAdminApp").controller("ChannelCtrl",["$scope","$location","$window","sysroleService","customerService","channelService","plugMessenger","storage",function(a,b,c,d,e,f,g,h){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.searchBar={status:"",keywordType:"channelName"},a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.tempSearchBar=angular.copy(h.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar);var i=function(){var b={pageInfo:a.pagination};return a.searchBar.status&&(b.status=a.searchBar.status),a.searchBar.keywords&&(b[a.searchBar.keywordType]=a.searchBar.keywords),angular.copy(b)};a.getData=function(){h.session.setObject("searchBar",a.searchBar),f.getChannelList(i(),function(b){a.dataList=b.data.data,a.pagination.totalCount=b.data.pageInfo.totalCount})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.getData(),a.addChannel=function(){b.path("/system/editchannel").search({})},a.edit=function(a){a&&b.search({item:a,flag:"edit"}),b.path("/system/editchannel")},a.detail=function(a){a&&b.search({item:a,flag:"detail"}),b.path("/system/editchannel")},a["delete"]=function(b){g.confirm("确认删除该渠道吗?",function(c){c&&f.deleteChannel({channelId:b.channelId},function(b){"000"==b.code?(g.success("删除成功"),a.getData()):g.error("删除失败")})})},a.back=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()}}]),angular.module("culAdminApp").controller("ShipserviceCtrl",["$scope","$location","$window","sysroleService","customerService","shipService","plugMessenger","storage",function(a,b,c,d,e,f,g,h){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.searchBar={isAllWearhouse:1,status:"",keywordType:"shipServiceName"},a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.tempSearchBar=angular.copy(h.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar);var i=function(){var b={pageInfo:a.pagination};return a.searchBar.isAllWearhouse&&(b.isAllWearhouse=a.searchBar.isAllWearhouse),a.searchBar.status&&(b.status=a.searchBar.status),a.searchBar.keywords&&(b[a.searchBar.keywordType]=a.searchBar.keywords),angular.copy(b)};a.getData=function(){h.session.setObject("searchBar",a.searchBar),f.getShipserviceList(i(),function(b){a.dataList=b.data.data,a.pagination.totalCount=b.data.pageInfo.totalCount})},a.btnSearch=function(){a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.getData(),a.addShipservice=function(){b.path("/system/editshipservice").search({})},a.edit=function(a){a&&b.search({item:a,flag:"edit"}),b.path("/system/editshipservice")},a.detail=function(a){a&&b.search({item:a,flag:"detail"}),b.path("/system/editshipservice")},a["delete"]=function(b){g.confirm("确认删除该转运服务吗?",function(c){c&&f.deleteShipservice(b.shipServiceId,function(b){"000"==b.code?(g.success("删除成功"),a.getData()):g.error("删除失败")})})},a.back=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()}}]),angular.module("culAdminApp").controller("CategerylistCtrl",["$scope","$location","$window","sysroleService","ItemService","channelService","plugMessenger","storage",function(a,b,c,d,e,f,g,h){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.searchBar={status:"",keywordType:"mainName"},a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.tempSearchBar=angular.copy(h.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar);var i=function(){var b={pageInfo:a.pagination};return a.searchBar.status&&(b.status=a.searchBar.status),a.searchBar.keywords&&(b[a.searchBar.keywordType]=a.searchBar.keywords),angular.copy(b)};a.getData=function(){h.session.setObject("searchBar",a.searchBar),e.getItemCategoryList(i(),function(b){a.dataList=b.data.data,console.log("$scope.dataList",a.dataList)})},a.btnSearch=function(){console.log("search"),a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.getData(),a.addCategery=function(){b.path("/system/editcategery").search({flag:"new"})},a.mainCategory=function(){b.path("/system/maincategerylist")},a.edit=function(a){console.log("item",a),a&&b.search({item:a,flag:"update"}),b.path("/system/editcategery")},a.detail=function(a){console.log("item",a),a&&b.search({item:a,flag:"detail"}),b.path("/system/editcategery")},a.del=function(b){g.confirm("确认删除该商品吗?",function(c){c&&e.deleteItemCategory(b.cateid,function(b){"000"==b.data.code?(g.success("删除成功"),a.getData()):g.error("删除出错")})})},a.back=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()}}]),angular.module("culAdminApp").controller("MainCategerylistCtrl",["$scope","$location","$window","sysroleService","ItemService","channelService","plugMessenger","storage",function(a,b,c,d,e,f,g,h){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.dataList=[],a.searchBar={status:"",keywordType:"mainName"},a.pagination={pageSize:"20",pageIndex:1,totalCount:0},a.tempSearchBar=angular.copy(h.getSearchObject()),a.tempSearchBar&&(a.searchBar=a.tempSearchBar?a.tempSearchBar:a.searchBar);var i=function(){var b={pageInfo:a.pagination};return a.searchBar.status&&(b.status=a.searchBar.status),a.searchBar.keywords&&(b[a.searchBar.keywordType]=a.searchBar.keywords),angular.copy(b)};a.getData=function(){h.session.setObject("searchBar",a.searchBar),e.getMainItemCategoryList(i(),function(b){a.dataList=b.data.data,console.log("$scope.dataList",b)})},a.btnSearch=function(){console.log("search"),a.dataList=[],a.pagination.pageIndex=1,a.pagination.totalCount=0,a.getData()},a.getData(),a.addCategery=function(){b.path("/system/editcategery").search({flag:"new"})},a.edit=function(a){console.log("item",a),a&&b.search({item:a,flag:"update"}),b.path("/system/editcategery")},a.detail=function(a){console.log("item",a),a&&b.search({item:a,flag:"detail"}),b.path("/system/editcategery")},a.del=function(b){g.confirm("确认删除该主类别商品吗，删除后子类别不可用，危险操作?",function(c){c&&e.deleteItemCategory(b.cateid,function(b){"000"==b.data.code?(g.success("删除成功"),a.getData()):g.error("删除出错")})})},a.back=function(){c.sessionStorage.setItem("historyFlag",1),c.history.back()}}]),angular.module("culAdminApp").controller("ChannelEditCtrl",["$scope","$location","$window","plugMessenger","channelService",function(a,b,c,d,e){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.form={},a.form=b.search().item,a.form?(a.flag=b.search().flag,console.log(a.flag)):a.form={status:"1"},a.back=function(){b.path("/system/channelist").search({})},a.saveChannel=function(){return a.form.channelName?a.form.clearAddress?a.form.channelDesc?void e.createChannel(a.form,function(a){"000"==a.code?(d.success("创建成功"),b.path("/system/channelist")):d.success(" 创建失败："+req.msg)}):void d.info("请输入渠道描述!"):void d.info("请输入清关地址!"):void d.info("请输入渠道名称!")},a.update=function(){e.updateChannel(a.form,function(a){"000"==a.code?(d.success("更新成功"),b.path("/system/channelist")):d.success("更新失败"+req.msg)})}}]),angular.module("culAdminApp").controller("EditCategeryCtrl",["$scope","$location","$window","plugMessenger","channelService","ItemService",function(a,b,c,d,e,f){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.mainFlag=!0,a.form={},a.form=b.search().item,console.log("form",a.form),a.flag=b.search().flag,a.form?(a.flag=b.search().flag,console.log(a.flag)):a.form={status:"1"},a.back=function(){b.path("/system/categerylist").search({})},a.changeMain=function(){a.mainFlag=!a.mainFlag},f.getItemCategoryList({},function(b){a.CategoryList=b.data.data,a.mainCategory=_.uniq(b.data.data,"mainName"),console.log("$scope.mainCategory",a.mainCategory)}),a.saveCategory=function(){if(a.mainFlag){console.log("3212345");var c={},e={};c.sequence=a.form.sequence,c.name=a.form.name,a.CategoryList.forEach(function(b){b.parentid==a.form.parentid&&(c.parentid=b.parentid,b.parentid==a.form.parentid&&(e=angular.copy(b)))});var g=a.CategoryList.filter(function(b){return b.mainName==a.form.mainName});console.log("tempCategoryList",g);var h=_.max(g,function(a){return a.sequence});console.log("tempItem",h),console.log("updateItem",e),e.sequence=Number(h.sequence)+1,a.model={updateItem:e,item:c}}else{var i=_.max(a.mainCategory,function(a){return a.mainSequence});console.log("maxCategory",i);var j={};j.sequence=Number(i.mainSequence)+1,j.parentid=null,j.name=a.form.newMainName;var c={};c.sequence=a.form.sequence,c.name=a.form.name,a.model={mainItem:j,item:c}}console.log(a.model),f.insertItemCategory(a.model,function(a){console.log("res",a),"000"==a.data.code?(d.success("创建成功"),b.path("/system/categerylist")):d.error("创建失败: "+a.data.msg)})},a.update=function(){f.updateItemCategory(a.form,function(a){"000"==a.data.code?(d.success("更新成功"),b.path("/system/categerylist")):d.success("更新失败"+req.msg)})}}]),angular.module("culAdminApp").controller("ShipserviceEditCtrl",["$scope","$location","$window","plugMessenger","shipService","warehouseService","channelService",function(a,b,c,d,e,f,g){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.form={},a.form=b.search().item,a.warehouseList=[],a.setListDefault=function(a){a.forEach(function(a){a.itemStatus="2",a.children&&a.children.forEach(function(b){a.itemStatus="2"})})},a.initList=function(){f.getWarehouse(function(b){var c={name:"发货仓库",children:[]};c.children=b,a.warehouseList.push(c),a.setListDefault(a.warehouseList),g.getAllChannelList(function(b){a.carrierList=b.data.data,a.setListDefault(a.carrierList),e.getGoodCategory(function(b){a.goodCategoryList=b.data,a.setListDefault(a.goodCategoryList),a.form&&(a.getValidWarehouseList(),a.getValidCarrierList(),a.getValidCategoryList())})})})},a.initList(),a.getValidWarehouseList=function(){a.form.warehouseList&&a.form.warehouseList.forEach(function(b){a.warehouseList[0].children.forEach(function(c){c.warehouseNumber==b.warehouseNumber&&(c.itemStatus="1",a.warehouseList[0].itemStatus="1",a.warehouseList[0].close=!0)})})},a.getValidCarrierList=function(){a.form.carrierList&&a.form.carrierList.forEach(function(b){a.carrierList.forEach(function(a){b.channelId==a.channelId&&(a.itemStatus="1")})})},a.getValidCategoryList=function(){a.form.categoryList&&a.form.categoryList.forEach(function(b){a.goodCategoryList&&a.goodCategoryList.forEach(function(a){return b.itemCategory==a.cateid?void(a.itemStatus="1"):void(a.children&&a.children.forEach(function(a){return b.itemCategory==a.cateid?void(a.itemStatus="1"):void 0}))})})};var h=function(a){switch(a){case!0:return 1;case!1:return 0;default:return 0}},i=function(a){switch(a){case 1:return!0;case 0:return!1;default:return!1}};a.initData=function(){if(a.form.shipFeeList&&a.form.shipFeeList.length>0){var b=a.form.shipFeeList;b.forEach(function(b){0==b.isVip?(a.form.firstWeightRMB=b.firstWeight,a.form.continuedWeightRMB=b.continuedWeight):"RMB"===b.currency?(a.form.firstWeightRMBVip=b.firstWeight,a.form.continuedWeightRMBVip=b.continuedWeight):"USD"===b.currency&&(a.form.firstWeightUSDVip=b.firstWeight,a.form.continuedWeightUSDVip=b.continuedWeight)})}if(a.form.estimatedTime){var c=a.form.estimatedTime.indexOf("-");a.form.estimatedTime1=Number(a.form.estimatedTime.substring(0,c));var d=a.form.estimatedTime.indexOf("个");c+=1,a.form.estimatedTime2=Number(a.form.estimatedTime.substring(c,d))}a.form.needIDCard=i(a.form.needIDCard),a.form.requireEnglish4Name=i(a.form.requireEnglish4Name),a.form.requireEnglish4Address=i(a.form.requireEnglish4Address)},a.form?(a.flag=b.search().flag,a.initData()):a.form={status:1,RMBExchangeRate:"7.00",split_roundup:"0.10",merge_roundup:"0.10",taxIncluded:"0",shipFeeList:[],categoryList:[],warehouseList:[],carrierList:[]},a.saveShipservice=function(){j()!==!1&&(a.getFormWarehouseList(),a.getFormCarrierList(),a.getFormCategoryList(),a.form.estimatedTime=a.form.estimatedTime1+"-"+a.form.estimatedTime2+"个工作日",a.form.needIDCard=h(a.form.needIDCard),a.form.requireEnglish4Name=h(a.form.requireEnglish4Name),a.form.requireEnglish4Address=h(a.form.requireEnglish4Address),e.createShipservice(a.form,function(a){"000"==a.code?(d.success("创建成功"),b.path("/system/shipservicelist")):d.success(" 创建失败："+req.msg)}))},a.update=function(){j()!==!1&&(a.getFormWarehouseList(),a.getFormCarrierList(),a.getFormCategoryList(),a.form.estimatedTime=a.form.estimatedTime1+"-"+a.form.estimatedTime2+"个工作日",a.form.needIDCard=h(a.form.needIDCard),a.form.requireEnglish4Name=h(a.form.requireEnglish4Name),a.form.requireEnglish4Address=h(a.form.requireEnglish4Address),e.updateShipservice(a.form,function(a){"000"==a.code?(d.success("更新成功"),b.path("/system/shipservicelist")):d.success("更新失败"+req.msg)}))};var j=function(){if(!a.form.shipServiceName)return d.info("请输入服务名称!"),!1;if(!a.form.serviceSummary)return d.info("请输入服务简介!"),!1;if(!a.form.firstWeightRMB)return d.info("请输入普通用户人民币首重费用!"),!1;if(!a.form.continuedWeightRMB)return d.info("请输入普通用户人民币续重费用!"),!1;if(!a.form.firstWeightRMBVip)return d.info("请输入VIP用户人民币首重费用!"),!1;if(!a.form.continuedWeightRMBVip)return d.info("请输入VIP用户人民币续重费用!"),!1;if(!a.form.insuranceFeeRate)return d.info("请输入自购报费税率!"),!1;if(!a.form.RMBExchangeRate)return d.info("请输入人民币汇率!"),!1;if(!a.form.estimatedTime1)return d.info("请输入递送时间!"),!1;if(!a.form.estimatedTime2)return d.info("请输入递送时间!"),!1;if(!a.form.maxWeight)return d.info("请输入最大重量(磅)!"),!1;if(!a.form.split_roundup)return d.info("请输入分箱进位>=!"),!1;if(!a.form.merge_roundup)return d.info("请输入合箱进位>=!"),!1;a.form.shipFeeList=[];var b={isVip:0,firstWeight:a.form.firstWeightRMB,continuedWeight:a.form.continuedWeightRMB,currency:"RMB"};a.form.shipFeeList.push(b);var c={isVip:1,firstWeight:a.form.firstWeightRMBVip,continuedWeight:a.form.continuedWeightRMBVip,currency:"RMB"};a.form.shipFeeList.push(c);var e={isVip:1,firstWeight:a.form.firstWeightUSDVip,continuedWeight:a.form.continuedWeightUSDVip,currency:"USD"};return a.form.shipFeeList.push(e),!0};a.enableSubFunc=function(a,b){a&&("1"===a.itemStatus?a.close=!0:a.close=!1,a.children&&a.children.length>0&&("1"==a.itemStatus?(a.close=!0,"warehouseList"==b&&a.children.forEach(function(a){a.itemStatus="1"})):(a.close=!1,a.children.forEach(function(a){a.itemStatus="2"}))))},a.getFormWarehouseList=function(){if(a.form.warehouseList=[],!a.warehouseList)return!1;for(var b=0;b<a.warehouseList[0].children.length;b++)"1"===a.warehouseList[0].children[b].itemStatus&&a.form.warehouseList.push(a.warehouseList[0].children[b])},a.getFormCarrierList=function(){if(a.form.carrierList=[],!a.carrierList)return!1;for(var b=0;b<a.carrierList.length;b++)"1"===a.carrierList[b].itemStatus&&a.form.carrierList.push(a.carrierList[b])},a.getFormCategoryList=function(){if(a.form.categoryList=[],!a.goodCategoryList)return!1;for(var b=0;b<a.goodCategoryList.length;b++)if("1"===a.goodCategoryList[b].itemStatus){var c={itemCategory:""};if(c.itemCategory=a.goodCategoryList[b].cateid,a.form.categoryList.push(c),a.goodCategoryList[b].children)for(var d=0;d<a.goodCategoryList[b].children.length;d++)if("1"===a.goodCategoryList[b].children[d].itemStatus){var e={itemCategory:""};e.itemCategory=a.goodCategoryList[b].children[d].cateid,a.form.categoryList.push(e)}}},a.back=function(){b.path("/system/shipservicelist").search({})},$("#tip_RMB").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"每1美元兑换人民币汇率"}),$("#tip_fweight").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"每分箱一次计入运费的箱子重量"}),$("#tip_split").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"分箱小数点进位标准(>=x)"}),$("#tip_merge").popover({container:"body",placement:"top",html:!0,trigger:"hover",title:"",content:"合箱小数点进位标准(>=x)"})}]),angular.module("culAdminApp").service("plugMessenger",["$rootScope","$timeout",function(a,b){var c=this;Messenger.options={extraClasses:"messenger-fixed messenger-on-top",theme:"future"};var d=function(a,b){Messenger().post({message:a,type:b,showCloseButton:!0})};c.success=function(a){d(a,"success")},c.error=function(a){d(a,"error")},c.info=function(a){d(a,"info")},c.confirm=function(a,c){var d=$('<div id="confirm-modal" class="modal fade" tabindex="-1" role="dialog">                                  <div class="modal-dialog">                                      <div class="modal-content">                                          <div class="modal-body">                                          </div>                                          <div class="modal-footer">                                              <div class="text-right">                                                  <button id="btnOK" type="button" class="btn btn-primary">确认</button>                                                  <button id="btnCancel" type="button" class="btn btn-default">取消</button>                                              </div>                                          </div>                                      </div>                                  </div>                              </div>');d.find(".modal-body").html(a),d.find("#btnOK").click(function(){b(function(){c(!0)}),d.modal("hide"),d=""}),d.find("#btnCancel").click(function(){b(function(){c(!1)}),d.modal("hide")}),$("body").append(d),d.modal("show"),d.on("hidden.bs.modal",function(){$("#confirm-modal").remove()})},c.succ=function(a,c){var d=$('<div id="confirm-modal" class="modal fade" tabindex="-1" role="dialog">                                  <div class="modal-dialog">                                      <div class="modal-content">                                          <div class="modal-body">                                          </div>                                          <div class="modal-footer">                                              <div class="text-right">                                                  <button id="btnOK" type="button" class="btn btn-primary">确认</button>                                              </div>                                          </div>                                      </div>                                  </div>                              </div>');d.find(".modal-body").html(a),d.find("#btnOK").click(function(){b(function(){c(!0)}),d.modal("hide")}),d.find("#btnCancel").click(function(){b(function(){c(!1)}),d.modal("hide")}),$("body").append(d),d.modal("show"),d.on("hidden.bs.modal",function(){$("#confirm-modal").remove()})};c.template=function(a){var b=$('<div id="confirm-modal" class="modal fade" tabindex="-1" role="dialog">                                  <div class="modal-dialog">                                      <div class="modal-content">                                          <div class="modal-body">                                          </div>                                      </div>                                  </div>                              </div>');b.find(".modal-body").html(a),b.modal("show")}}]),angular.module("culAdminApp").service("menuInfoService",["$rootScope","sysroleService","$window",function(a,b,c){var d=[],e={},f=[],g={},h=[],i=function(){c.sessionStorage.getItem("functions")&&(d=JSON.parse(c.sessionStorage.getItem("functions"))),c.sessionStorage.getItem("role")&&(e=JSON.parse(c.sessionStorage.getItem("role"))),f=_.groupBy(d,"type")[1],h=_.groupBy(d,"type")[2],e&&e.length>0&&e.forEach(function(a){g=$.extend(g,a.functions?JSON.parse(a.functions):{})})};i();var j=this;j.getMenus=function(){i();var a=[],b={};return f.forEach(function(c){1==g[c.functionID]?(b[c.functionID]=c,c.parentFunctionID?(b[c.parentFunctionID].childs||(b[c.parentFunctionID].childs=[]),b[c.parentFunctionID].childs.push(c)):a.push(c)):b[c.functionID]={}}),angular.copy(a)},j.getChildMenus=function(a){i();var b=_.filter(h,function(b){return b.parentFunctionID==a?(b.status=g[b.functionID],b):void 0});return b};var k=function(a,b,c){$.each(b,function(d,e){if(!c.menu){if(a==e.url)return c.menu=e,c.routePath.push(e),!1;e.childs&&e.childs.length>0?(c.routePath.push(e),k(a,e.childs,c)):b.length==d+1&&(c.routePath=[])}})};j.getMenuInfo=function(a){i();var b={menu:null,routePath:[]};return k(a,f,b),b}}]),angular.module("culAdminApp").service("userService",["$http","$rootScope","$location","$window",function(a,b,c,d){var e=this,f="user-info";e.login=function(d,e){var g={password:d.password,emailAddress:d.username},h=CryptoJS.lib.WordArray.random(16),i={data:CryptoJS.AES.encrypt(JSON.stringify(g),h.toString()).toString(),key:h.toString()};a.post(cul.apiPath+"/user/login",i).success(function(a){localStorage.setItem(f,null),sessionStorage.setItem(f,null),b.userInfo=null;var g=a.user;if(!a.message){switch(g.roleName){case"super_admin":case"warehouse_admin":g.roleTitle="管理部门";break;case"cs_admin":g.roleTitle="客服部";break;case"culwebapp_customer":switch(g.groupId){case"normal_customer":g.roleTitle="普通客户";break;case"vip_customer":g.roleTitle="VIP客户"}}var h=JSON.stringify(g);d.remember?localStorage.setItem(f,h):sessionStorage.setItem(f,h),sessionStorage.setItem("role",JSON.stringify(a.role.data)),sessionStorage.setItem("group",JSON.stringify(a.group)),sessionStorage.setItem("functions",JSON.stringify(a.functions)),b.userInfo=a.user,ga("set","loginusername",a.emailAddress),ga("send","pageview",{page:c.path()})}e(a.message)})},e.logout=function(a){localStorage.removeItem(f),sessionStorage.removeItem(f),localStorage.removeItem("token"),sessionStorage.removeItem("functions"),sessionStorage.removeItem("group"),sessionStorage.removeItem("role"),sessionStorage.removeItem("token"),d.sessionStorage.removeItem("warehouse"),b.userInfo=null,a&&a()},e.addUser=function(b,c){a.post(cul.apiPath+"/user",b).success(function(a){c(a)})},e.update=function(b,c){a.put(cul.apiPath+"/user",b).success(function(a){c(a)})},e.updateUser=function(b,c){a.put(cul.apiPath+"/user/update",b).success(function(a){c(a)})},e["delete"]=function(b,c){a["delete"](cul.apiPath+"/user?userIds="+b,{}).success(function(a){c(a)})},e.getUserInfo=function(){var a=sessionStorage.getItem(f)||localStorage.getItem(f);return a&&(a=JSON.parse(a)),a},e.resetPassword=function(b,c){var d=CryptoJS.lib.WordArray.random(16),e={data:CryptoJS.AES.encrypt(JSON.stringify(b),d.toString()).toString(),key:d.toString()};a.put(cul.apiPath+"/user/password/reset/default",e).success(function(a){c(a)})},e.getList=function(b,c){a.post(cul.apiPath+"/user/list",b).success(function(a){c(a)})},e.getDetail=function(b,c){a.get(cul.apiPath+"/user/"+b).success(function(a){c(a)})},$.extend(!0,window.cul,{service:{user:e}})}]),angular.module("culAdminApp").service("customerService",["$window","$http",function(a,b){var c=this;c.getDetail=function(a,c){b.get(cul.apiPath+"/customer/"+a).success(function(a){switch(a&&a.vipStatus){case"Applied":a._vipStatus="申请";break;case"Approved":a._vipStatus="同意";break;case"Cancelled":a._vipStatus="取消";break;case"Rejected":a._vipStatus="拒绝"}c(a)})},c.getList=function(a,c){b.post(cul.apiPath+"/customer/list",a).success(function(a){
$.each(a.data,function(a,b){switch(b.vipStatus){case"Applied":b._vipStatus="申请";break;case"Approved":b._vipStatus="同意";break;case"Cancelled":b._vipStatus="取消";break;case"Rejected":b._vipStatus="拒绝"}}),c(a)})},c.getPointLog=function(a,c){b.post(cul.apiPath+"/customer/getPointLog",a).success(function(a){c(a)})},c.getArrearsList=function(a,c){b.post(cul.apiPath+"/customer/arrearslist",a).success(function(a){$.each(a.data,function(a,b){switch(b.vipStatus){case"Applied":b._vipStatus="申请";break;case"Approved":b._vipStatus="同意";break;case"Cancelled":b._vipStatus="取消";break;case"Rejected":b._vipStatus="拒绝"}}),c(a)})},c["delete"]=function(a,c){b["delete"](cul.apiPath+"/customer?number="+a).success(function(a){c(a)})},c.update=function(a,c){b.put(cul.apiPath+"/customer/profile",a).success(function(a){c(a)})},c.vipApprove=function(a,c){b.put(cul.apiPath+"/customer/vip/audit",a).success(function(a){c(a)})},c.addCustomerMessage=function(a,c){return console.log("questionItem",a),b.post(cul.apiPath+"/customermessage",{customerNumber:a.customerNumber,messageType:a.messageType,receivedWarehouseNumber:a.receivedWarehouseNumber,receiveTrackingNumber:a.receiveTrackingNumber,orderNumber:a.orderNumber,deliveryTrackingNumber:a.deliveryTrackingNumber,images:a.images||null,message:a.message,userName:a.userName,status:0})},c.getVipAndMsg=function(a,c){b.post(cul.apiPath+"/customer/getVipAndMsg",a).success(function(a){c(a)})},c.updatePoint=function(a,c){b.put(cul.apiPath+"/customer/mypoint",a).success(function(a){c(a)})},c.clearReference=function(a,c){b.put(cul.apiPath+"/customer/cancelReference/"+a).success(function(a){c(a)})},c.statisticsList=function(c,d){var e,f=JSON.parse(a.sessionStorage.getItem("role"));if(f.forEach(function(a){e=$.grep([e,a.customer_ids],Boolean).join(",")}),void 0!=e&&0!==parseInt(e)){if(void 0!=c.customerNumber&&!e.includes(c.customerNumber.toUpperCase()))return;void 0==c.customerNumber&&(c.customerNumber=e)}b.post(cul.apiPath+"/customer/statistics/list",c).success(function(a){d(a)})},c.getUnpaid=function(a,c){b.post(cul.apiPath+"/customer/unpaid",a).success(function(a){c(a)})},c.financeLogList=function(a,c){b.post(cul.apiPath+"/customer/financeLog/list",a).success(function(a){c(a)})},c.refundRecharge=function(a,c){b.post(cul.apiPath+"/customer/recharge",a).success(function(a){c(a)})},c.paymentByOffline=function(a,c){b.post(cul.apiPath+"/customer/manual/offline/payment",a).success(function(a){c(a)})},c.paymentByOnline=function(a,c){b.post(cul.apiPath+"/customer/manual/online/payment",a).success(function(a){c(a)})},c.getVipAndMsg=function(a,c){b.post(cul.apiPath+"/customer/getVipAndMsg",a).success(function(a){c(a)})},c.getWebAnnounce=function(a,c){b.post(cul.apiPath+"/web/getWebAnnounce",a).success(function(a){c(a)})},c.createWebAnnounce=function(a,c){b.post(cul.apiPath+"/web/createWebAnnounce",a).success(function(a){c(a)})},c.deleteWebAnnounce=function(a,c){b.post(cul.apiPath+"/web/deleteWebAnnounce",a).success(function(a){c(a)})},c.updateWebAnnounce=function(a,c){b.post(cul.apiPath+"/web/updateWebAnnounce",a).success(function(a){c(a)})},c.getRefundList=function(a,c){b.post(cul.apiPath+"/getRefundList",a).success(function(a){c(a)})},c.refundShippingFee=function(a,c){b.post(cul.apiPath+"/refundShippingFee",a).success(function(a){c(a)})},c.getWithdrawRequestList=function(a,c){b.post(cul.apiPath+"/customer/getWithdrawRequestList",a).success(function(a){c(a)})},c.updateWithdrawRequest=function(a,c){b.post(cul.apiPath+"/customer/updateWithdrawRequest",a).success(function(a){c(a)})},c.confirmWithdrawRequest=function(a,c){b.post(cul.apiPath+"/customer/confirmWithdrawRequest",a).success(function(a){c(a)})}}]),angular.module("culAdminApp").service("customerMessageService",["$http",function(a){var b=this;b.getDetail=function(b,c){a.get(cul.apiPath+"/customermessage/"+b).then(function(a){c(a)})},b.push=function(b,c){a.post(cul.apiPath+"/customermessage/log",b).then(function(a){c(a)})}}]),angular.module("culAdminApp").service("addressService",["$http",function(a){var b=this;b.getDetail=function(b,c){a.get(cul.apiPath+"/receiveaddress/"+b).success(function(a){c(a)})},b.getDistrict=function(b){return a.post(cul.apiPath+"/address/district",b)},b.getList=function(b,c){a.post(cul.apiPath+"/receiveaddress/list",b).success(function(a){$.each(a.data,function(a,b){switch(b.verifyMark){case 0:b._verifyMark="未验证";break;case 1:b._verifyMark="已验证"}}),c(a)})},b.getListTw=function(b,c){a.post(cul.apiPath+"/receiveaddress/listTw",b).success(function(a){$.each(a.data,function(a,b){switch(b.verifyMark){case 0:b._verifyMark="未验证";break;case 1:b._verifyMark="已验证"}}),c(a)})},b.update=function(b,c){a.put(cul.apiPath+"/receiveaddress",b).success(function(a){c(a)})},b["delete"]=function(b,c){a["delete"](cul.apiPath+"/receiveaddress?number="+b).success(function(a){c(a)})},b.getProvinceList=function(b){a.get(cul.apiPath+"/province").success(function(a){b(a)})},b.getDistrict=function(b){return a.post(cul.apiPath+"/address/district",b)}}]),angular.module("culAdminApp").service("faqService",["$http",function(a){var b=this;b.getMessageType=function(b,c){a.get(cul.apiPath+"/customermessagetype?type="+b).success(function(a){c(a)})},b.getList=function(b,c){a.post(cul.apiPath+"/customermessage/list",b).success(function(a){c(a)})},b.getMessageOperationlog=function(b,c){a.post(cul.apiPath+"/customermessage/getSysMessageOperationlog",b).success(function(a){c(a)})},b.updateMessageOperation=function(b){return a.post(cul.apiPath+"/customermessage/updateMessageOperation",b)},b.deleteMessageOperation=function(b){return a.post(cul.apiPath+"/customermessage/deleteMessageOperation",b)},b.getDetail=function(b,c){a.get(cul.apiPath+"/customermessage/"+b).success(function(a){c(a)})},b["delete"]=function(b,c){a["delete"](cul.apiPath+"/customermessage?number="+b).success(function(a){c(a)})},b.update=function(b,c){a.put(cul.apiPath+"/customermessage",b).success(function(a){c(a)})},b.setMessagelog=function(b,c){a.post(cul.apiPath+"/customermessage/setMessagelog",b).success(function(a){c(a)})},b.getMessagelog=function(b,c){a.post(cul.apiPath+"/customermessage/getMessagelog",b).success(function(a){c(a)})}}]),angular.module("culAdminApp").service("orderService",["$window","$http","warehouseService",function(a,b,c){var d=this,e=function(a){var b="";switch(a){case"Canceled":b="取消";break;case"Unpaid":b="未支付";break;case"Paid":b="已支付";break;case"Processing":b="处理中";break;case"WaybillUpdated":b="运单更新";break;case"Checkout":b="签出";break;case"Arrears":b="运费不足";break;case"Shipped":b="已出库";break;case"Arrived":b="已送达";break;case"Void":b="已删除";break;case"PartialShipped":b="部分出库"}return b},f=function(a){var b="";switch(a){case"Printed":b="已打印";break;case"UnPrinted":b="未打印"}return b};d.getCurrentOption=function(b){if(void 0==b)return b;var c,d=JSON.parse(a.sessionStorage.getItem("role"));if(d.forEach(function(a){c=$.grep([c,a.customer_ids],Boolean).join(",")}),void 0!=c&&0!==parseInt(c)){if(void 0!=b.customerNumber&&-1==c.toString().split(",").indexof(b.customerNumber.toUpperCase()))return;void 0==b.customerNumber&&(b.customerNumber=c)}return b},d.getList=function(c,d){var g,h=JSON.parse(a.sessionStorage.getItem("role"));if(h.forEach(function(a){g=$.grep([g,a.customer_ids],Boolean).join(",")}),void 0!=g&&0!==parseInt(g)){if(void 0!=c.customerNumber&&-1==g.toString().split(",").indexof(c.customerNumber.toUpperCase()))return;void 0==c.customerNumber&&(c.customerNumber=g)}b.post(cul.apiPath+"/order/list",c).success(function(a){$.each(a.data,function(a,b){b._orderStatus=e(b.orderStatus),b._printStatus=f(b.printStatus),b._shipToAddresses=[],b.shipToAddresses&&$.each(b.shipToAddresses,function(a,c){var d=c.receivePersonName;c.cellphoneNumber&&(d+="("+c.cellphoneNumber+")"),9!=b.shipServiceId&&10!=c.item?d+=c.address1:d=d+c.addressPinyin+c.address1_before,c.receiveCompanyName&&(d+=c.receiveCompanyName),c.zipcode&&(d+="("+c.zipcode+")"),0==$.grep(b._shipToAddresses,function(a){return a==d}).length&&b._shipToAddresses.push(d)}),b._outboundTrackingNumbers=[],b.outboundPackages&&$.each(b.outboundPackages,function(a,c){b._outboundTrackingNumbers.push(c.trackingNumber)}),b._inboundTrackingNumbers=[],b.inboundPackages&&b.inboundPackages.length>0&&$.each(b.inboundPackages,function(a,c){b._inboundTrackingNumbers.push(c.trackingNumber)})}),d(a)})},d.getExportUrl=function(a,b){var c=[];for(var d in a)"pageInfo"!=d&&c.push(d+"="+a[d]);var e=sessionStorage.getItem("token");e&&c.push("token="+encodeURIComponent(e)),b(cul.apiPath+"/order/list/export?"+c.join("&"))},d.getDetail=function(a,c){b.get(cul.apiPath+"/order/"+a).success(function(a){a._orderStatus=e(a.orderStatus),a._printStatus=f(a.printStatus),c(a)})},d.create=function(a,c){b.post(cul.apiPath+"/order",a).success(function(a){c(a)})},d.update=function(a,c){b.put(cul.apiPath+"/order",a).success(function(a){c(a)})},d.checkOrderNumber=function(a){return b.post(cul.apiPath+"/order/checkOrderNumber",a)},d["delete"]=function(a,c){b["delete"](cul.apiPath+"/order?number="+a.orderNumber+"&orderNumberList="+a.orderNumberList+"&deleteMessage="+a.deleteMessage).success(function(a){console.log("result",a),c(a)})},d.offlineOrderCheckExcel=function(c,d){var e,f=JSON.parse(a.sessionStorage.getItem("role"));f.forEach(function(a){e=$.grep([e,a.customer_ids],Boolean).join(",")}),b.post(cul.apiPath+"/order/offlineOrderCheckExcel",{fileId:c,customerIds:e}).success(function(a){d(a)})},d.offlineOrderCreateExcel=function(d,e){var f,g=JSON.parse(a.sessionStorage.getItem("role"));g.forEach(function(a){f=$.grep([f,a.customer_ids],Boolean).join(",")}),b.post(cul.apiPath+"/order/offlineOrderCreateExcel",{fileId:d,customerIds:f}).success(function(a){c.getWarehouse(function(b){$.each(a,function(a,c){var d=$.grep(b,function(a){return a.warehouseNumber==c.warehouseNumber});c.warehouseName=d.length>0?d[0].warehouseName:""}),e(a)})})},d.generatePackageNumber=function(a,c){b.post(cul.apiPath+"/outboundpackage/generate",a).success(function(a){c(a)})},d.orderPackageUpdateByExcel=function(a,c){b.post(cul.apiPath+"/order/batchUpdateOutboundPackageByExcel",{fileId:a}).success(function(a){c("import successfully"==a?!0:a.message)})},d.updateOutboundPackage=function(a,c){b.put(cul.apiPath+"/outboundpackage",a).success(function(a){c(a)})},d.deleteOutboundPackage=function(a,c){b.post(cul.apiPath+"/deleteOutboundpackage",a).success(function(a){c(a)})},d.getOutboundPackage=function(a,c){b.get(cul.apiPath+"/outboundpackage/"+a).success(function(a){c(a)})},d.settlementForOffline=function(a,c){b.get(cul.apiPath+"/order/settlement/offline/"+a).success(function(a){c(a)})},d.outbound=function(a,c){b.post(cul.apiPath+"/order/ship/offline",a).success(function(a){c(a)})},d.outbound_vip=function(a,c){b.post(cul.apiPath+"/order/ship/vip/"+a.orderNumber,a).success(function(a){c(a)})},d.batchOutboundPackage_vip=function(a,c){b.post(cul.apiPath+"/order/ship/vip",{orderNumber:orderNumber}).success(function(a){c(a)})},d.updateOutboundPackageAndMessage=function(a,c){b.put(cul.apiPath+"/order/message_package/offline",a).success(function(a){c(a)})},d.settlementForOnline=function(a,c){b.get(cul.apiPath+"/order/settlement/online/"+a).success(function(a){c(a)})},d.batchUpdate=function(a,c){b.post(cul.apiPath+"/order/batchUpdate",a).success(function(a){c(a)})},d.orderTrackUpdateByExcel=function(a,c){b.post(cul.apiPath+"/order/batchUpdateOrderStepByExcel",{fileId:a}).success(function(a){c("import successfully"==a?!0:a.message)})},d.printOrder=function(a,c){b.put(cul.apiPath+"/order/print",{orderNumber:a}).success(function(a){c(a)})},d.financeTotal=function(a,c){b.post(cul.apiPath+"/order/financeTotal",a).success(function(a){c(a)})},d.activitiesList=function(a,c){b.post(cul.apiPath+"/order/activities",a).success(function(a){$.each(a.data,function(a,b){b._orderStatus=e(b.orderStatus),b._printStatus=f(b.printStatus)}),c(a)})},d.adminPaymentOrder=function(a){return b.put(cul.apiPath+"/order/adminPayment",a)},d.getOrderCommentsList=function(a,c){b.post(cul.apiPath+"/customermessage/order/list",a).success(function(a){c(a)})}}]),angular.module("culAdminApp").service("settlementService",["$http",function(a){var b=this;b.getList=function(b,c){a.post(cul.apiPath+"/settlement/list",b).success(function(a){c(a)})},b.reportList=function(b,c){a.post(cul.apiPath+"/settlement/report/list",b).success(function(a){c(a)})},b.vipReport=function(b,c){a.post(cul.apiPath+"/settlement/report/vipReport",b).success(function(a){c(a)})},b.instruction=function(b,c){a.post(cul.apiPath+"/settlement/instruction",b).success(function(a){c(a)})}}]),angular.module("culAdminApp").service("utilsService",["$http",function(a){var b=this,c={provice:null,warehouse:null};a.get(cul.apiPath+"/provice").success(function(a){c.provice=a}),a.get(cul.apiPath+"/warehouse").success(function(a){c.warehouse=a}),b.getProvice=function(){return angular.copy(c.provice)},b.getWarehouse=function(){return angular.copy(c.warehouse)}}]),angular.module("culAdminApp").service("warehouseService",["$http","$window",function(a,b){var c=this,d=function(a){var b="";switch(a){case"Canceled":b="取消";break;case"Unpaid":b="未支付";break;case"Paid":b="已支付";break;case"Processing":b="处理中";break;case"WaybillUpdated":b="运单更新";break;case"Checkout":b="签出";break;case"Arrears":b="运费不足";break;case"Shipped":b="已出库";break;case"Arrived":b="已送达";break;case"Void":b="已删除";break;case"PartialShipped":b="部分出库"}return b};c.getInboundPackageList=function(b,c){a.post(cul.apiPath+"/inboundPackage/list",b).success(function(a){$.each(a.data,function(a,b){b._status=e(b.status)}),c(a)})},c.getInboundPackageDetail=function(b,c){a.get(cul.apiPath+"/inboundPackage/"+b).success(function(a){c(a)})},c.updateInboundPackageDetail=function(b,c){a.put(cul.apiPath+"/inboundPackage/inbound",b).success(function(a){c(a)})},c.updateInboundPackage=function(b,c){a.put(cul.apiPath+"/inboundpackage",b).success(function(a){c(a)})},c.updateInboundpackageWeight=function(b,c){a.post(cul.apiPath+"/updateInboundpackageWeight",b).success(function(a){c(a)})},c.deleteInboundPackageDetail=function(b,c){a["delete"](cul.apiPath+"/inboundPackage?number="+b).success(function(a){c(a)})},c.getOutboundPackageByOrderNumbers=function(b,c){a.post(cul.apiPath+"/outboundpackage/order",{orderNumber:b}).success(function(a){c(a)})},c.outboundPackageShip=function(b,c){var d=[];$.each(b,function(a,b){d.push({trackingNumber:b})}),a.post(cul.apiPath+"/outboundpackage/ship",d).success(function(a){c(a)})},c.outboundPackageSplit=function(b,c){a.post(cul.apiPath+"/outboundpackage/split",b).success(function(a){c(a)})},c.getDeleteReceiptLog=function(b,c){a.post(cul.apiPath+"/getDeleteReceiptLog",b).success(function(a){c(a)})},c.inboundpackage=function(b){return a.post(cul.apiPath+"/inboundpackage",b)},c.getInboundPackage=function(b){return a.post(cul.apiPath+"/getInboundPackage",b)},c.getOutboundPackageList=function(b,c){a.post(cul.apiPath+"/outboundPackage/list",b).success(function(a){$.each(a.data,function(a,b){if(b._orderStatus=d(b.orderStatus),b.address){b._shipToAddresses=[];var c=b.address.receivePersonName;b.address.cellphoneNumber&&(c+="("+b.address.cellphoneNumber+")"),c+=b.address.address1,b.address.receiveCompanyName&&(c+=b.address.receiveCompanyName),b.address.zipcode&&(c+="("+b.address.zipcode+")"),0==$.grep(b._shipToAddresses,function(a){return a==c}).length&&b._shipToAddresses.push(c)}switch(b.exportStatus){case"Exported":b._exportStatus="已导出";break;case"UnExported":default:b._exportStatus="未导出"}}),c(a)})},c.getWarehouse=function(c){a.get(cul.apiPath+"/warehouse").success(function(a){var d=[],e=[];b.sessionStorage.getItem("role")&&(d=JSON.parse(b.sessionStorage.getItem("role"))),d&&d.length>0&&d.forEach(function(a){e=$.extend(e,a.warehouse_ids.toString().split(","))});var f=a;e&&(f=a.filter(function(a){return e.includes(""+a.warehouseNumber)})),b.sessionStorage.setItem("warehouse",JSON.stringify(f)),c(f)})},c.registerOutboundPackages=function(b,c){a.post(cul.apiPath+"/outboundpackage/mark",{count:b}).success(function(a){c(a)})};var e=function(a){var b="";switch(a){case"Intransit":b="在途中";break;case"Inbound":b="已入库";break;case"Onshelf":b="已上架";break;case"Offshelf":b="已下架"}return b};c.getCategory=function(b){a.get(cul.apiPath+"/item/category/list").success(function(a){b(a)})},c.getShippingChannelList=function(b){a.post(cul.apiPath+"/shipservice/list",{pageInfo:{pageSize:20,pageIndex:1}}).success(function(a){b(a.data)})},c.createWarehouse=function(b,c){a.post(cul.apiPath+"/warehouse",b).success(function(a){c(a)})},c.getWarehouseList=function(b,c){a.post(cul.apiPath+"/getWarehouse",b).success(function(a){c(a)})},c.deleteWarehouse=function(b,c){a.post(cul.apiPath+"/deleteWarehouse",b).success(function(a){c(a)})},c.updateWarehouse=function(b,c){a.post(cul.apiPath+"/updateWarehouse",b).success(function(a){c(a)})},c.updateWareInboundpackage=function(b,c){a.post(cul.apiPath+"/updateWareInboundpackage",b).success(function(a){c(a)})}}]),angular.module("culAdminApp").service("receiptSvr",function(){var a=[{id:"1",expressCompany:"USPS",expressNumber:"9305520111400942053639",number:"IB872",userId:"我们都是好崽崽",tag:"LYEG",desc:"运动鞋",isChanged:!1,ceatetime:"10/13/2015 12:58:44 PM",memo:""},{id:"2",expressCompany:"USPS",expressNumber:"9405509699938855243795",number:"GS840",userId:"kingeast",tag:"JYKF",desc:"1052931-2",isChanged:!1,ceatetime:"10/13/2015 12:37:16 PM",memo:""},{id:"3",expressCompany:"ONTRAC",expressNumber:"C11286135772961",number:"II400",userId:"cangfenglin",tag:"MHVB",desc:"婴儿油，勺子，盒子，乳垫",isChanged:!1,ceatetime:"10/13/2015 12:33:31 PM",memo:""},{id:"4",expressCompany:"USPS",expressNumber:"9405509699938855243795",number:"GS840",userId:"kingeast",tag:"JYKF",desc:"1052931-2",isChanged:!1,ceatetime:"10/13/2015 12:37:16 PM",memo:""},{id:"5",expressCompany:"ONTRAC",expressNumber:"C11286135772961",number:"II400",userId:"cangfenglin",tag:"MHVB",desc:"婴儿油，勺子，盒子，乳垫",isChanged:!1,ceatetime:"10/13/2015 12:33:31 PM",memo:""},{id:"6",expressCompany:"USPS",expressNumber:"9405509699938855243795",number:"GS840",userId:"kingeast",tag:"JYKF",desc:"1052931-2",isChanged:!1,ceatetime:"10/13/2015 12:37:16 PM",memo:""},{id:"7",expressCompany:"ONTRAC",expressNumber:"C11286135772961",number:"II400",userId:"cangfenglin",tag:"MHVB",desc:"婴儿油，勺子，盒子，乳垫",isChanged:!1,ceatetime:"10/13/2015 12:33:31 PM",memo:""},{id:"8",expressCompany:"ONTRAC",expressNumber:"C11286135772961",number:"II400",userId:"cangfenglin",tag:"MHVB",desc:"婴儿油，勺子，盒子，乳垫",isChanged:!1,ceatetime:"10/13/2015 12:33:31 PM",memo:""},{id:"9",expressCompany:"USPS",expressNumber:"9405509699938855243795",number:"GS840",userId:"kingeast",tag:"JYKF",desc:"1052931-2",isChanged:!1,ceatetime:"10/13/2015 12:37:16 PM",memo:""},{id:"10",expressCompany:"ONTRAC",expressNumber:"C11286135772961",number:"II400",userId:"cangfenglin",tag:"MHVB",desc:"婴儿油，勺子，盒子，乳垫",isChanged:!1,ceatetime:"10/13/2015 12:33:31 PM",memo:""},{id:"11",expressCompany:"ONTRAC",expressNumber:"C11286135772961",number:"II400",userId:"cangfenglin",tag:"MHVB",desc:"婴儿油，勺子，盒子，乳垫",isChanged:!1,ceatetime:"10/13/2015 12:33:31 PM",memo:""},{id:"12",expressCompany:"USPS",expressNumber:"9405509699938855243795",number:"GS840",userId:"kingeast",tag:"JYKF",desc:"1052931-2",isChanged:!1,ceatetime:"10/13/2015 12:37:16 PM",memo:""},{id:"13",expressCompany:"ONTRAC",expressNumber:"C11286135772961",number:"II400",userId:"cangfenglin",tag:"MHVB",desc:"婴儿油，勺子，盒子，乳垫",isChanged:!1,ceatetime:"10/13/2015 12:33:31 PM",memo:""},{id:"14",expressCompany:"ONTRAC",expressNumber:"C11286135772961",number:"II400",userId:"cangfenglin",tag:"MHVB",desc:"婴儿油，勺子，盒子，乳垫",isChanged:!1,ceatetime:"10/13/2015 12:33:31 PM",memo:""},{id:"15",expressCompany:"USPS",expressNumber:"9405509699938855243795",number:"GS840",userId:"kingeast",tag:"JYKF",desc:"1052931-2",isChanged:!1,ceatetime:"10/13/2015 12:37:16 PM",memo:""},{id:"16",expressCompany:"ONTRAC",expressNumber:"C11286135772961",number:"II400",userId:"cangfenglin",tag:"MHVB",desc:"婴儿油，勺子，盒子，乳垫",isChanged:!1,ceatetime:"10/13/2015 12:33:31 PM",memo:""},{id:"17",expressCompany:"ONTRAC",expressNumber:"C11286135772961",number:"II400",userId:"cangfenglin",tag:"MHVB",desc:"婴儿油，勺子，盒子，乳垫",isChanged:!1,ceatetime:"10/13/2015 12:33:31 PM",memo:""},{id:"18",expressCompany:"USPS",expressNumber:"9405509699938855243795",number:"GS840",userId:"kingeast",tag:"JYKF",desc:"1052931-2",isChanged:!1,ceatetime:"10/13/2015 12:37:16 PM",memo:""},{id:"19",expressCompany:"ONTRAC",expressNumber:"C11286135772961",number:"II400",userId:"cangfenglin",tag:"MHVB",desc:"婴儿油，勺子，盒子，乳垫",isChanged:!1,ceatetime:"10/13/2015 12:33:31 PM",memo:""}],b=this;b.getReceiptList=function(b,c,d){for(var e=[],f=(c-1)*d,g=f;d+f>g&&!(g>=a.length);g++)e.push(a[g]);return{total:a.length,list:e}}}),angular.module("culAdminApp").service("inventorySvr",function(){var a=[{id:"1",transOrderNumber:"1Z46YW43YW00190570",number:"GX369",userId:"bravura",tag:"KFCF",weight:5.6,isChanged:!0,ceatetime:"10/13/2015 8:04:21 AM",days:0,location:"f6",creator:"OPT",memo:""},{id:"2",transOrderNumber:"781434431241",number:"AD985",userId:"gulch",tag:"AFXD",weight:14.7,isChanged:!0,ceatetime:"10/13/2015 8:03:52 AM",days:0,location:"f6",creator:"OPT",memo:""},{id:"3",transOrderNumber:"1ZR450950336732478",number:"BO426",userId:"yuya1987",tag:"CHTN",weight:3.6,isChanged:!0,ceatetime:"10/13/2015 8:03:15 AM",days:0,location:"f5",creator:"OPT",memo:""}],b=this;b.getInventoryList=function(b,c,d){for(var e=[],f=(c-1)*d,g=f;d+f>g&&!(g>=a.length);g++)e.push(a[g]);return{total:a.length,list:e}}}),angular.module("culAdminApp").service("shippingSvr",function(){var a=[{id:"1",transOrderNumber:"20151014D08",number:"IC318",userId:"larryliudai",tag:"LYVJ",weight:1.7,ceatetime:"10/15/2015 2:06:29 AM",days:0,location:"DAI",custMemo:"",memo:""},{id:"2",transOrderNumber:"20151014D07",number:"IC318",userId:"larryliudai",tag:"LYVJ",weight:.9,ceatetime:"10/15/2015 2:05:58 AM",days:0,location:"DAI",custMemo:"",memo:""},{id:"3",transOrderNumber:"20151014D06",number:"IC318",userId:"larryliudai",tag:"LYVJ",weight:.8,ceatetime:"10/13/2015 8:03:15 AM",days:0,location:"DAI",custMemo:"",memo:""}],b=this;b.getShippingList=function(b,c,d){for(var e=[],f=(c-1)*d,g=f;d+f>g&&!(g>=a.length);g++)e.push(a[g]);return{total:a.length,list:e}}}),angular.module("culAdminApp").service("LogService",["$http",function(a){var b=this;b.getOperationList=function(b,c){a.post(cul.apiPath+"/operationLog/list",b).success(function(a){$.each(a.data,function(a,b){switch(b.operationType){case 0:b._operationType="修改密码";break;case 1:b._operationType="调整积分";break;case 2:b._operationType="取消推荐人";break;case 3:b._operationType="批准VIP资格";break;case 4:b._operationType="取消VIP资格";break;case 5:b._operationType="激活账号"}}),c(a)})},b.getLoginList=function(b,c){a.post(cul.apiPath+"/user/loginlog/list",b).success(function(a){$.each(a.data,function(a,b){switch(b.result){case"success":b._result="登录成功";break;case"failed":b._result="登录失败"}}),c(a)})}}]),angular.module("culAdminApp").service("inventoryService",["$window","$http",function(a,b){var c=this;c.getDetail=function(a,c){b.get(cul.apiPath+"/item/inventory?itemNumber="+a).success(function(a){c(a)})},c.getInfo=function(a,c){b.get(cul.apiPath+"/item/info?itemNumber="+a).success(function(a){c(a)})},c.getInfoByReceiptNumber=function(a,c){b.get(cul.apiPath+"/item/info?receiptNumber="+a).success(function(a){c(a)})},c.getList=function(c,d){var e,f=JSON.parse(a.sessionStorage.getItem("role"));if(f.forEach(function(a){e=$.grep([e,a.customer_ids],Boolean).join(",")}),void 0!=e&&0!==parseInt(e)){if(void 0!=c.customerNumber&&!e.includes(c.customerNumber.toUpperCase()))return;void 0==c.customerNumber&&(c.customerNumber=e)}b.post(cul.apiPath+"/item/inventory/list",c).success(function(a){d(a)})},c.getTimeList=function(c,d){var e,f=JSON.parse(a.sessionStorage.getItem("role"));if(f.forEach(function(a){e=$.grep([e,a.customer_ids],Boolean).join(",")}),void 0!=e&&0!==parseInt(e)){if(void 0!=c.customerNumber&&!e.includes(c.customerNumber.toUpperCase()))return;void 0==c.customerNumber&&(c.customerNumber=e)}b.post(cul.apiPath+"/item/inventorytime/list",c).success(function(a){d(a)})},c.getLogList=function(a,c){b.post(cul.apiPath+"/item/inventory/log/list",a).success(function(a){_.each(a.data,function(a){a._type=d(a.type)}),c(a)})},c.getCategoryList=function(a){b.get(cul.apiPath+"/item/category/list").success(function(b){a(b)})},c.frozen=function(a,c){b.put(cul.apiPath+"/item/inventory/frozen",a).success(function(a){c(a)})},c.adjust=function(a,c){b.put(cul.apiPath+"/item/inventory/adjust",a).success(function(a){c(a)})},c.check=function(a,c){b.post(cul.apiPath+"/getInboundPackage",a).success(function(a){c(a)})},c.check=function(a,c){b.post(cul.apiPath+"/getInboundPackage",a).success(function(a){c(a)})},c.payInventory=function(a,c){b.post(cul.apiPath+"/customer/payInventory",a).success(function(a){c(a)})};var d=function(a){var b="";switch(a){case 1:b="订单出库";break;case 2:b="商品入库";break;case 3:b="订单下单";break;case 4:b="库存冻结";break;case 5:b="库存解冻";break;case 6:b="纠正库存";break;case 7:b="关闭总单"}return b}}]),angular.module("culAdminApp").service("shelfService",["$http",function(a){var b=this;b.getDetail=function(b,c){a.get(cul.apiPath+"/warehouse/shelf?shelfNumber="+b.shelfNumber+"&warehouseNumber="+b.warehouseNumber).success(function(a){c(a)})},b.deleteShelf=function(b,c){a.post(cul.apiPath+"/warehouse/deleteshelf/",b).success(function(a){c(a)})},b.getList=function(b,c){a.post(cul.apiPath+"/warehouse/shelf/list",b).success(function(a){_.each(a.data,function(a){switch(a.type){case"A":a._type="海淘客户";break;case"B":a._type="大客户";break;case"C":a._type="异常包裹";break;case"D":a._type="员工包裹"}}),c(a)})},b.update=function(b,c){a.post(cul.apiPath+"/warehouse/shelf",b).success(function(a){c(a)})},b.getTransportDetail=function(b,c){a.get(cul.apiPath+"/item/transport?receiptNumber="+b).success(function(a){c(a)})},b.getTransportList=function(b,c){a.post(cul.apiPath+"/item/transport/list",b).success(function(a){_.each(a.data,function(a){switch(a.sendType){case 1:a._sendType="寄送库存";break;case 2:a._sendType="海淘包裹"}switch(a.inboundStatus){case 0:a._inboundStatus="等待登记";break;case 1:a._inboundStatus="等待清点";break;case 2:a._inboundStatus="部分收货";break;case 3:a._inboundStatus="已收货";break;default:a._inboundStatus="所有"}switch(a.shelfStatus){case 0:a._shelfStatus="未上架";break;case 1:a._shelfStatus="部分上架";break;case 2:a._shelfStatus="已上架"}}),c(a)})},b.onshelfForInbound=function(b,c){a.post(cul.apiPath+"/item/onshelf",b).success(function(a){c(a)})},b.onshelfForMove=function(b,c){a.put(cul.apiPath+"/item/onshelf",b).success(function(a){c(a)})},b.getUnshelfList=function(b,c){a.post(cul.apiPath+"/item/unshelf/list",b).success(function(a){c(a)})},b.getOnshelfList=function(b,c){console.log("dwwe",b),a.post(cul.apiPath+"/item/onshelf/list",b).success(function(a){_.each(a.data,function(a){switch(a.sendType){case 1:a._sendType="寄送库存";break;case 2:a._sendType="海淘包裹"}}),c(a)})}}]),angular.module("culAdminApp").service("receiptService",["$http",function(a){var b=this;b.getDetail=function(b,c){a.get(cul.apiPath+"/item/transport?receiptNumber="+b).success(function(a){switch(a&&(a._inboundStatus=""),a.inboundStatus){case 0:a._inboundStatus="等待登记";break;case 1:a._inboundStatus="等待清点";break;case 2:a._inboundStatus="部分收货";break;case 3:a._inboundStatus="已收货";break;default:a._inboundStatus="所有"}c(a)})},b.saveForOnline=function(b,c){a.post(cul.apiPath+"/item/transport/Inbound/online",b).success(function(a){c(a)})},b.saveForOffline=function(b,c){a.post(cul.apiPath+"/item/transport/Inbound/offline",b).success(function(a){c(a)})},b.checkForOffline=function(b,c){a.post(cul.apiPath+"/item/transport/check/offline",b).success(function(a,b){c(a,b)})},b["delete"]=function(b,c){a.post(cul.apiPath+"/item/transport/delete",b).success(function(a){c(a)})},b.checkItem=function(b,c){a.get(cul.apiPath+"/item/upc?numberOrUpc="+b).success(function(a,b){c(a,b)})},b.getExceptionList=function(c,d){a.post(cul.apiPath+"/inbound/exception/list",c).success(function(a){_.each(a.data,function(a){a._sendtype=b.mapping.sendType(a.sendtype),a._type=b.mapping.type(a.type),a._status=b.mapping.status(a.status)}),d(a)})},b.getExceptionDetail=function(b,c){a.get(cul.apiPath+"/inbound/exception?exceptionNumber="+b).success(function(a){c(a)})},b.exceptionSave=function(b,c){a.post(cul.apiPath+"/inbound/exception",b).success(function(a){c(a)})},b.exceptionEdit=function(b,c){a.put(cul.apiPath+"/inbound/exception",b).success(function(a){c(a)})},b.checkReceiveIdentity=function(b,c){return a.post(cul.apiPath+"/customermessage/checkReceiveIdentity",b)},b.checkInboundPackage=function(b,c){return a.post(cul.apiPath+"/customermessage/getInboundPackage",b)},b.getInboundPackage=function(b,c){console.log("trackingNumber",b),a.get(cul.apiPath+"/inboundpackage/"+b).success(function(a){c(a)})},b.mapping={sendType:function(a){var b="";switch(a){case 1:b="寄送库存";break;case 2:b="海淘包裹"}return b},type:function(a){var b="";switch(a){case 1:b="无预报记录";break;case 2:b="物品损坏";break;case 3:b="错送";break;case 4:b="少送";break;case 5:b="多送";break;case 6:b="其他";break;case 7:b="员工包裹"}return b},status:function(a){var b="";switch(a){case 1:b="未解决";break;case 2:b="已关闭";break;case-1:b="已删除"}return b}}}]),angular.module("culAdminApp").service("ItemService",["$http",function(a){var b=this;b.getItemCategoryList=function(b,c){a.post(cul.apiPath+"/getItemCategoryList",b).then(function(a){c(a)})},b.getMainItemCategoryList=function(b,c){a.post(cul.apiPath+"/getMainItemCategoryList",b).then(function(a){c(a)})},b.insertItemCategory=function(b,c){a.post(cul.apiPath+"/insertItemCategory",b).then(function(a){c(a)})},b.updateItemCategory=function(b,c){a.post(cul.apiPath+"/updateItemCategory",b).then(function(a){c(a)})},b.deleteItemCategory=function(b,c){a["delete"](cul.apiPath+"/deleteItemCategory/"+b).then(function(a){c(a)})}}]),angular.module("culAdminApp").service("bucketService",["$http",function(a){var b=this;b.create=function(b,c){a.post(cul.apiPath+"/bucket",b).success(function(a){c(a)})},b.update=function(b,c){a.put(cul.apiPath+"/bucket",b).success(function(a){c(a)})},b.getList=function(b,c){a.post(cul.apiPath+"/bucket/list",b).success(function(a){_.each(a.data,function(a){switch(a.status){case"0":a._status="关闭";break;case"1":a._status="开启"}}),c(a)})},b.getDetail=function(b,c){a.get(cul.apiPath+"/bucket?bucketNumber="+b).success(function(a){c(a)})},b.checkPackage=function(b,c){a.get(cul.apiPath+"/bucket/checkpackage?trackingNumber="+b).success(function(a){c(a)})},b.close=function(b,c){a.put(cul.apiPath+"/bucket/close",b).success(function(a){c(a)})},b.updateculBucket=function(b,c){a.post(cul.apiPath+"/outboundpackage/updateculBucket",b).success(function(a){c(a)})},b.getSummaryInboundPackage=function(b,c){a.post(cul.apiPath+"/summaryInboundPackage",b).success(function(a){c(a)})}}]),angular.module("culAdminApp").service("sysroleService",["$http",function(a){var b=this;b.create=function(b,c){a.post(cul.apiPath+"/role",b).success(function(a){c(a)})},b.update=function(b,c){a.put(cul.apiPath+"/role",b).success(function(a){c(a)})},b["delete"]=function(b,c){a["delete"](cul.apiPath+"/role?role_id="+b,{}).success(function(a){c(a)})},b.getList=function(b,c){a.post(cul.apiPath+"/role/list",b).success(function(a){c(a)})},b.getFunctionList=function(b,c){a.get(cul.apiPath+"/function",b).success(function(a){c(a)})},b.getDetail=function(b,c){a.get(cul.apiPath+"/role/"+b).success(function(a){c(a)})}}]),angular.module("culAdminApp").service("sysusergroupService",["$http",function(a){var b=this;b.create=function(b,c){a.post(cul.apiPath+"/user_group",b).success(function(a){c(a)})},b.update=function(b,c){a.put(cul.apiPath+"/user_group",b).success(function(a){c(a)})},b["delete"]=function(b,c){a["delete"](cul.apiPath+"/user_group?group_id="+b,{}).success(function(a){c(a)})},b.getList=function(b,c){a.post(cul.apiPath+"/user_group/list",b).success(function(a){c(a)})},b.getFunctionList=function(b,c){a.get(cul.apiPath+"/function",b).success(function(a){c(a)})},b.getDetail=function(b,c){a.get(cul.apiPath+"/user_group/"+b).success(function(a){c(a)})}}]),
angular.module("culAdminApp").factory("storage",["$window",function(a){return{session:{setObject:function(b,c){a.sessionStorage.setItem(b,angular.toJson(c))},getObject:function(b){return angular.fromJson(a.sessionStorage.getItem(b))},setValue:function(b,c){a.sessionStorage.setItem(b,c)},getValue:function(b){return a.sessionStorage.getItem(b)},remove:function(b){a.sessionStorage.removeItem(b)}},local:{setObject:function(b,c){a.localStorage.setItem(b,angular.toJson(c))},getObject:function(b){return angular.fromJson(a.localStorage.getItem(b))},setValue:function(b,c){a.localStorage.setItem(b,c)},getValue:function(b){return a.localStorage.getItem(b)},remove:function(b){a.localStorage.removeItem(b)}},getSearchObject:function(){var a="";return 1==this.session.getValue("historyFlag")&&(this.session.getObject("searchBar")&&(a=this.session.getObject("searchBar"),a.startDate&&(a.startDate=new Date(a.startDate)),a.endDate&&(a.endDate=new Date(a.endDate))),this.session.remove("historyFlag")),a}}}]),angular.module("culAdminApp").service("channelService",["$http","$window",function(a,b){var c=this;c.getChannel=function(c){var d=b.sessionStorage.getItem("Channel");d&&"undefined"!=d?c(JSON.parse(d)):a.get(cul.apiPath+"/Channel").success(function(a){var d=[],e=[];b.sessionStorage.getItem("role")&&(d=JSON.parse(b.sessionStorage.getItem("role"))),d&&d.length>0&&d.forEach(function(a){e=$.extend(e,a.Channel_ids.toString().split(","))});var f=a;e&&(f=a.filter(function(a){return e.includes(""+a.ChannelNumber)})),b.sessionStorage.setItem("Channel",JSON.stringify(f)),c(f)})},c.registerOutboundPackages=function(b,c){a.post(cul.apiPath+"/outboundpackage/mark",{count:b}).success(function(a){c(a)})};c.getCategory=function(b){a.get(cul.apiPath+"/item/category/list").success(function(a){b(a)})},c.getShippingChannelList=function(b){a.post(cul.apiPath+"/shipservice/list",{pageInfo:{pageSize:20,pageIndex:1}}).success(function(a){b(a.data)})},c.createChannel=function(b,c){a.post(cul.apiPath+"/createChannel",b).success(function(a){c(a)})},c.getChannelList=function(b,c){a.post(cul.apiPath+"/getChannel",b).success(function(a){c(a)})},c.getAllChannelList=function(b){a.post(cul.apiPath+"/getChannel",{}).success(function(a){b(a)})},c.deleteChannel=function(b,c){a.post(cul.apiPath+"/deleteChannel",b).success(function(a){c(a)})},c.updateChannel=function(b,c){a.post(cul.apiPath+"/updateChannel",b).success(function(a){c(a)})}}]),angular.module("culAdminApp").service("shipService",["$http","$window",function(a,b){var c=this;c.createShipservice=function(b,c){a.post(cul.apiPath+"/createShipService",b).success(function(a){c(a)})},c.getShipserviceList=function(b,c){a.post(cul.apiPath+"/getShipService",b).success(function(a){c(a)})},c.deleteShipservice=function(b,c){a.get(cul.apiPath+"/deleteShipservice/"+b,{}).success(function(a){c(a)})},c.updateShipservice=function(b,c){a.post(cul.apiPath+"/updateShipService",b).success(function(a){c(a)})},c.getGoodCategory=function(b){a.get(cul.apiPath+"/getItemCategoryListAdmin").success(function(a){b(a)})}}]),angular.module("culAdminApp").run(["$templateCache",function(a){"use strict";a.put("views/customer/addressdetail.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 地址详情</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <legend>个人信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货公司：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.receiveCompanyName"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货人：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.receivePersonName"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">电子邮箱：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.emailAddress"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">身份证号码：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.idCard"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">身份证有效期：</label> <div ng-if=" !data.idForever || data.idForever==0 " class="col-sm-4"> <input type="text" class="form-control" value="{{data.deadline | date:\'yyyy-MM-dd\'}}"> </div> <div ng-if="data.idForever==1" class="col-sm-4"> <input type="text" class="form-control" value="永久"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">身份证地址：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.idCardAddress"> </div> </div> <!--<div class="form-group">\n                    <label class="col-sm-2 control-label text-right">身份证正反面：</label>\n                    <div class="col-sm-4">\n                        <div class="thumbnail">\n                            <a href="{{data.idCardFrontUrl}}" target="_blank"><img src="{{data.idCardFrontUrl}}" alt="身份证正面照片" /></a>\n                        </div>\n                       <div class="thumbnail">\n                          <a href="{{data.idCardBackUrl}}" target="_blank"><img src="{{data.idCardBackUrl}}" alt="身份证反面照片"/></a>\n                       </div>\n                    </div>\n                </div>--> <div class="form-group"> <label class="col-sm-2 control-label text-right">身份证照片：</label> <div class="col-sm-2"> <div class="row fileupload-buttonbar" style="padding-left:15px"> <div class="thumbnail col-sm-12"> <a href="{{data.idCardFrontUrl}}" target="_blank"> <img id="idcardfront_show" style="height:100px;margin-top:10px;margin-bottom:8px" ng-src="{{data.idCardFrontUrl}}" data-holder-rendered="true"> </a> <div class="progress progress-striped active" role="progressbar" aria-valuemin="10" aria-valuemax="100" aria-valuenow="0"> <div id="progress" class="progress-bar progress-bar-success" style="width:0%"></div> </div> <div class="caption" align="center"> <span id="idcardfront_upload" class="btn btn-primary fileinput-button"> <span id="file_btn_text">上传</span> <input type="file" id="fileupload_front" name="idcardfront_image"> </span> </div> </div> </div> </div> <div class="col-sm-2"> <div class="row fileupload-buttonbar" style="padding-left:15px"> <div class="thumbnail col-sm-12"> <a href="{{data.idCardBackUrl}}" target="_blank"> <img id="idcardback_show" style="height:100px;margin-top:10px;margin-bottom:8px" ng-src="{{data.idCardBackUrl}}" data-holder-rendered="true"> </a> <div class="progress progress-striped active" role="progressbar"> <div id="progress" class="progress-bar progress-bar-success" style="width:0%"></div> </div> <div class="caption" align="center"> <span id="idcardback_upload" class="btn btn-primary fileinput-button"> <span id="file_btn_text">上传</span> <input type="file" id="fileupload_back" name="idcardback_image"> </span> </div> </div> </div> </div> <div class="col-sm-2"> <button ng-click="btnPrint()" class="btn btn-primary">身份证打印</button> </div> </div> </fieldset> <fieldset> <legend>地址信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货地址：</label> <div class="col-sm-2"> <select class="form-control" ng-options="province as province.name for province in provinces" ng-model="data.stateOrProvince" ng-change="getCity()"></select> </div> <div class="col-sm-2"> <select class="form-control" ng-options="city as city.name for city in citys" ng-model="data.city" ng-change="getArea()"></select> </div> <div class="col-sm-2"> <select class="form-control" ng-options="area as area.name for area in areas" ng-model="data.area"></select> </div> </div> <!--<div class="form-group">\n                    <label class="col-sm-2 control-label text-right">收货地址：</label>\n                    <div class="col-sm-2">\n                        <select class="form-control" ng-options="item.name as item.name for item in tpl_status.provinceList" ng-model="data.stateOrProvince" ng-change="changeProvince()"></select>\n                    </div>\n                    <div class="col-sm-2">\n                        <select class="form-control"\n                                ng-options="item.name as item.name for item in tpl_status.cities" ng-model="data.city"></select>\n                    </div>\n                </div>--> <div class="form-group"> <label class="col-sm-2 control-label text-right">详细地址：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.address1"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">邮政编码：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.zipcode"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">手机号码：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.cellphoneNumber"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">备用号码：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.telephoneNumber"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">备注信息：</label> <div class="col-sm-4"> <textarea class="form-control" ng-model="data.note"></textarea> </div> </div> <!--<div class="form-group">\n                    <label class="col-sm-2 control-label text-right">验证状态</label>\n                    <div class="col-sm-4">\n                       <p class="form-control">{{data.verifyMark == 1?"验证":"未验证"}}</p>\n                    </div>\n                </div>--> <div class="form-group"> <label class="col-sm-3 control-label text-right">验证状态:</label> <div class="col-sm-5 text-left"> <label><input type="radio" name="validateType" id="validateType" value="1" ng-model="data.verifyMark">验证通过</label> &nbsp; <label><input type="radio" name="validateType" id="validateType" value="0" ng-model="data.verifyMark">等待验证</label> <label><input type="radio" name="validateType" id="validateType" value="-1" ng-model="data.verifyMark">验证失败</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">验证备注信息</label> <div class="col-sm-4"> <textarea class="form-control" ng-model="data.idRemark" ng-model="data.telephoneNumber"></textarea> </div> </div> </fieldset> <div class="form-group text-center"> <!--<button type="button" class="btn btn-primary" ng-show="data.verifyMark == 0" ng-click="btnVerification(flag)">验证</button>\n                <button type="button" class="btn btn-primary" ng-show="data.verifyMark == 1" ng-click="btnSave()">取消验证</button>--> <button type="button" class="btn btn-primary" ng-click="btnSave()">保存</button> <button type="button" class="btn btn-default" ng-click="btnPrev()">返回</button> </div> </form> </div> </div> <script type="text/html" id="tplValidate_approval_form"><form class="form-horizontal" role="form">\n            <fieldset>\n                <legend>验证</legend>\n                \n                <div class="form-group">\n                    <label class="col-sm-3 control-label text-right">验证方式:</label>\n                    <div class="col-sm-5 text-left">\n                        <label><input type="radio" name="validateType" id="validateType" value=1  ng-model="validateType" >验证通过</label> &nbsp;\n                        <label><input type="radio"  name="validateType" id="validateType" value=0  ng-model="validateType" >验证失败</label>\n                    </div>\n                </div>              \n                <div class="form-group" ng-show="validateType==0">\n                    <label class="col-sm-3 control-label text-right">备注：</label>\n                    <div class="col-sm-8">\n                        <textarea class="form-control" ng-model="idRemark"></textarea>\n                        <code>{{idRemarkError}}</code>\n                    </div>\n                </div>\n            </fieldset>\n            <div class="form-group text-center">\n                <button type="button" class="btn btn-primary" ng-click="btnApprove($event)">确定</button>\n                <button type="button" class="btn btn-default" ng-click="btnCancel($event)">取消</button>\n            </div>\n        </form></script> <print-idcard></print-idcard>'),a.put("views/customer/addresslist.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 地址查询 </h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="customerNumber">客户编号</option> <option value="userName">客户ID(注册名)</option> <!--<option value="name">姓名</option>--> <option value="emailAddress">注册邮箱</option> <option value="receiveIdentity">客户标示</option> <option value="cellphoneNumber">手机号码</option> <option value="telephoneNumber">电话号码</option> <option value="idCard">身份证号</option> <option value="orderNumber">订单编号</option> <option value="trackingNumber">CUL包裹单号</option> <option value="cnTrackingNumber">国内物流号</option> <option value="receivePersonName">收货人姓名</option> </select> <textarea type="text" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords"></textarea> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnPrint()">批量打印</button> <a class="btn btn-primary" style="margin-left:5px" href="{{api}}/exportReceiveaddressList?{{searchBar.keywordType}}={{searchBar.keywords}}">\b导出</a> </div> </div> </div> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>客户编号</th> <th>收货人姓名</th> <th>手机号码</th> <th>收货地址</th> <!--<th>验证状态</th>--> <th>操作</th> </tr> </thead> <tbody> <tr ng-if="dataList.length == 0"> <td colspan="13">没有数据，请选择条件进行搜索。</td> </tr> <tr ng-if="dataList.length > 0" ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td><a href="javascript:void(0);" ng-click="btnOpenDetail(\'customer\',item)">{{item.customerNumber}}</a></td> <td><a href="javascript:void(0);" ng-click="btnOpenDetail(\'address\',item)">{{item.receivePersonName}}</a></td> <td>{{item.cellphoneNumber}}</td> <td> <span>{{item.receivePersonName}}</span> <span ng-show="!!item.cellphoneNumber">({{item.cellphoneNumber}})</span> <span>{{item.stateOrProvince}}</span> <span>{{item.city}}</span> <span>{{item.area}}</span> <span>{{item.address1}}</span> <!--不默认显示公司名称--> <!--<span ng-show="!!item.receiveCompanyName">{{item.receiveCompanyName}}</span>--> <span ng-show="!!item.zipcode">({{item.zipcode}})</span> </td> <!--<td ng-class="{\'alert-danger\': item.verifyMark == 0}">{{item._verifyMark}}</td>--> <td> <!--<a href="javascript:void(0);" class="role" data-role="29" ng-click="btnVerification(item, $index)">{{item.verifyMark == 0 ? \'验证\' : "取消验证"}}</a>--> <a href="javascript:void(0);" class="role" data-role="30" ng-click="btnDelete(item)">删除</a> </td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <print-idcard></print-idcard>'),a.put("views/customer/arrearslist.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 客户查询 </h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">地区：</label> <select class="form-control search-control" ng-model="searchBar.countryCode"> <option value="">全部</option> <option value="CHN">中国</option> <option value="other">海外</option> </select> </div> <div class="search-col"> <label class="search-label">余额：</label> <select class="form-control search-control" ng-model="searchBar.accountBalance"> <option value="">全部</option> <option value="1">有余额</option> <option value="0">无余额</option> </select> </div> <div class="search-col"> <label class="search-label">注册开始日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">注册结束日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="orderNumber">订单编号</option> <option value="customerNumber">客户编号</option> <option value="userName">客户ID(注册名)</option> <!--<option value="telephoneNumber">电话号码</option>--> <!--<option value="name">姓名</option>--> <option value="emailAddress">注册邮箱</option> <option value="receiveIdentity">客户标示</option> <option value="cellphoneNumber">手机号码</option> <option value="customerName">客户姓名</option> <!--<option value="outBoundTrackingNumber">CUL包裹单号</option>--> <!--<option value="idCard">身份证号</option>--> </select> <input type="text" name="search" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="submit" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>客户编号</th> <th>客户ID</th> <th>用户类型</th> <th>注册日期</th> <th>客户标示</th> <th>账户余额</th> <th>订单编号</th> <th>订单状态</th> <th>生成日期</th> <th>订单金额</th> <th>使用积分</th> <th>实收金额</th> <th>欠费金额</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-if="dataList.length == 0"> <td colspan="14">没有数据，请选择条件进行搜索。</td> </tr> <tr ng-if="dataList.length > 0" ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td><a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'customerdetail\')">{{item.customerNumber}}</a></td> <td>{{item.inuserName}}</td> <td>{{item.vipStatus == \'Approved\' ? \'VIP客户\' : \'普通客户\'}}</td> <td>{{item.registerDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>{{item.receiveIdentity}}</td> <td>{{item.accountBalance}}</td> <td style="max-width: 200px"> <a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'orderdetail\')">{{item.orderNumber}}</a> <span ng-if="item.isFastOrder == 1" title="极速原箱"> <i class="fa fa-bolt" aria-hidden="true" style="color:#ff6a00;font-size:16px"></i> </span> </td> <td>{{item.orderStatus | _orderStatus}}</td> <td>{{item.orderDate | date:\'yyyy-MM-dd hh:mm:ss\'}}</td> <td>{{item.shippingFee + item.tip}}</td> <td>{{item.usedPoint}}</td> <td>{{item.totalCount}}</td> <td>{{item.shippingFeeAdjust}}</td> <td> <a href="javascript:void(0);" class="role" data-role="95" ng-click="btnOpenDetail(item)">余额支付</a> </td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> <script type="text/html" id="tplVip_approval_form"><form class="form-horizontal" role="form">\n            <fieldset>\n                <legend>VIP审批</legend>\n                <div class="form-group">\n                    <label class="col-sm-3 control-label text-right">账号：</label>\n                    <div class="col-sm-9">\n                        <label class="control-label">{{vipCustomer.customer.userName}}</label>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-sm-3 control-label text-right">审批状态：</label>\n                    <div class="col-sm-5">\n                        <select class="form-control search-control" ng-model="vipCustomer.vipStatus">\n                            <option value="Approved">同意</option>\n                            <option value="Cancelled">取消</option>\n                            <option value="Rejected">拒绝</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-sm-3 control-label text-right">选择仓库：</label>\n                    <div class="col-sm-5">\n                        <select class="form-control search-control" ng-model="vipCustomer.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in warehouse.list"></select>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-sm-3 control-label text-right">备注：</label>\n                    <div class="col-sm-8">\n                        <textarea class="form-control" ng-model="vipCustomer.memo"></textarea>\n                    </div>\n                </div>\n            </fieldset>\n            <div class="form-group text-center">\n                <button type="button" class="btn btn-primary" ng-click="btnApprove($event)">批准</button>\n                <button type="button" class="btn btn-default" ng-click="btnCancel($event)">取消</button>\n            </div>\n        </form></script> </div> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/customer/customerdetail.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 客户详情</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <legend>注册资料</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">注册编号：</label> <div class="col-sm-4"> <label class="control-label">{{data.customerNumber}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">客户标示：</label> <div class="col-sm-4"> <label class="control-label">{{data.receiveIdentity}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">注册账号：</label> <div class="col-sm-4"> <label class="control-label">{{data.userName}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">注册密码：</label> <div class="col-sm-4"> <button type="button" class="btn btn-default role" data-role="26" ng-click="btnResetPassword()">重置密码</button> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">注册日期：</label> <div class="col-sm-4"> <label class="control-label">{{data.registerDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">推荐人：</label> <div class="col-sm-2"> <label class="control-label">{{data.reference || \'无\'}}</label> <button type="button" class="btn btn-default" ng-if="!!data.reference" ng-click="btnClearReference()">取消推荐</button> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">用户类型：</label> <div class="col-sm-4"> <label class="control-label">{{data.isVip ? \'VIP客户\' : \'普通客户\'}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">VIP状态：</label> <div class="col-sm-4"> <label class="control-label">{{data._vipStatus}}</label> </div> </div> <!--<div class="form-group">\n                    <label class="col-sm-2 control-label text-right">推荐人：</label>\n                    <div class="col-sm-9">\n                        <label class="control-label">{{data.referenceUserEmailAddress}}</label>\n                        <button type="button" class="btn btn-default">取消推荐</button>\n                        <button type="button" class="btn btn-default">加入重复表</button>\n                    </div>\n                </div>--> </fieldset> <fieldset> <legend>个人信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">姓 名：</label> <div class="col-sm-4"> <label class="control-label">{{data.lastName}} {{data.firstName}}</label> </div> <label class="col-sm-2 control-label text-right">性　别：</label> <div class="col-sm-4"> <label class="control-label">{{data.gender == "F" ? "女" : "男"}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">地 址：</label> <div class="col-sm-4"> <label class="control-label">{{data.stateOrProvince}} {{data.city}} {{data.area}} {{data.address1}}</label> </div> <label class="col-sm-2 control-label text-right">邮政编码：</label> <div class="col-sm-4"> <label class="control-label">{{data.zipcode}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">公司名：</label> <div class="col-sm-4"> <label class="control-label">{{data.companyName}}</label> </div> <label class="col-sm-2 control-label text-right">公司地址：</label> <div class="col-sm-4"> <label class="control-label">{{data.companyAddress}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">公司网址：</label> <div class="col-sm-4"> <label class="control-label">{{data.companySite}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">身份证号：</label> <div class="col-sm-4"> <label class="control-label">{{data.idCard}}</label> </div> <label class="col-sm-2 control-label text-right">邮箱地址：</label> <div class="col-sm-2"> <!-- <label class="control-label">{{data.emailAddress}}</label> --> <input type="text" ng-disabled="!changeEmailFlag" class="form-control" ng-model="data.emailAddress"> </div> <div class="col-sm-1"> <button type="button" ng-show="!changeEmailFlag" class="btn btn-default" ng-click="changeEmail()">修改邮箱</button> <button type="button" ng-show="changeEmailFlag" class="btn btn-default" ng-click="saveEmail(data)">确认</button> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">固定电话：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.telephoneNumber" ng-disabled="true"> </div> <label class="col-sm-2 control-label text-right">移动电话：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.cellphoneNumber" ng-disabled="true"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">QQ号：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.QQ" ng-disabled="true"> </div> <label class="col-sm-2 control-label text-right">MSN：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.MSN" ng-disabled="true"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">淘宝旺旺：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.taobaoWangwang" ng-disabled="true"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">备注信息：</label> <div class="col-sm-10"> <textarea class="form-control" ng-model="data.note" ng-disabled="true"></textarea> </div> </div> </fieldset> <fieldset> <legend>帐户信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">账户余额：</label> <div class="col-sm-4"> <label class="control-label">￥{{data.accountBalance || 0}}</label> </div> <label class="col-sm-6 control-label">消费总额：￥{{data.totalCost || 0}}</label> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">可用积分：</label> <div class="col-sm-4"> <!--<input type="text" class="form-control" ng-model="data.myPoint" disabled>--> <input type="text" class="form-control" ng-model="data.myPoint" disabled> <input type="number" placeholder=" 输入的数值为增加或者减少的积分,减少用-" class="form-control" ng-model="data.changePoint" ng-show="tpl_status.editPoint"> </div> <label class="col-sm-6 control-label">总获得积分：{{data.totalPoint || 0}}，已使用积分：{{(data.totalPoint - data.myPoint) || 0}}</label> </div> <div class="form-group" ng-show="!!tpl_status.editPoint"> <label class="col-sm-2 control-label text-right">调整理由：</label> <div class="col-sm-4"> <textarea class="form-control" ng-model="data.pointNote"></textarea> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right"></label> <div class="col-sm-4"> <button type="button" class="btn btn-default role" data-role="27" ng-click="tpl_status.editPoint = true" ng-show="!tpl_status.editPoint">积分调整</button> <button type="button" class="btn btn-primary" ng-click="btnEditPoint()" ng-show="!!tpl_status.editPoint">保存积分调整</button> <button type="button" class="btn btn-default" ng-click="tpl_status.editPoint = false" ng-show="!!tpl_status.editPoint">取消积分调整</button> </div> </div> </fieldset> <div class="form-group text-center"> <button type="button" class="btn btn-primary role" data-role="28" ng-click="btnSave()">保存</button> <button type="button" class="btn btn-default" ng-click="btnPrev()">返回</button> </div> </form> </div> </div>'),a.put("views/customer/customerlist.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 客户查询 </h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">地区：</label> <select class="form-control search-control" ng-model="searchBar.countryCode"> <option value="">全部</option> <option value="CHN">中国</option> <option value="other">海外</option> </select> </div> <div class="search-col"> <label class="search-label">余额：</label> <select class="form-control search-control" ng-model="searchBar.accountBalance"> <option value="">全部</option> <option value="1">有余额</option> <option value="0">无余额</option> </select> </div> <div class="search-col"> <label class="search-label">开始日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">结束日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="customerNumber">客户编号</option> <option value="userName">客户ID(注册名)</option> <option value="telephoneNumber">电话号码</option> <!--<option value="name">姓名</option>--> <option value="emailAddress">注册邮箱</option> <option value="receiveIdentity">客户标示</option> <option value="cellphoneNumber">手机号码</option> <option value="customerName">客户姓名</option> <option value="outBoundTrackingNumber">CUL包裹单号</option> <option value="idCard">身份证号</option> </select> <input type="text" name="search" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <div style="min-width:1300px;overflow:hidden"> <table class="table table-bordered" style="min-width:1300px;overflow:hidden"> <thead> <tr> <th>序号</th> <th>编号</th> <th>日期</th> <th>姓名</th> <th>账号</th> <th>邮箱</th> <th>电话号码</th> <th>手机号码</th> <th>客户标示</th> <th>余额</th> <th>消费总额</th> <th>积分</th> <th>发货总计</th> <th>用户类型</th> <th>VIP状态</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-if="dataList.length == 0"> <td colspan="14">没有数据，请选择条件进行搜索。</td> </tr> <tr ng-if="dataList.length > 0" ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td><a href="javascript:void(0);" ng-click="btnOpenDetail(item)">{{item.customerNumber}}</a></td> <td>{{item.registerDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>{{item.lastName}} {{item.firstName}}</td> <td>{{item.userName}}</td> <td>{{item.emailAddress}}</td> <td>{{item.telephoneNumber}}</td> <td>{{item.cellphoneNumber}}</td> <td>{{item.receiveIdentity}}</td> <td>{{item.accountBalance}}</td> <td>{{item.totalCost}}</td> <td>{{item.myPoint}}</td> <td>{{item.allWeight || 0}}</td> <td>{{item.isVip ? \'VIP客户\' : \'普通客户\'}}</td> <td>{{item._vipStatus}}</td> <td> <a href="javascript:void(0);" class="role" data-role="25" ng-click="btnDelete(item)">删除</a> <a href="javascript:void(0);" class="role" data-role="25" ng-click="btnComment(item)">留言</a> <div ng-show="!item.isVip"> <a href="javascript:void(0);" class="role" data-role="24" ng-click="btnApproveVIP(item)" ng-hide="!item.vipStatus">VIP审批</a> </div> <a href="javascript:void(0);" ng-show="item.isVip" ng-click="btnApproveVIP(item)" class="role" data-role="24" ng-click="btnApproveVIP(item)">取消VIP</a> </td> </tr> </tbody> </table> </div> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> <script type="text/html" id="tplVip_approval_form"><form class="form-horizontal" role="form">\n            <fieldset>\n                <legend>VIP审批</legend>\n                <div class="form-group">\n                    <label class="col-sm-3 control-label text-right">账号：</label>\n                    <div class="col-sm-9">\n                        <label class="control-label">{{vipCustomer.customer.userName}}</label>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-sm-3 control-label text-right">审批状态：</label>\n                    <div class="col-sm-5">\n                        <select class="form-control search-control" ng-model="vipCustomer.vipStatus">\n                            <option value="Approved">同意</option>\n                            <option ng-if="vipCustomer.customer.isVip"  value="Cancelled">取消</option>\n                            <option ng-if="vipCustomer.customer.isVip == false"   value="Rejected">拒绝</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-sm-3 control-label text-right">选择仓库：</label>\n                    <div class="col-sm-5">\n                        <select class="form-control search-control"\n                                ng-model="vipCustomer.warehouseNumber"\n                                ng-options="item.warehouseNumber as item.warehouseName for item in warehouse.list"></select>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-sm-3 control-label text-right">备注：</label>\n                    <div class="col-sm-8">\n                        <textarea class="form-control" ng-model="vipCustomer.memo"></textarea>\n                    </div>\n                </div>\n            </fieldset>\n            <div class="form-group text-center">\n                <button type="button" class="btn btn-primary" ng-click="btnApprove($event)">批准</button>\n                <button type="button" class="btn btn-default" ng-click="btnCancel($event)">取消</button>\n            </div>\n        </form></script> <script type="text/html" id="customer_message_form"><form class="form-horizontal" role="form">\n            <fieldset>\n                <legend>客户留言</legend>\n                <div class="form-group">\n                    <label class="col-sm-3 control-label text-right">账号：</label>\n                    <div class="col-sm-9">\n                        <label class="control-label">{{message.userName}}</label>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-sm-3 control-label text-right">编号：</label>\n                    <div class="col-sm-9">\n                        <label class="control-label">{{message.customerNumber}}</label>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-sm-3 control-label text-right">留言：</label>\n                    <div class="col-sm-8">\n                        <textarea class="form-control" ng-model="message.message"></textarea>\n                    </div>\n                </div>\n            </fieldset>\n            <div class="form-group text-center">\n                <button type="button" class="btn btn-primary" ng-click="btnMessage($event)">确认</button>\n                <button type="button" class="btn btn-default" ng-click="btnCancel($event)">取消</button>\n            </div>\n        </form></script> </div> <script>$(document).ready(function(){\n        var search = document.getElementById(\'search\');\n        search.focus();\n        search.addEventListener(\'keypress\', function(event) {\n            if (event.keyCode == 13) {\n                event.preventDefault();\n                document.getElementById(\'submit\').click();\n            }\n        });\n    });</script>'),
a.put("views/customer/customermessage.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 客户留言</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <legend>个人信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">姓 名：</label> <div class="col-sm-4"> <label class="control-label">{{data.lastName}} {{data.firstName}}</label> </div> <label class="col-sm-2 control-label text-right">性　别：</label> <div class="col-sm-4"> <label class="control-label">{{data.gender == "F" ? "女" : "男"}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">地 址：</label> <div class="col-sm-4"> <label class="control-label">{{data.stateOrProvince}} {{data.city}} {{data.area}} {{data.address1}}</label> </div> <label class="col-sm-2 control-label text-right">邮政编码：</label> <div class="col-sm-4"> <label class="control-label">{{data.zipcode}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">公司名：</label> <div class="col-sm-4"> <label class="control-label">{{data.companyName}}</label> </div> <label class="col-sm-2 control-label text-right">公司地址：</label> <div class="col-sm-4"> <label class="control-label">{{data.companyAddress}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">公司网址：</label> <div class="col-sm-4"> <label class="control-label">{{data.companySite}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">身份证号：</label> <div class="col-sm-4"> <label class="control-label">{{data.idCard}}</label> </div> <label class="col-sm-2 control-label text-right">邮箱地址：</label> <div class="col-sm-4"> <label class="control-label">{{data.emailAddress}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">固定电话：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.telephoneNumber" ng-disabled="true"> </div> <label class="col-sm-2 control-label text-right">移动电话：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.cellphoneNumber" ng-disabled="true"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">QQ号：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.QQ" ng-disabled="true"> </div> <label class="col-sm-2 control-label text-right">MSN：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.MSN" ng-disabled="true"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">淘宝旺旺：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.taobaoWangwang" ng-disabled="true"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">备注信息：</label> <div class="col-sm-10"> <textarea class="form-control" ng-model="data.note" ng-disabled="true"></textarea> </div> </div> </fieldset> <fieldset> <legend>客户留言</legend> <!--<div class="form-group">\n                    <label class="col-sm-2 control-label text-right">留言记录：</label>\n                    <div class="row col-sm-6">\n                        <div style=" margin-bottom:10px;" ng-repeat="item in data.messageLogs">\n                            <div class="col-sm-6 blue">{{item.operationUserName}}</div>\n                            <div class="col-sm-6 text-right">{{item.operationDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</div>\n                            <div class="col-sm-12">{{item.message}}\n                                <a ng-repeat="image in item.images track by $index" href="{{image}}" target="_blank">\n                                    <img style="width:50px;margin:10px;" ng-src="{{image}}">\n                                </a> \n                            </div>\n                            <div class="clearfix"></div>\n                        </div>\n                    </div>\n                </div>--> <div class="form-group"> <label class="col-sm-2 control-label text-right">您的留言：</label> <div class="col-sm-4"> <div class="row fileupload-buttonbar" style="padding-left:15px;margin-right:0px"> <div class="thumbnail col-sm-12"> <a href="{{data.images}}" target="_blank"> <img id="uploadImg_show" style="height:70px;margin-top:10px;margin-bottom:8px" ng-src="{{data.images}}" data-holder-rendered="true"> </a> <div class="progress progress-striped active" role="progressbar" aria-valuemin="10" aria-valuemax="100" aria-valuenow="0" style="height:10px;margin-bottom:0px"> <div id="progress" class="progress-bar progress-bar-success" style="width:0%"></div> </div> <div class="caption" align="center"> <span id="uploadImg_upload" class="btn btn-primary fileinput-button"> <span id="file_btn_text">上传</span> <input type="file" id="uploadImg" name="uploadImg_image"> </span> </div> </div> </div> </div> <div class="clearfix"></div> <label class="col-sm-2 control-label text-right"></label> <div class="col-sm-4"> <textarea class="form-control" ng-model="message.message"></textarea> </div> <button type="button" class="btn btn-default" ng-click="btnMessagePush()"><i class="fa fa-comment"></i></button> </div> </fieldset> <div class="form-group text-center"> <button type="button" class="btn btn-primary" ng-click="btnMessagePush()"> 留言</button> <button type="button" class="btn btn-default" ng-click="btnPrev()">返回</button> </div> </form> </div> </div>'),a.put("views/customer/faqdetail.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 查看客户留言</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="form-group"> <label class="col-sm-2 control-label text-right">问题编号：</label> <div class="col-sm-4"> <label class="control-label">{{data.messageNumber}}</label> </div> <label class="col-sm-2 control-label text-right">创建日期：</label> <div class="col-sm-4"> <label class="control-label">{{data.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">问题类别：</label> <div class="col-sm-4"> <label class="control-label">{{data._messageType}}</label> </div> <label class="col-sm-2 control-label text-right">问题状态：</label> <div class="col-sm-4"> <label class="control-label">{{data.status | _question}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货仓库：</label> <div class="col-sm-4"> <label class="control-label">{{data._receivedWarehouseName}}</label> </div> </div> </fieldset> <fieldset> <legend>问题描述</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">客户编号：</label> <div class="col-sm-4"> <label class="control-label"> <a href="javascript:void(0);" ng-click="btnOpenDetail(\'customerDetail\',data)">{{data.customerNumber}}</a> </label> </div> <label class="col-sm-2 control-label text-right">订单编号：</label> <div class="col-sm-4"> <a href="javascript:void(0);" ng-click="btnViewCustomer(data.orderNumber);"> <label class="control-label">{{data.orderNumber}}</label> </a> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">运单号码：</label> <div class="col-sm-4"> <label class="control-label">{{data.receiveTrackingNumber}}</label> </div> <label class="col-sm-2 control-label text-right">发货单号：</label> <div class="col-sm-4"> <label class="control-label">{{data.deliveryTrackingNumber}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">问题内容：</label> <div class="col-sm-10"> <label class="control-label">{{data.message}}</label> </div> </div> </fieldset> <fieldset ng-show="images"> <legend>上传图片</legend> <div class="form-group"> <div class="col-sm-4" ng-repeat="image in images"> <a href="{{image}}" target="_blank"> <img ng-src="{{image}}" width="300px" height="300px"> </a> </div> </div></fieldset> <fieldset ng-show="logs.length"> <legend>转交问题</legend> <div> <table class="table"> <tr> <th class="col-sm-1">转交时间</th> <th class="col-sm-1">转交人</th> <th class="col-sm-1">转交原因</th> </tr> <tr ng-repeat="log in logs"> <td class="col-sm-1">{{log.operationDate | date:\'yyyy-MM-dd hh:mm:ss\'}}</td> <td class="col-sm-1">{{log.operationUserName}}</td> <td class="col-sm-1">{{log.typeName}}</td> </tr> </table> </div> </fieldset> <fieldset> <legend>问题留言</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">回复记录：</label> <div class="row col-sm-6"> <div style="margin-bottom:10px" ng-repeat="item in messageLogs"> <div class="col-sm-6 blue">{{item.operationUserName}}</div> <div class="col-sm-6 text-right">{{item.operationDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</div> <div class="col-sm-10">{{item.message}} <a ng-repeat="image in item.images track by $index" href="{{image}}" target="_blank"> <img style="width:50px;margin:10px" ng-src="{{image}}"> </a> </div> <div class="col-sm-2"> <a style="cursor:pointer" ng-click="delMessageBtn(item)">删除</a> </div> <div class="clearfix"></div> </div> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">您的回复：</label> <div class="col-sm-4"> <div class="row fileupload-buttonbar" style="padding-left:15px;margin-right:0px"> <div class="thumbnail col-sm-12"> <a href="{{data._images}}" target="_blank"> <img id="uploadImg_show" style="height:70px;margin-top:10px;margin-bottom:8px" ng-src="{{data._images}}" data-holder-rendered="true"> </a> <div class="progress progress-striped active" role="progressbar" aria-valuemin="10" aria-valuemax="100" aria-valuenow="0" style="height:10px;margin-bottom:0px"> <div id="progress" class="progress-bar progress-bar-success" style="width:0%"></div> </div> <div class="caption" align="center"> <span id="uploadImg_upload" class="btn btn-primary fileinput-button"> <span id="file_btn_text">上传</span> <input type="file" id="uploadImg" name="uploadImg_image"> </span> </div> </div> </div> </div> <div class="clearfix"></div> <label class="col-sm-2 control-label text-right"></label> <div class="col-sm-4"> <textarea class="form-control" ng-model="_message"></textarea> </div> <button type="button" class="btn btn-default" ng-click="btnMessagePush()"><i class="fa fa-comment"></i>回复</button> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">转交问题：</label> <div class="col-sm-4"> <select type="text" class="form-control" ng-change="getProduct()" ng-model="search.messageType" ng-options="messageType as messageType.typeName for messageType in messageTypeList"> <option></option> </select> </div> <button type="button" class="btn btn-default" ng-click="setMessageLog()"><i class="fa fa-comment"></i>转交问题</button> </div> </fieldset></form></div>  <div class="form-group text-center"> <!--<button type="button" class="btn btn-primary" class="role" data-role="32" ng-click="btnUpdateStatus(\'ForwardWH\')">转交仓库</button>--> <button type="button" class="btn btn-primary" class="role" data-role="31" ng-click="btnUpdateStatus(\'Closed\')" ng-if="data.status!=\'Closed\'">关闭问题</button> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div>  </div> '),a.put("views/customer/faqlist.html",'<div class="widget widget-table" ng-controller="FAQListCtrl"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 问题处理 </h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">订单状态：</label> <select class="form-control search-control" ng-model="searchBar.orderStatus"> <option value="0">处理中</option> <option value="1">已处理</option> </select> </div> <div class="search-col"> <label class="search-label">收货仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouse"> <option value="0">CA</option> <option value="1">DE</option> <option value="2">OR</option> </select> </div> <div class="search-col"> <label class="search-label">问题分类：</label> <select class="form-control search-control" ng-model="searchBar.messageType" ng-options="type.typeID as type.typeName for type in searchBar.messageTypeData"> </select> </div> <div class="search-col"> <label class="search-label">开始日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">结束日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="transactionnumber">问题编号</option> <option value="customernumber">客户编号</option> <option value="message">问题内容</option> </select> <input type="text" name="search" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <table class="table table-bordered"> <thead> <tr> <th><input type="checkbox" ng-change="btnSelectedItem()" ng-model="searchBar.selectedAll"></th> <th>序号</th> <th>问题编号</th> <th>日期</th> <th>问题类别</th> <th>收货仓库</th> <th>新留言</th> <th>状态</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-if="dataList.length == 0"> <td colspan="13">没有数据，请选择条件进行搜索。</td> </tr> <tr ng-if="dataList.length > 0" ng-repeat="item in dataList"> <td><input type="checkbox" ng-change="btnSelectedItem(item)" ng-model="item._selected"></td> <td>{{item.rownumber}}</td> <td><a href="javascript:void(0)" ng-click="btnOpenDetail(item)">{{item.transactionNumber}}</a></td> <td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>{{item._messageType}}</td> <td>{{item._receivedWarehouseNumber}}</td> <td>{{item.message}}</td> <td>{{item._status}}</td> <td> <a href="javascript:void(0);" ng-click="btnRemove(item)">移除</a> </td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-6 search-bar" style="margin-bottom: 0px"> <div class="search-col" style="margin-bottom: 0px"> <button type="button" class="btn btn-primary" style="margin-left:5px">批量删除</button> </div> </div> <div class="col-sm-6 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/customer/faqmanagement.html",'<div class="widget-content"> <ul class="nav nav-tabs nav-tabs-custom-colored" role="tablist"> <li class="active"><a href="javascript:void(0)" data-target="#faq-manage" role="tab" data-toggle="tab">问题处理</a></li> <li><a href="javascript:void(0)" role="tab" data-target="#msg-manage" data-toggle="tab">留言管理</a></li> </ul> <div class="tab-content"> <div class="tab-pane fade in active" id="faq-manage"> <div ng-include="\'views/customer/faqlist.html\'"></div> </div> <div class="tab-pane fade" id="msg-manage"> <div ng-include="\'views/customer/msglist.html\'"></div> </div> </div> </div>'),a.put("views/customer/idauth-cul.html",'<div class="widget widget-table" ng-controller="IdAuthCulCtrl"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 身份认证 </h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">验证状态：</label> <select class="form-control search-control" ng-model="searchBar.verifyMark"> <option value="">全部</option> <option value="1">验证通过</option> <option value="0">未验证</option> <option value="-1">验证失败</option> </select> </div> <div class="search-col"> <label class="search-label">上传开始日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">上传结束日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="customerNumber">客户编号</option> <option value="userName">客户ID(注册名)</option> <!--<option value="name">姓名</option>--> <option value="emailAddress">注册邮箱</option> <option value="receiveIdentity">客户标示</option> <option value="cellphoneNumber">手机号码</option> <option value="telephoneNumber">电话号码</option> <option value="idCard">身份证号</option> <option value="orderNumber">订单编号</option> <option value="trackingNumber">CUL包裹单号</option> <option value="cnTrackingNumber">国内物流号</option> <option value="receivePersonName">收货人姓名</option> </select> <textarea type="text" class="form-control search-control" style="margin-left:5px; width:430px" placeholder="请输入查询关键字" ng-model="searchBar.keywords"></textarea> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> <!--<button type="button" class="btn btn-primary" style="margin-left:5px;" ng-click="btnPrint()">批量打印</button>--> <a class="btn btn-primary" style="margin-left:5px" href="{{api}}/exportReceiveaddressList?{{searchBar.keywordType}}={{searchBar.keywords}}&dateFrom={{searchBar.startDate}}&dateTo={{searchBar.endDate}}">\b导出</a> <a class="btn btn-primary" style="margin-left:5px" href="{{api}}/downIdImage?{{searchBar.keywordType}}={{searchBar.keywords}}&dateFrom={{searchBar.startDate}}&dateTo={{searchBar.endDate}}">批量下载图片</a> <button id="idauth_cul" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> <!--<button type="button" class="btn btn-primary"  style="margin-left:5px;" ng-click="btnDownload()">批量下载图片</button>--> </div> </div> </div> <table class="table table-bordered"> <thead> <div> <th>序号</th> <th>客户编号</th> <th>收货人姓名</th> <th>手机号码</th> <th>身份证号</th> <th>上传时间</th> <th>正面照</th> <th>反面照</th> <th>验证状态</th> <th>操作</th> <th>备注</th>  </div></thead> <tbody> <tr ng-if="dataList.length == 0"> <td colspan="13">没有数据，请选择条件进行搜索。</td> </tr> <tr ng-if="dataList.length > 0" ng-repeat="item in dataList track by $index"> <td>{{item.rownumber}}</td> <td><a href="javascript:void(0);" ng-click="btnOpenDetail(\'customer\',item)">{{item.customerNumber}}</a></td> <td><a href="javascript:void(0);" ng-click="btnOpenDetail(\'address\',item)">{{item.receivePersonName}}</a></td> <td>{{item.cellphoneNumber}}</td> <td> <span>{{item.idCard}}</span> </td> <td>{{item.lastEditDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td> <div class="image-div"> <a href="{{item.idCardFrontUrl}}" target="_blank"> <img class="idCardImage" ng-src="{{item.idCardFrontUrl}}"></a> </div> </td> <td> <div class="image-div"> <a href="{{item.idCardBackUrl}}" target="_blank"> <img class="idCardImage" ng-src="{{item.idCardBackUrl}}"></a> </div> </td> <td ng-class="{\'alert-danger\': item.verifyMark == 0}">{{item._verifyMark}}</td> <td> <!--<a href="javascript:void(0);" class="role" data-role="29" ng-click="btnVerification(item, $index)">{{item.verifyMark == 0 ? \'验证\' : "取消验证"}}</a>--> <a href="javascript:void(0);" class="role" data-role="30" ng-show="item.verifyMark == 0" ng-click="btnVerification(item, $index,1)">验证</a> <a href="javascript:void(0);" class="role" data-role="30" ng-show="item.verifyMark != 0" ng-click="btnVerificationCancle(item, $index)">取消验证</a> <!--<a href="javascript:void(0);" class="role" data-role="30" ng-click="">备注</a>--> </td> <td><a ng-show="item.verifyMark == -1" ng-click="btnVerification(item, $index,0)"> {{item.idRemark}}</a></td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <!--指令--> <print-idcard></print-idcard> <print-idcard-img></print-idcard-img> <script type="text/html" id="tplValidate_approval_form"><form class="form-horizontal" role="form">\n            <fieldset>\n                <legend>验证</legend>\n\n                <div class="form-group">\n                    <label class="col-sm-3 control-label text-right">验证方式:</label>\n                    <div class="col-sm-5 text-left">\n                        <label><input type="radio" name="validateType" id="validateType" value=1  ng-model="validateType" >验证通过</label>                        &nbsp;\n                        <label><input type="radio"  name="validateType" id="validateType" value=0  ng-model="validateType" >验证失败</label>\n                    </div>\n                </div>\n                <div class="form-group" ng-show="validateType==0">\n                    <label class="col-sm-3 control-label text-right">备注：</label>\n                    <div class="col-sm-8">\n                        <textarea class="form-control" ng-model="idRemark"></textarea>\n                        <code>{{idRemarkError}}</code>\n                    </div>\n                </div>\n            </fieldset>\n            <div class="form-group text-center">\n                <button type="button" class="btn btn-primary" ng-click="btnApprove($event)">确定</button>\n                <button type="button" class="btn btn-default" ng-click="btnCancel($event)">取消</button>\n            </div>\n        </form></script> <script type="text/javascript"></script>'),a.put("views/customer/idauth-tw.html",'<div class="widget widget-table" ng-controller="IdAuthTwCtrl"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 身份认证 </h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">验证状态：</label> <select class="form-control search-control" ng-model="searchBar.verifyMark"> <option value="">全部</option> <option value="1">验证通过</option> <option value="0">未验证</option> <option value="-1">验证失败</option> </select> </div> <div class="search-col"> <label class="search-label">上传开始日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">上传结束日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <!--<option value="customerNumber">客户编号</option>--> <option value="receivePersonName">收货人姓名</option> <option value="cellphoneNumber">手机号码</option> <option value="idCard">身份证号</option> <option value="twOrder">淘宝订单号</option> </select> <textarea type="text" class="form-control search-control" style="margin-left:5px; width:430px" placeholder="请输入查询关键字" ng-model="searchBar.keywords"></textarea> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> <a class="btn btn-primary" style="margin-left:5px" href="{{api}}/exportReceiveaddressListTw?{{searchBar.keywordType}}={{searchBar.keywords}}">\b导出</a> <a class="btn btn-primary" style="margin-left:5px" href="{{api}}/downIdImage?{{searchBar.keywordType}}={{searchBar.keywords}}">批量下载图片</a> <button id="idauth_tw" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> </div> </div> </div> <table class="table table-bordered"> <thead> <div> <th>序号</th> <!--<th>客户编号</th>--> <th>收货人姓名</th> <th>淘宝订单号</th> <th>手机号码</th> <th>身份证号</th> <th>上传时间</th> <th>正面照</th> <th>反面照</th> <th>验证状态</th> <th>操作</th> <!--<th>备注</th>-->  </div></thead> <tbody> <tr ng-if="dataList.length == 0"> <td colspan="13">没有数据，请选择条件进行搜索。</td> </tr> <tr ng-if="dataList.length > 0" ng-repeat="item in dataList track by $index"> <td>{{item.rownumber}}</td> <!--<td><a href="javascript:void(0);" ng-click="btnOpenDetail(\'customer\',item)">{{item.customerNumber}}</a></td>--> <td>{{item.receivePersonName}}</td> <td>{{item.twOrder}}</td> <td>{{item.cellphoneNumber}}</td> <td> <span>{{item.idCard}}</span> </td> <td>{{item.lastEditDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td> <div class="image-div"> <a href="{{item.idCardFrontUrl}}" target="_blank"> <img class="idCardImage" ng-src="{{item.idCardFrontUrl}}"></a> </div> </td> <td> <div class="image-div"> <a href="{{item.idCardBackUrl}}" target="_blank"> <img class="idCardImage" ng-src="{{item.idCardBackUrl}}"></a> </div> </td> <td ng-class="{\'alert-danger\': item.verifyMark == 0}">{{item._verifyMark}}</td> <td> <a href="javascript:void(0);" class="role" data-role="30" ng-click="btnOpenDetail(\'address\',item)">修改</a> <a href="javascript:void(0);" class="role" data-role="30" ng-show="item.verifyMark != 0" ng-click="btnVerificationCancle(item, $index)">取消验证</a> <a href="javascript:void(0);" class="role" data-role="30" ng-show="item.verifyMark == 0" ng-click="btnVerification(item, $index,1)">验证</a> </td> <!--<td><a ng-show="item.verifyMark == -1" ng-click="btnVerification(item, $index,0)"> {{item.idRemark}}</a></td>--> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <!--指令--> <print-idcard></print-idcard> <print-idcard-img></print-idcard-img> <script type="text/html" id="tplValidate_approval_form"><form class="form-horizontal" role="form">\n            <fieldset>\n                <legend>验证</legend>\n\n                <div class="form-group">\n                    <label class="col-sm-3 control-label text-right">验证方式:</label>\n                    <div class="col-sm-5 text-left">\n                        <label><input type="radio" name="validateType" id="validateType" value=1  ng-model="validateType" >验证通过</label>                        &nbsp;\n                        <label><input type="radio"  name="validateType" id="validateType" value=0  ng-model="validateType" >验证失败</label>\n                    </div>\n                </div>\n                <!--<div class="form-group" ng-show="validateType==0">\n                    <label class="col-sm-3 control-label text-right">备注：</label>\n                    <div class="col-sm-8">\n                        <textarea class="form-control" ng-model="idRemark"></textarea>\n                        <code>{{idRemarkError}}</code>\n                    </div>\n                </div>-->\n            </fieldset>\n            <div class="form-group text-center">\n                <button type="button" class="btn btn-primary" ng-click="btnApprove($event)">确定</button>\n                <button type="button" class="btn btn-default" ng-click="btnCancel($event)">取消</button>\n            </div>\n        </form></script> <script type="text/javascript"></script>'),a.put("views/customer/idauth.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 身份认证 </h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="widget-content"> <ul class="nav nav-tabs nav-tabs-custom-colored" role="tablist"> <li class="active"><a href="javascript:void(0)" role="tab" data-target="#idauth-cul" data-toggle="tab">cul客户认证</a></li> <li><a href="javascript:void(0)" role="tab" data-target="#idauth-tw" data-toggle="tab">微信/淘宝客户认证</a></li> </ul> <div class="tab-content"> <div class="tab-pane fade in active" id="idauth-cul"><div ng-include="\'views/customer/idauth-cul.html\'"></div></div> <div class="tab-pane fade" id="idauth-tw"><div ng-include="\'views/customer/idauth-tw.html\'"></div></div> </div> </div> </fieldset> <div class="form-group text-center"> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </form> </div> </div>'),a.put("views/customer/messagelist.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i>客户留言</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">问题类型：</label> <select class="form-control search-control" ng-model="searchBar.messageType" ng-options="type.typeID as type.typeName for type in searchBar.messageTypeData"></select> </div> <div class="search-col"> <label class="search-label">问题状态：</label> <select class="form-control search-control" ng-model="searchBar.status"> <option value="">全部</option> <option value="Processing">处理中</option> <option value="ForwardWH">转交仓库</option> <option value="Closed">已关闭</option> </select> </div> <div class="search-col"> <label class="search-label">收货仓库：</label> <select class="form-control search-control" ng-model="searchBar.receivedWarehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"> <!--<option>全部</option>--> </select> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">开始日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> <div class="pull-left"> <label class="search-label">日</label> <select class="form-control search-control" style="width:55px; padding-left: 5px" ng-model="searchBar.startTime_HH"> <option value="0">00</option> <option value="1">01</option> <option value="2">02</option> <option value="3">03</option> <option value="4">04</option> <option value="5">05</option> <option value="6">06</option> <option value="7">07</option> <option value="8">08</option> <option value="9">09</option> <option value="10">10</option> <option value="11">11</option> <option value="12">12</option> <option value="13">13</option> <option value="14">14</option> <option value="15">15</option> <option value="16">16</option> <option value="17">17</option> <option value="18">18</option> <option value="19">19</option> <option value="20">20</option> <option value="21">21</option> <option value="22">22</option> <option value="23">23</option> </select> <label class="search-label">时</label> <input type="text" class="form-control search-control" style="width:45px" maxlength="2" ng-model="searchBar.startTime_mm"> <label class="search-label">分</label> <input type="text" class="form-control search-control" style="width:45px" maxlength="2" ng-model="searchBar.startTime_ss"> <label class="search-label">秒</label> </div> </div> <div class="search-col"> <label class="search-label">结束日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> <div class="pull-left"> <label class="search-label">日</label> <select class="form-control search-control" style="width:55px; padding-left: 5px" ng-model="searchBar.endTime_HH"> <option value="0">00</option> <option value="1">01</option> <option value="2">02</option> <option value="3">03</option> <option value="4">04</option> <option value="5">05</option> <option value="6">06</option> <option value="7">07</option> <option value="8">08</option> <option value="9">09</option> <option value="10">10</option> <option value="11">11</option> <option value="12">12</option> <option value="13">13</option> <option value="14">14</option> <option value="15">15</option> <option value="16">16</option> <option value="17">17</option> <option value="18">18</option> <option value="19">19</option> <option value="20">20</option> <option value="21">21</option> <option value="22">22</option> <option value="23">23</option> </select> <label class="search-label">时</label> <input type="text" class="form-control search-control" style="width:45px" maxlength="2" ng-model="searchBar.endTime_mm"> <label class="search-label">分</label> <input type="text" class="form-control search-control" style="width:45px" maxlength="2" ng-model="searchBar.endTime_ss"> <label class="search-label">秒</label> </div> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="customerNumber">客户编号</option> <option value="orderNumber">订单编号</option> <option value="messageNumber">问题编号</option> </select> <input type="text" name="search" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="submit" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>客户编号</th> <th>问题编号</th> <th>问题类型</th> <th>问题状态</th> <th>收货仓库</th> <th>创建日期</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-if="dataList.length == 0"> <td colspan="7">没有数据，请选择条件进行搜索。</td> </tr> <tr ng-if="dataList.length > 0" ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td><a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'customerdetail\')">{{item.customerNumber}}</a></td> <td>{{item.messageNumber}}</td> <td>{{item._messageType}}</td> <td>{{item._status}}</td> <td>{{item._receivedWarehouseName}}</td> <td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td> <a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'faqdetail\')">查看/处理</a> <a href="javascript:void(0);" class="role" data-role="31" ng-click="btnCloseFAQ(item)" ng-if="item.status != \'Closed\'">关闭问题</a> </td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),
a.put("views/customer/msglist.html",'<div class="widget widget-table" ng-controller="MSGListCtrl"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 留言管理 </h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">开始日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">结束日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="messageNumber">问题编号</option> <option value="lastEditUserName">回复账号</option> </select> <input type="text" name="search" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="submit" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>问题编号</th> <th>日期</th> <th>问题类别</th> <th>回复账号</th> </tr> </thead> <tbody> <tr ng-if="dataList.length == 0"> <td colspan="13">没有数据，请选择条件进行搜索。</td> </tr> <tr ng-if="dataList.length > 0" ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td>{{item.messageNumber}}</td> <td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>{{item._typeName}}</td> <td>{{item.lastEditUserName}}</td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/customer/paydetail.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 客户管理-余额支付</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <legend>客户信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">客户编号：</label> <div class="col-sm-4"> <label class="control-label">{{data.customerNumber}}</label> </div> <label class="col-sm-2 control-label text-right">用户类型：</label> <div class="col-sm-4"> <label class="control-label">{{item.vipStatus == \'Approved\' ? \'VIP客户\' : \'普通客户\' }}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">账户余额：</label> <div class="col-sm-4"> <label class="control-label">{{data.accountBalance}}</label> </div> <label class="col-sm-2 control-label text-right">客户ID(注册名)：</label> <div class="col-sm-4"> <label class="control-label">{{data.inuserName}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">客户标示：</label> <div class="col-sm-4"> <label class="control-label">{{data.receiveIdentity}}</label> </div> </div> </fieldset> <fieldset> <legend>支付信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">订单编号：</label> <div class="col-sm-4"> <label class="control-label">{{data.orderNumber}}</label> </div> <label class="col-sm-2 control-label text-right">订单金额：</label> <div class="col-sm-4"> <label class="control-label">{{data.shippingFee + data.tip}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">使用积分：</label> <div class="col-sm-4"> <label class="control-label">{{data.usedPoint}}</label> </div> <label class="col-sm-2 control-label text-right">CUL包裹单号</label> <div class="col-sm-4"> <label class="control-label">{{data.trackingNumber}}</label> </div> </div> <div ng-if="data.orderStatus==\'Arrears\'" class="form-group"> <label class="col-sm-2 control-label text-right">欠费金额：</label> <div class="col-sm-4"> <input type="number" class="form-control" ng-model="data.shippingFeeAdjust" disabled> </div> </div> <div ng-if="data.orderStatus!=\'Arrears\'" class="form-group"> <label class="col-sm-2 control-label text-right">扣款金额：</label> <div class="col-sm-4"> <input type="number" class="form-control" ng-model="data.totalCount" disabled> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">备注：</label> <div class="col-sm-10"> <textarea class="form-control" ng-model="data.remark"></textarea> </div> </div> </fieldset> <div class="form-group text-center"> <!--<button type="button" class="btn btn-primary" class="role" data-role="32" ng-click="btnUpdateStatus(\'ForwardWH\')">转交仓库</button>--> <button type="button" class="btn btn-primary" class="role" ng-click="pay()" data-role="31" ng-if="data.status!=\'Closed\'">扣款</button> <button type="button" ng-click="back()" class="btn btn-default"><i class="fa fa-reply"></i>返回</button> </div> </form> </div> </div>'),a.put("views/customer/twAddressdetail.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 地址详情</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <legend>个人信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">淘宝订单号：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.twOrder"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货公司：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.receiveCompanyName"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货人：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.receivePersonName"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">电子邮箱：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.emailAddress"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">身份证号码：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.idCard"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">身份证有效期：</label> <div ng-if=" !data.idForever || data.idForever==0 " class="col-sm-4"> <input type="text" class="form-control" value="{{data.deadline | date:\'yyyy-MM-dd\'}}"> </div> <div ng-if="data.idForever==1" class="col-sm-4"> <input type="text" class="form-control" value="永久"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">身份证地址：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.idCardAddress"> </div> </div> <!--<div class="form-group">\n                    <label class="col-sm-2 control-label text-right">身份证正反面：</label>\n                    <div class="col-sm-4">\n                        <div class="thumbnail">\n                            <a href="{{data.idCardFrontUrl}}" target="_blank"><img src="{{data.idCardFrontUrl}}" alt="身份证正面照片" /></a>\n                        </div>\n                       <div class="thumbnail">\n                          <a href="{{data.idCardBackUrl}}" target="_blank"><img src="{{data.idCardBackUrl}}" alt="身份证反面照片"/></a>\n                       </div>\n                    </div>\n                </div>--> <div class="form-group"> <label class="col-sm-2 control-label text-right">身份证照片：</label> <div class="col-sm-2"> <div class="row fileupload-buttonbar" style="padding-left:15px"> <div class="thumbnail col-sm-12"> <a href="{{data.idCardFrontUrl}}" target="_blank"> <img id="idcardfront_show" style="height:100px;margin-top:10px;margin-bottom:8px" ng-src="{{data.idCardFrontUrl}}" data-holder-rendered="true"> </a> <div class="progress progress-striped active" role="progressbar" aria-valuemin="10" aria-valuemax="100" aria-valuenow="0"> <div id="progress" class="progress-bar progress-bar-success" style="width:0%"></div> </div> <div class="caption" align="center"> <span id="idcardfront_upload" class="btn btn-primary fileinput-button"> <span id="file_btn_text">上传</span> <input type="file" id="fileupload_front" name="idcardfront_image"> </span> </div> </div> </div> </div> <div class="col-sm-2"> <div class="row fileupload-buttonbar" style="padding-left:15px"> <div class="thumbnail col-sm-12"> <a href="{{data.idCardBackUrl}}" target="_blank"> <img id="idcardback_show" style="height:100px;margin-top:10px;margin-bottom:8px" ng-src="{{data.idCardBackUrl}}" data-holder-rendered="true"> </a> <div class="progress progress-striped active" role="progressbar"> <div id="progress" class="progress-bar progress-bar-success" style="width:0%"></div> </div> <div class="caption" align="center"> <span id="idcardback_upload" class="btn btn-primary fileinput-button"> <span id="file_btn_text">上传</span> <input type="file" id="fileupload_back" name="idcardback_image"> </span> </div> </div> </div> </div> <div class="col-sm-2"> <button ng-click="btnPrint()" class="btn btn-primary">身份证打印</button> </div> </div> </fieldset> <fieldset> <legend>地址信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货地址：</label> <div class="col-sm-2"> <select class="form-control" ng-options="province as province.name for province in provinces" ng-model="data.stateOrProvince" ng-change="getCity()"></select> </div> <div class="col-sm-2"> <select class="form-control" ng-options="city as city.name for city in citys" ng-model="data.city" ng-change="getArea()"></select> </div> <div class="col-sm-2"> <select class="form-control" ng-options="area as area.name for area in areas" ng-model="data.area"></select> </div> </div> <!--<div class="form-group">\n                    <label class="col-sm-2 control-label text-right">收货地址：</label>\n                    <div class="col-sm-2">\n                        <select class="form-control" ng-options="item.name as item.name for item in tpl_status.provinceList" ng-model="data.stateOrProvince" ng-change="changeProvince()"></select>\n                    </div>\n                    <div class="col-sm-2">\n                        <select class="form-control"\n                                ng-options="item.name as item.name for item in tpl_status.cities" ng-model="data.city"></select>\n                    </div>\n                </div>--> <div class="form-group"> <label class="col-sm-2 control-label text-right">详细地址：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.address1"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">邮政编码：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.zipcode"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">手机号码：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.cellphoneNumber"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">备用号码：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="data.telephoneNumber"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">备注信息：</label> <div class="col-sm-4"> <textarea class="form-control" ng-model="data.note"></textarea> </div> </div> </fieldset> <div class="form-group text-center"> <!--<button type="button" class="btn btn-primary" ng-show="data.verifyMark == 0" ng-click="btnVerification(flag)">验证</button>\n                <button type="button" class="btn btn-primary" ng-show="data.verifyMark == 1" ng-click="btnSave()">取消验证</button>--> <button type="button" class="btn btn-primary" ng-click="btnSave()">保存</button> <button type="button" class="btn btn-default" ng-click="btnPrev()">返回</button> </div> </form> </div> </div>'),a.put("views/finance/arrivecount.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 到货统计 </h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <!--<div class="search-col">\n                    <label class="search-label">地区：</label>\n                    <select class="form-control search-control" ng-model="searchBar.countryCode">\n                        <option value="">全部</option>\n                        <option value="CHN">中国</option>\n                        <option value="other">海外</option>\n                    </select>\n                </div>--> <!--<div class="search-col">\n                    <label class="search-label">余额：</label>\n                    <select class="form-control search-control" ng-model="searchBar.accountBalance">\n                        <option value="">全部</option>\n                        <option value="1">有余额</option>\n                        <option value="0">无余额</option>\n                    </select>\n                </div>--> <div class="search-col"> <label class="search-label">发货仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select> </div> <div class="search-col"> <label class="search-label">开始日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">结束日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> <div class="clearfix"></div> <!--<div class="search-col">\n                    <label class="search-label">搜索条目：</label>\n                    <select class="form-control search-control" ng-model="searchBar.keywordType">\n                        <option value="customerNumber">客户编号</option>\n                        <option value="userName">客户ID(注册名)</option>\n                        <option value="telephoneNumber">电话号码</option>\n                        <option value="name">姓名</option>\n                        <option value="emailAddress">注册邮箱</option>\n                        <option value="receiveIdentity">客户标示</option>\n                        <option value="cellphoneNumber">手机号码</option>\n                        <option value="customerName">客户姓名</option>\n                        <option value="outBoundTrackingNumber">CUL包裹单号</option>\n                        <option value="idCard">身份证号</option>\n                    </select>\n                    <input type="text" class="form-control search-control" style="margin-left:5px; width:480px;" placeholder="请输入查询关键字" ng-model="searchBar.keywords"\n                    />\n                    <button type="button" class="btn btn-primary" style="margin-left:5px;" ng-click="btnSearch()">搜索</button>\n                </div>--> </div> </div> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>入库单号</th> <th>客户编号</th> <th>客户id</th> <th>具体重量</th> <th>入库时间</th> <th>库存天数</th> <th>仓库位置</th> </tr> </thead> <tbody> <tr ng-if="dataList.length == 0"> <td colspan="14">没有数据，请选择条件进行搜索。</td> </tr> <tr ng-if="dataList.length > 0" ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td>{{item.receiptNumber}}</td> <td>{{item.customerNumber}}</td> <td>{{item.userName}}</td> <td>{{item.packageWeight}}</td> <td>{{item.indate | date:\'yyyy-MM-dd hh:mm:ss\'}}</td> <td>{{item.day}}</td> <td>{{item.warehouseName}}</td> </tr></tbody> </table> <div class="widget-content"> <div class="search-bar"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">总计重量：</label> <input class="form-control" type="text" disabled value="{{allTotal.totalPackageWeight}}"> </div> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">总计：</label> <input class="form-control" type="text" disabled value="{{pagination.totalCount}}"> </div> </div> </div> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div>'),a.put("views/finance/customer-withdrawRequest.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 客户提款申请</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">状态：</label> <select class="form-control search-control" ng-model="searchBar.status"> <option value="">全部</option> <option value="P">未审核</option> <option value="A">已接受</option> <option value="D">已拒绝</option> <option value="C">已取消</option> <option value="R">已退款</option> </select> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="customerNumber">客户编号</option> </select> <input type="text" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>客户编号</th> <th>注册账号</th> <th>客户类型</th> <th>账号余额</th> <th>申请金额</th> <th>支付宝账号</th> <th>申请状态</th> <th>申请日期</th> <th>申请人</th> <th>审核时间</th> <th>审核人</th> <th>退款金额</th> <th>备注</th> <!-- <th ng-if="item.alipay_sucess">支付宝退款</th>\n                    <th ng-if="item.alipay_notify_msg">支付宝错误</th> --> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td><a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'customerdetail\')">{{item.customerNumber}}</a></td> <td style="max-width:150px">{{item.userName}}</td> <td style="max-width:150px">{{item.userTypeID == 4 ? \'普通客户\' : \'VIP客户\'}}</td> <td style="max-width: 200px">{{item.accountBalance|currency:\'¥\'}}</td> <td style="max-width: 200px">{{item.requestAmount|currency:\'¥\'}}</td> <td style="max-width:150px">{{item.alipay_account}}</td> <td style="max-width:150px">{{item.statusName}}</td> <td style="max-width: 160px">{{item.requestDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td style="max-width: 200px">{{item.requestUser}}</td> <td style="max-width: 160px">{{item.reviewDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td style="max-width: 200px">{{item.reviewUser}}</td> <td style="max-width: 200px">{{item.refundAmount | currency: \'￥\'}}</td> <td class="long-cell">{{item.reviewNote}}</td> <!-- <td style="max-width: 200px;" ng-if="item.alipay_sucess">{{item.alipay_sucess == \'Y\' ? \'成功\' : \'失败\'}}</td>\n                    <td style="max-width: 200px;" ng-if="item.alipay_notify_msg">{{item.alipay_notify_msg}}</td> --> <td> <!-- 确认退款 --> <a href="javascript:void(0);" class="role" data-role="115" ng-if="item.status == \'P\'" ng-click="btnAccept(item)">接受</a> <a href="javascript:void(0);" class="role" data-role="116" ng-if="item.status == \'P\'" ng-click="btnDeclineWithNote(item)">拒绝</a> <a href="javascript:void(0);" class="role" data-role="117" ng-if="item.status == \'A\'" ng-click="btnConfirmWithNote(item)">完成退款</a> <a href="javascript:void(0);" class="role" data-role="118" ng-if="item.status == \'A\'" ng-click="btnCancelWithNote(item)">取消</a> </td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-6 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div>  <script type="text/html" id="decline_note_form"><form class="form-horizontal" role="form">\n        <fieldset>\n            <legend>备注</legend>\n            <div class="form-group">\n                <label class="col-sm-3 control-label text-right">拒绝原因:</label>\n                <div class="col-sm-5 text-left">\n                    <textarea type="input" class="form-control" ng-model="declineNote"></textarea>\n                </div>\n            </div>\n        </fieldset>\n        <div class="form-group text-center">\n            <button type="button" class="btn btn-primary" ng-click="btnDecline($event,item)">确定</button>\n            <button type="button" class="btn btn-default" ng-click="btnCancel($event)">取消</button>\n        </div>\n    </form></script> <script type="text/html" id="confirm_refund_form"><form class="form-horizontal" role="form">\n        <fieldset>\n            <legend>完成退款</legend>\n\n            <div class="form-group">\n                <label class="col-sm-3 control-label text-right">实际退款金额:</label>\n                <div class="col-sm-5 text-left">\n                    <input type="text" class="form-control" ng-model="confirmRefundAmount"></textarea>\n                </div>\n            </div>\n\n            <div class="form-group">\n                <label class="col-sm-3 control-label text-right">备注:</label>\n                <div class="col-sm-5 text-left">\n                    <textarea type="input" class="form-control" ng-model="confirmNote"></textarea>\n                </div>\n            </div>\n\n        </fieldset>\n        <div class="form-group text-center">\n            <button type="button" class="btn btn-primary" ng-click="btnConfirm(item)">确定</button>\n            <button type="button" class="btn btn-default" ng-click="btnCancel($event)">取消</button>\n        </div>\n    </form></script>'),a.put("views/finance/deletelist.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 删货记录</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">发货仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select> </div> <!--<div class="search-col">\n                    <label class="search-label">发货渠道：</label>\n                    <select class="form-control search-control" ng-model="searchBar.shipServiceId" ng-options="item.shipServiceId as item.shipServiceName for item in searchBar.shippingChannelList"></select>\n                </div>--> <!--<div class="search-col">\n                    <label class="search-label">\n                        <input type="checkbox" ng-model="searchBar.isFastOrder" />\n                        <span>极速原箱 <i class="fa fa-bolt" aria-hidden="true" style="color:#ff6a00;font-size:16px;"></i></span>\n                    </label>\n                </div>--> <div class="clearfix"></div> <!--<div class="search-col">\n                    <label class="search-label">开始日期：</label>\n                    <p class="input-group pull-left">\n                        <input type="text" class="form-control search-control" style="width:110px;" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true" />\n                        <span class="input-group-btn">\n                            <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button>\n                        </span>\n                    </p>\n                    <div class="pull-left">\n                        <label class="search-label">日</label>\n                        <select class="form-control search-control" style="width:55px; padding-left: 5px;" ng-model="searchBar.startTime_HH">\n                            <option value="0">00</option>\n                            <option value="1">01</option>\n                            <option value="2">02</option>\n                            <option value="3">03</option>\n                            <option value="4">04</option>\n                            <option value="5">05</option>\n                            <option value="6">06</option>\n                            <option value="7">07</option>\n                            <option value="8">08</option>\n                            <option value="9">09</option>\n                            <option value="10">10</option>\n                            <option value="11">11</option>\n                            <option value="12">12</option>\n                            <option value="13">13</option>\n                            <option value="14">14</option>\n                            <option value="15">15</option>\n                            <option value="16">16</option>\n                            <option value="17">17</option>\n                            <option value="18">18</option>\n                            <option value="19">19</option>\n                            <option value="20">20</option>\n                            <option value="21">21</option>\n                            <option value="22">22</option>\n                            <option value="23">23</option>\n                        </select>\n                        <label class="search-label">时</label>\n                        <input type="text" class="form-control search-control" style="width:45px;" maxlength="2" ng-model="searchBar.startTime_mm" />\n                        <label class="search-label">分</label>\n                        <input type="text" class="form-control search-control" style="width:45px;" maxlength="2" ng-model="searchBar.startTime_ss" />\n                        <label class="search-label">秒</label>\n                    </div>\n                </div>--> <!--<div class="search-col">\n                    <label class="search-label">结束日期：</label>\n                    <p class="input-group pull-left">\n                        <input type="text" class="form-control search-control" style="width:110px;" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true" />\n                        <span class="input-group-btn">\n                            <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button>\n                        </span>\n                    </p>\n                    <div class="pull-left">\n                        <label class="search-label">日</label>\n\n                        <select class="form-control search-control" style="width:55px; padding-left: 5px;" ng-model="searchBar.endTime_HH">\n                            <option value="0">00</option>\n                            <option value="1">01</option>\n                            <option value="2">02</option>\n                            <option value="3">03</option>\n                            <option value="4">04</option>\n                            <option value="5">05</option>\n                            <option value="6">06</option>\n                            <option value="7">07</option>\n                            <option value="8">08</option>\n                            <option value="9">09</option>\n                            <option value="10">10</option>\n                            <option value="11">11</option>\n                            <option value="12">12</option>\n                            <option value="13">13</option>\n                            <option value="14">14</option>\n                            <option value="15">15</option>\n                            <option value="16">16</option>\n                            <option value="17">17</option>\n                            <option value="18">18</option>\n                            <option value="19">19</option>\n                            <option value="20">20</option>\n                            <option value="21">21</option>\n                            <option value="22">22</option>\n                            <option value="23">23</option>\n                        </select>\n                        <label class="search-label">时</label>\n                        <input type="text" class="form-control search-control" style="width:45px;" maxlength="2" ng-model="searchBar.endTime_mm" />\n                        <label class="search-label">分</label>\n                        <input type="text" class="form-control search-control" style="width:45px;" maxlength="2" ng-model="searchBar.endTime_ss" />\n                        <label class="search-label">秒</label>\n                    </div>\n                </div>--> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="orderNumber">订单编号</option> <option value="customerNumber">客户编号</option> <option value="userName">客户ID</option> <option value="outBoundTrackingNumber">CUL包裹单号</option> <option value="receiveIdentity">客户标示</option> <!--<option value="referenceOrderNumber">客户关联号</option>--> <!--<option value="cnTrackingNumber">国内物流号</option>--> </select> <textarea type="text" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"></textarea> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> <div class="col-sm-12 search-bar" ng-show="selectedListCache.length > 0"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">已选择：{{selectedListCache.length}}个订单</label> <button type="button" class="btn btn-link" ng-click="btnClearSelectedListCache();">清除已选项</button> </div> </div> </div> <table class="table table-bordered"> <thead> <tr> <th><input type="checkbox" ng-change="btnSelectedItem()" ng-model="searchBar.selectedAll"></th> <th>序号</th> <th>订单批号</th> <th>订单编号</th> <th>生成日期</th> <th>客户编号</th> <!--<th>客户ID</th>--> <!--<th>标示</th>--> <!--<th>客户关联号</th>--> <th>CUL包裹单号</th> <th>发货仓库</th> <th>发货渠道</th> <!--<th>收货地址</th>--> <th>价格</th> <th>订单状态</th> <th>删除原因</th> <th>删除时间</th> <th>操作人</th> <!--<th>通过状态</th>--> <!--<th>打印状态</th>--> <!--<th>操作</th>--> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td><input type="checkbox" ng-change="btnSelectedItem(item)" ng-model="item._selected"></td> <td>{{item.rownumber}}</td> <td style="max-width: 150px">{{item.batchNumber || \'-\'}}</td> <td style="max-width: 200px"> <a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'orderdetail\')">{{item.orderNumber}}</a> <span ng-if="item.isFastOrder == 1" title="极速原箱"> <i class="fa fa-bolt" aria-hidden="true" style="color:#ff6a00;font-size:16px"></i> </span> </td> <td style="max-width: 160px">{{item.orderDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td><a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'customerdetail\')">{{item.customer.customerNumber}}</a></td> <!--<td style="max-width: 200px;">{{item.referenceOrderNumber || \'-\'}}</td>--> <td style="max-width: 150px"> <div ng-repeat="pkg in item._outboundTrackingNumbers track by $index">{{pkg}}</div> </td> <td style="max-width:150px">{{item.warehouseName}}</td> <td style="max-width:150px">{{item.shipServiceName}}</td> <!--<td>\n                        <p ng-repeat="ads in item._shipToAddresses track by $index">\n                            {{ads}}\n                        </p>\n                    </td>--> <td> <span ng-if="item.currencyCode == \'USD\'" title="USD"> <i class="fa fa-dollar" aria-hidden="true"></i> </span> <span ng-if="item.currencyCode != \'USD\'" title="RMB"> <i class="fa fa-rmb" aria-hidden="true"></i> </span> {{item.totalCount}} </td> <td>{{item._orderStatus}}</td> <td>{{item.deleteMessage}}</td> <td>{{item.deleteTime | date:"yyyy-MM-dd"}}</td> <td>{{item.deleteMan}}</td> <!--<td>{{item._printStatus}}</td>--> </tr> </tbody> </table> <div class="col-sm-9 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> '),
a.put("views/finance/finance-out.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 出库统计</h3> </div> <div class="widget-content"> <form> <div class="row"> <!--<div class="col-sm-12" style="padding:0 20px 15px 12px;">\n                    <button type="button" class="btn btn-primary role" data-role="71" style="margin-left:5px;" ng-click="addPackage(\'online\');">打包登记(线上订单)</button>\n                    <button type="button" class="btn btn-primary role" data-role="72" style="margin-left:5px;" ng-click="addPackage(\'offline\');">打包登记(线下订单)</button>\n                </div>--> <div class="col-sm-12 search-bar"> <!--<div class="search-col">\n                        <label class="search-label">订单状态：</label>\n                        <select class="form-control search-control" ng-model="searchBar.orderStatus">\n                            <option value="">全部(不包括已删除)</option>\n                            <option value="Unpaid">待支付</option>\n                            <option value="Paid">已支付</option>\n                            <option value="Processing">处理中</option>\n                            <option value="Arrears">运费不足</option>\n                            <option value="Shipped">已出库</option>\n                            <option value="Void">已删除</option>\n                        </select>\n                    </div>--> <!--<div class="search-col">\n                        <label class="search-label">导出状态：</label>\n                        <select class="form-control search-control" ng-model="searchBar.exportStatus">\n                            <option value="">全部(不包括已删除)</option>\n                            <option value="UnExported">未导出</option>\n                            <option value="Exported">已导出</option>\n                        </select>\n                    </div>--> <div class="search-col"> <label class="search-label">发货仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select> </div> <div class="search-col"> <label class="search-label">开始日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">结束日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="customerNumber">客户编号</option> <option value="userName">客户ID</option> <option value="orderNumber">订单编号</option> <option value="trackingNumber">包裹单号</option> <!--<option value="receiveidentity">客户标示</option>\n                            <option value="referenceOrderNumber">客户关联号</option>\n                            <option value="cnTrackingNumber">国内物流号</option>--> </select> <input type="text" name="search" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> <div class="col-sm-12 search-bar" ng-show="selectedListCache.length > 0"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">已选择：{{selectedListCache.length}}个订单</label> <button type="button" class="btn btn-link" ng-click="btnClearSelectedListCache();">清除已选项</button> </div> </div> </div> </form> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <th>序号</th> <th>cul单号</th> <th>订单编号</th> <th>客户id</th> <th>仓库位置</th> <th>实际重量</th> <th>收费重量</th> <th>发货日期</th>  </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td>{{item.trackingNumber}}</td> <td>{{item.orderNumber}}</td> <td>{{item.userName}}</td> <td>{{item.warehouseName}}</td> <td>{{item.actualWeight}}</td> <td>{{item.actualWeight}}</td> <td>{{item.outdate | date:"yyyy-MM-dd"}}</td> </tr> </tbody> </table> <div class="widget-content"> <div class="search-bar"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">总计重量：</label> <input class="form-control" type="text" disabled value="{{allTotal.allActualWeight}}"> </div> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">总计：</label> <input class="form-control" type="text" disabled value="{{pagination.totalCount}}"> </div> </div> </div> <div class="row"> <!--<div class="col-sm-6 text-left pull-left">\n                        <form style="float:left;" id="form_export_order" method="post" action="/" target="_blank">\n                            <input id="orderStatus" name="orderStatus" type="hidden" value="{{exportOptions.orderStatus}}" />\n                            <input id="warehouseNumber" name="warehouseNumber" type="hidden" value="{{exportOptions.warehouseNumber}}" />\n\n                            <input id="customerNumber" name="customerNumber" type="hidden" value="{{exportOptions.customerNumber}}" />\n                            <input id="userName" name="userName" type="hidden" value="{{exportOptions.userName}}" />\n                            <input id="orderNumber" name="orderNumber" type="hidden" value="{{exportOptions.orderNumber}}" />\n                            <input id="outBoundTrackingNumber" name="outBoundTrackingNumber" type="hidden" value="{{exportOptions.trackingNumber}}" />\n                            <input id="receiveidentity" name="receiveidentity" type="hidden" value="{{exportOptions.receiveidentity}}" />\n                            <input id="referenceOrderNumber" name="referenceOrderNumber" type="hidden" value="{{exportOptions.referenceOrderNumber}}" />\n                            <input id="cnTrackingNumber" name="cnTrackingNumber" type="hidden" value="{{exportOptions.cnTrackingNumber}}" />\n                            <input id="token" name="token" type="hidden" value="{{exportOptions.token}}" />\n                            <button type="submit" class="btn btn-primary role" data-role="74">导出订单列表</button>\n                        </form>\n\n                        <form style="float:left; margin:0 4px;" id="form_export_send" method="post" action="/" target="_blank">\n                            <input id="orderStatus" name="orderStatus" type="hidden" value="{{exportOptions.orderStatus}}" />\n                            <input id="warehouseNumber" name="warehouseNumber" type="hidden" value="{{exportOptions.warehouseNumber}}" />\n\n                            <input id="customerNumber" name="customerNumber" type="hidden" value="{{exportOptions.customerNumber}}" />\n                            <input id="userName" name="userName" type="hidden" value="{{exportOptions.userName}}" />\n                            <input id="orderNumber" name="orderNumber" type="hidden" value="{{exportOptions.orderNumber}}" />\n                            <input id="trackingNumber" name="trackingNumber" type="hidden" value="{{exportOptions.trackingNumber}}" />\n                            <input id="receiveidentity" name="receiveidentity" type="hidden" value="{{exportOptions.receiveidentity}}" />\n                            <input id="referenceOrderNumber" name="referenceOrderNumber" type="hidden" value="{{exportOptions.referenceOrderNumber}}" />\n                            <input id="cnTrackingNumber" name="cnTrackingNumber" type="hidden" value="{{exportOptions.cnTrackingNumber}}" />\n                            <input id="hasWeight" name="hasWeight" type="hidden" value="true" />\n                            <input id="token" name="token" type="hidden" value="{{exportOptions.token}}" />\n                            <button type="submit" class="btn btn-primary role" data-role="75">导出发货清单</button>\n                        </form>\n                        <button style="float:left" type="button" class="btn btn-primary" ng-click="btnBatchOutBound()">批量出库</button>\n                        <button style="float:left" id="tip_batchOutbound" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button>\n                    </div>--> <div class="col-sm-6 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> </div> </div> <print-flying-express></print-flying-express> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/finance/finance-pointlog.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 消费记录统计 </h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="widget-content"> <ul class="nav nav-tabs nav-tabs-custom-colored" role="tablist"> <li class="active"><a href="javascript:void(0)" role="tab" data-target="#recharge-logs" data-toggle="tab">现金调整记录</a></li> <li><a href="javascript:void(0)" role="tab" data-target="#payment-history" data-toggle="tab">积分调整记录</a></li> </ul> <div class="tab-content"> <div class="tab-pane fade in active" id="recharge-logs"><div ng-include="\'views/finance/financepoint-recharge-logs.html\'"></div></div> <div class="tab-pane fade" id="payment-history"><div ng-include="\'views/finance/financepoint-payment-logs.html\'"></div></div> </div> </div> </fieldset> <div class="form-group text-center"> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </form> </div> </div>'),a.put("views/finance/finance-record.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 消费记录统计 </h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="widget-content"> <ul class="nav nav-tabs nav-tabs-custom-colored" role="tablist"> <li class="active"><a href="javascript:void(0)" role="tab" data-target="#payment-history" data-toggle="tab">消费记录</a></li> <li><a href="javascript:void(0)" role="tab" data-target="#recharge-logs" data-toggle="tab">充值记录</a></li> </ul> <div class="tab-content"> <div class="tab-pane fade in active" id="payment-history"><div ng-include="\'views/finance/financerecord-payment-logs.html\'"></div></div> <div class="tab-pane fade" id="recharge-logs"><div ng-include="\'views/finance/financerecord-recharge-logs.html\'"></div></div> </div> </div> </fieldset> <div class="form-group text-center"> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </form> </div> </div>'),a.put("views/finance/finance-total.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 财务总计</h3> </div> <div class="widget-content"> <div class="row"> <!--<div class="col-sm-12" style="padding:0 20px 15px 12px;">\n                <button type="button" class="btn btn-primary role" data-role="71" style="margin-left:5px;" ng-click="addPackage(\'online\');">打包登记(线上订单)</button>\n                <button type="button" class="btn btn-primary role" data-role="72" style="margin-left:5px;" ng-click="addPackage(\'offline\');">打包登记(线下订单)</button>\n            </div>--> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">订单状态：</label> <select class="form-control search-control" ng-model="searchBar.orderStatus"> <option value="">全部(不包括未收费状态)</option> <!-- <option value="Unpaid">待支付</option> --> <option value="Paid">已支付</option> <option value="Processing">处理中</option> <option value="WaybillUpdated">运单更新</option> <!-- <option value="Arrears">运费不足</option> --> <option value="Shipped">已出库</option> <!-- <option value="Void">已删除</option> --> </select> </div> <!--<div class="search-col">\n                    <label class="search-label">导出状态：</label>\n                    <select class="form-control search-control" ng-model="searchBar.exportStatus">\n                        <option value="">全部(不包括已删除)</option>\n                        <option value="UnExported">未导出</option>\n                        <option value="Exported">已导出</option>\n                    </select>\n                </div>--> <div class="search-col"> <label class="search-label">开始日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">结束日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">发货仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select> </div> <!--<div class="search-col">\n                    <label class="search-label">搜索条目：</label>\n                    <select class="form-control search-control" ng-model="searchBar.keywordType">\n                        <option value="customerNumber">客户编号</option>\n                        <option value="userName">客户ID</option>\n                        <option value="orderNumber">订单编号</option>\n                        <option value="trackingNumber">包裹单号</option>\n                        <option value="receiveidentity">客户标示</option>\n                        <option value="referenceOrderNumber">客户关联号</option>\n                        <option value="cnTrackingNumber">国内物流号</option>\n                    </select>\n                    <input type="text" class="form-control search-control" style="margin-left:5px; width:480px;" placeholder="请输入查询关键字" ng-model="searchBar.keywords" />\n                </div>--> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> <a type="button" class="btn btn-primary" style="margin-left:5px" href="{{path}}/exportFinanceTotal?data={{dataList}}">导出</a> </div> </div> <div class="col-sm-12 search-bar" ng-show="selectedListCache.length > 0"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">已选择：{{selectedListCache.length}}个订单</label> <button type="button" class="btn btn-link" ng-click="btnClearSelectedListCache();">清除已选项</button> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <!--<tr>\n                            <th><input type="checkbox" ng-change="btnSelectedItem()" ng-model="searchBar.selectedAll" /></th>--> <!--                          \n                            <th>序号</th>\n                            <th>订单号</th>\n                            <th>订单类型</th>\n                            <th>客户编号</th>\n                            <th>客户关联号</th>\n                            <th>CUL包裹单号</th>\n                            <th>收货地址</th>\n                            <th>包裹重量（磅）</th>\n                            <th>打包时间</th>\n                            <th>打包人员</th>\n                            <th>导出状态</th>\n                            <th>操作</th>--> <th>发货渠道</th> <th>总订单</th> <th>使用积分</th> <th>小费</th> <th>订单费用</th> <th>实际支付费用</th>  </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.shipServiceName | _shipService}}</td> <td>{{item.Count}}</td> <td>{{item.tUsedPoint}}</td> <td>{{item.tTip}}</td> <td>{{item.tShippingFee}}</td> <td>{{item.tTotalCount}}</td> <!--<td><input type="checkbox" ng-change="btnSelectedItem(item)" ng-model="item._selected" /></td>\n                            <td>{{item.rownumber}}</td>\n                            <td style="max-width: 200px;"><a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'orderdetail\')">{{item.orderNumber}}</a></td>\n                            <td>{{item.orderType == 0 ? \'线下订单\':\'线上订单\'}}</td>\n                            <td><a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'customerdetail\')">{{item.customerNumber}}</a></td>\n                            <td style="max-width: 200px;">{{item.referenceOrderNumber}}</td>\n                            <td style="max-width: 150px;"><a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'trackingNumber\')">{{item.trackingNumber}}</a></td>\n                            <td style="max-width: 300px;"><div class="td-row" ng-repeat="ads in item._shipToAddresses">{{ads}}</div></td>\n                            <td>{{item.actualWeight}}</td>\n                            <td>{{item.lastEditDate | date:\'MM/dd/yyyy HH:mm:ss\' }}</td>\n                            <td>{{item.lastEditUserName}}</td>\n                            <td>{{item._exportStatus}}</td>\n                            <td>\n                                <a href="javascript:void(0)" class="role" data-role="73" ng-click="btnPrint(item,\'flyingexpress\')">打印特快渠道面单</a>\n                            </td>--> </tr> </tbody> </table> <div class="widget-content"> <div class="search-bar"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">订单总数</label> <input class="form-control" type="text" disabled value="{{totalOrderCount}}"> </div> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">订单总金额：</label> <input class="form-control" type="text" disabled value="{{totalOrderAmount}}"> </div> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">实际支付总金额：</label> <input class="form-control" type="text" disabled value="{{totalPaidAmount}}"> </div> </div> </div> <div class="row"> <!--<div class="col-sm-6 text-left pull-left">\n                        <form style="float:left;" id="form_export_order" method="post" action="/" target="_blank">\n                            <input id="orderStatus" name="orderStatus" type="hidden" value="{{exportOptions.orderStatus}}" />\n                            <input id="warehouseNumber" name="warehouseNumber" type="hidden" value="{{exportOptions.warehouseNumber}}" />\n\n                            <input id="customerNumber" name="customerNumber" type="hidden" value="{{exportOptions.customerNumber}}" />\n                            <input id="userName" name="userName" type="hidden" value="{{exportOptions.userName}}" />\n                            <input id="orderNumber" name="orderNumber" type="hidden" value="{{exportOptions.orderNumber}}" />\n                            <input id="outBoundTrackingNumber" name="outBoundTrackingNumber" type="hidden" value="{{exportOptions.trackingNumber}}" />\n                            <input id="receiveidentity" name="receiveidentity" type="hidden" value="{{exportOptions.receiveidentity}}" />\n                            <input id="referenceOrderNumber" name="referenceOrderNumber" type="hidden" value="{{exportOptions.referenceOrderNumber}}" />\n                            <input id="cnTrackingNumber" name="cnTrackingNumber" type="hidden" value="{{exportOptions.cnTrackingNumber}}" />\n                            <input id="token" name="token" type="hidden" value="{{exportOptions.token}}" />\n                            <button type="submit" class="btn btn-primary role" data-role="74">导出订单列表</button>\n                        </form>\n\n                        <form style="float:left; margin:0 4px;" id="form_export_send" method="post" action="/" target="_blank">\n                            <input id="orderStatus" name="orderStatus" type="hidden" value="{{exportOptions.orderStatus}}" />\n                            <input id="warehouseNumber" name="warehouseNumber" type="hidden" value="{{exportOptions.warehouseNumber}}" />\n\n                            <input id="customerNumber" name="customerNumber" type="hidden" value="{{exportOptions.customerNumber}}" />\n                            <input id="userName" name="userName" type="hidden" value="{{exportOptions.userName}}" />\n                            <input id="orderNumber" name="orderNumber" type="hidden" value="{{exportOptions.orderNumber}}" />\n                            <input id="trackingNumber" name="trackingNumber" type="hidden" value="{{exportOptions.trackingNumber}}" />\n                            <input id="receiveidentity" name="receiveidentity" type="hidden" value="{{exportOptions.receiveidentity}}" />\n                            <input id="referenceOrderNumber" name="referenceOrderNumber" type="hidden" value="{{exportOptions.referenceOrderNumber}}" />\n                            <input id="cnTrackingNumber" name="cnTrackingNumber" type="hidden" value="{{exportOptions.cnTrackingNumber}}" />\n                            <input id="hasWeight" name="hasWeight" type="hidden" value="true" />\n                            <input id="token" name="token" type="hidden" value="{{exportOptions.token}}" />\n                            <button type="submit" class="btn btn-primary role" data-role="75">导出发货清单</button>\n                        </form>\n                        <button style="float:left" type="button" class="btn btn-primary" ng-click="btnBatchOutBound()">批量出库</button>\n                        <button style="float:left" id="tip_batchOutbound" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button>\n                    </div>--> <!--<div class="col-sm-6 text-right pull-right">\n                        <uib-pagination class="pagination pagination-rewrite pull-right"\n                                        boundary-links="true"\n                                        max-size="5"\n                                        total-items="pagination.totalCount"\n                                        items-per-page="pagination.pageSize"\n                                        ng-model="pagination.pageIndex"\n                                        ng-change="getData()"\n                                        previous-text="上一页"\n                                        next-text="下一页"\n                                        first-text="首页"\n                                        last-text="尾页">\n                        </uib-pagination>\n                        <select class="form-control pull-right" style="width:70px;" ng-model="pagination.pageSize" ng-change="getData()">\n                            <option value="10">10</option>\n                            <option value="20">20</option>\n                            <option value="50">50</option>\n                            <option value="100">100</option>\n                        </select>\n                    </div>--> </div> </div> </div> </div> </div> <print-flying-express></print-flying-express>'),a.put("views/finance/financedetail-active-offline.html",'<div class="widget widget-table" ng-controller="FinanceDetailActiveOfflineCtrl"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 线下订单</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">交易类型：</label> <select class="form-control search-control" ng-model="searchBar.type"> <option value="">全部</option> <option value="1">运费</option> </select> </div> <div class="search-col"> <label class="search-label">支付状态：</label> <select class="form-control search-control" ng-model="searchBar.paidstatus"> <option value="">全部</option> <option value="Unpaid">未支付</option> <option value="Paid">已支付</option> <option value="Arrears">运费不足</option> </select> </div> <div class="search-col"> <label class="search-label">交易时间：</label> <select class="form-control search-control" ng-model="searchBar.dateRange" ng-change="changeDate()"> <option value="">所有</option> <option value="3">最近3天</option> <option value="7">最近7天</option> <option value="range">时间范围</option> </select> </div> <div class="search-col" ng-show="searchBar.dateRange == \'range\'"> <label class="search-label">开始日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col" ng-show="searchBar.dateRange == \'range\'"> <label class="search-label">结束日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="orderNumber">订单编号</option> <option value="outBoundTrackingNumber">CUL包裹单号</option> </select> <input type="text" name="search" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> </div> <table class="table table-bordered"> <thead> <tr> <th>交易时间</th> <th>交易类型</th> <th>VIP支付状态</th> <th>订单编号</th> <!--<th>商品编号</th>\n                <th>商品描述</th>\n                <th>CUL包裹单号</th>--> <th>受理仓库</th> <th>重量（磅）</th> <!--<th>金额（￥）</th>--> <th>积分抵扣</th> <th>运费总计</th> <th>订单已支付运费</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.orderDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>运费</td> <td>{{item.vipPayStatus | _payStatus}}</td> <td><a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'orderdetail\')">{{item.orderNumber}}</a></td> <!--<td><span class="red">字段不明确</span></td>\n                <td><span class="red">字段不明确</span></td>\n                <td><span class="red">字段不明确</span></td>--> <td>{{item.warehouseName}}</td> <td>{{item.actualWeight|number : 2}}磅</td> <!--<td>￥{{item.packageTotalFee}}</td>\n                <td>￥{{item.shippingFeeAdjust}}</td>--> <td style="color: red">{{(item.usedPoint||0) * -1 | currency:\'￥\'}}</td> <td>{{item.totalCount|currency:\'¥\'}}</td> <td>{{item.paied|currency:\'¥\'}}</td> <td> <a href="javascript:void(0)" ng-click="btnPay(item)" ng-show="item.orderStatus == \'Arrears\'">余额支付</a> </td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div>'),a.put("views/finance/financedetail-active-offline_copy.html",'<div class="widget widget-table" ng-controller="FinanceDetailActiveOfflineCtrl"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 线下订单</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">交易类型：</label> <select class="form-control search-control" ng-model="searchBar.type" ng-options="item.value as item.title for item in tpl_status.payType"> </select> </div> <div class="search-col"> <label class="search-label">支付状态：</label> <select class="form-control search-control" ng-model="searchBar.settlementDetailIsPaid"> <option value="">全部</option> <option value="0">未支付</option> <option value="1">已支付</option> </select> </div> <div class="search-col"> <label class="search-label">交易时间：</label> <select class="form-control search-control" ng-model="searchBar.dateRange" ng-change="changeDate()"> <option value="">所有</option> <option value="3">最近3天</option> <option value="7">最近7天</option> <option value="range">时间范围</option> </select> </div> <div class="search-col" ng-show="searchBar.dateRange == \'range\'"> <label class="search-label">开始日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col" ng-show="searchBar.dateRange == \'range\'"> <label class="search-label">结束日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="orderNumber">订单编号</option> <option value="packageNumber">CUL包裹单号</option> </select> <input type="text" name="search" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> </div> <table class="table table-bordered"> <thead> <tr> <th>交易时间</th> <th>交易类型</th> <th>支付状态</th> <th>订单编号</th> <th>CUL包裹单号</th> <th>受理仓库</th> <th>重量（磅）</th> <th>金额（$）</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.settlementDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>{{tpl_status.payType[item.type].title}}</td> <td>{{item.settlementDetailIsPaid == 1 ? \'已支付\' : \'未支付\'}}</td> <td><a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'orderdetail\')">{{item.orderNumber}}</a></td> <td>{{item.packageNumber}}</td> <td>{{item.warehouseName}}</td> <td>{{item.packageWeight}}</td> <td>{{item.fee}}</td> <td> <a href="javascript:void(0)" ng-click="btnPay(item)" ng-show="item.settlementDetailIsPaid == 0">手动支付</a> </td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),
a.put("views/finance/financedetail-active-online.html",'<div class="widget widget-table" ng-controller="FinanceDetailActiveOnlineCtrl"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 海淘订单</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">交易类型：</label> <select class="form-control search-control" ng-model="searchBar.type"> <option value="">全部</option> <option value="1">运费</option> </select> </div> <div class="search-col"> <label class="search-label">支付状态：</label> <select class="form-control search-control" ng-model="searchBar.paidstatus"> <option value="">全部</option> <option value="Unpaid">未支付</option> <option value="Paid">已支付</option> <option value="Arrears">运费不足</option> </select> </div> <div class="search-col"> <label class="search-label">交易时间：</label> <select class="form-control search-control" ng-model="searchBar.dateRange" ng-change="changeDate()"> <option value="">所有</option> <option value="3">最近3天</option> <option value="7">最近7天</option> <option value="range">时间范围</option> </select> </div> <div class="search-col" ng-show="searchBar.dateRange == \'range\'"> <label class="search-label">开始日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col" ng-show="searchBar.dateRange == \'range\'"> <label class="search-label">结束日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="orderNumber">订单编号</option> <option value="outBoundTrackingNumber">CUL包裹单号</option> </select> <input type="text" name="search" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> </div> <table class="table table-bordered"> <thead> <tr> <th>交易时间</th> <th>交易类型</th> <th>支付状态</th> <th>订单编号</th> <!--<th>商品编号</th>\n                <th>商品描述</th>\n                <th>CUL包裹单号</th>--> <th>受理仓库</th> <th>重量（磅）</th> <!--<th>金额（￥）</th>--> <th>运费</th> <th>购买保险</th> <th>小费</th> <th>增值服务</th> <th>积分抵扣</th> <th>运费总计</th> <th>订单已支付运费</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.orderDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>运费</td> <td>{{item.Paidstatus}}</td> <td><a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'orderdetail\')">{{item.orderNumber}}</a></td> <!--<td><span class="red">字段不明确</span></td>\n                <td><span class="red">字段不明确</span></td>\n                <td><span class="red">字段不明确</span></td>--> <td>{{item.warehouseName}}</td> <td>{{item.actualWeight|number : 2}}磅</td> <!--<td>￥{{item.packageTotalFee}}</td>\n                <td>￥{{item.shippingFeeAdjust}}</td>--> <td>{{item.shippingFee|currency:\'¥\'}}</td> <td>{{item.insuranceFee|currency:\'¥\'}}</td> <td>{{item.tip|currency:\'¥\'}}</td> <td>{{item.valueAddFee|currency:\'¥\'}}</td> <td style="color: red">{{(item.usedPoint||0) * -1 | currency:\'￥\'}}</td> <td>{{item.totalCount|currency:\'¥\'}}</td> <td>{{item.paied|currency:\'¥\'}}</td> <td> <a href="javascript:void(0)" ng-click="btnPay(item)" ng-show="item.orderStatus == \'Arrears\'">余额支付</a> </td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div>'),a.put("views/finance/financedetail-active-summary.html",'<div class="widget-content"> <ul class="nav nav-tabs nav-tabs-custom-colored" role="tablist"> <li class="active"><a href="javascript:void(0)" data-target="#online-manage" role="tab" data-toggle="tab">海淘订单</a></li> <li><a href="javascript:void(0)" role="tab" data-target="#offline-manage" data-toggle="tab">线下订单</a></li> </ul> <div class="tab-content"> <div class="tab-pane fade in active" id="online-manage"> <div ng-include="\'views/finance/financedetail-active-online.html\'"></div> </div> <div class="tab-pane fade" id="offline-manage"> <div ng-include="\'views/finance/financedetail-active-offline.html\'"></div> </div> </div> </div>'),a.put("views/finance/financedetail-fieldset-customer.html",'<fieldset> <legend>客户信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">客户编号：</label> <div class="col-sm-4"> <label class="control-label"> <a href="javascript:void(0);" ng-click="btnOpenDetail(data.customer,\'customerdetail\')">{{data.customer.customerNumber}}</a> </label> </div> <label class="col-sm-2 control-label text-right">客户标示：</label> <div class="col-sm-4"> <label class="control-label">{{data.customer.receiveIdentity}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">注册账号：</label> <div class="col-sm-4"> <label class="control-label">{{data.customer.userName}}</label> </div> <label class="col-sm-2 control-label text-right">用户类型：</label> <div class="col-sm-4"> <label class="control-label">{{data.customer.isVip ? \'VIP客户\' : \'普通客户\'}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">账户余额：</label> <div class="col-sm-4"> <label class="control-label">￥{{data.customer.accountBalance || 0}}</label> </div> </div> </fieldset>'),a.put("views/finance/financedetail-instruction.html",'<div class="widget" ng-controller="FinanceDetailInstructionCtrl"> <div class="widget-header"> <h3>结算说明——运费折扣：{{data.discount}}%</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-md-12"> <div class="panel-group" id="accordion_instruction"> <div class="panel panel-default" ng-repeat="item in data.instructions"> <div class="panel-heading"> <h4 class="panel-title"> <a data-toggle="collapse" data-parent="#accordion_instruction" data-target="#collapse_instruction_{{$index+1}}" href="javascript:void(0);" ng-class="{\'collapsed\': $index != 0}"> {{item.name}} <i class="fa fa-angle-down pull-right"></i> <i class="fa fa-angle-up pull-right"></i> </a> </h4> </div> <div id="collapse_instruction_{{$index+1}}" class="panel-collapse collapse" ng-class="{\'in\': $index == 0}"> <div class="panel-body"> <div class="col-sm-4" ng-repeat="row in item.children"> <table style="width:100%"> <tr> <td style="width:30%; text-align:right; padding-right:12px"><b>{{row.name}}</b></td> <td style="width:70%"> <span style="margin-right:12px">首磅({{customer.isVip ? "$" : "￥"}}):{{row.firstWeight}}</span> <span>续磅({{customer.isVip ? "$" : "￥"}}):{{row.continuedWeight}}</span> </td> </tr> </table> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/finance/financedetail-pay.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> {{tpl_status._orderType.title}} </h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <div ng-include="\'views/finance/financedetail-fieldset-customer.html\'"></div> <fieldset ng-if="tpl_status.orderType != \'refund\'"> <legend>未支付费用（截止{{tpl_status.date | date:\'MM/dd/yyyy\'}}）</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right" ng-show="tpl_status.orderType == \'online\'">订单编号：</label> <label class="col-sm-2 control-label text-right" ng-show="tpl_status.orderType == \'offline\'">CUL包裹单号：</label> <div class="col-sm-4"> <label class="control-label" ng-show="tpl_status.orderType == \'online\'">{{ tpl_status.orderNumber || \'所有未支付海淘订单\' }}</label> <label class="control-label" ng-show="tpl_status.orderType == \'offline\'">{{ tpl_status.packageNumber || \'所有未支付线下包裹\' }}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">金额：</label> <div class="col-sm-4"> <label class="control-label">{{tpl_status.orderType == \'offline\' ? "$":"￥"}}{{data.fee}}</label> </div> </div> </fieldset> <fieldset> <legend>{{tpl_status.orderType == \'refund\' ? \'退还信息\' : \'支付信息\'}}</legend> <div class="form-group" ng-if="tpl_status.orderType == \'offline\'"> <label class="col-sm-2 control-label text-right">支付方式：</label> <div class="col-sm-4"> <select class="form-control" ng-model="data.rechargeChannel"> <option value="4">现金</option> <option value="5">支票</option> <option value="6">转账</option> <option value="7">其它</option> </select> </div> </div> <div class="form-group" ng-if="tpl_status.orderType == \'refund\'"> <label class="col-sm-2 control-label text-right">订单编号：</label> <div class="col-sm-4"> <input class="form-control" id="checkOrderNumber" ng-blur="checkOrderNumber()" placeholder="订单编号" ng-model="search.orderNumber"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">金额：</label> <div class="col-sm-4"> <input type="number" class="form-control" ng-model="data.fee" ng-disabled="tpl_status.orderType != \'refund\'"> </div> <div class="col-sm-6 col-padding-clear"> <button id="tip_pay_fee" type="button" class="btn btn-link btn-help"><i class="fa fa-warning"></i></button> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">备注：</label> <div class="col-sm-4"> <textarea class="form-control" rows="5" cols="30" placeholder="最多可以输入500个字" maxlength="500" ng-model="data.memo"></textarea> </div> </div> </fieldset> <div class="form-group text-center"> <button type="button" class="btn btn-primary" ng-click="btnSave()"><i class="fa fa-save"></i>保存</button> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </form> </div> </div> <script>$(function() {\n        var checkOrderNumber = document.getElementById("checkOrderNumber").focus();\n    })</script>'),a.put("views/finance/financedetail-payment-logs.html",'<div class="widget widget-table" ng-controller="FinanceDetailPaymentLogsCtrl"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 支付记录</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">支付方式：</label> <select class="form-control search-control" ng-model="searchBar.rechargeType" ng-options="item.value as item.title for item in tpl_status.rechargeType"></select> </div> <div class="search-col"> <label class="search-label">交易时间：</label> <select class="form-control search-control" ng-model="searchBar.dateRange" ng-change="changeDate()"> <option value="">所有</option> <option value="3">最近3天</option> <option value="7">最近7天</option> <option value="range">时间范围</option> </select> </div> <div class="search-col" ng-show="searchBar.dateRange == \'range\'"> <label class="search-label">开始日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col" ng-show="searchBar.dateRange == \'range\'"> <label class="search-label">结束日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">查询</button> </div> </div> </div> </div> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>支付日期</th> <th>支付方式</th> <th>支付宝交易号</th> <th>订单编号</th> <th>支付金额</th> <th>支付状态</th> <th>支付用户</th> <th style="max-width:300px">备注</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>{{item.operationType}}</td> <td>{{item.rechargeNumber || \'\'}}</td> <td>{{item.orderNumber}}</td> <td>{{item.payment}}</td> <td>{{item.status == 1 ? "支付成功" : "支付失败"}}</td> <td>{{item.customerNumber}}<span ng-show="!!item.inuserName">({{item.inuserName}})</span></td> <td style="max-width:300px">{{item.memo}}</td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div>'),a.put("views/finance/financedetail-rechange.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 客户充值 </h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <div ng-include="\'views/finance/financedetail-fieldset-customer.html\'"></div> <fieldset> <legend>充值信息</legend> <!--<div class="form-group" ng-if="tpl_status.orderType == \'refund\'">\n                    <label class="col-sm-2 control-label text-right">订单编号：</label>\n                    <div class="col-sm-4">\n                        <input class="form-control" id="checkOrderNumber" ng-blur="checkOrderNumber()" placeholder="订单编号" ng-model="search.orderNumber"></input>\n                    </div>\n                </div>--> <div class="form-group"> <label class="col-sm-2 control-label text-right">金额：</label> <div class="col-sm-4"> <input type="number" class="form-control" id="fee" ng-model="data.fee" ng-disabled="tpl_status.orderType != \'refund\'"> </div> <div class="col-sm-6 col-padding-clear"> <button id="tip_pay_fee" type="button" class="btn btn-link btn-help"><i class="fa fa-warning"></i></button> <small>当输入数字加 - 为客户扣款，大于0时为客户充值</small> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">备注：</label> <div class="col-sm-4"> <textarea class="form-control" rows="5" cols="30" placeholder="最多可以输入500个字" maxlength="500" ng-model="data.memo"></textarea> </div> </div> </fieldset> <div class="form-group text-center"> <button type="button" class="btn btn-primary" ng-click="btnSave()"><i class="fa fa-save"></i>保存</button> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </form> </div> </div> <script>$(function() {\n        var fee = document.getElementById("fee").focus();\n    })</script>'),a.put("views/finance/financedetail-recharge-logs.html",'<div class="widget widget-table" ng-controller="FinanceRecordRechargeLogsCtrl"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 充值记录</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">充值类型：</label> <select class="form-control search-control" ng-model="searchBar.rechargeType" ng-options="item.value as item.title for item in tpl_status.rechargeType"></select> </div> <div class="search-col"> <label class="search-label">交易时间：</label> <select class="form-control search-control" ng-model="searchBar.dateRange" ng-change="changeDate()"> <option value="">所有</option> <option value="3">最近3天</option> <option value="7">最近7天</option> <option value="range">时间范围</option> </select> </div> <div class="search-col" ng-show="searchBar.dateRange == \'range\'"> <label class="search-label">开始日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col" ng-show="searchBar.dateRange == \'range\'"> <label class="search-label">结束日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">查询</button> </div> </div> </div> </div> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>客户编号/操作人</th> <th>订单编号</th> <th>充值类型</th> <th>交易号</th> <th>充值金额</th> <th>充值状态</th> <th>充值日期</th> <th style="max-width:300px">备注</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td>{{item.customerNumber}}<span ng-show="!!item.inuserName">({{item.inuserName}})</span></td> <td>{{item.orderNumber}}</td> <td>{{item.operationType}}</td> <td>{{item.rechargeNumber || \'\'}}</td> <td>{{item.payment}}</td> <td>{{item.status == 1 ? "充值成功" : "充值失败"}}</td> <td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td style="max-width:300px">{{item.memo}}</td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div>'),a.put("views/finance/financedetail-report-list.html",'<div class="widget" ng-controller="FinanceDetailReportListCtrl"> <div class="widget-header"> <h3>结算账单下载</h3> </div> <table class="table table-bordered"> <thead> <tr> <th>客户编号</th> <th>是否结算</th> <th>月份</th> <th>金额</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in data"> <td>{{item.customerNumber}}</td> <td>{{(item.vipPayStatus | _vipPayStatus) || \'旧数据\'}}</td> <td>{{item.month}}</td> <td>{{item.paid}}</td> <td> <a href="{{path}}/exportVipReport?customerNumber={{customerNumber}}&month={{item.month}}&vipPayStatus={{item.vipPayStatus}}">下载</a> &nbsp; </td> </tr> </tbody> </table> <!-- <div class="widget-content"> \n        <div class="row">\n            <div class="col-md-12">\n                <div class="panel-group" id="accordion_report">\n                    <div class="panel panel-default" ng-repeat="item in data">\n                        <div class="panel-heading">\n                            <h4 class="panel-title">\n                                <a data-toggle="collapse" data-parent="#accordion_report" data-target="#collapse_report_{{$index+1}}" href="javascript:void(0);" ng-class="{\'collapsed\': $index != 0}">\n                                    {{item.year}}年账单\n                                    <i class="fa fa-angle-down pull-right"></i>\n                                    <i class="fa fa-angle-up pull-right"></i>\n                                </a>\n                            </h4>\n                        </div>\n                        <div id="collapse_report_{{$index+1}}" class="panel-collapse collapse" ng-class="{\'in\': $index == 0}">\n                            <div class="panel-body">\n                                <div ng-repeat="row in item.list">\n                                    <a href="{{row.filePathUrl}}" target="_blank" >\n                                        <i class="fa fa-download fa-2x"></i><span style="margin-left:10px;">账单下载</span>\n                                    </a>\n                                    <span><b>{{row.inDate | date:\'MM/dd/yyyy\'}}</b></span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div> --> </div>'),a.put("views/finance/financedetail.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 财务明细 </h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <div ng-include="\'views/finance/financedetail-fieldset-customer.html\'"></div> <fieldset> <legend>摘要</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">未支付费用（截止{{tpl_status.date | date:\'MM/dd/yyyy\'}}）：</label> <div class="col-sm-10"> <div class="clearfix"> <div class="col-sm-4"> <table class="table"> <tr> <td> <label class="control-label">海淘订单：￥{{data.unpaid.onLineCount}}</label> <button id="tip_online_order" type="button" class="btn btn-link btn-help pull-right"><i class="fa fa-warning"></i></button> </td> <td> <button type="button" class="btn btn-primary role" data-role="47" ng-click="btnPay(\'online\')"><i class="fa fa-arrow-left"></i>余额支付</button> </td> </tr> <tr> <td> <label class="control-label">线下订单：$ {{data.unpaid.offLineCount || 0}}</label> <button id="tip_offline_order" type="button" class="btn btn-link btn-help pull-right"><i class="fa fa-warning"></i></button> </td> <td> <button type="button" class="btn btn-primary role" data-role="48" ng-click="btnPay(\'offline\')"><i class="fa fa-arrow-left"></i>手动支付</button> </td> </tr> </table> </div> <div class="col-sm-2" style="line-height: 90px"> <button type="button" class="btn btn-primary role" data-role="49" ng-click="btnPay(\'refund\')"><i class="fa fa-money"></i>退还运费</button> </div> <div class="col-sm-2" style="line-height: 90px"> <button type="button" class="btn btn-primary role" data-role="49" ng-click="btnPay(\'recharge\')"><i class="fa fa-money"></i>充值/扣款</button> </div> </div> </div> </div> </fieldset> <fieldset> <div class="widget-content"> <ul class="nav nav-tabs nav-tabs-custom-colored" role="tablist"> <li class="active"><a href="javascript:void(0)" data-target="#recent-activity" role="tab" data-toggle="tab">最近活动</a></li> <li><a href="javascript:void(0)" role="tab" class="role" data-role="50" data-target="#settlement-download" data-toggle="tab">结算账单下载</a></li> <li><a href="javascript:void(0)" role="tab" data-target="#recharge-logs" data-toggle="tab">充值记录</a></li> <li><a href="javascript:void(0)" role="tab" data-target="#payment-history" data-toggle="tab">支付历史</a></li> <li><a href="javascript:void(0)" role="tab" data-target="#settlement-help" data-toggle="tab">结算说明</a></li> </ul> <div class="tab-content"> <div class="tab-pane fade in active" id="recent-activity"> <div ng-include="\'views/finance/financedetail-active-summary.html\'"></div> </div> <div class="tab-pane fade" id="settlement-download"> <div ng-include="\'views/finance/financedetail-report-list.html\'"></div> </div> <div class="tab-pane fade" id="recharge-logs"> <div ng-include="\'views/finance/financedetail-recharge-logs.html\'"></div> </div> <div class="tab-pane fade" id="payment-history"> <div ng-include="\'views/finance/financedetail-payment-logs.html\'"></div> </div> <div class="tab-pane fade" id="settlement-help"> <div ng-include="\'views/finance/financedetail-instruction.html\'"></div> </div> </div> </div> </fieldset> <div class="form-group text-center"> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </form> </div> </div>'),a.put("views/finance/financelist.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 财务列表</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <!--<div class="search-col">\n                        <label class="search-label">所属仓库：</label>\n                        <select class="form-control search-control"\n                                ng-model="searchBar.warehouseNumber"\n                                ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select>\n                    </div>--> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="customerNumber">客户编号</option> </select> <input type="text" name="search" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>客户编号</th> <th>注册账号</th> <th>客户类型</th> <th>账户余额</th> <th>未收取费用（海淘订单）</th> <th>未收取费用（线下订单）</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td><a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'customerdetail\')">{{item.customerNumber}}</a></td> <td>{{item.userName}}</td> <td>{{tpl_status.customerType[item.userTypeName]}}</td> <td>￥{{item.accountBalance}}</td> <td>￥{{item.shippingFeeAdjust}}</td> <td>${{item.unPaid}}</td> <td><a href="javascript:void(0);" class="" ng-click="btnOpenDetail(item,\'financedetail\')">财务明细</a></td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-6 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/finance/financepoint-payment-logs.html",'<div class="widget widget-table" ng-controller="FinancePointLogsCtrl"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 调整记录</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <!--<div class="search-col">\n                    <label class="search-label">支付方式：</label>\n                    <select class="form-control search-control" ng-model="searchBar.rechargeType" ng-options="item.value as item.title for item in tpl_status.rechargeType"></select>\n                </div>--> <div class="search-col"> <label class="search-label">交易时间：</label> <select class="form-control search-control" ng-model="searchBar.dateRange" ng-change="changeDate()"> <option value="">所有</option> <option value="3">最近3天</option> <option value="7">最近7天</option> <option value="range">时间范围</option> </select> </div> <div class="search-col" ng-show="searchBar.dateRange == \'range\'"> <label class="search-label">开始日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col" ng-show="searchBar.dateRange == \'range\'"> <label class="search-label">结束日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <!--<option value="orderNumber">订单编号</option>--> <option value="customerNumber">客户编号</option> <!--<option value="inuserName">客户ID</option>--> </select> <input type="text" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> <!--<div class="search-col">\n                    <button type="button" class="btn btn-primary" style="margin-left:5px;" ng-click="btnSearch()">查询</button>\n                </div>--> </div> </div> </div> <table class="table table-bordered"> <thead> <!--obj.rownumber = start++;\n                        obj.customerNumber = row.customerNumber;\n                        obj.transactionNumber = row.transactionNumber;\n                        obj.operationType = row.operationType;\n                        obj.point = row.point;\n                        obj.description = row.description;\n                        obj.indate = row.indate;\n                        obj.inuserName = row.inuserName;--> <tr> <th>序号</th> <th>\b客户编号</th> <th>调整积分</th> <th>调整时间</th> <th>操作人</th> <th style="max-width:300px">备注</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td>{{item.customerNumber}}</td> <td>{{item.point}}</td> <td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>{{item.inuserName}}</td> <td>{{item.description || \'\'}}</td> </tr> </tbody> </table> <div class="widget-content"> <div class="search-bar"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">总计积分：</label> <input class="form-control" type="text" disabled value="{{allTotal.totalPoint}}"> </div> </div> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script></div>'),
a.put("views/finance/financepoint-recharge-logs.html",'<div class="widget widget-table" ng-controller="FinancePointRechargeLogsCtrl"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 调整记录</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">充值类型：</label> <select class="form-control search-control" ng-model="searchBar.rechargeType" ng-options="item.value as item.title for item in tpl_status.rechargeType"></select> </div> <div class="search-col"> <label class="search-label">交易时间：</label> <select class="form-control search-control" ng-model="searchBar.dateRange" ng-change="changeDate()"> <option value="">所有</option> <option value="3">最近3天</option> <option value="7">最近7天</option> <option value="range">时间范围</option> </select> </div> <div class="search-col" ng-show="searchBar.dateRange == \'range\'"> <label class="search-label">开始日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col" ng-show="searchBar.dateRange == \'range\'"> <label class="search-label">结束日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="orderNumber">订单编号</option> <option value="customerNumber">客户编号</option> <!--<option value="inuserName">客户ID</option>--> </select> <input type="text" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> <!--<div class="search-col">\n                        <button type="button" class="btn btn-primary" style="margin-left:5px;" ng-click="btnSearch()">查询</button>\n                    </div>--> </div> </div> </form> </div> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>客户编号/操作人</th> <th>订单编号</th> <th>充值类型</th> <th>交易号</th> <th>充值金额</th> <th>充值状态</th> <th>充值日期</th> <th style="max-width:300px">备注</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td>{{item.customerNumber}}<span ng-show="!!item.inuserName">({{item.inuserName}})</span></td> <td>{{item.orderNumber}}</td> <td>{{item.operationType}}</td> <td>{{item.rechargeNumber || \'\'}}</td> <td>{{item.payment}}</td> <td>{{item.status == 1 ? "充值成功" : "充值失败"}}</td> <td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td style="max-width:300px">{{item.memo}}</td> </tr> </tbody> </table> <div class="widget-content"> <div class="search-bar"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">总计金额：</label> <input class="form-control" type="text" disabled value="{{allTotal.totalPayment}}"> </div> </div> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script></div>'),a.put("views/finance/financerecord-payment-logs.html",'<div class="widget widget-table" ng-controller="FinanceRecordLogsCtrl"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 消费记录</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">支付方式：</label> <select class="form-control search-control" ng-model="searchBar.rechargeType" ng-options="item.value as item.title for item in tpl_status.rechargeType"></select> </div> <div class="search-col"> <label class="search-label">交易时间：</label> <select class="form-control search-control" ng-model="searchBar.dateRange" ng-change="changeDate()"> <option value="">所有</option> <option value="3">最近3天</option> <option value="7">最近7天</option> <option value="range">时间范围</option> </select> </div> <div class="search-col" ng-show="searchBar.dateRange == \'range\'"> <label class="search-label">开始日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col" ng-show="searchBar.dateRange == \'range\'"> <label class="search-label">结束日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="orderNumber">订单编号</option> <option value="customerNumber">客户编号</option> <option value="inuserName">客户ID</option> </select> <input type="text" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> <!--<div class="search-col">\n                        <button type="button" class="btn btn-primary" style="margin-left:5px;" ng-click="btnSearch()">查询</button>\n                    </div>--> </div> </div> </form> </div> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>客户编号</th> <th>客户ID</th> <th>支付方式</th> <th>订单编号</th> <th>支付宝交易号</th> <th>支付金额</th> <th>支付状态</th> <th>支付日期</th> <th style="max-width:300px">备注</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td>{{item.customerNumber}}</td> <td>{{item.inuserName}}</td> <td>{{item.operationType}}</td> <td>{{item.orderNumber}}</td> <td>{{item.rechargeNumber || \'\'}}</td> <td>{{item.payment}}</td> <td>{{item.status == 1 ? "支付成功" : "支付失败"}}</td> <td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td style="max-width:300px">{{item.memo}}</td> </tr> </tbody> </table> <div class="widget-content"> <div class="search-bar"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">总计金额：</label> <input class="form-control" type="text" disabled value="{{allTotal.totalPayment}}"> </div> </div> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script></div>'),a.put("views/finance/financerecord-recharge-logs.html",'<div class="widget widget-table" ng-controller="FinanceRecordRechargeLogsCtrl"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 充值记录</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">充值类型：</label> <select class="form-control search-control" ng-model="searchBar.rechargeType" ng-options="item.value as item.title for item in tpl_status.rechargeType"></select> </div> <div class="search-col"> <label class="search-label">交易时间：</label> <select class="form-control search-control" ng-model="searchBar.dateRange" ng-change="changeDate()"> <option value="">所有</option> <option value="3">最近3天</option> <option value="7">最近7天</option> <option value="range">时间范围</option> </select> </div> <div class="search-col" ng-show="searchBar.dateRange == \'range\'"> <label class="search-label">开始日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col" ng-show="searchBar.dateRange == \'range\'"> <label class="search-label">结束日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="orderNumber">订单编号</option> <option value="customerNumber">客户编号</option> <!--<option value="inuserName">客户ID</option>--> </select> <input type="text" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> <!--<div class="search-col">\n                        <button type="button" class="btn btn-primary" style="margin-left:5px;" ng-click="btnSearch()">查询</button>\n                    </div>--> </div> </div> </form> </div> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>客户编号/操作人</th> <th>充值类型</th> <th>交易号</th> <th>订单号</th> <th>充值金额</th> <th>充值状态</th> <th>充值日期</th> <th style="max-width:300px">备注</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td>{{item.customerNumber}}<span ng-show="!!item.inuserName">({{item.inuserName}})</span></td> <td>{{item.operationType}}</td> <td>{{item.rechargeNumber || \'\'}}</td> <td>{{item.orderNumber}}</td> <td>{{item.payment}}</td> <td>{{item.status == 1 ? "充值成功" : "充值失败"}}</td> <td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td style="max-width:300px">{{item.memo}}</td> </tr> </tbody> </table> <div class="widget-content"> <div class="search-bar"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">总计金额：</label> <input class="form-control" type="text" disabled value="{{allTotal.totalPayment}}"> </div> </div> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script></div>'),a.put("views/finance/refundshipping-verify.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 返还运费</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">发货仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select> </div> <div class="search-col"> <label class="search-label">发货渠道：</label> <select class="form-control search-control" ng-model="searchBar.shipServiceId" ng-options="item.shipServiceId as item.shipServiceName for item in searchBar.shippingChannelList"></select> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="customerNumber">客户编号</option> <option value="orderNumber">订单编号</option> </select> <input type="text" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> <div class="col-sm-12 search-bar" ng-show="selectedListCache.length > 0"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">已选择：{{selectedListCache.length}}个订单</label> <button type="button" class="btn btn-link" ng-click="btnClearSelectedListCache();">清除已选项</button> </div> </div> </div> <table class="table table-bordered"> <thead> <tr> <th><input type="checkbox" ng-change="btnSelectedItem(item)" ng-model="searchBar.selectedAll"></th> <th>序号</th> <th>发货仓库</th> <th>客户编号</th> <th>订单编号</th> <th>发货渠道</th> <!-- <th>订单状态</th> --> <th>生成日期</th> <!-- <th>订单支付日期</th> --> <th>购买保险</th> <th>积分抵扣</th> <th>小费</th> <!-- <th>预收运费</th> --> <th>清关费用</th> <th>增值费用</th> <!-- <th>打包重量</th> --> <th>打包运费</th> <th style="color:green">已支付金额</th> <th style="color:red">运费总计</th> <th style="color:red">已返还</th> <!-- <th>返还备注</th>\n                    <th>返还时间</th>\n                    <th>返还用户</th> --> <th style="color:red">返还金额</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td><input type="checkbox" ng-change="btnSelectedItem(item)" ng-model="item._selected"></td> <td>{{item.rownumber}}</td> <td style="max-width:150px">{{item.warehouseName}}</td> <td><a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'customerdetail\')">{{item.customerNumber}}</a></td> <td style="max-width: 200px"> <a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'orderdetail\')">{{item.orderNumber}}</a> <span ng-if="item.isFastOrder == 1" title="极速原箱"> <i class="fa fa-bolt" aria-hidden="true" style="color:#ff6a00;font-size:16px"></i> </span> </td> <td style="max-width:150px">{{item.shipServiceName}}</td> <!-- <td style="max-width:150px;">{{item.orderStatus}}</td> --> <td style="max-width: 160px">{{item.orderDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <!-- <td style="max-width: 160px;">{{item.payDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> --> <td style="max-width: 200px">{{item.insuranceFee|currency:\'¥\'}}</td> <td style="max-width: 200px">-{{item.usedPoint|currency:\'¥\'}}</td> <td style="max-width: 200px">{{item.tip|currency:\'¥\'}}</td> <!-- <td style="max-width: 200px;">{{item.shippingFee|currency:\'¥\'}}</td> --> <td style="max-width: 200px">{{(item.tariffMoney||0)|currency:\'¥\'}}</td> <td style="max-width: 200px">{{(item.valueAddFee||0)|currency:\'¥\'}}</td> <td style="max-width: 200px">{{item.actualShippingFee|currency:\'¥\'}}({{item.actualWeight}}磅)</td> <!-- <td style="max-width:150px;">{{item.actualWeight}}</td> --> <td style="max-width: 200px;color:green">{{item.paied|currency:\'¥\'}}</td> <td style="max-width: 200px;color:red">{{item.totalSurcharge|currency:\'¥\'}}</td> <td style="max-width: 200px;color:red">{{(item.payment||0)|currency:\'¥\'}}</td> <!-- <td class="long-cell">\n                        {{(item.payment||0)|currency:\'¥\'}}\n                        {{item.refundDate}} {{item.refundUserName}}\n                        {{item.refundMemo}}\n                    </td> --> <!-- <td style="max-width:150px;">{{item.refundDate}}</td>\n                    <td style="max-width:150px;">{{item.refundUserName}}</td> --> <td style="max-width: 200px;color:red">{{(item.refundAmount||0)|currency:\'¥\'}}</td> <td> <!-- 确认退款 --> <a href="javascript:void(0);" class="role" data-role="119" ng-click="btnSingleRefund(item)">确认退款</a> </td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-6 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> <div class="row"> <div class="text-right pull-left" style="margin-left:10px"> <button type="button" class="btn btn-primary" ng-click="btnBatchRefund()" data-role="49"> 批量退款</button> </div> </div> </div> </div> '),a.put("views/login.html",'<div class="inner-page" ng-controller="LoginCtrl"> <div class="logo"> <a href="index.html"><img src="assets/img/kingadmin-logo.png" alt=""></a> </div> <div class="login-box center-block"> <form class="form-horizontal" role="form"> <p ng-show="resetFlag == \'0\'" class="title">使用您的用户名</p> <p ng-show="resetFlag == \'1\'" class="title">重置密码</p> <div class="form-group"> <label for="username" class="control-label sr-only">用户名</label> <div class="col-sm-12"> <div class="input-group"> <input type="text" placeholder="username" id="username" class="form-control" ng-model="model.username"> <span class="input-group-addon"><i class="fa fa-user"></i></span> </div> </div> </div> <label for="password" class="control-label sr-only">密码</label> <div class="form-group"> <div class="col-sm-12"> <div class="input-group"> <input type="password" placeholder="password" id="password" class="form-control" ng-model="model.password"> <span class="input-group-addon"><i class="fa fa-lock"></i></span> </div> </div> </div> <label for="password" ng-show="resetFlag == \'1\'" class="control-label sr-only">新密码</label> <div ng-show="resetFlag == \'1\'" class="form-group"> <div class="col-sm-12"> <div class="input-group"> <input type="password" placeholder="新密码" id="password" class="form-control" ng-model="search.password"> <span class="input-group-addon"><i class="fa fa-lock"></i></span> </div> </div> </div> <label for="password" ng-show="resetFlag == \'1\'" class="control-label sr-only">再次输入新密码</label> <div class="form-group" ng-show="resetFlag == \'1\'"> <div class="col-sm-12"> <div class="input-group"> <input type="password" placeholder="再次输入新密码" id="password" class="form-control" ng-model="search.repassword"> <span class="input-group-addon"><i class="fa fa-lock"></i></span> </div> </div> </div> <label class="fancy-checkbox"> <input type="checkbox" ng-model="model.remember"> <span>下次记住我</span> </label> <button class="btn btn-custom-primary btn-lg btn-block btn-auth" ng-show="resetFlag == \'0\'" ng-click="btnLogin()"><i class="fa fa-arrow-circle-o-right"></i> 登录</button> <button class="btn btn-custom-primary btn-lg btn-block btn-auth" ng-show="resetFlag == \'1\'" ng-click="resetPassword()"><i class="fa fa-arrow-circle-o-right"></i> 重置密码</button> </form> <div class="links"> <div class="col-sm-12 pull-center"> <p><a ng-click="reset()" href="javascript:void(0)"> 修改密码?</a></p> </div> <!--<div class="col-sm-6 pull-right"><p><a href="javascript:void(0)">创建一个新账户</a></p></div>--> <div class="clearfix"></div> </div> </div> </div>'),a.put("views/main.html",'<div class="main-header"> </div> <div class="main-content"> <chart-number-stat ng-data="model.numberStat" ng-if="!!model.numberStat"></chart-number-stat> <chart-flot title="客户管理统计" desc="新注册用户，客户留言和客户订单" ng-if="!!model.customerFlot" ng-data="model.customerFlot" ng-filter-trigger="flot.customer.refresh"></chart-flot> <ticket-table title="问题处理" desc="最近提交问题列表" ng-data="model.customerTicket" ng-if="!!model.customerTicket"></ticket-table> <chart-flot title="仓库管理统计" desc="入库包裹，出库订单信息" ng-if="!!model.warehouseFlot" ng-data="model.warehouseFlot" ng-filter="model.warehouseFilter" ng-filter-trigger="flot.warehouse.refresh"></chart-flot> <ticket-table title="最近货物预报" desc="最近客户货物预报列表" ng-data="model.warehouseTicket" ng-if="!!model.warehouseTicket"></ticket-table> </div>'),a.put("views/order/offlineorderdetail.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 批量创建线下订单</h3> </div> <div class="widget-content"> <div class="wizard-wrapper"> <div id="offline-order-wizard" class="wizard"> <ul class="steps"> <li data-target="#step1" class="active"><span class="badge badge-info">1</span>上传文件<span class="chevron"></span></li> <li data-target="#step2"><span class="badge">2</span>文件预检测<span class="chevron"></span></li> <li data-target="#step3"><span class="badge">3</span>创建订单<span class="chevron"></span></li> <!-- <li data-target="#step4"><span class="badge">4</span>订单支付</li>\n                    <li data-target="#step5" class="last"><span class="badge">5</span>订单出库</li> --> </ul> </div> <div class="step-content"> <div class="step-pane active" id="step1"> <div class="col-sm-12 search-bar"> <div class="col-sm-6 col-padding-clear"><a class="btn btn-sm btn-primary" download="offlineorder.xlsx" href="resource/offlineorder.xlsx"><i class="fa fa-download fa-3x pull-left"></i> 批量线下订单模板<br><small>Excel文件下载</small></a></div> <div class="search-col pull-right col-padding-clear"> <label class="search-label">批号查询：</label> <input type="text" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="输入订单批号" ng-model="searchBatchNumber" ng-enter="btnBatchQuery()"> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnBatchQuery()">搜索</button> </div> <div class="clearfix"></div> </div> <div class="col-sm-12"> <form id="form1" class="dropzone" enctype="multipart/form-data"></form> </div> </div> <div class="step-pane" id="step2"> <form id="form2"> <p> 正在对上传的文件进行预检查，请耐心等待... <br> <em><small class="red">预检查过程中请不要进行其它操作</small></em> </p> <div class="row"> <div class="col-sm-12"> <div class="progress progress-striped active"> <div id="precheckProgressBar" class="progress-bar progress-bar-info" data-transitiongoal="100"></div> </div> </div> <div class="col-sm-12"> <div class="contextual-summary-info contextual-background green-bg" ng-show="stepValidation[1] === true"> <i class="fa fa-check-circle"></i> <p class="pull-right"><span style="font-size:32px">文件预检查成功！</span></p> </div> <div class="contextual-summary-info contextual-background red-bg clearfix" ng-show="stepValidation[1] === false"> <i class="fa fa-close" style="width:5%"></i> <p class="pull-right" style="width:95%"><span style="font-size:32px">{{excelErrorMessage}}</span></p> </div> </div> </div> </form> </div> <div class="step-pane" id="step3"> <form id="form3" ng-show="tpl_status.step3 == 1"> <p> 正在创建订单，请稍后... </p> <div class="row"> <div class="col-sm-12"> <div class="progress progress-striped active"> <div id="createOrderProgressBar" class="progress-bar progress-bar-info" data-transitiongoal="100"></div> </div> </div> </div> </form> <div class="col-sm-12" ng-show="tpl_status.step3 == 2"> <div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 订单列表</h3> </div> <br> <div class="col-sm-12 search-bar"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">批打通道：</label> <!--<select class="form-control search-control"\n                                            ng-model="searchBar.batchChannel"\n                                            ng-options="option.value as option.title for option in channelFilter"></select>--> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnPrintBatch(\'package\')">批量打印订单</button> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnPrintBatch(\'trackingNumber\')">批量打印包裹号</button> </div> </div> <div class="col-sm-12 search-bar"> <i class="fa fa-info-circle"></i><label class="search-label">请点击打印包裹号按钮打印CUL条码粘贴到包裹上.</label> </div> <div class="col-sm-12 search-bar" style="margin-bottom: 0px" ng-show="selectedListCache.length > 0"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">已选择：{{selectedListCache.length}}个订单</label> <button type="button" class="btn btn-link" ng-click="btnClearSelectedListCache();">清除已选项</button> </div> </div> <div class="widget-content"> <table class="table table-bordered"> <thead> <tr> <th><input type="checkbox" ng-change="btnSelectedItem()" ng-model="searchBar.selectedAll"></th> <th>序号</th> <th>订单编号</th> <th>客户编号</th> <th>客户关联编号</th> <th>生成日期</th> <th>包裹数</th> <th>CUL包裹单号</th> <td>发货仓库</td> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td><input type="checkbox" ng-change="btnSelectedItem(item)" ng-model="item._selected"></td> <td>{{item.rownumber}}</td> <td> <a href="javascript:void(0);" ng-click="openDetail(item)">{{item.orderNumber}}</a> <i class="fa fa-remove btn-icon red" ng-click="btnRemoveOrder(item)"></i> </td> <td>{{item.customerNumber}}</td> <td>{{item.referenceOrderNumber}}</td> <td>{{item.orderDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>{{item.outboundPackages.length}}</td> <td> <div ng-repeat="package in item.outboundPackages track by $index">{{package.trackingNumber}}</div> </td> <td>{{item.warehouseName}}</td> <td> <!-- <i class="fa fa-edit btn-icon green" ng-click="openDetail(item)"></i> --> <a href="javascript:void(0)" ng-click="btnPrint(item,\'package\')">打印订单</a> <a href="javascript:void(0)" ng-click="btnPrint(item,\'trackingNumber\')">打印包裹号</a> <!-- <i class="fa fa-remove btn-icon red" ng-click="btnRemoveOrder(item)"></i> --> </td> </tr> </tbody> </table> <!--<div class="row">\n                                    <div class="col-sm-12">\n                                        <uib-pagination class="pagination pagination-rewrite pull-right"\n                                                        style="width: 100%;"\n                                                        boundary-links="true"\n                                                        max-size="5"\n                                                        total-items="pagination.totalCount"\n                                                        items-per-page="pagination.pageSize"\n                                                        ng-model="pagination.pageIndex"\n                                                        ng-change="getData()"\n                                                        previous-text="上一页"\n                                                        next-text="下一页"\n                                                        first-text="首页"\n                                                        last-text="尾页">\n                                        </uib-pagination>\n                                    </div>\n                                </div>--> </div> </div> </div> </div> <div class="step-pane" id="step4"> <form id="form4"> <div class="form-group"> <label class="control-label">总计重量：</label> <label class="control-label">{{paymentInfo.totalWeight | number:2}}磅</label> </div> <div class="form-group"> <label class="control-label">总计运费：</label> <label class="control-label">${{paymentInfo.shippingFee | number:2}}</label> </div> <p style="border-top: 1px solid lightgray; padding-top: 20px">请选择支付方式:</p> <div class="form-group"> <label><input type="radio" ng-model="paymentInfo.paymentType" value="2">现金</label> <label><input type="radio" ng-model="paymentInfo.paymentType" value="3">支票</label> </div> <div class="form-group"> <label class="control-label">支付金额（美元）：</label> </div> <div class="form-group row col-sm-2"> <input type="text" class="form-control" ng-model="paymentPrice" ng-change="validPaymentPrice()"> </div> <div class="clearfix"></div> </form> </div> <div class="step-pane" id="step5"> <div class="row"> <div class="col-sm-12"> <div class="contextual-summary-info contextual-background green-bg" ng-show="!paymentErrorMessage"> <i class="fa fa-check-circle"></i> <p class="pull-right"><span style="font-size:32px">订单出库成功！</span></p> </div> <div class="contextual-summary-info contextual-background red-bg clearfix" ng-show="!!paymentErrorMessage"> <i class="fa fa-close" style="width:5%"></i> <p class="pull-right" style="width:95%"><span style="font-size:32px">{{paymentErrorMessage}}</span></p> </div> </div> </div> </div> </div> <div class="actions" ng-hide="stepIndex == 3"> <button type="button" class="btn btn-default btn-prev"><i class="fa fa-arrow-left"></i> 上一步</button> <button type="button" class="btn btn-primary btn-next" ng-show="stepIndex < 3" ng-disabled="!btnNextEnable">下一步 <i class="fa fa-arrow-right"></i></button> <button type="button" class="btn btn-primary btn-checkout" ng-show="stepIndex == 3" ng-disabled="!btnNextEnable">订单出库 <i class="fa fa-truck"></i></button> </div> </div> </div> </div> <!-- Offline Order Detail Modal--> <div id="offlineOrderDetailModal" class="modal" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" style="width: 1024px"> <div class="modal-content"> <div class="modal-body" style="max-height: 700px; overflow-x:hidden; overflow-y: scroll" ng-include="\'views/order/offlineorderdetail.html\'"></div> <div class="modal-footer"> <div class="text-center"> <!-- <button type="button" class="btn btn-primary" ng-click="btnSaveDetail()">\n                        <i class="fa fa-save"></i>确认\n                    </button> --> <button type="button" class="btn btn-default" data-dismiss="modal"> <i class="fa fa-reply"></i>关闭 </button> </div> </div> </div> </div> </div> <print-offline-package></print-offline-package> <print-tracking-number></print-tracking-number>'),
a.put("views/order/ordercomments.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 收货管理</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">问题状态：</label> <select class="form-control search-control" ng-options="questionStatus.key as questionStatus.value for questionStatus in questionStatusList" ng-model="searchBar.questionStatus"> </select> </div> <div class="search-col"> <label class="search-label">收货仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">开始日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> <div class="pull-left"> <label class="search-label">日</label> <select class="form-control search-control" style="width:55px; padding-left: 5px" ng-model="searchBar.startTime_HH"> <option value="0">00</option> <option value="1">01</option> <option value="2">02</option> <option value="3">03</option> <option value="4">04</option> <option value="5">05</option> <option value="6">06</option> <option value="7">07</option> <option value="8">08</option> <option value="9">09</option> <option value="10">10</option> <option value="11">11</option> <option value="12">12</option> <option value="13">13</option> <option value="14">14</option> <option value="15">15</option> <option value="16">16</option> <option value="17">17</option> <option value="18">18</option> <option value="19">19</option> <option value="20">20</option> <option value="21">21</option> <option value="22">22</option> <option value="23">23</option> </select> <label class="search-label">时</label> <input type="text" class="form-control search-control" style="width:45px" maxlength="2" ng-model="searchBar.startTime_mm"> <label class="search-label">分</label> <input type="text" class="form-control search-control" style="width:45px" maxlength="2" ng-model="searchBar.startTime_ss"> <label class="search-label">秒</label> </div> </div> <div class="search-col"> <label class="search-label">结束日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> <div class="pull-left"> <label class="search-label">日</label> <select class="form-control search-control" style="width:55px; padding-left: 5px" ng-model="searchBar.endTime_HH"> <option value="0">00</option> <option value="1">01</option> <option value="2">02</option> <option value="3">03</option> <option value="4">04</option> <option value="5">05</option> <option value="6">06</option> <option value="7">07</option> <option value="8">08</option> <option value="9">09</option> <option value="10">10</option> <option value="11">11</option> <option value="12">12</option> <option value="13">13</option> <option value="14">14</option> <option value="15">15</option> <option value="16">16</option> <option value="17">17</option> <option value="18">18</option> <option value="19">19</option> <option value="20">20</option> <option value="21">21</option> <option value="22">22</option> <option value="23">23</option> </select> <label class="search-label">时</label> <input type="text" class="form-control search-control" style="width:45px" maxlength="2" ng-model="searchBar.endTime_mm"> <label class="search-label">分</label> <input type="text" class="form-control search-control" style="width:45px" maxlength="2" ng-model="searchBar.endTime_ss"> <label class="search-label">秒</label> </div> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="orderNumber">订单编号</option>> <option value="customerNumber">客户编号</option>> </select> <input type="text" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>订单编号</th> <th>客户编号</th> <th>客户ID(注册名)</th> <th>日期</th> <th>留言内容</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td><a ng-click="btnOpenDetail(\'orderdetail\',item)">{{item.orderNumber}}</a></td> <td>{{item.customerNumber}}</td> <td>{{item.inuserName}}</td> <td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td class="long-cell">{{item._massage}}</td> <td> <a href="javascript:void(0)" ng-click="btnOpenDetail(\'ordercommentsdetail\', item)" ng-if="item.status == \'Processing\' ">查看/处理</a> <a href="javascript:void(0)" class="role" data-role="56" ng-click="btnAction(\'delete\', item)" ng-if="item.status == \'Closed\'">删除</a> </td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> </div> </div> <style></style> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/order/ordercommentsdetail.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 订单详情</h3> </div> <div class="widget-content"> <fieldset> <legend>客户信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">订单编号：</label> <div class="col-sm-4"> <a href="javascript:void(0);" style="text-decoration:none" class="control-label" ng-click="btnOpenDetail(data,\'orderdetail\')">{{data.orderNumber}}</a> </div> <label class="col-sm-2 control-label text-right">客户ID(注册名)：</label> <div class="col-sm-4"> <label class="control-label">{{data.inuserName}}</label> </div> <label class="col-sm-2 control-label text-right">客户编号：</label> <div class="col-sm-4"> <label class="control-label">{{data.customerNumber}}</label> </div> <label class="col-sm-2 control-label text-right">仓库：</label> <div class="col-sm-4"> <label class="control-label">{{data.receivedWarehouseNumber}}</label> </div> <label class="col-sm-2 control-label text-right">日期：</label> <div class="col-sm-4"> <label class="control-label">{{data.indate | date:\'MM/dd/yyyy HH:mm:ss\' }}</label> </div> </div> </fieldset> <form class="form-horizontal" role="form"> <fieldset> <legend>订单留言</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">留言记录：</label> <div class="row col-sm-6"> <div style="margin-bottom:10px" ng-repeat="item in data.messageLogs"> <div class="col-sm-6 blue">{{item.operationUserName}}</div> <div class="col-sm-6 text-right">{{item.operationDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</div> <div class="col-sm-12">{{item.message}} <a ng-repeat="image in item.images track by $index" href="{{image}}" target="_blank"> <img style="width:50px;margin:10px" ng-src="{{image}}"> </a> </div> <div class="clearfix"></div> </div> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">您的留言：</label> <div class="col-sm-4"> <div class="row fileupload-buttonbar" style="padding-left:15px;margin-right:0px"> <div class="thumbnail col-sm-12"> <a href="{{data._images}}" target="_blank"> <img id="uploadImg_show" style="height:70px;margin-top:10px;margin-bottom:8px" ng-src="{{data._images}}" data-holder-rendered="true"> </a> <div class="progress progress-striped active" role="progressbar" aria-valuemin="10" aria-valuemax="100" aria-valuenow="0" style="height:10px;margin-bottom:0px"> <div id="progress" class="progress-bar progress-bar-success" style="width:0%"></div> </div> <div class="caption" align="center"> <span id="uploadImg_upload" class="btn btn-primary fileinput-button"> <span id="file_btn_text">上传</span> <input type="file" id="uploadImg" name="uploadImg_image"> </span> </div> </div> </div> </div> <div class="clearfix"></div> <label class="col-sm-2 control-label text-right"></label> <div class="col-sm-4"> <textarea class="form-control" ng-model="_message"></textarea> </div> <button type="button" class="btn btn-default" ng-click="btnMessagePush()"><i class="fa fa-comment"></i>回复</button> </div> </fieldset> <div class="form-group text-center"> <!--<button type="button" class="btn btn-primary" ng-if="!isPrintDetail">通过</button>--> <!--<button type="button" class="btn btn-primary" ng-if="!isPrintDetail" ng-click="btnSave()"><i class="fa fa-save"></i>保存</button>--> <button type="button" class="btn btn-primary" ng-if="isPrintDetail"><i class="fa fa-print"></i>打印</button> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </form> </div> </div> <style>.form-edit input:focus {\n        width: 200px;\n    }</style>'),a.put("views/order/orderdetail.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 订单详情</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <legend>客户信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">客户编号：</label> <div class="col-sm-4"> <label class="control-label">{{data.customer.customerNumber}}</label> </div> <label class="col-sm-2 control-label text-right">客户关联号：</label> <div class="col-sm-4"> <label class="control-label">{{data.referenceOrderNumber || \'-\'}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">订单编号：</label> <div class="col-sm-4"> <label class="control-label">{{data.orderNumber}}</label> <span ng-if="data.isFastOrder == 1" title="极速原箱"> <i class="fa fa-bolt" aria-hidden="true" style="color:#ff6a00;font-size:16px"></i> </span> </div> <label class="col-sm-2 control-label text-right">订单批号：</label> <div class="col-sm-4"> <label class="control-label">{{data.batchNumber || \'-\'}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">客户账号：</label> <div class="col-sm-4"> <label class="control-label">{{data.customer.userName}}</label> </div> <label class="col-sm-2 control-label text-right">客户姓名：</label> <div class="col-sm-4"> <label class="control-label">{{data.customer.lastName}} {{data.customer.firstName}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right" style="font-weight:bold">订单状态：</label> <div class="col-sm-4"> <label class="control-label" style="font-weight:bold">{{data._orderStatus}}</label> </div> <label class="col-sm-2 control-label text-right">生成日期：</label> <div class="col-sm-4"> <label class="control-label">{{data.orderDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right" ng-if="isPrintDetail">打印状态：</label> <div class="col-sm-4" ng-if="isPrintDetail"> <label class="control-label green" style="font-weight: bold">{{data._printStatus}}</label> </div> <label class="col-sm-2 control-label text-right" ng-if="!!data.payDate">付款时间：</label> <div class="col-sm-4" ng-if="!!data.payDate"> <label class="control-label">{{data.payDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</label> </div> </div> </fieldset> <fieldset> <legend>收货地址</legend> <div class="form-group"> <div class="col-sm-8 col-sm-offset-2"> <table class="table"> <thead> <tr> <th style="width:130px">CUL包裹单号</th> <th>收货地址</th> <th style="width:130px" ng-show="!!isShow">操作</th> </tr> </thead> <tbody> <tr ng-repeat="address in data.shipToAddresses track by $index"> <td> <div ng-repeat="trackingNumber in address._trackingNumbers track by $index">{{trackingNumber}}</div> </td> <td> <div ng-show="!address._edit"> {{address.receivePersonName}} <span ng-if="!!address.cellphoneNumber">({{address.cellphoneNumber}})</span> {{address.address1}}{{address.receiveCompanyName}} <span ng-if="!!address.zipcode">({{address.zipcode}})</span> </div> <div ng-show="!!address._edit"> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货人：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="address.receivePersonName"> </div> <label class="col-sm-2 control-label text-right">手机号码：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="address.cellphoneNumber"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货地址</label> <div class="row"> <div class="col-sm-3"> <select style="padding: 0 10px" class="form-control" ng-options="province as province.name for province in provinces" ng-model="address.province" ng-change="getCity(null,null,address);"> <option>请选择省份</option> </select> </div> <div class="col-sm-3"> <select style="padding: 0 10px" class="form-control" ng-options="city as city.name for city in citys" ng-model="address.city" ng-change="getArea(null,address);"> <option>请选择城市</option> </select> </div> <div class="col-sm-3"> <select style="padding: 0 10px" class="form-control" ng-options="area as area.name for area in areas" ng-model="address.area"> <option>请选择区</option> </select> </div> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">详细地址：</label> <div class="col-sm-10"> <input type="text" class="form-control" ng-model="address.address1_before"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货公司：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="address.receiveCompanyName"> </div> <label class="col-sm-2 control-label text-right">邮政编码：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="address.zipcode"> </div> </div> </div> </td> <td ng-show="!!isShow"> <!--<button type="button" class="btn btn-link role" data-role="86" ng-click="btnEditOrderAddress(address)" ng-show="!address._edit">\n                                            <i class="fa fa-edit"></i>修改地址\n                                        </button>--> <button type="button" class="btn btn-link" ng-click="btnEditOrderAddress(address)" ng-show="!address._edit"> <i class="fa fa-edit"></i>修改地址 </button> <button type="button" class="btn btn-link" ng-click="btnSaveAddress(address)" ng-show="!!address._edit"><i class="fa fa-save"></i>保存</button> <button type="button" class="btn btn-link" ng-click="btnCancelAddress(address)" ng-show="!!address._edit"><i class="fa fa-repeat"></i>取消</button> <!-- <button type="button" class="btn btn-link" ng-click="btnCancelAddress(r)" ng-show="!!address._edit && $index != 0"><i class="fa fa-repeat"></i>删除</button> --> <!-- <button type="button" class="btn btn-link" ng-click="btnCancelAddress(address)" ng-show="!!address._edit && $index ！= 0"><i class="fa fa-repeat"></i>删除</button> --> </td> </tr> </tbody> </table> </div> </div> </fieldset> <!--<fieldset>\n                <legend>费用明细</legend>\n                <div class="form-group">\n                    <label class="col-sm-2 control-label text-right">费用明细: </label>\n                    <div class="row col-sm-8">\n                        <table class="table">\n                            <thead>\n                                <tr>\n                                    <th>包裹重量</th>\n                                    <th>运 &nbsp; &nbsp; &nbsp; 费</th>\n                                    <th>购买保险</th>\n                                    <th>小 &nbsp; &nbsp; &nbsp; 费</th>\n                                    <th>增值服务</th>\n                                    <th>积分抵扣</th>\n                                    <th>运费总计</th>\n                                    <th>支付日期</th>\n                                    <th>实际支付</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr>\n                                    <td>{{data.actualWeight | number : 2}}磅</td>\n                                    <td>{{data.shippingFee | currency:\'¥\'}}</td>\n                                    <td>{{data.insuranceFee | currency:\'¥\'}}</td>\n                                    <td>{{data.tip | currency:\'¥\'}}</td>\n                                    <td>{{data.valueAddFee | currency:\'¥\'}}</td>\n                                    <td>{{(data.usedPoint||0) | currency:\'￥\'}}</td>\n                                    <td>{{data.totalCount | currency:\'¥\'}}</td>\n                                    <td>{{data.payDate | date:\'yyyy-MM-dd HH:mm:ss\'}}</td>\n                                    <td>{{data.paied | currency:\'¥\'}}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n\n            </fieldset>--> <fieldset> <legend>订单内容</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">发货渠道：</label> <div class="col-sm-4"> <label class="control-label">{{ data.shipServiceName }}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">入库信息: </label> <div class="row col-sm-8"> <table class="table"> <thead> <tr> <th>入库单号</th> <th>重量</th> <th>创建时间</th> <th>入库时间</th> <th>仓位</th> </tr> </thead> <tbody> <tr ng-repeat="item in data.inboundPackages"> <td>{{item.trackingNumber}} <span ng-if="data.isFastOrder == 1" title="极速原箱"> <i class="fa fa-bolt" aria-hidden="true" style="color:#ff6a00;font-size:16px"></i> </span> </td> <td>{{item.packageWeight | number : 2}}磅</td> <td>{{item.createDate | date:\'MM/dd/yyyy HH:mm:ss\' }}</td> <td>{{item.inboundDate | date:\'MM/dd/yyyy HH:mm:ss\' }}</td> <td>{{item.location == undefined ? item.shelfNumber : item.location}}</td> </tr> </tbody> </table> </div> </div> <!--<div cla\n                ss="form-group">\n                    <label class="col-sm-2 control-label text-right">额外商品：</label>\n                    <div class="col-sm-4">\n                        <label class="control-label">{{\'0\'}}</label>\n                    </div>\n                </div>--> <div class="form-group"> <label class="col-sm-2 control-label text-right">申报价值：</label> <div class="col-sm-4"> <label class="control-label">{{data.declareGoodsValue | currency:\'$\'}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">申报品名：</label> <div class="col-sm-4" ng-if="isPrintDetail"> <label class="control-label">{{data.declareGoodsName}}</label> </div> <div class="row col-sm-8" ng-if="!isPrintDetail"> <table class="table"> <thead> <tr> <th width="50px">序号</th> <th>CUL包裹单号</th> <th>品牌</th> <th>商品描述</th> <th>数量</th> <th>价值</th> <th>属性1</th> <th>属性2</th> <th>属性3</th> <th>属性4</th> <th>属性5</th> <th width="70px" ng-show="!!_editOrderItems">操作</th> </tr> </thead> <tbody class="form-edit"> <tr ng-repeat="item in data.orderItems"> <td>{{$index+1}}</td> <td>{{item.trackingNumber}}</td> <td> <span ng-show="!_editOrderItems">{{item.itemBrand}}</span> <input type="text" class="form-control" ng-model="item.itemBrand" ng-show="!!_editOrderItems"> </td> <td> <span ng-show="!_editOrderItems">{{item.description}}</span> <input type="text" class="form-control" ng-model="item.description" ng-show="!!_editOrderItems"> </td> <td> <span ng-show="!_editOrderItems">{{item.quantity}}</span> <input type="text" class="form-control" ng-model="item.quantity" ng-show="!!_editOrderItems"> </td> <td> <span ng-show="!_editOrderItems">{{item.unitprice | currency:\'$\'}}</span> <input type="text" class="form-control" ng-model="item.unitprice" ng-show="!!_editOrderItems"> </td> <td> <span ng-show="!_editOrderItems">{{item.property1}}</span> <input type="text" class="form-control" ng-model="item.property1" ng-show="!!_editOrderItems"> </td> <td> <span ng-show="!_editOrderItems">{{item.property2}}</span> <input type="text" class="form-control" ng-model="item.property2" ng-show="!!_editOrderItems"> </td> <td> <span ng-show="!_editOrderItems">{{item.property3}}</span> <input type="text" class="form-control" ng-model="item.property3" ng-show="!!_editOrderItems"> </td> <td> <span ng-show="!_editOrderItems">{{item.property4}}</span> <input type="text" class="form-control" ng-model="item.property4" ng-show="!!_editOrderItems"> </td> <td> <span ng-show="!_editOrderItems">{{item.property5}}</span> <input type="text" class="form-control" ng-model="item.property5" ng-show="!!_editOrderItems"> </td> <td ng-show="!!_editOrderItems"> <a href="javascript:void(0);" title="删除" ng-click="btnOrderItems_Oper(\'del\',$index)"><i class="fa fa-remove btn-icon red"></i></a> <a href="javascript:void(0);" title="取消修改" ng-click="btnOrderItems_Oper(\'repeat\',$index)"><i class="fa fa-repeat btn-icon gray"></i></a> </td> </tr> </tbody> </table> <div ng-if="!!isShow"> <button type="button" class="btn btn-default pull-right" style="margin-left: 10px" ng-click="btnOrderItems_Oper(\'cancel\')" ng-show="!!_editOrderItems"> <i class="fa fa-repeat"></i>取消修改 </button> <button type="button" class="btn btn-default pull-right" style="margin-left: 10px" ng-click="btnOrderItems_Oper(\'add\')" ng-show="!!_editOrderItems"> <i class="fa fa-plus"></i>新增 </button> <!-- <label class="control-label red pull-right" ng-show="!!_editOrderItems">内容修改后，请点击底部“保存”按钮。</label>\n                            <button type="button" class="btn btn-default pull-right" style="margin-left: 10px;" ng-click="btnEditOrderItems()" ng-show="!_editOrderItems">\n                                <button type="button" class="btn btn-default pull-right" style="margin-left: 10px;" ng-click="btnEditOrderItems()" ng-show="!_editOrderItems">\n                            <i class="fa fa-edit"></i>修改品名\n                        </button> --> </div> <label class="control-label red pull-right" ng-show="!!_editOrderItems">内容修改后，请点击底部“保存”按钮。</label> <button type="button" class="btn btn-default pull-right role" data-role="84" style="margin-left: 10px" ng-click="btnEditOrderItems()" ng-show="!_editOrderItems"> <i class="fa fa-edit"></i>修改品名 </button> </div> </div> <div class="clearfix"></div> <!--<div class="form-group">\n                    <label class="col-sm-2 control-label text-right">增值服务：</label>\n                    <div class="col-sm-4">\n                        <label class="control-label">{{data.valueAddService || "无"}}</label>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-sm-2 control-label text-right">保价服务：</label>\n                    <div class="col-sm-4">\n                        <label class="control-label" ng-show="!!data.valueKeepService">保费￥{{data.valueKeepService}}</label>\n                        <label class="control-label" ng-show="!data.valueKeepService">无</label>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-sm-2 control-label text-right">优惠券号：</label>\n                    <div class="col-sm-4">\n                        <label class="control-label">{{data.couponNo || "无"}}</label>\n                    </div>\n                </div>--> </fieldset> <fieldset ng-if="!isPrintDetail"> <legend>批价信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">包裹信息：</label> <div class="row col-sm-8"> <table class="table"> <thead> <tr> <th>CUL包裹单号</th> <th>打包重量</th> <th>打包品名</th> <th>打包数量</th> <th>计费重量</th> <th>运费合计</th> <th>出库信息</th> <!--<th>打包人员</th>--> </tr> </thead> <tbody> <tr ng-repeat="item in data.outboundPackages"> <td>{{item.trackingNumber}}</td> <td>{{item.actualWeight | number : 2}}磅</td> <td>{{item.subDeclareGoodsName}}</td> <td>{{item.subGoodNumber}}</td> <td>{{item.billingWeight | number : 2}}磅</td> <td ng-if="data.currencyCode === \'USD\'">{{item.shippingFee | currency:\'$\'}}</td> <td ng-if="data.currencyCode !== \'USD\'">{{item.shippingFee | currency:\'￥\'}}</td> <td>{{item.status | _outPackageStatus}}</td> <!--<td>{{item.lastEditUserName}}</td>--> </tr> </tbody> </table> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">发货仓库：</label> <div class="col-sm-4"> <label class="control-label">{{data.warehouseName}}</label> </div> <label class="col-sm-2 control-label text-right">打包人员：</label> <div class="col-sm-4"> <label class="control-label">{{data.outboundPackages[0].lastEditUserName}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">包裹件数：</label> <div class="col-sm-4"> <label class="control-label">{{data.outboundPackages.length}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right" style="font-weight:bold">总重量：</label> <div class="col-sm-4"> <label class="control-label" style="font-weight:bold">{{data.actualWeight | number : 2}}磅</label> </div> <label class="col-sm-2 control-label text-right" style="font-weight:bold">运费合计({{data.currencyCode === \'USD\' ? \'$\' : \'￥\'}})：</label> <div class="col-sm-4"> <label ng-if="data.currencyCode === \'USD\'" class="control-label" style="font-weight:bold">{{data._shippingFeeTotal | currency:\'$\'}}</label> <label ng-if="data.currencyCode !== \'USD\'" class="control-label" style="font-weight:bold">{{data._shippingFeeTotal | currency:\'￥\'}}</label> </div> </div> <hr class="inner-separator"> <div class="form-group"> <label class="col-sm-2 control-label text-right">购买保险：</label> <div class="col-sm-4"> <label ng-if="data.currencyCode === \'USD\'" class="control-label">{{data.insuranceFee | currency:\'$\'}}</label> <label ng-if="data.currencyCode !== \'USD\'" class="control-label">{{data.insuranceFee | currency:\'￥\'}}</label> </div> <label class="col-sm-2 control-label text-right">小 &nbsp; &nbsp; &nbsp; 费：</label> <div class="col-sm-4"> <label ng-if="data.currencyCode === \'USD\'" class="control-label">{{data.tip | currency:\'$\'}}</label> <label ng-if="data.currencyCode !== \'USD\'" class="control-label">{{data.tip | currency:\'￥\'}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">增值服务：</label> <div class="col-sm-4"> <label ng-if="data.currencyCode === \'USD\'" class="control-label">{{data.valueAddFee | currency:\'$\'}}</label> <label ng-if="data.currencyCode !== \'USD\'" class="control-label">{{data.valueAddFee | currency:\'￥\'}}</label> </div> <label class="col-sm-2 control-label text-right">积分抵扣：</label> <div class="col-sm-4"> <label ng-if="data.currencyCode === \'USD\'" class="control-label">-{{(data.usedPoint||0) | currency:\'$\'}}</label> <label ng-if="data.currencyCode !== \'USD\'" class="control-label">-{{(data.usedPoint||0) | currency:\'￥\'}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right"> 清关费用：</label> <div class="col-sm-4"> <label ng-if="data.currencyCode === \'USD\'" class="control-label">{{data.tariffMoney | currency:\'$\'}}</label> <label ng-if="data.currencyCode !== \'USD\'" class="control-label">{{data.tariffMoney | currency:\'￥\'}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right" style="font-weight:bold">运费总计：</label> <div class="col-sm-4"> <label class="control-label" ng-if="data.currencyCode === \'USD\'" style="font-weight:bold">{{((data.shippingFee + data.tariffMoney + data.tip + data.valueAddFee + data.insuranceFee) - data.usedPoint) | currency:\'$\'}}</label> <label class="control-label" ng-if="data.currencyCode !== \'USD\'" style="font-weight:bold">{{((data.shippingFee + data.tariffMoney + data.tip + data.valueAddFee + data.insuranceFee) - data.usedPoint) | currency:\'￥\'}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right" style="font-weight:bold">实际支付：</label> <div class="col-sm-4"> <label ng-if="data.currencyCode === \'USD\'" class="control-label" style="font-weight:bold">{{data.paied | currency:\'$\'}}</label> <label ng-if="data.currencyCode !== \'USD\'" class="control-label" style="font-weight:bold">{{data.paied | currency:\'￥\'}}</label> </div> <label class="col-sm-2 control-label text-right" style="font-weight:bold">支付日期：</label> <div class="col-sm-4"> <label class="control-label" style="font-weight:bold">{{data.payDate | date:\'yyyy-MM-dd HH:mm:ss\'}}</label> </div> </div> <div class="form-group" ng-if="data.totalRefund && data.totalRefund > 0"> <label class="col-sm-2 control-label text-right" style="font-weight:bold">已返还运费：</label> <div class="col-sm-4"> <label ng-if="data.currencyCode === \'USD\'" class="control-label" style="font-weight:bold">{{data.totalRefund | currency:\'$\'}}</label> <label ng-if="data.currencyCode !== \'USD\'" class="control-label" style="font-weight:bold">{{data.totalRefund | currency:\'￥\'}}</label> </div> </div> <div class="form-group" ng-if="data.shippingFeeAdjust && data.shippingFeeAdjust < 0"> <label class="col-sm-2 control-label text-right" style="font-weight:bold;color:red">拖欠运费：</label> <div class="col-sm-4"> <label ng-if="data.currencyCode === \'USD\'" class="control-label" style="font-weight:bold;color:red">{{data.shippingFeeAdjust | currency:\'$\'}}</label> <label ng-if="data.currencyCode !== \'USD\'" class="control-label" style="font-weight:bold;color:red">{{data.shippingFeeAdjust | currency:\'￥\'}}</label> </div> </div> </fieldset> <fieldset> <legend>附加服务：</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">附加服务：</label> <div class="col-sm-1" ng-show="result.pack_takeoutInvoice == 1"> <i class="fa fa-check-circle"></i><label class="control-label">取出发票</label> </div> <div class="col-sm-1" ng-show="result.pack_urgentProcess == 1"> <i class="fa fa-check-circle"></i><label class="control-label">加急处理</label> </div> <div class="col-sm-1" ng-show="result.pack_steadyInner == 1"> <i class="fa fa-check-circle"></i><label class="control-label">内件加固</label> </div> <div class="col-sm-1" ng-show="result.pack_replaceCarton == 1"> <i class="fa fa-check-circle"></i><label class="control-label">更换外箱</label> </div> <div class="col-sm-1" ng-show="result.pack_removeInner == 1"> <i class="fa fa-check-circle"></i><label class="control-label">去鞋盒/包装</label> </div> <div class="col-sm-1" ng-show="result.pack_addCarton == 1"> <i class="fa fa-check-circle"></i><label class="control-label">加套外箱</label> </div> <!-- <div class="col-sm-1" ng-show="result.pack_checkCount == 1">\n                        <i class="fa fa-check-circle"></i><label class="control-label">清点拍照</label>\n                    </div> --> </div> </fieldset> <fieldset> <legend>备注信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">留言记录：</label> <div class="row col-sm-4"> <div style="margin-bottom:10px" ng-repeat="item in data.messageLogs"> <div class="col-sm-6 blue">{{item.operationUserName}}</div> <div class="col-sm-6 text-right">{{item.operationDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</div> <div class="col-sm-12">{{item.message}}</div> <a ng-repeat="image in item.images track by $index" href="{{image}}" target="_blank"> <img style="width:50px;margin:10px" ng-src="{{image}}"> </a> <div class="clearfix"></div> </div> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">您的留言：</label> <div class="col-sm-4"> <div class="row fileupload-buttonbar" style="padding-left:15px;margin-right:0px"> <div class="thumbnail col-sm-12"> <a href="{{data._images}}" target="_blank"> <img id="uploadImg_show" style="height:70px;margin-top:10px;margin-bottom:8px" ng-src="{{data._images}}" data-holder-rendered="true"> </a> <div class="progress progress-striped active" role="progressbar" aria-valuemin="10" aria-valuemax="100" aria-valuenow="0" style="height:10px;margin-bottom:0px"> <div id="progress" class="progress-bar progress-bar-success" style="width:0%"></div> </div> <div class="caption" align="center"> <span id="uploadImg_upload" class="btn btn-primary fileinput-button"> <span id="file_btn_text">上传</span> <input type="file" id="uploadImg" name="uploadImg_image"> </span> </div> </div> </div> </div> <div class="clearfix"></div> <label class="col-sm-2 control-label text-right"></label> <div class="col-sm-4"> <textarea class="form-control" ng-model="_message"></textarea> </div> <button type="button" class="btn btn-default" ng-click="btnMessagePush()"><i class="fa fa-comment"></i>回复</button> </div> </fieldset> <div class="form-group text-center"> <!--<button type="button" class="btn btn-primary" ng-if="!isPrintDetail">通过</button>--> <button type="button" class="btn btn-primary" ng-if="!isPrintDetail" ng-click="btnSave()"><i class="fa fa-save"></i>保存</button> <button type="button" class="btn btn-primary" ng-if="isPrintDetail"><i class="fa fa-print"></i>打印</button> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </form> </div> </div> <style>.form-edit input:focus {\n        width: 200px;\n    }</style>'),
a.put("views/order/orderexport.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 订单导出</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">导出类型：</label> <select class="form-control search-control" ng-model="searchBar.type"> <option value="single">单包导出</option> <option value="multi">多包导出</option> <option value="bak">导出备份</option> <option value="update">更新导出</option> </select> </div> <div class="search-col"> <label class="search-label">渠道类型：</label> <select class="form-control search-control" ng-model="searchBar.channel" ng-options="option.value as option.title for option in channelFilter[searchBar.type]"></select> </div> <div class="search-col" style="float:right; margin-right:0px"> <button type="button" class="btn btn-primary">信息导出</button> <button type="button" class="btn btn-primary" style="margin-left:5px">确认导出</button> </div> </div> </div> <table class="table table-bordered"> <thead> <tr> <th><input type="checkbox" ng-change="btnSelectedItem()" ng-model="searchBar.selectedAll"></th> <th>序号</th> <th>订单编号</th> <th>日期</th> <th>客户编号</th> <th>客户ID</th> <th>标示</th> <th>价格</th> <th>仓库位置</th> <th>订单状态</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td><input type="checkbox" ng-change="btnSelectedItem(item)" ng-model="item._selected"></td> <td>{{item.id}}</td> <td><a href="javascript:void(0);">{{item.orderNumber}}</a></td> <td>{{item.paymentDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td><a href="javascript:void(0);">{{item.number}}</a></td> <td>{{item.userId}}</td> <td>{{item.tag}}</td> <td>{{item.price}}</td> <td>{{item.warehouse}}</td> <td>{{item.orderStatus}}</td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div>'),a.put("views/order/orderlist.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 订单列表</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">订单状态：</label> <select class="form-control search-control" ng-model="searchBar.orderStatus"> <option value="">全部(不包括已删除)</option> <option value="Unpaid">待支付</option> <option value="Paid">已支付</option> <option value="Processing">处理中</option> <option value="WaybillUpdated">运单更新</option> <option value="Arrears">运费不足</option> <option value="PartialShipped">部分出库</option> <option value="Shipped">已出库</option> <option value="Void">已删除</option> </select> </div> <div class="search-col"> <label class="search-label">打印状态：</label> <select class="form-control search-control" ng-model="searchBar.printStatus"> <option value="">全部</option> <option value="UnPrinted">未打印</option> <option value="Printed">已打印</option> </select> </div> <div class="search-col"> <label class="search-label">订单类型：</label> <select class="form-control search-control" ng-model="searchBar.orderType"> <option value="">全部</option> <option value="1">线上订单</option> <option value="0">线下订单</option> </select> </div> <div class="search-col"> <label class="search-label">发货仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select> </div> <div class="search-col"> <label class="search-label">发货渠道：</label> <select class="form-control search-control" ng-model="searchBar.shipServiceId" ng-options="item.shipServiceId as item.shipServiceName for item in searchBar.shippingChannelList"></select> </div> <div class="search-col"> <label class="search-label"> <input type="checkbox" ng-model="searchBar.isFastOrder"> <span>极速原箱 <i class="fa fa-bolt" aria-hidden="true" style="color:#ff6a00;font-size:16px"></i></span> </label> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">开始日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> <div class="pull-left"> <label class="search-label">日</label> <select class="form-control search-control" style="width:55px; padding-left: 5px" ng-model="searchBar.startTime_HH"> <option value="0">00</option> <option value="1">01</option> <option value="2">02</option> <option value="3">03</option> <option value="4">04</option> <option value="5">05</option> <option value="6">06</option> <option value="7">07</option> <option value="8">08</option> <option value="9">09</option> <option value="10">10</option> <option value="11">11</option> <option value="12">12</option> <option value="13">13</option> <option value="14">14</option> <option value="15">15</option> <option value="16">16</option> <option value="17">17</option> <option value="18">18</option> <option value="19">19</option> <option value="20">20</option> <option value="21">21</option> <option value="22">22</option> <option value="23">23</option> </select> <label class="search-label">时</label> <input type="text" class="form-control search-control" style="width:45px" maxlength="2" ng-model="searchBar.startTime_mm"> <label class="search-label">分</label> <input type="text" class="form-control search-control" style="width:45px" maxlength="2" ng-model="searchBar.startTime_ss"> <label class="search-label">秒</label> </div> </div> <div class="search-col"> <label class="search-label">结束日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> <div class="pull-left"> <label class="search-label">日</label> <select class="form-control search-control" style="width:55px; padding-left: 5px" ng-model="searchBar.endTime_HH"> <option value="0">00</option> <option value="1">01</option> <option value="2">02</option> <option value="3">03</option> <option value="4">04</option> <option value="5">05</option> <option value="6">06</option> <option value="7">07</option> <option value="8">08</option> <option value="9">09</option> <option value="10">10</option> <option value="11">11</option> <option value="12">12</option> <option value="13">13</option> <option value="14">14</option> <option value="15">15</option> <option value="16">16</option> <option value="17">17</option> <option value="18">18</option> <option value="19">19</option> <option value="20">20</option> <option value="21">21</option> <option value="22">22</option> <option value="23">23</option> </select> <label class="search-label">时</label> <input type="text" class="form-control search-control" style="width:45px" maxlength="2" ng-model="searchBar.endTime_mm"> <label class="search-label">分</label> <input type="text" class="form-control search-control" style="width:45px" maxlength="2" ng-model="searchBar.endTime_ss"> <label class="search-label">秒</label> </div> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="customerNumber">客户编号</option> <option value="orderNumber">订单编号</option> <option value="receiveTrackingNumber">\b入库单号</option> <option value="outBoundTrackingNumber">CUL包裹单号</option> <option value="referenceOrderNumber">客户关联订单号</option> <option value="cnTrackingNumber">国内物流号</option> <option value="userName">客户ID</option> <option value="receiveIdentity">客户标示</option> <option value="referenceOrderNumber">客户关联号</option> </select> <textarea type="text" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"></textarea> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> <div class="col-sm-12 search-bar" ng-show="selectedListCache.length > 0"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">已选择：{{selectedListCache.length}}个订单</label> <button type="button" class="btn btn-link" ng-click="btnClearSelectedListCache();">清除已选项</button> </div> </div> </div> <table class="table table-bordered"> <thead> <tr> <th><input type="checkbox" ng-change="btnSelectedItem(item)" ng-model="searchBar.selectedAll"></th> <th>序号</th> <th>订单批号</th> <th>客户编号</th> <th>订单编号</th> <th>CUL包裹单号</th> <th>入库单号</th> <th>生成日期</th> <!--<th>客户ID</th>--> <!--<th>标示</th>--> <th>客户关联号</th> <th>发货仓库</th> <th>发货渠道</th> <th>收货地址</th> <th>价格</th> <th>订单状态</th> <!--<th>通过状态</th>--> <th>打印状态</th> <th>VIP支付状态</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td><input type="checkbox" ng-change="btnSelectedItem(item)" ng-model="item._selected"></td> <td>{{item.rownumber}}</td> <td style="max-width: 150px">{{item.batchNumber || \'-\'}}</td> <td><a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'customerdetail\')">{{item.customer.customerNumber}}</a></td> <td style="max-width: 200px"> <a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'orderdetail\')">{{item.orderNumber}}</a> <span ng-if="item.isFastOrder == 1" title="极速原箱"> <i class="fa fa-bolt" aria-hidden="true" style="color:#ff6a00;font-size:16px"></i> </span> </td> <td style="max-width: 160px"> <div ng-repeat="pkg in item._outboundTrackingNumbers track by $index">{{pkg}}</div> </td> <td class="long-cell"> <div ng-repeat="pkg in item._inboundTrackingNumbers" style="overflow: hidden">{{pkg}}</div> </td> <td style="max-width: 160px">{{item.orderDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td style="max-width: 200px">{{item.referenceOrderNumber || \'-\'}}</td> <td style="max-width:150px">{{item.warehouseName}}</td> <td style="max-width:150px">{{item.shipServiceName}}</td> <td class="long-cell"> <p ng-repeat="ads in item._shipToAddresses track by $index"> {{ads}} </p> </td> <td> <span ng-if="item.currencyCode == \'USD\'" title="USD"> <i class="fa fa-dollar" aria-hidden="true"></i> </span> <span ng-if="item.currencyCode != \'USD\'" title="RMB"> <i class="fa fa-rmb" aria-hidden="true"></i> </span> {{item.actualWeight == 0 ? item.paied : item.totalCount}} <!-- {{item.totalPaied}} --> </td> <td>{{item._orderStatus}}</td> <!--<td>{{item.processStatus}}</td>--> <td>{{item._printStatus}}</td> <td>{{item.vipPayStatus | _payStatus}}</td> <td> <!-- 删除已支付和未支付订单 --> <a href="javascript:void(0);" class="role" data-role="83" ng-click="btnDeleteApproval(item)" ng-if="item._orderStatus == \'未支付\' || item._orderStatus == \'已支付\'">删除</a> <!-- <a href="javascript:void(0);" class="role" data-role="107" ng-click="btnDeleteApproval(item)" ng-if="item._orderStatus == \'未支付\' || item._orderStatus == \'已支付\'">删除</a> --> <!-- 删除其他状态订单 --> <a href="javascript:void(0);" class="role" data-role="107" ng-click="btnDeleteApproval(item)" ng-if="item._orderStatus != \'未支付\' && item._orderStatus != \'已支付\'">删除</a> </td> </tr> </tbody> </table> <div class="row"> <div class="text-left pull-left" style="margin-left:20px"> <!--<a class="btn btn-primary" target="_blank" ng-href="{{exportUrl}}">将结果导出Excel文件</a>--> <form id="form_export" method="post" action="/" target="_blank"> <input id="dateFrom" name="dateFrom" type="hidden" value="{{exportOptions.dateFrom}}"> <input id="dateTo" name="dateTo" type="hidden" value="{{exportOptions.dateTo}}"> <input id="orderStatus" name="orderStatus" type="hidden" value="{{exportOptions.orderStatus}}"> <input id="printStatus" name="printStatus" type="hidden" value="{{exportOptions.printStatus}}"> <input id="warehouseNumber" name="warehouseNumber" type="hidden" value="{{exportOptions.warehouseNumber}}"> <input id="shipServiceId" name="shipServiceId" type="hidden" value="{{exportOptions.shipServiceId}}"> <input id="customerNumber" name="customerNumber" type="hidden" value="{{exportOptions.customerNumber}}"> <input id="userName" name="userName" type="hidden" value="{{exportOptions.userName}}"> <input id="orderNumber" name="orderNumber" type="hidden" value="{{exportOptions.orderNumber}}"> <input id="receiveTrackingNumber" name="receiveTrackingNumber" type="hidden" value="{{exportOptions.receiveTrackingNumber}}"> <input id="outBoundTrackingNumber" name="outBoundTrackingNumber" type="hidden" value="{{exportOptions.outBoundTrackingNumber}}"> <input id="receiveidentity" name="receiveidentity" type="hidden" value="{{exportOptions.receiveidentity}}"> <input id="referenceOrderNumber" name="referenceOrderNumber" type="hidden" value="{{exportOptions.referenceOrderNumber}}"> <input id="cnTrackingNumber" name="cnTrackingNumber" type="hidden" value="{{exportOptions.cnTrackingNumber}}"> <input id="token" name="token" type="hidden" value="{{exportOptions.token}}"> <button type="submit" class="btn btn-primary role" data-role="33">将结果导出Excel文件</button> </form> </div> <div class="text-right pull-left" style="margin-left:10px"> <form id="form_exportUSPS" method="post" action="/" target="_blank"> <input id="USPS_dateFrom" name="dateFrom" type="hidden" value="{{exportOptions.dateFrom}}"> <input id="USPS_dateTo" name="dateTo" type="hidden" value="{{exportOptions.dateTo}}"> <input id="USPS_orderStatus" name="orderStatus" type="hidden" value="{{exportOptions.orderStatus}}"> <input id="USPS_printStatus" name="printStatus" type="hidden" value="{{exportOptions.printStatus}}"> <input id="USPS_warehouseNumber" name="warehouseNumber" type="hidden" value="{{exportOptions.warehouseNumber}}"> <input id="USPS_shipServiceId" name="shipServiceId" type="hidden" value="{{exportOptions.shipServiceId}}"> <input id="USPS_customerNumber" name="customerNumber" type="hidden" value="{{exportOptions.customerNumber}}"> <input id="USPS_userName" name="userName" type="hidden" value="{{exportOptions.userName}}"> <input id="USPS_orderNumber" name="orderNumber" type="hidden" value="{{exportOptions.orderNumber}}"> <input id="USPS_outBoundTrackingNumber" name="outBoundTrackingNumber" type="hidden" value="{{exportOptions.outBoundTrackingNumber}}"> <input id="USPS_receiveidentity" name="receiveidentity" type="hidden" value="{{exportOptions.receiveidentity}}"> <input id="USPS_referenceOrderNumber" name="referenceOrderNumber" type="hidden" value="{{exportOptions.referenceOrderNumber}}"> <input id="USPS_cnTrackingNumber" name="cnTrackingNumber" type="hidden" value="{{exportOptions.cnTrackingNumber}}"> <input id="USPS_token" name="token" type="hidden" value="{{exportOptions.token}}"> <button type="submit" class="btn btn-primary" data-role="34"><i class="fa fa-file-excel-o" aria-hidden="true"></i> 将结果导出USPS文件</button> </form> </div> <div class="text-right pull-left" style="margin-left:10px"> <form id="form_exportHT" method="post" action="/" target="_blank"> <input id="USPS_dateFrom" name="dateFrom" type="hidden" value="{{exportOptions.dateFrom}}"> <input id="USPS_dateTo" name="dateTo" type="hidden" value="{{exportOptions.dateTo}}"> <input id="USPS_orderStatus" name="orderStatus" type="hidden" value="{{exportOptions.orderStatus}}"> <input id="USPS_printStatus" name="printStatus" type="hidden" value="{{exportOptions.printStatus}}"> <input id="USPS_warehouseNumber" name="warehouseNumber" type="hidden" value="{{exportOptions.warehouseNumber}}"> <input id="USPS_shipServiceId" name="shipServiceId" type="hidden" value="{{exportOptions.shipServiceId}}"> <input id="USPS_customerNumber" name="customerNumber" type="hidden" value="{{exportOptions.customerNumber}}"> <input id="USPS_userName" name="userName" type="hidden" value="{{exportOptions.userName}}"> <input id="USPS_orderNumber" name="orderNumber" type="hidden" value="{{exportOptions.orderNumber}}"> <input id="USPS_outBoundTrackingNumber" name="outBoundTrackingNumber" type="hidden" value="{{exportOptions.outBoundTrackingNumber}}"> <input id="USPS_receiveidentity" name="receiveidentity" type="hidden" value="{{exportOptions.receiveidentity}}"> <input id="USPS_referenceOrderNumber" name="referenceOrderNumber" type="hidden" value="{{exportOptions.referenceOrderNumber}}"> <input id="USPS_cnTrackingNumber" name="cnTrackingNumber" type="hidden" value="{{exportOptions.cnTrackingNumber}}"> <input id="USPS_token" name="token" type="hidden" value="{{exportOptions.token}}"> <button type="submit" class="btn btn-primary" data-role="34"><i class="fa fa-file-excel-o" aria-hidden="true"></i> 将结果导出为HT订单</button> </form> </div> <div class="text-right pull-left" style="margin-left:10px"> <button type="button" class="btn btn-primary" ng-click="delSomeOrder()" data-role="34"> 批量删除</button> </div> </div> <div class="col-sm-9 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div>  <script type="text/html" id="confirm-modal"><form class="form-horizontal" role="form">\n        <fieldset>\n            <legend>删除</legend>\n\n            <div class="form-group">\n                <label class="col-sm-3 control-label text-right">删除原因:</label>\n                <div class="col-sm-5 text-left">\n                    <textarea type="input" class="form-control" ng-model="deleteMessage" ></textarea>\n                </div>\n            </div>\n\n        </fieldset>\n        <div class="form-group text-center">\n            <button type="button" class="btn btn-primary" ng-click="btnDelete(item, $event)">确定</button>\n            <button type="button" class="btn btn-default" ng-click="btnCancel($event)">取消</button>\n        </div>\n    </form></script>'),a.put("views/order/orderofflineimport.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 批量创建线下订单</h3> </div> <div class="widget-content"> <div class="wizard-wrapper"> <div id="offline-order-wizard" class="wizard"> <ul class="steps"> <li data-target="#step1" class="active"><span class="badge badge-info">1</span>上传文件<span class="chevron"></span></li> <li data-target="#step2"><span class="badge">2</span>文件预检测<span class="chevron"></span></li> <li data-target="#step3"><span class="badge">3</span>创建订单<span class="chevron"></span></li> <!-- <li data-target="#step4"><span class="badge">4</span>订单支付</li>\n                    <li data-target="#step5" class="last"><span class="badge">5</span>订单出库</li> --> </ul> </div> <div class="step-content"> <div class="step-pane active" id="step1"> <div class="col-sm-12 search-bar"> <div class="col-sm-6 col-padding-clear"><a class="btn btn-sm btn-primary" download="offlineorder.xlsx" href="resource/offlineorder.xlsx"><i class="fa fa-download fa-3x pull-left"></i> 批量线下订单模板<br><small>Excel文件下载</small></a></div> <div class="search-col pull-right col-padding-clear"> <label class="search-label">批号查询：</label> <input type="text" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="输入订单批号" ng-model="searchBatchNumber" ng-enter="btnBatchQuery()"> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnBatchQuery()">搜索</button> </div> <div class="clearfix"></div> </div> <div class="col-sm-12"> <form id="form1" class="dropzone" enctype="multipart/form-data"></form> </div> </div> <div class="step-pane" id="step2"> <form id="form2"> <p> 正在对上传的文件进行预检查，请耐心等待... <br> <em><small class="red">预检查过程中请不要进行其它操作</small></em> </p> <div class="row"> <div class="col-sm-12"> <div class="progress progress-striped active"> <div id="precheckProgressBar" class="progress-bar progress-bar-info" data-transitiongoal="100"></div> </div> </div> <div class="col-sm-12"> <div class="contextual-summary-info contextual-background green-bg" ng-show="stepValidation[1] === true"> <i class="fa fa-check-circle"></i> <p class="pull-right"><span style="font-size:32px">文件预检查成功！</span></p> </div> <div class="contextual-summary-info contextual-background red-bg clearfix" ng-show="stepValidation[1] === false"> <i class="fa fa-close" style="width:5%"></i> <p class="pull-right" style="width:95%"><span style="font-size:20px">{{excelErrorMessage}}</span></p> </div> </div> </div> </form> </div> <div class="step-pane" id="step3"> <form id="form3" ng-show="tpl_status.step3 == 1"> <p> 正在创建订单，请稍后... </p> <div class="row"> <div class="col-sm-12"> <div class="progress progress-striped active"> <div id="createOrderProgressBar" class="progress-bar progress-bar-info" data-transitiongoal="100"></div> </div> </div> </div> </form> <div class="col-sm-12" ng-show="tpl_status.step3 == 2"> <div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 订单列表</h3> </div> <br> <div class="col-sm-12 search-bar"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">批打通道：</label> <!--<select class="form-control search-control"\n                                            ng-model="searchBar.batchChannel"\n                                            ng-options="option.value as option.title for option in channelFilter"></select>--> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnPrintBatch(\'package\')">批量打印订单</button> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnPrintBatch(\'trackingNumber\')">批量打印包裹号</button> </div> </div> <div class="col-sm-12 search-bar"> <i class="fa fa-info-circle"></i><label class="search-label">请点击打印包裹号按钮打印CUL条码粘贴到包裹上.</label> </div> <div class="col-sm-12 search-bar" style="margin-bottom: 0px" ng-show="selectedListCache.length > 0"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">已选择：{{selectedListCache.length}}个订单</label> <button type="button" class="btn btn-link" ng-click="btnClearSelectedListCache();">清除已选项</button> </div> </div> <div class="widget-content"> <table class="table table-bordered"> <thead> <tr> <th><input type="checkbox" ng-change="btnSelectedItem()" ng-model="searchBar.selectedAll"></th> <th>序号</th> <th>订单编号</th> <th>客户编号</th> <th>客户关联编号</th> <th>生成日期</th> <th>包裹数</th> <th>CUL包裹单号</th> <td>发货仓库</td> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td><input type="checkbox" ng-change="btnSelectedItem(item)" ng-model="item._selected"></td> <td>{{item.rownumber}}</td> <td> <a href="javascript:void(0);" ng-click="openDetail(item)">{{item.orderNumber}}</a> <i class="fa fa-remove btn-icon red" ng-click="btnRemoveOrder(item)"></i> </td> <td>{{item.customerNumber}}</td> <td>{{item.referenceOrderNumber}}</td> <td>{{item.orderDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>{{item.outboundPackages.length}}</td> <td> <div ng-repeat="package in item.outboundPackages track by $index">{{package.trackingNumber}}</div> </td> <td>{{item.warehouseName}}</td> <td> <!-- <i class="fa fa-edit btn-icon green" ng-click="openDetail(item)"></i> --> <a href="javascript:void(0)" ng-click="btnPrint(item,\'package\')">打印订单</a> <a href="javascript:void(0)" ng-click="btnPrint(item,\'trackingNumber\')">打印包裹号</a> <!-- <i class="fa fa-remove btn-icon red" ng-click="btnRemoveOrder(item)"></i> --> </td> </tr> </tbody> </table> <!--<div class="row">\n                                    <div class="col-sm-12">\n                                        <uib-pagination class="pagination pagination-rewrite pull-right"\n                                                        style="width: 100%;"\n                                                        boundary-links="true"\n                                                        max-size="5"\n                                                        total-items="pagination.totalCount"\n                                                        items-per-page="pagination.pageSize"\n                                                        ng-model="pagination.pageIndex"\n                                                        ng-change="getData()"\n                                                        previous-text="上一页"\n                                                        next-text="下一页"\n                                                        first-text="首页"\n                                                        last-text="尾页">\n                                        </uib-pagination>\n                                    </div>\n                                </div>--> </div> </div> </div> </div> <div class="step-pane" id="step4"> <form id="form4"> <div class="form-group"> <label class="control-label">总计重量：</label> <label class="control-label">{{paymentInfo.totalWeight | number:2}}磅</label> </div> <div class="form-group"> <label class="control-label">总计运费：</label> <label class="control-label">${{paymentInfo.shippingFee | number:2}}</label> </div> <p style="border-top: 1px solid lightgray; padding-top: 20px">请选择支付方式:</p> <div class="form-group"> <label><input type="radio" ng-model="paymentInfo.paymentType" value="2">现金</label> <label><input type="radio" ng-model="paymentInfo.paymentType" value="3">支票</label> </div> <div class="form-group"> <label class="control-label">支付金额（美元）：</label> </div> <div class="form-group row col-sm-2"> <input type="text" class="form-control" ng-model="paymentPrice" ng-change="validPaymentPrice()"> </div> <div class="clearfix"></div> </form> </div> <div class="step-pane" id="step5"> <div class="row"> <div class="col-sm-12"> <div class="contextual-summary-info contextual-background green-bg" ng-show="!paymentErrorMessage"> <i class="fa fa-check-circle"></i> <p class="pull-right"><span style="font-size:32px">订单出库成功！</span></p> </div> <div class="contextual-summary-info contextual-background red-bg clearfix" ng-show="!!paymentErrorMessage"> <i class="fa fa-close" style="width:5%"></i> <p class="pull-right" style="width:95%"><span style="font-size:32px">{{paymentErrorMessage}}</span></p> </div> </div> </div> </div> </div> <div class="actions" ng-hide="stepIndex == 3"> <button type="button" class="btn btn-default btn-prev"><i class="fa fa-arrow-left"></i> 上一步</button> <button type="button" class="btn btn-primary btn-next" ng-show="stepIndex < 3" ng-disabled="!btnNextEnable">下一步 <i class="fa fa-arrow-right"></i></button> <button type="button" class="btn btn-primary btn-checkout" ng-show="stepIndex == 3" ng-disabled="!btnNextEnable">订单出库 <i class="fa fa-truck"></i></button> </div> </div> </div> </div> <!-- <button type="button" class="btn btn-primary" ng-click="btnSaveDetail()">\n                        <i class="fa fa-save"></i>确认\n                    </button> --> <!-- Offline Order Detail Modal--> <div id="offlineOrderDetailModal" class="modal" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" style="width: 1024px"> <div class="modal-content"> <div class="modal-body" style="max-height: 700px; overflow-x:hidden; overflow-y: scroll" ng-include="views/order/offlineorderdetail.html"></div> <div class="modal-footer"> <div class="text-center"> <button type="button" class="btn btn-default" data-dismiss="modal"> <i class="fa fa-reply"></i>关闭 </button> </div> </div> </div> </div> </div> <print-offline-package></print-offline-package> <print-tracking-number></print-tracking-number>'),a.put("views/order/orderpackagebatchupdate.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 批量更新包裹信息</h3> </div> <div class="widget-content"> <div class="wizard-wrapper"> <div id="order-package-wizard" class="wizard"> <ul class="steps"> <li data-target="#step1" class="active"><span class="badge badge-info">1</span>上传文件<span class="chevron"></span></li> <li data-target="#step2"><span class="badge">2</span>文件预检测<span class="chevron"></span></li> <li data-target="#step3"><span class="badge">3</span>包裹更新<span class="chevron"></span></li> </ul> </div> <div class="step-content"> <div class="step-pane active" id="step1"> <p><a class="btn btn-sm btn-primary" download="outboundpackage.xlsx" href="resource/outboundpackage.xlsx"><i class="fa fa-download fa-3x pull-left"></i> 批量更新包裹物流<br><small>Excel文件下载</small></a></p> <form id="form1" class="dropzone" enctype="multipart/form-data"></form> </div> <div class="step-pane" id="step2"> <form id="form2"> <p> 正在对上传的文件进行预检查，请耐心等待... <br> <em><small class="red">预检查过程中请不要进行其它操作</small></em> </p> <div class="row"> <div class="col-sm-12"> <div class="progress progress-striped active"> <div id="precheckProgressBar" class="progress-bar progress-bar-info" data-transitiongoal="100"></div> </div> </div> <div class="col-sm-12"> <div class="contextual-summary-info contextual-background green-bg" ng-show="stepValidation[1] === true"> <i class="fa fa-check-circle"></i> <p class="pull-right"><span style="font-size:32px">文件预检查成功！</span></p> </div> <div class="contextual-summary-info contextual-background red-bg clearfix" ng-show="stepValidation[1] === false"> <i class="fa fa-close" style="width:5%"></i> <p class="pull-right" style="width:95%"><span style="font-size:32px">{{excelErrorMessage}}</span></p> </div> </div> </div> </form> </div> <div class="step-pane" id="step3"> <div class="row"> <div class="col-sm-12"> <div class="contextual-summary-info contextual-background green-bg" ng-show="stepValidation[2] === true"> <i class="fa fa-check-circle"></i> <p class="pull-right"><span style="font-size:32px">包裹更新成功！</span></p> </div> <div class="contextual-summary-info contextual-background red-bg clearfix" ng-show="stepValidation[2] === false"> <i class="fa fa-check-circle" style="width:5%"></i> <p class="pull-right" style="width:95%"><span style="font-size:32px">{{excelErrorMessage}}</span></p> </div> </div> </div> </div> </div> <div class="actions" ng-hide="stepIndex == 3"> <button type="button" class="btn btn-default btn-prev" ng-hide="stepIndex == 1"><i class="fa fa-arrow-left"></i> 上一步</button> <button type="button" class="btn btn-primary btn-next" ng-show="stepIndex < 2" ng-disabled="!btnNextEnable">下一步 <i class="fa fa-arrow-right"></i></button> <button type="button" class="btn btn-primary btn-update" ng-show="stepIndex == 2">包裹更新 <i class="fa"></i></button> </div> </div> </div> </div>'),a.put("views/order/orderprint.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 订单打印</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <!--<div class="search-col">\n                    <label class="search-label">打印类型：</label>\n                    <select class="form-control search-control" ng-model="searchBar.type">\n                        <option value="single">单包打印</option>\n                        <option value="multi">多包打印</option>\n                    </select>\n                </div>--> <!--<div class="search-col">\n                    <label class="search-label">渠道类型：</label>\n                    <select class="form-control search-control"\n                            ng-model="searchBar.channel"\n                            ng-options="option.value as option.title for option in channelFilter"></select>\n                </div>--> <!--<div class="search-col" style="float:right; margin-right:0px;">\n                    <button class="btn btn-primary">确认打印</button>\n                </div>--> <div class="search-col"> <label class="search-label">订单状态：</label> <select class="form-control search-control" ng-model="searchBar.orderStatus"> <option value="">全部(不包括已删除)</option> <option value="Unpaid">待支付</option> <option value="Paid">已支付</option> <option value="Processing">处理中</option> <option value="WaybillUpdated">运单更新</option> <option value="Arrears">运费不足</option> <option value="Shipped">已出库</option> <option value="Void">已删除</option> </select> </div> <div class="search-col"> <label class="search-label">打印状态：</label> <select class="form-control search-control" ng-model="searchBar.printStatus"> <option value="">全部</option> <option value="UnPrinted">未打印</option> <option value="Printed">已打印</option> </select> </div> <div class="search-col"> <label class="search-label">订单类型：</label> <select class="form-control search-control" ng-model="searchBar.orderType"> <option value="">全部</option> <option value="1">线上订单</option> <option value="0">线下订单</option> </select> </div> <div class="search-col"> <label class="search-label">发货仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select> </div> <div class="search-col"> <label class="search-label">发货渠道：</label> <select class="form-control search-control" ng-model="searchBar.shipServiceId" ng-options="item.shipServiceId as item.shipServiceName for item in searchBar.shippingChannelList"></select> </div> <div class="search-col"> <label class="search-label"> <input type="checkbox" ng-model="searchBar.isFastOrder"> <span>极速原箱 <i class="fa fa-bolt" aria-hidden="true" style="color:#ff6a00;font-size:16px"></i></span> </label> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">开始日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> <div class="pull-left"> <label class="search-label">日</label> <select class="form-control search-control" style="width:55px; padding-left: 5px" ng-model="searchBar.startTime_HH"> <option value="0">00</option> <option value="1">01</option> <option value="2">02</option> <option value="3">03</option> <option value="4">04</option> <option value="5">05</option> <option value="6">06</option> <option value="7">07</option> <option value="8">08</option> <option value="9">09</option> <option value="10">10</option> <option value="11">11</option> <option value="12">12</option> <option value="13">13</option> <option value="14">14</option> <option value="15">15</option> <option value="16">16</option> <option value="17">17</option> <option value="18">18</option> <option value="19">19</option> <option value="20">20</option> <option value="21">21</option> <option value="22">22</option> <option value="23">23</option> </select> <label class="search-label">时</label> <input type="text" class="form-control search-control" style="width:45px" maxlength="2" ng-model="searchBar.startTime_mm"> <label class="search-label">分</label> <input type="text" class="form-control search-control" style="width:45px" maxlength="2" ng-model="searchBar.startTime_ss"> <label class="search-label">秒</label> </div> </div> <div class="search-col"> <label class="search-label">结束日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> <div class="pull-left"> <label class="search-label">日</label> <select class="form-control search-control" style="width:55px; padding-left: 5px" ng-model="searchBar.endTime_HH"> <option value="0">00</option> <option value="1">01</option> <option value="2">02</option> <option value="3">03</option> <option value="4">04</option> <option value="5">05</option> <option value="6">06</option> <option value="7">07</option> <option value="8">08</option> <option value="9">09</option> <option value="10">10</option> <option value="11">11</option> <option value="12">12</option> <option value="13">13</option> <option value="14">14</option> <option value="15">15</option> <option value="16">16</option> <option value="17">17</option> <option value="18">18</option> <option value="19">19</option> <option value="20">20</option> <option value="21">21</option> <option value="22">22</option> <option value="23">23</option> </select> <label class="search-label">时</label> <input type="text" class="form-control search-control" style="width:45px" maxlength="2" ng-model="searchBar.endTime_mm"> <label class="search-label">分</label> <input type="text" class="form-control search-control" style="width:45px" maxlength="2" ng-model="searchBar.endTime_ss"> <label class="search-label">秒</label> </div> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="customerNumber">客户编号</option> <option value="orderNumber">订单编号</option> <option value="receiveTrackingNumber">\b入库单号</option> <option value="outBoundTrackingNumber">CUL包裹单号</option> <option value="referenceOrderNumber">客户关联订单号</option> <option value="cnTrackingNumber">国内物流号</option> <option value="userName">客户ID</option> <option value="receiveIdentity">客户标示</option> <option value="referenceOrderNumber">客户关联号</option> </select> <textarea type="text" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords"></textarea> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> <div class="col-sm-12 search-bar"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">批打通道：</label> <!--<select class="form-control search-control"\n                            ng-model="searchBar.batchChannel"\n                            ng-options="option.value as option.title for option in channelFilter"></select>--> <button type="button" class="btn btn-primary role" data-role="35" style="margin-left:5px" ng-click="btnPrintBatch(\'order\')">批量打印订单</button> <button type="button" class="btn btn-primary role" data-role="36" style="margin-left:5px" ng-click="btnPrintBatch(\'flyingexpress_blank\')">打印上订单下空白面单</button> <button type="button" class="btn btn-primary role" data-role="37" style="margin-left:5px" ng-click="btnPrintBatch(\'flyingexpress2\')">批量打印特快渠道单据</button> <button type="button" class="btn btn-primary role" data-role="38" style="margin-left:5px" ng-click="btnPrintBatch(\'package\')">批量打印发票</button> <button type="button" class="btn btn-primary role" data-role="39" style="margin-left:5px" ng-click="btnPrintBatch(\'trackingNumber\')">批量打印包裹号</button> </div> <div class="search-col" style="margin-top: 10px; margin-left:70px"> <button type="button" class="btn btn-primary role" data-role="36" style="margin-left:5px" ng-click="btnPrintBatch(\'flyingexpress\')">批量打印特快渠道面单</button> <button type="button" class="btn btn-primary role" data-role="40" style="margin-left:5px" ng-click="btnPrintBatch(\'flyingexpress_new\')">批量打印QD渠道面单</button> <button type="button" class="btn btn-primary role" data-role="40" style="margin-left:5px" ng-click="btnPrintEmptyFlyingExpress()">打印空白特快渠道单据</button> </div> </div> <div class="col-sm-12 search-bar" style="margin-bottom: 0px" ng-show="selectedListCache.length > 0"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">已选择：{{selectedListCache.length}}个订单</label> <button type="button" class="btn btn-link" ng-click="btnClearSelectedListCache();">清除已选项</button> </div> </div> </div> </div> <table class="table table-bordered"> <thead> <tr> <th><input type="checkbox" ng-change="btnSelectedItem()" ng-model="searchBar.selectedAll"></th> <th>序号</th> <th>订单批号</th> <th>订单编号</th> <th>生成日期</th> <th>客户编号</th> <th>客户ID</th> <th>标示</th> <th>CUL包裹单号</th> <th>打印状态</th> <th>订单状态</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td><input type="checkbox" ng-change="btnSelectedItem(item)" ng-model="item._selected"></td> <td>{{item.rownumber}}</td> <td style="max-width: 150px">{{item.batchNumber || \'-\'}}</td> <td style="max-width: 200px"> <a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'orderdetail\')">{{item.orderNumber}}</a> <span ng-if="item.isFastOrder == 1" title="极速原箱"> <i class="fa fa-bolt" aria-hidden="true" style="color:#ff6a00;font-size:16px"></i> </span> </td> <td>{{item.orderDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td><a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'customerdetail\')">{{item.customer.customerNumber}}</a></td> <td>{{item.customer.userName}}</td> <td>{{item.customer.receiveIdentity}}</td> <td style="max-width: 150px"> <div ng-repeat="pkg in item.outboundPackages">{{pkg.trackingNumber}}</div> </td> <td>{{item._printStatus}}</td> <td>{{item._orderStatus}}</td> <td> <a href="javascript:void(0)" class="role" data-role="41" ng-click="btnPrint(item,\'order\')">打印订单</a> <a href="javascript:void(0)" class="role" data-role="42" ng-click="btnPrint(item,\'flyingexpress\')">打印特快渠道面单</a> <a href="javascript:void(0)" class="role" data-role="42" ng-click="btnPrint(item,\'flyingexpress_new\')">打印QD渠道面单 <a href="javascript:void(0)" class="role" data-role="42" ng-click="btnPrint(item,\'flyingexpress_blank\')">打印上订单下空白面单</a> <a href="javascript:void(0)" class="role" data-role="43" ng-click="btnPrint(item,\'flyingexpress2\')">打印特快渠道单据</a> <a href="javascript:void(0)" class="role" data-role="44" ng-click="btnPrint(item,\'package\')">打印发票</a> <a href="javascript:void(0)" class="role" data-role="45" ng-click="btnPrint(item,\'trackingNumber\')">打印包裹号</a> </a></td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> <print-order></print-order> <print-package></print-package> <print-flying-express></print-flying-express> <print-flying-express-new></print-flying-express-new> <print-flying-express-blank></print-flying-express-blank> <print-flying-express2></print-flying-express2> <print-flying-express-empty></print-flying-express-empty> <print-tracking-number></print-tracking-number>'),
a.put("views/order/ordertrackbatchupdate.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 批量更新轨迹信息</h3> </div> <div class="widget-content"> <div class="wizard-wrapper"> <div id="order-package-wizard" class="wizard"> <ul class="steps"> <li data-target="#step1" class="active"><span class="badge badge-info">1</span>上传文件<span class="chevron"></span></li> <li data-target="#step2"><span class="badge">2</span>文件预检测<span class="chevron"></span></li> <li data-target="#step3"><span class="badge">3</span>轨迹更新<span class="chevron"></span></li> </ul> </div> <div class="step-content"> <div class="step-pane active" id="step1"> <p><a class="btn btn-sm btn-primary" download="batchupdateorderstep.xlsx" href="./resource/batchupdateorderstep.xlsx"><i class="fa fa-download fa-3x pull-left"></i> 批量更新轨迹物流<br><small>Excel文件下载</small></a></p> <form id="form1" class="dropzone" enctype="multipart/form-data"></form> </div> <div class="step-pane" id="step2"> <form id="form2"> <p> 正在对上传的文件进行预检查，请耐心等待... <br> <em><small class="red">预检查过程中请不要进行其它操作</small></em> </p> <div class="row"> <div class="col-sm-12"> <div class="progress progress-striped active"> <div id="precheckProgressBar" class="progress-bar progress-bar-info" data-transitiongoal="100"></div> </div> </div> <div class="col-sm-12"> <div class="contextual-summary-info contextual-background green-bg" ng-show="stepValidation[1] === true"> <i class="fa fa-check-circle"></i> <p class="pull-right"><span style="font-size:32px">文件预检查成功！</span></p> </div> <div class="contextual-summary-info contextual-background red-bg clearfix" ng-show="stepValidation[1] === false"> <i class="fa fa-close" style="width:5%"></i> <p class="pull-right" style="width:95%"><span style="font-size:32px">{{excelErrorMessage}}</span></p> </div> </div> </div> </form> </div> <div class="step-pane" id="step3"> <div class="row"> <div class="col-sm-12"> <div class="contextual-summary-info contextual-background green-bg" ng-show="stepValidation[2] === true"> <i class="fa fa-check-circle"></i> <p class="pull-right"><span style="font-size:32px">轨迹更新成功！</span></p> </div> <div class="contextual-summary-info contextual-background red-bg clearfix" ng-show="stepValidation[2] === false"> <i class="fa fa-check-circle" style="width:5%"></i> <p class="pull-right" style="width:95%"><span style="font-size:32px">{{excelErrorMessage}}</span></p> </div> </div> </div> </div> </div> <div class="actions" ng-hide="stepIndex == 3"> <button type="button" class="btn btn-default btn-prev" ng-hide="stepIndex == 1"><i class="fa fa-arrow-left"></i> 上一步</button> <button type="button" class="btn btn-primary btn-next" ng-show="stepIndex < 2" ng-disabled="!btnNextEnable">下一步 <i class="fa fa-arrow-right"></i></button> <button type="button" class="btn btn-primary btn-update" ng-show="stepIndex == 2">轨迹更新 <i class="fa"></i></button> </div> </div> </div> </div>'),a.put("views/resetpassword.html",'<div class="inner-page" ng-controller="LoginCtrl"> <div class="logo"> <a href="index.html"><img src="assets/img/kingadmin-logo.png" alt=""></a> </div> <div class="login-box center-block"> <form class="form-horizontal" role="form"> <p class="title">修改密码</p> <div class="form-group"> <label for="username" class="control-label sr-only">旧密码</label> <div class="col-sm-12"> <div class="input-group"> <input type="text" placeholder="username" id="username" class="form-control" ng-model="model.username"> <span class="input-group-addon"><i class="fa fa-user"></i></span> </div> </div> </div> <label for="password" class="control-label sr-only">密码</label> <div class="form-group"> <div class="col-sm-12"> <div class="input-group"> <input type="password" placeholder="password" id="password" class="form-control" ng-model="model.password"> <span class="input-group-addon"><i class="fa fa-lock"></i></span> </div> </div> </div> <label class="fancy-checkbox"> <input type="checkbox" ng-model="model.remember"> <span>下次记住我</span> </label> <button class="btn btn-custom-primary btn-lg btn-block btn-auth" ng-click="btnLogin()"><i class="fa fa-arrow-circle-o-right"></i> 登录</button> </form> <div class="links"> <div class="col-sm-12 pull-center"><p><a href="javascript:void(0)">忘记密码？</a></p></div> <!--<div class="col-sm-6 pull-right"><p><a href="javascript:void(0)">创建一个新账户</a></p></div>--> <div class="clearfix"></div> </div> </div> </div>'),a.put("views/system/categerylist.html",'<div class="widget widget-table" style="overflow: initial"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 商品种类管理</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <div class="col-sm-12 search-bar"> <div class="search-col" style="margin-bottom: 0px"> <button type="button" class="btn btn-primary role" data-role="62" style="margin-left:5px" ng-click="addCategery()">新建商品种类</button> </div> <div class="search-col" style="margin-bottom: 0px"> <button type="button" class="btn btn-primary role" data-role="62" style="margin-left:5px" ng-click="mainCategory()">查看主类别</button> </div> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="mainName">主类别名称</option> <option value="name">子类别名称</option> </select> <input type="text" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>主类别</th> <th>子类别</th> <th>显示顺序</th> <th>最后修改用户</th> <th>最后修改时间</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList track by $index"> <td>{{$index + 1}}</td> <td>{{item.mainName}}</td> <td>{{item.name}}</td> <td>{{item.sequence}}</td> <td>{{item.lasteditusername}}</td> <td>{{item.lasteditdate | date:\'yyyy-MM-dd\'}} </td><td> <a href="javascript:void(0);" ng-click="detail(item)">查看</a> &nbsp; <a href="javascript:void(0);" ng-click="edit(item)">修改</a> &nbsp; <a href="javascript:void(0);" ng-click="del(item)">删除</a> &nbsp; </td> </tr> </tbody> </table> </div> </div> </div> </div> <print-helper></print-helper>'),a.put("views/system/channelist.html",'<div class="widget widget-table" style="overflow: initial"> <div class="widget-header"> <h3> <i class="fa fa-table"></i> 渠道管理</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col" style="margin-bottom: 0px"> <button type="button" class="btn btn-primary role" data-role="62" style="margin-left:5px" ng-click="addChannel()">新建渠道</button> </div> </div> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">状态：</label> <select class="form-control search-control" ng-model="searchBar.status"> <option value="">所有</option> <option value="1">启用</option> <option value="0">禁用</option> </select> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="channelName">渠道名称</option> </select> <input type="text" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>渠道名称</th> <th>状态</th> <th>清关地点</th> <th>渠道描述</th> <th>最后修改用户</th> <th>最后修改时间</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList track by $index"> <td>{{$index + 1}}</td> <td>{{item.channelName}}</td> <td>{{item.status | warehourseStatus}}</td> <td>{{item.clearAddress}}</td> <td>{{item.channelDesc}}</td> <td>{{item.lastEditUserName}}</td> <td>{{item.lastEditdate | date:"yyyy-MM-dd hh:mm:ss"}} </td><td> <a href="javascript:void(0);" ng-click="detail(item)">查看</a> &nbsp; <a href="javascript:void(0);" ng-click="edit(item)">修改</a> &nbsp; <a href="javascript:void(0);" ng-click="delete(item)">删除</a> &nbsp; </td> </tr> </tbody> </table> </div> </div> <div class="row"> <div class="col-sm-6 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <print-helper></print-helper>'),a.put("views/system/editChannel.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i>渠道管理-新建渠道</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <div class="form-group"> <label class="col-sm-2 control-label text-right">渠道名称：<small style="color:red">*</small></label> <div class="col-sm-10 text-left"> <input id="channelName" type="text" class="form-control" placeholder="渠道名称" ng-model="form.channelName" ng-disabled="flag == \'detail\'"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">状态：</label> <div class="col-sm-10 text-left"> <label> <input type="radio" name="status" id="status1" value="1" ng-model="form.status" ng-disabled="flag == \'detail\'"> 启用 </label> &nbsp; <label> <input type="radio" name="status" id="status2" value="0" ng-model="form.status" ng-disabled="flag == \'detail\'"> 禁用 </label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">清关地址：<small style="color:red">*</small></label> <div class="col-sm-10 text-left"> <input id="clearAddress" type="text" class="form-control" placeholder="清关地址" ng-model="form.clearAddress" ng-disabled="flag == \'detail\'"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">渠道描述：<small style="color:red">*</small></label> <div class="col-sm-10 text-left"> <textarea id="channelDesc" type="text" class="form-control" placeholder="渠道描述" ng-model="form.channelDesc" ng-disabled="flag == \'detail\'"></textarea> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button ng-if="flag != \'detail\' && flag != \'edit\'" type="button" class="btn btn-primary" ng-click="saveChannel()">确认</button> <button ng-if="flag == \'edit\'" type="button" class="btn btn-primary" ng-click="update()">更新</button> <a class="btn btn-link" href="javascript:void(0);" ng-click="back()">返回</a> </div> </div> </form> </div> </div> <print-inbound-package></print-inbound-package> <script>$(function() {\n         document.getElementById("channelName").focus();\n     })</script>'),a.put("views/system/editcategery.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i>商品种类管理-新建种类</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <div class="form-group"> <label class="col-sm-2 control-label text-right">主类别：</label> <div class="col-sm-10 text-left"> <input ng-disabled="mainFlag" id="newMainName" type="text" class="form-control" ng-model="form.newMainName" ng-disabled="flag == \'detail\'"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right"></label> <div class="col-sm-10 text-left"> <label class="checkbox-inline"> <input type="checkbox" id="mainCheck" ng-checked="mainFlag" ng-click="changeMain()"> 选择已有主类别 </label> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right"></label> <div class="col-sm-10 text-left"> <select ng-disabled="!mainFlag" class="form-control search-control" ng-options="x.parentid as x.mainName for x in mainCategory" ng-model="form.parentid"> <!-- <option ng-repeat="item in mainCategory" value="item.parentid" >{{item.mainName}}</option> --> </select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">子类别：</label> <!-- <label class="col-sm-2 control-label text-right">子类别：<small style="color:red">*</small></label> --> <div class="col-sm-10 text-left"> <input id="channelName" type="text" class="form-control" placeholder="" ng-model="form.name" ng-disabled="flag == \'detail\'"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">显示顺序</label> <div class="col-sm-2 text-left"> <input type="number" ng-model="form.sequence"> </div> <div class="col-sm-8 text-left"> 指定顺序编号如果已经被占用，保存后原商品编号对应的种类将被放到末尾 </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button ng-if="flag == \'new\' " type="button" class="btn btn-primary" ng-click="saveCategory()">确认</button> <button ng-if="flag == \'update\'" type="button" class="btn btn-primary" ng-click="update()">更新</button> <a class="btn btn-link" href="javascript:void(0);" ng-click="back()">返回</a> </div> </div> </form> </div> </div> <print-inbound-package></print-inbound-package> <script>$(function () {\n        document.getElementById("newMainName").focus();\n    })</script>'),a.put("views/system/editrole.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i>岗位操作</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <div class="form-group"> <label class="col-sm-2 control-label text-right">岗位名称：<small style="color:red">*</small></label> <div class="col-sm-10 text-left"> <input id="txtRoleName" type="text" class="form-control" placeholder="岗位名称" ng-model="form.roleName"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">岗位描述：</label> <div class="col-sm-10 text-left"> <input id="txtRoleDescribe" type="text" class="form-control" placeholder="岗位描述" ng-model="form.roleDescribe"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">状态：</label> <div class="col-sm-10 text-left"> <label> <input type="radio" name="optionsRadios" id="status1" value="1" ng-model="form.status"> 启用 </label> &nbsp; <label> <input type="radio" name="optionsRadios" id="status2" value="0" ng-model="form.status"> 禁用 </label> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">可访问仓库：</label> <div class="col-sm-10 text-left"> <label class="checkbox-inline" ng-repeat="item in warehouseList"> <input type="checkbox" name="selectedWareHouse[]" value="{{item.warehouseNumber}}" ng-checked="warehouseIds.indexOf(item.warehouseNumber) > -1" ng-click="toggleSelection(item.warehouseNumber)"> {{item.warehouseName}} </label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">可管理客户：</label> <div class="col-sm-10 text-left"> <label> <input type="radio" name="customers" id="customerAll" value="0" ng-model="customers"> 所有客户 </label> <br> <label> <input type="radio" name="customers" id="customer2" value="1" ng-model="customers"> 指定客户编号 </label> <input type="text" ng-model="customerNumber"> <button type="button" class="btn btn-info btn-sm" ng-click="addCustomer()">添加</button> <br> <span ng-repeat="num in selCNumbers">{{num}} <a title="删除" ng-click="removeCNumber($index)" style="color:red; cursor: pointer">X</a> &nbsp; &nbsp; </span> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">分配功能：</label> <div class="col-sm-10 text-left functions"> <ul class="firstul"> <li ng-repeat="row in functions"> <p> <span ng-click="row.close = !row.close"> <i class="glyphicon" ng-class="{\'glyphicon-chevron-up\': !row.close, \'glyphicon-chevron-down\': row.close}"></i> {{row.title}} &nbsp; </span> &nbsp; <label> <input type="radio" name="func{{row.functionID}}" value="1" ng-model="row.status" ng-change="enableSubFunc(row);"> 启用 </label> &nbsp; <label> <input type="radio" name="func{{row.functionID}}" value="2" ng-model="row.status" ng-change="enableSubFunc(row)"> 禁用 </label> </p> <ul ng-show="!row.close"> <li ng-repeat="child in row.childs"> <p> <span ng-click="child.close = !child.close"> <i class="glyphicon" ng-class="{\'glyphicon-chevron-up\': !child.close, \'glyphicon-chevron-down\': child.close}"></i> {{child.title}} &nbsp; </span> &nbsp; <label> <input type="radio" name="func{{child.functionID}}" value="1" ng-model="child.status" ng-disabled="row.status == 2" ng-change="enableSubFunc(child)"> 启用 </label> &nbsp; <label> <input type="radio" name="func{{child.functionID}}" value="2" ng-model="child.status" ng-disabled="row.status == 2" ng-change="enableSubFunc(child)"> 禁用 </label> </p> <ul ng-show="!child.close"> <li ng-repeat="item in child.childs"> <p> {{item.title}} &nbsp; &nbsp; <label> <input type="radio" name="func{{item.functionID}}" value="1" ng-model="item.status" ng-disabled="child.status == 2"> 启用 </label> &nbsp; <label> <input type="radio" name="func{{item.functionID}}" value="2" ng-model="item.status" ng-disabled="child.status == 2"> 禁用 </label> </p> </li> </ul> </li> </ul> </li> </ul> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="saveRole()">保存</button> <a class="btn btn-link" href="javascript:void(0);" ng-click="back()">返回</a> </div> </div> </form> </div> </div> <print-inbound-package></print-inbound-package> <script>var txtRoleName = document.getElementById("txtRoleName");\n   var txtRoleDescribe = document.getElementById("txtRoleDescribe");\n\n    txtRoleName.focus();\n    \n    txtRoleName.onkeydown = function (event) {\n        e = event ? event : (window.event ? window.event : null);\n        // 按下回车键且输入框值非空时  \n        if (e.keyCode == 13 && txtRoleName.value) {\n            txtRoleDescribe.focus();\n        }\n    }</script>'),a.put("views/system/editshipservice.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i>渠道管理-转运服务管理</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <div class="form-group"> <label class="col-sm-2 control-label text-right">服务名称：<small style="color:red">*</small></label> <div class="col-sm-10 text-left"> <input id="shipServiceName" type="text" class="form-control" placeholder="服务名称" ng-model="form.shipServiceName" ng-disabled="flag == \'detail\'"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">状态：</label> <div class="col-sm-10 text-left"> <label> <input type="radio" name="status" id="status1" value="1" ng-model="form.status" ng-disabled="flag == \'detail\'"> 启用 </label> &nbsp; <label> <input type="radio" name="status" id="status2" value="0" ng-model="form.status" ng-disabled="flag == \'detail\'"> 禁用 </label> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">发货仓库：</label> <div class="col-sm-10 text-left functions"> <ul class="firstul"> <li ng-repeat="row in warehouseList"> <p> <span ng-click="row.close = !row.close"> <i class="glyphicon" ng-class="{\'glyphicon-chevron-down\': !row.close, \'glyphicon-chevron-up\': row.close}"></i> {{row.name}} &nbsp; </span> &nbsp; <label> <input type="radio" name="func{{row.name}}" value="1" ng-model="row.itemStatus" ng-change="enableSubFunc(row, \'warehouseList\');"> 启用 </label> &nbsp; <label> <input type="radio" name="func{{row.name}}" value="2" ng-model="row.itemStatus" ng-change="enableSubFunc(row, \'warehouseList\')"> 禁用 </label> </p> <ul ng-show="row.close"> <li ng-repeat="child in row.children"> <p> <span ng-click="child.close = !child.close"> <i class="glyphicon" ng-class="{\'glyphicon-chevron-down\': !child.close, \'glyphicon-chevron-up\': child.close}"></i> {{child.warehouseName}} &nbsp; </span> &nbsp; <label> <input type="radio" name="func{{child.warehouseName}}" value="1" ng-model="child.itemStatus" ng-disabled="row.status == 2" ng-change="enableSubFunc(child)"> 启用 </label> &nbsp; <label> <input type="radio" name="func{{child.warehouseName}}" value="2" ng-model="child.itemStatus" ng-disabled="row.status == 2" ng-change="enableSubFunc(child)"> 禁用 </label> </p> </li> </ul> </li> </ul> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">发货渠道：</label> <div class="col-sm-10 text-left functions"> <ul class="firstul"> <li ng-repeat="row in carrierList"> <p> <span ng-click="row.close = !row.close"> <i class="glyphicon" ng-class="{\'glyphicon-chevron-up\': !row.close, \'glyphicon-chevron-down\': row.close}"></i> {{row.channelName}} &nbsp; </span> &nbsp; <label> <input type="radio" name="func{{row.channelName}}" value="1" ng-model="row.itemStatus" ng-change="enableSubFunc(row);"> 启用 </label> &nbsp; <label> <input type="radio" name="func{{row.channelName}}" value="2" ng-model="row.itemStatus" ng-change="enableSubFunc(row)"> 禁用 </label> </p> </li> </ul> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">是否包关税：</label> <div class="col-sm-10 text-left"> <label> <input type="radio" name="taxIncluded" id="status1" value="1" ng-model="form.taxIncluded" ng-disabled="flag == \'detail\'"> 是 </label> &nbsp; <label> <input type="radio" name="taxIncluded" id="status2" value="0" ng-model="form.taxIncluded" ng-disabled="flag == \'detail\'"> 否 </label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">服务简介：<small style="color:red">*</small></label> <div class="col-sm-10 text-left"> <textarea id="serviceSummary" type="text" rows="5" class="form-control" placeholder="需要包含html标签" ng-model="form.serviceSummary" ng-disabled="flag == \'detail\'"></textarea> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">计费规则</label> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">普通客户 </label> <label class="col-sm-1 control-label text-right">人民币</label> <label class="col-sm-1 control-label text-right">首重：<small style="color:red">*</small></label> <div class="col-sm-2 text-left"> <input id="firstWeightRMB" type="number" class="form-control" ng-model="form.firstWeightRMB" ng-disabled="flag == \'detail\'"> </div> <label class="col-sm-2 control-label text-right">续重：<small style="color:red">*</small></label> <div class="col-sm-2 text-left"> <input id="continuedWeightRMB" type="number" class="form-control" ng-model="form.continuedWeightRMB" ng-disabled="flag == \'detail\'"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">VIP客户</label> <label class="col-sm-1 control-label text-right">人民币</label> <label class="col-sm-1 control-label text-right">首重：<small style="color:red">*</small></label> <div class="col-sm-2 text-left"> <input id="firstWeightRMBVip" type="number" class="form-control" ng-model="form.firstWeightRMBVip" ng-disabled="flag == \'detail\'"> </div> <label class="col-sm-2 control-label text-right">续重：<small style="color:red">*</small></label> <div class="col-sm-2 text-left"> <input id="continuedWeightRMBVip" type="number" class="form-control" ng-model="form.continuedWeightRMBVip" ng-disabled="flag == \'detail\'"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right"> </label> <label class="col-sm-1 control-label text-right">美元</label> <label class="col-sm-1 control-label text-right">首重：</label> <div class="col-sm-2 text-left"> <input id="firstWeightUSDVip" type="number" class="form-control" ng-model="form.firstWeightUSDVip" ng-disabled="flag == \'detail\'"> </div> <label class="col-sm-2 control-label text-right">续重：</label> <div class="col-sm-2 text-left"> <input id="continuedWeightUSDVip" type="number" class="form-control" ng-model="form.continuedWeightUSDVip" ng-disabled="flag == \'detail\'"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right"> </label> <div class="col-sm-10 text-left"> <label class="col-sm-3 text-left"> <input type="checkbox" id="needIDCard" ng-model="form.needIDCard" ng-disabled="flag == \'detail\'"> 需要身份证 </label> &nbsp; <label class="col-sm-3 text-left"> <input type="checkbox" id="requireEnglish4Name" ng-model="form.requireEnglish4Name" ng-disabled="flag == \'detail\'"> 英文收货人 </label> <label class="col-sm-3 text-left"> <input type="checkbox" id="requireEnglish4Address" ng-model="form.requireEnglish4Address" ng-disabled="flag == \'detail\'"> 英文收货地址 </label> </div> </div> <div class="form-group"> <!-- <label class="col-sm-2 control-label text-right"> </label> --> <label class="col-sm-2 control-label text-right">自购报费税率%：<small style="color:red">*</small></label> <div class="col-sm-2 text-left"> <input id="insuranceFeeRate" type="text" class="form-control" ng-model="form.insuranceFeeRate" ng-disabled="flag == \'detail\'"> </div> <label class="col-sm-2 control-label text-right">人民币汇率：<small style="color:red">*</small></label> <div class="col-sm-2 text-left"> <input id="RMBExchangeRate" type="text" class="form-control" ng-model="form.RMBExchangeRate" ng-disabled="flag == \'detail\'"> </div> <div class="col-sm-1 col-padding-clear"> <button id="tip_RMB" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">递送时间：<small style="color:red">*</small></label> <div class="col-sm-2 text-left"> <input id="estimatedTime1" type="number" min="0" class="form-control" ng-model="form.estimatedTime1" ng-disabled="flag == \'detail\'"> </div> <label class="text-left" style="text-align:center;margin-top:7px;float:left">-</label> <div class="col-sm-2 text-left"> <input id="estimatedTime2" type="number" min="0" class="form-control" ng-model="form.estimatedTime2" ng-disabled="flag == \'detail\'"> </div> <label class="control-label">个工作日</label> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">最大重量(磅)：<small style="color:red">*</small></label> <div class="col-sm-2 text-left"> <input id="maxWeight" type="number" class="form-control" ng-model="form.maxWeight" ng-disabled="flag == \'detail\'"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">分箱计费重量(磅)：<small style="color:red">*</small></label> <div class="col-sm-2 text-left"> <input id="incr_weight_per_split" type="text" class="form-control" ng-model="form.incr_weight_per_split" ng-disabled="flag == \'detail\'"> </div> <div class="col-sm-1 col-padding-clear"> <button id="tip_fweight" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">分箱进位>=：<small style="color:red">*</small></label> <div class="col-sm-2 text-left"> <input id="split_roundup" type="text" class="form-control" ng-model="form.split_roundup" ng-disabled="flag == \'detail\'"> </div> <div class="col-sm-1 col-padding-clear"> <button id="tip_split" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">合箱进位>=：<small style="color:red">*</small></label> <div class="col-sm-2 text-left"> <input id="merge_roundup" type="text" class="form-control" ng-model="form.merge_roundup" ng-disabled="flag == \'detail\'"> </div> <div class="col-sm-1 col-padding-clear"> <button id="tip_merge" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">商品主类别：<small style="color:red">*</small></label> <div class="col-sm-10 text-left functions"> <ul class="firstul"> <li ng-repeat="row in goodCategoryList"> <p> <span ng-click="row.close = !row.close"> <i class="glyphicon" ng-class="{\'glyphicon-chevron-down\': !row.close, \'glyphicon-chevron-up\': row.close}"></i> {{row.name}} &nbsp; </span> &nbsp; <label> <input type="radio" name="func{{row.cateid}}" value="1" ng-model="row.itemStatus" ng-change="enableSubFunc(row);"> 启用 </label> &nbsp; <label> <input type="radio" name="func{{row.cateid}}" value="2" ng-model="row.itemStatus" ng-change="enableSubFunc(row)"> 禁用 </label> </p> <ul ng-show="row.close"> <li ng-repeat="child in row.children"> <p> <span ng-click="child.close = !child.close"> <i class="glyphicon" ng-class="{\'glyphicon-chevron-down\': !child.close, \'glyphicon-chevron-up\': child.close}"></i> {{child.name}} &nbsp; </span> &nbsp; <label> <input type="radio" name="func{{child.cateid}}" value="1" ng-model="child.itemStatus" ng-disabled="row.status == 2" ng-change="enableSubFunc(child)"> 启用 </label> &nbsp; <label> <input type="radio" name="func{{child.cateid}}" value="2" ng-model="child.itemStatus" ng-disabled="row.status == 2" ng-change="enableSubFunc(child)"> 禁用 </label> </p> </li> </ul> </li> </ul> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">服务特色：</label> <div class="col-sm-10 text-left"> <input id="recommend" type="text" class="form-control" ng-model="form.recommend" ng-disabled="flag == \'detail\'"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">规则描述：</label> <div class="col-sm-10 text-left"> <input id="rules" type="text" class="form-control" ng-model="form.rules" ng-disabled="flag == \'detail\'"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">注意事项：</label> <div class="col-sm-10 text-left"> <input id="attention" type="text" class="form-control" ng-model="form.attention" ng-disabled="flag == \'detail\'"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">详细信息：</label> <div class="col-sm-10 text-left"> <textarea id="serviceDetail" type="text" rows="3" class="form-control" ng-model="form.serviceDetail" ng-disabled="flag == \'detail\'"></textarea> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button ng-if="flag != \'detail\' && flag != \'edit\'" type="button" class="btn btn-primary" ng-click="saveShipservice()">确认</button> <button ng-if="flag == \'edit\'" type="button" class="btn btn-primary" ng-click="update()">更新</button> <a class="btn btn-link" href="javascript:void(0);" ng-click="back()">返回</a> </div> </div> </form> </div> </div> <print-inbound-package></print-inbound-package> <script>$(function() {\n         document.getElementById("shipServiceName").focus();\n     })</script>'),a.put("views/system/edituser.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i>员工操作</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <div class="form-group"> <label class="col-sm-2 control-label text-right">员工用户名：<small style="color:red">*</small></label> <div class="col-sm-10 text-left"> <input id="txtRoleName" type="text" class="form-control" placeholder="员工名称" ng-model="form.userName"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">员工邮箱：</label> <div class="col-sm-10 text-left"> <input id="txtRoleDescribe" type="text" class="form-control" placeholder="员工邮箱" ng-model="form.emailAddress"> </div> </div> <div class="form-group" ng-hide="userId"> <label class="col-sm-2 control-label text-right">密码：<small style="color:red">*</small></label> <div class="col-sm-10 text-left"> <input id="txtpassword" type="text" class="form-control" placeholder="密码" ng-model="form.password"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">所在部门：<small style="color:red">*</small></label> <div class="col-sm-10 text-left"> <select ng-model="form.groupId" class="form-control" ng-options="x.group_id as x.gname for x in groups"> </select> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">所在岗位：<small style="color:red">*</small></label> <div class="col-sm-10 text-left"> <ui-select multiple ng-model="form.selectedRoles" close-on-select="false"> <ui-select-match placeholder="选择岗位...">{{$item.role_name}}</ui-select-match> <ui-select-choices repeat="role in roles | filter:$select.search"> {{ role.role_name }} </ui-select-choices> </ui-select> </div> </div> <!--<div class="form-group">\n                <label class="col-sm-2 control-label text-right">国家码：</label>\n                <div class="col-sm-10 text-left">\n                  <input id="txtcountryCode" type="text" class="form-control" placeholder="国家码" ng-model="form.countryCode">\n                </div>\n            </div>--> <div class="form-group"> <label class="col-sm-2 text-right">性别：</label> <div class="col-sm-10 text-left"> <label> <input type="radio" name="gender" id="gender1" value="M" ng-model="form.gender"> 男 </label> &nbsp; <label> <input type="radio" name="gender" id="gender2" value="F" ng-model="form.gender"> 女 </label> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">状态：</label> <div class="col-sm-10 text-left"> <label> <input type="radio" name="optionsRadios" id="status1" value="1" ng-model="form.active"> 已激活 </label> &nbsp; <label> <input type="radio" name="optionsRadios" id="status2" value="0" ng-model="form.active"> 未激活 </label> <label> <input type="radio" name="optionsRadios" id="status3" value="-1" ng-model="form.active"> 已禁用 </label> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="saveUser()">保存</button> <a class="btn btn-link" href="javascript:void(0);" ng-click="back()">返回</a> </div> </div> </form> </div> </div> <print-inbound-package></print-inbound-package> <script>var txtRoleName = document.getElementById("txtRoleName");\n   var txtRoleDescribe = document.getElementById("txtRoleDescribe");\n   var txtpassword = document.getElementById("txtpassword");\n\n    txtRoleName.focus();\n    \n    txtRoleName.onkeydown = function (event) {\n        e = event ? event : (window.event ? window.event : null);\n        // 按下回车键且输入框值非空时  \n        if (e.keyCode == 13 && txtRoleName.value) {\n            txtRoleDescribe.focus();\n        }\n    }\n\n     txtRoleDescribe.onkeydown = function (event) {\n        e = event ? event : (window.event ? window.event : null);\n        // 按下回车键且输入框值非空时  \n        if (e.keyCode == 13 && txtRoleDescribe.value) {\n            txtpassword.focus();\n        }\n    }</script>'),
a.put("views/system/editusergroup.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i>部门操作</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <div class="form-group"> <label class="col-sm-2 control-label text-right">部门名称：<small style="color:red">*</small></label> <div class="col-sm-10 text-left"> <input id="txtRoleName" type="text" class="form-control" placeholder="部门名称" ng-model="form.name"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">部门描述：</label> <div class="col-sm-10 text-left"> <input id="txtRoleDescribe" type="text" class="form-control" placeholder="部门描述" ng-model="form.describe"> </div> </div> <!--<div class="form-group">\n                <label class="col-sm-2  text-right">岗位：</label>\n                <div class="col-sm-10 text-left">\n                    <select ng-model="form.role_id"\n                      class="form-control"\n                      ng-options="x.role_id as x.role_name for x in roles">\n                    </select>\n                </div>\n            </div>--> <div class="form-group"> <label class="col-sm-2 text-right">状态：</label> <div class="col-sm-10 text-left"> <label> <input type="radio" name="optionsRadios" id="status1" value="1" ng-model="form.status"> 启用 </label> &nbsp; <label> <input type="radio" name="optionsRadios" id="status2" value="0" ng-model="form.status"> 禁用 </label> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="saveRole()">保存</button> <a class="btn btn-link" href="javascript:void(0);" ng-click="back()">返回</a> </div> </div> </form> </div> </div> <print-inbound-package></print-inbound-package> <script>var txtRoleName = document.getElementById("txtRoleName");\n   var txtRoleDescribe = document.getElementById("txtRoleDescribe");\n\n    txtRoleName.focus();\n    \n    txtRoleName.onkeydown = function (event) {\n        e = event ? event : (window.event ? window.event : null);\n        // 按下回车键且输入框值非空时  \n        if (e.keyCode == 13 && txtRoleName.value) {\n            txtRoleDescribe.focus();\n        }\n    }</script>'),a.put("views/system/editwarehouse.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i>仓库管理-新建仓库</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <div class="form-group"> <label class="col-sm-2 control-label text-right">仓库简称：<small style="color:red">*</small></label> <div class="col-sm-10 text-left"> <input id="warehouseShortName" type="text" class="form-control" placeholder="仓库简称" ng-model="form.warehouseShortName"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">仓库名：<small style="color:red">*</small></label> <div class="col-sm-10 text-left"> <input id="warehouseName" type="text" class="form-control" placeholder="仓库名" ng-model="form.warehouseName"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">状态：</label> <div class="col-sm-10 text-left"> <label> <input type="radio" name="status" id="status1" value="1" ng-model="form.status"> 启用 </label> &nbsp; <label> <input type="radio" name="status" id="status2" value="0" ng-model="form.status"> 禁用 </label> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">仓库类型：</label> <div class="col-sm-10 text-left"> <label> <input type="radio" name="warehouseType" id="warehouseType1" value="1" ng-model="form.warehouseType"> 普通仓库 </label> &nbsp; <label> <input type="radio" name="warehouseType" id="warehouseType2" value="0" ng-model="form.warehouseType"> 转仓仓库 </label> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">免税仓：</label> <div class="col-sm-10 text-left"> <label> <input type="radio" name="isTaxFree" id="isTaxFree1" value="1" ng-model="form.isTaxFree"> 是 </label> &nbsp; <label> <input type="radio" name="isTaxFree" id="isTaxFree2" value="0" ng-model="form.isTaxFree"> 否 </label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">联系人：<small style="color:red">*</small></label> <div class="col-sm-10 text-left"> <input id="contactName" type="text" class="form-control" placeholder="联系人" ng-model="form.contactName"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">联系电话：<small style="color:red">*</small></label> <div class="col-sm-10 text-left"> <input id="contactPhoneNumber" type="text" class="form-control" placeholder="联系电话" ng-model="form.contactPhoneNumber"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">地址1：<small style="color:red">*</small></label> <div class="col-sm-10 text-left"> <input id="address1" type="text" class="form-control" placeholder="地址1" ng-model="form.address1"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">地址2：</label> <div class="col-sm-10 text-left"> <input id="address2" type="text" class="form-control" placeholder="地址2" ng-model="form.address2"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">城市：<small style="color:red">*</small></label> <div class="col-sm-10 text-left"> <input id="city" type="text" class="form-control" placeholder="城市" ng-model="form.city"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">邮编：<small style="color:red">*</small></label> <div class="col-sm-10 text-left"> <input id="zipcode" type="text" class="form-control" placeholder="邮编" ng-model="form.zipcode"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">省/州：<small style="color:red">*</small></label> <div class="col-sm-10 text-left"> <input id="stateOrProvince" type="text" class="form-control" placeholder="省/州" ng-model="form.stateOrProvince"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">国家/地区：<small style="color:red">*</small></label> <div class="col-sm-4 text-left"> <select class="form-control" ng-model="form.countryCode"> <option value="USA">USA-美国</option> <option value="CHN">CN-中国</option> </select> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button ng-if="flag != \'1\'" type="button" class="btn btn-primary" ng-click="saveWarehouse()">确认</button> <button ng-if="flag == \'1\'" type="button" class="btn btn-primary" ng-click="update()">更新</button> <a class="btn btn-link" href="javascript:void(0);" ng-click="back()">返回</a> </div> </div> </form> </div> </div> <print-inbound-package></print-inbound-package> <script>$(function() {\n         document.getElementById("warehouseShortName").focus();\n     })</script>'),a.put("views/system/loginloglist.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 登录记录列表</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">登录状态：</label> <select class="form-control search-control" ng-model="searchBar.result"> <option value="">全部</option> <option value="success">登录成功</option> <option value="failed">登录失败</option> </select> </div> <div class="search-col"> <label class="search-label">开始日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">结束日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="emailAddress">用户名</option> <option value="ip">IP地址</option> </select> <input type="text" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <table class="table table-bordered"> <thead> <tr> <th>编号</th> <th>用户名</th> <th>IP地址</th> <th>类型</th> <th>验证状态</th> <th style="width:300px">记录</th> <th>记录时间</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td>{{item.emailAddress}}</td> <td>{{item.ip}}</td> <td>{{item.system == 0 ? "前台客户" : "后台管理员" }}</td> <td>{{item.result}}</td> <td>{{item.memo}}</td> <td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-6 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/system/maincategerylist.html",'<div class="widget widget-table" style="overflow: initial"> <div class="widget-header"> <h3> <i class="fa fa-table"></i>商品主类别管理</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <div class="col-sm-12 search-bar"> <div class="search-col" style="margin-bottom: 0px"> <button type="button" class="btn btn-primary role" data-role="62" style="margin-left:5px" ng-click="back()">返回</button> </div> </div> <div class="clearfix"></div> <!-- <div class="search-col">\n                    <label class="search-label">搜索条目：</label>\n                    <select class="form-control search-control" ng-model="searchBar.keywordType">\n                        <option value="mainName">主类别名称</option>\n                        <option value="name">子类别名称</option>\n                    </select>\n                    <input type="text" class="form-control search-control" style="margin-left:5px; width:480px;" placeholder="请输入查询关键字" ng-model="searchBar.keywords"\n                        ng-enter="btnSearch()" />\n                    <button type="button" class="btn btn-primary" style="margin-left:5px;" ng-click="btnSearch()">搜索</button>\n                </div> --> </div> </div> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>主类别</th> <th>显示顺序</th> <th>最后修改用户</th> <th>最后修改时间</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList track by $index"> <td>{{$index + 1}}</td> <td>{{item.name}}</td> <td>{{item.sequence}}</td> <td>{{item.lasteditusername}}</td> <td>{{item.lasteditdate | date:\'yyyy-MM-dd\'}} </td><td> <!-- <a href="javascript:void(0);" ng-click="detail(item)">查看</a> &nbsp; --> <!-- <a href="javascript:void(0);" ng-click="edit(item)">修改</a> &nbsp; --> <a href="javascript:void(0);" ng-click="del(item)">删除</a> &nbsp; </td> </tr> </tbody> </table> </div> </div> </div> </div> <print-helper></print-helper>'),a.put("views/system/operationloglist.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 操作记录列表</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">操作类型：</label> <select class="form-control search-control" ng-model="searchBar.operationType"> <option value="">全部</option> <option value="0">修改密码</option> <option value="1">调整积分</option> <option value="2">取消推荐人</option> <option value="3">批准VIP资格</option> <option value="4">取消VIP资格</option> <option value="5">激活账号</option> </select> </div> <div class="search-col"> <label class="search-label">开始日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">结束日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="inuserId">客户ID</option> </select> <input type="text" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <table class="table table-bordered"> <thead> <tr> <th>编号</th> <th>类型</th> <th>客户ID</th> <th>用户名</th> <th style="width:300px">记录</th> <th>备注1</th> <th>备注2</th> <th>记录时间</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.transactionNumber}}</td> <td>{{item._operationType}}</td> <td>{{item.inuserId}}</td> <td>{{item.userName}}</td> <td>{{item.memo}}</td> <td>{{item.ref1}}</td> <td>{{item.ref2}}</td> <td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-6 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/system/rolelist.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i>岗位管理</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12" style="padding:0 20px 15px 12px"> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="addReceipt();">添加岗位</button> </div> <div class="col-sm-12 search-bar"> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">状态:</label> <select class="form-control search-control" ng-model="searchBar.status" ng-change="btnSearch()"> <option value="">所有</option> <option value="1">启用</option> <option value="0">禁用</option> </select> </div> <div class="search-col"> <label class="search-label">岗位名称:</label> <input type="text" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.roleName" ng-enter="btnSearch()"> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th style="min-width:50px">序号</th> <th style="min-width:100px">岗位名称</th> <th style="min-width:100px">岗位描述</th> <th style="min-width:50px">状态</th> <th style="min-width:100px">最后修改用户</th> <th style="min-width:100px">最后修改时间</th> <th style="min-width:110px">操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList track by $index"> <td>{{$index + 1}}</td> <td>{{item.role_name}}</td> <td>{{item.role_describe}}</td> <td>{{item.status == 0 ? \'禁用\' : \'启用\'}}</td> <td>{{item.updater}}</td> <td>{{item.update_times | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td> <a href="javascript:void(0);" ng-click="edit(item.role_id)">修改</a> <a href="javascript:void(0);" ng-click="del(item.role_id)">删除</a> </td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> </div> </div>'),a.put("views/system/shipservicelist.html",'<div class="widget widget-table" style="overflow: initial"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 转运服务管理</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <div class="col-sm-12 search-bar"> <div class="search-col" style="margin-bottom: 0px"> <button type="button" class="btn btn-primary role" data-role="62" style="margin-left:5px" ng-click="addShipservice()">新建服务</button> </div> </div> <div class="search-col"> <label class="search-label">发货仓库：</label> <select class="form-control search-control" ng-model="searchBar.isAllWearhouse"> <option value="1">所有</option> <option value="0">当前启用的所有仓库</option> </select> </div> <div class="search-col"> <label class="search-label">状态：</label> <select class="form-control search-control" ng-model="searchBar.status"> <option value="">所有</option> <option value="1">启用</option> <option value="0">禁用</option> </select> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="shipServiceName">服务名称</option> </select> <input type="text" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>服务名称</th> <th>服务简介</th> <th>状态</th> <th>发货仓库</th> <th>发货渠道</th> <th>首重</th> <th>续重</th> <th>递送时间</th> <th>最多重量</th> <th>自购保险费率</th> <th>分箱计费重量</th> <th>英文收货人</th> <th>英文收货地址</th> <th>最后修改用户</th> <th>最后修改时间</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList track by $index"> <td>{{$index + 1}}</td> <td>{{item.shipServiceName}}</td> <td> <div ng-bind-html="item.serviceSummary"></div> </td> <td>{{item.status | warehourseStatus}}</td> <td style="min-width:140px"> <div ng-repeat="warehouse in item.warehouseList"> <label>{{warehouse.warehouseName}}</label><br> </div> </td> <td style="min-width:60px"> <div ng-repeat="carrier in item.carrierList"> <label>{{carrier.channelName}}</label><br> </div> </td> <td>{{item.firstWeight}}</td> <td>{{item.continuedWeight}}</td> <td style="min-width:100px">{{item.estimatedTime}}</td> <td>{{item.maxWeight}}</td> <td>{{item.insuranceFeeRate}}</td> <td>{{item.incr_weight_per_split}}</td> <td>{{item.requireEnglish4Name}}</td> <td>{{item.requireEnglish4Address}}</td> <td>{{item.lastEditUserName}}</td> <td>{{item.lastEditDate | date:\'MM/dd/yyyy HH:mm:ss\'}} </td><td style="min-width:55px"> <a href="javascript:void(0);" ng-click="detail(item)">查看</a> &nbsp; <a href="javascript:void(0);" ng-click="edit(item)">修改</a> &nbsp; <a href="javascript:void(0);" ng-click="delete(item)">删除</a> &nbsp; </td> </tr> </tbody> </table> </div> </div> <div class="row"> <div class="col-sm-6 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <print-helper></print-helper>'),a.put("views/system/uglist.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i>员工管理</h3> <a class="btn btn-link" href="javascript:void(0);" ng-click="back()">返回</a> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th style="min-width:50px">序号</th> <th style="min-width:100px">员工名</th> <th style="min-width:100px">邮箱</th> <!--<th style="min-width:100px;">客户编号</th>--> <th style="min-width:50px">状态</th> <th style="min-width:100px">部门</th> <th style="min-width:100px">岗位名</th> <!--<th style="min-width:100px;">国家码</th>--> </tr> </thead> <tbody> <tr ng-repeat="item in dataList track by $index"> <td>{{$index + 1}}</td> <td>{{item.userName}}</td> <td>{{item.emailAddress}}</td> <!--<td>{{item.customerNumber}}</td>--> <td>{{item.active | activeStr}}</td> <td>{{item.gname}}</td> <td> <a ng-repeat="role in item.roles" href="javascript:void(0);" ng-click="goToRolePage(role);">{{ role.role_name }} </a> </td> <!--<td>{{item.countryCode}}</td>--> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> </div> </div>'),a.put("views/system/usergrouplist.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i>部门管理</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12" style="padding:0 20px 15px 12px"> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="addReceipt();">添加部门</button> </div> <div class="col-sm-12 search-bar"> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">状态:</label> <select class="form-control search-control" ng-model="searchBar.status" ng-change="btnSearch()"> <option value="">所有</option> <option value="1">启用</option> <option value="0">禁用</option> </select> &nbsp; <label class="search-label">名称:</label> <input type="text" class="form-control search-control" style="margin-left:5px; width:400px" placeholder="请输入查询关键字" ng-model="searchBar.name" ng-enter="btnSearch()"> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th style="min-width:50px">序号</th> <th style="min-width:100px">部门名称</th> <th style="min-width:100px">部门描述</th> <th style="min-width:50px">状态</th> <!--<th style="min-width:50px;">岗位名称</th>--> <th style="min-width:100px">最后修改用户</th> <th style="min-width:100px">最后修改时间</th> <th style="min-width:110px">操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList track by $index"> <td>{{$index + 1}}</td> <td>{{item.gname}}</td> <td>{{item.gdescribe}}</td> <td>{{item.gstatus == 0 ? \'禁用\' : \'启用\'}}</td> <!--<td>{{item.role_name}}</td>--> <td>{{item.updater}}</td> <td>{{item.update_time | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td> <a href="javascript:void(0);" ng-click="edit(item.group_id)">修改</a> &nbsp; <a href="javascript:void(0);" ng-click="del(item.group_id)">删除</a> &nbsp; <a href="javascript:void(0);" ng-click="show(item.group_id)">查看用户列表</a> </td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> </div> </div>'),a.put("views/system/userlist.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i>员工管理</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12" style="padding:0 20px 15px 12px"> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="addReceipt();">添加员工</button> </div> <div class="col-sm-12 search-bar"> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">状态:</label> <select class="form-control search-control" ng-model="searchBar.active" ng-change="btnSearch()"> <option value="">所有</option> <option value="1">已激活</option> <option value="0">未激活</option> <option value="-1">已禁用</option> </select> </div> <div class="search-col"> <label class="search-label">员工姓名:</label> <input type="text" id="search" class="form-control search-control" style="margin-left:5px; width:400px" placeholder="请输入查询关键字" ng-model="searchBar.userName" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th style="min-width:50px">序号</th> <th style="min-width:100px">员工姓名</th> <th style="min-width:100px">员工邮箱</th> <!--<th style="min-width:100px;">客户编号</th>--> <th style="min-width:50px">状态</th> <th style="min-width:100px">所在部门</th> <th style="min-width:100px">所在岗位</th> <!--<th style="min-width:100px;">国家码</th>--> <th style="min-width:100px">操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList track by $index"> <td>{{$index + 1}}</td> <td>{{item.userName}}</td> <td>{{item.emailAddress}}</td> <!--<td>{{item.customerNumber}}</td>--> <td>{{item.active | activeStr}}</td> <td>{{item.gname}}</td> <td> <a ng-repeat="role in item.roles" href="javascript:void(0);" ng-click="goToRolePage(role);">{{ role.role_name }} </a> </td> <!--<td>{{item.countryCode}}</td>--> <td> <a href="javascript:void(0);" ng-click="edit(item.userID)">修改</a> <a href="javascript:void(0);" ng-click="del(item.userID)">删除</a> <a href="javascript:void(0);" ng-click="btnResetPassword(item.emailAddress)">重置密码</a> </td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> </div> </div> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/system/warehouselist.html",'<div class="widget widget-table" style="overflow: initial"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 仓库管理</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <div class="col-sm-12 search-bar"> <div class="search-col" style="margin-bottom: 0px"> <button type="button" class="btn btn-primary role" data-role="62" style="margin-left:5px" ng-click="addWarehouse()">新建仓库</button> </div> </div> <div class="search-col"> <label class="search-label">国家/地区：</label> <select class="form-control search-control" ng-model="searchBar.countryCode"> <option value="">所有</option> <option value="USA">美国</option> <option value="CHN">中国</option> </select> </div> <div class="search-col"> <label class="search-label">状态：</label> <select class="form-control search-control" ng-model="searchBar.status"> <option value="">所有</option> <option value="1">启用</option> <option value="0">禁用</option> </select> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="warehouseNumber">仓库编号</option><!--houseNumber--> <option value="warehouseShortName">仓库简称</option> <option value="warehouseName">仓库名</option> </select> <input type="text" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>仓库编号</th> <th>简称</th> <th>状态</th> <th>仓库名</th> <th>仓库类型</th> <th>免税仓</th> <th>联系人</th> <th>联系电话</th> <th>地址1</th> <th>地址2</th> <th>城市</th> <th>邮编</th> <th>省/州</th> <th>国家</th> <th>最后修改用户</th> <th>最后修改时间</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList track by $index"> <td>{{$index + 1}}</td> <td>{{item.warehouseNumber}}</td> <td>{{item.warehouseShortName}}</td> <td>{{item.status | warehourseStatus}}</td> <td>{{item.warehouseName}}</td> <td>{{item.warehouseType | _webWarehouseType}}</td> <td>{{item.isTaxFree | _webIsTaxFree}} </td><td>{{item.contactName}}</td> <td>{{item.contactPhoneNumber}}</td> <td>{{item.address1}}</td> <td>{{item.address2}}</td> <td>{{item.city}}</td> <td>{{item.zipcode}}</td> <td>{{item.stateOrProvince}}</td> <td>{{item.countryCode |countryCodeFilter }}</td> <td>{{item.lastEditUserName}} </td> <td>{{item.lastEditDate | date:"yyyy-MM-dd hh:mm:ss"}} </td> <td> <a href="javascript:void(0);" ng-click="edit(item)">修改</a> &nbsp; <a href="javascript:void(0);" ng-click="del(item.warehouseNumber)">删除</a> &nbsp; </td> </tr> </tbody> </table> </div> </div> <div class="row"> <div class="col-sm-6 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <print-helper></print-helper>'),
a.put("views/templates/common/bucket-item_tpl.html",'<div> <div style="width:200px; padding:12px; border:1px solid"> <div style="margin:0px auto"> <!-- Pallet --> <div ng-if="type == \'pallet\'"> <div style="float:left"><i class="fa fa-th" style="font-size:60px"></i></div> <div style="float:left; margin-left:12px"> <div><span>{{data.name}}</span></div> <div ng-if="data.boxes.length > 0"><span>Box: {{data.boxes.length}}</span></div> <div ng-if="data.bags.length > 0"><span>Bag: {{data.bags.length}}</span></div> <div ng-if="data.readonly"><span>重量: {{data.totalWeight || 0}} lb(s)</span></div> </div> </div> <!-- Box --> <div ng-if="type == \'box\'"> <div style="float:left"><i class="fa fa-archive" style="font-size:60px"></i></div> <div style="float:left; margin-left:12px"> <div><span>{{data.name}}</span></div> <div><span>Bag: {{data.bags.length || 0}}</span></div> </div> </div> <!-- Bag --> <div ng-if="type == \'bag\'"> <div style="float:left"><i class="fa fa-archive" style="font-size:60px"></i></div> <div style="float:left; margin-left:12px"> <div><span>{{data.name}}</span></div> <div><span>包裹: {{data.packages.length || 0}}</span></div> <div ng-if="data.readonly"><span>重量: {{data.totalWeight || 0}} lb(s)</span></div> <div><span style="color:#3E9C1A" ng-if="data.isCheckWeight">校验成功</span></div> <div><span style="color:#d02a25" ng-if="data.isCheckWeight == false">校验失败</span></div> <div><span style="color:#d02a25" ng-if="data.isCheckWeight == undefined">待校验</span></div> </div> </div> <!-- Package --> <div ng-if="type == \'package\'"> <div style="float:left"><i class="fa fa-archive" style="font-size:35px"></i></div> <div style="float:left; margin-left:12px"> <div><span>{{data.trackingNumber}}</span></div> <div><span>重量:{{data.weight || 0}} lb(s)</span></div> <div><button type="button" class="btn btn-primary" style="padding:0px" ng-click="btnPrint(data)">打印特快渠道面单</button></div> </div> </div> <div style="float:right" ng-show="isSelected"><i class="fa fa-check green"></i></div> <div class="clearfix"></div> <div> <button class="btn btn-xs btn-danger" style="padding-top:3px; padding-right:3px" ng-if="type != \'bag\' && type != \'package\'" ng-click="callback_check()"><i class="fa fa-check-circle-o" style="font-size:16px"></i></button> <button class="btn btn-xs btn-danger" style="padding-top:3px; padding-right:3px" ng-if="type == \'bag\'" ng-click="callback_add()"><i class="fa fa-plus-circle" style="font-size:16px"></i></button> <button class="btn btn-xs btn-danger" style="padding-top:3px; padding-right:3px" ng-click="callback_remove()" ng-if="!disabled"><i class="fa fa-minus-circle" style="font-size:16px"></i></button> </div> </div> </div> <print-flying-express></print-flying-express> </div>'),a.put("views/templates/common/chart-flot_tpl.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-bar-chart-o"></i> {{title}}</h3> <em>- {{desc}}</em> <button type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> <div class="btn-group widget-header-toolbar"> <a href="javascript:void(0);" id="tour-focus" title="Focus" class="btn-borderless btn-focus"><i class="fa fa-eye"></i></a> <a href="javascript:void(0);" title="Expand/Collapse" class="btn-borderless btn-toggle-expand"><i class="fa fa-chevron-up"></i></a> </div> </div> <div class="widget-content"> <!-- chart tab nav --> <div class="chart-nav"> <strong>选择周期: </strong> <ul id="sales-stat-tab"> <li ng-class="{\'active\': currentTab.period == \'week\'}"><a href="javascript:void(0);" ng-click="btnTransferTab(\'week\',\'period\')">本周</a></li> <li ng-class="{\'active\': currentTab.period == \'month\'}"><a href="javascript:void(0);" ng-click="btnTransferTab(\'month\',\'period\')">本月</a></li> <li ng-class="{\'active\': currentTab.period == \'year\'}"><a href="javascript:void(0);" ng-click="btnTransferTab(\'year\',\'period\')">本年</a></li> </ul> </div> <div class="chart-nav" ng-repeat="item in filter"> <strong>{{item.title}}: </strong> <ul id="sales-stat-tab"> <li ng-repeat="option in item.options" ng-class="{\'active\': currentTab[item.key] == option.key}"> <a href="javascript:void(0);" ng-click="btnTransferTab(option.key, item.key)">{{option.title}}</a> </li> </ul> </div> <!-- end chart tab nav --> <!-- chart placeholder--> <div class="chart-content"> <div id="chart-control" class="demo-flot-chart sales-chart"></div> </div> <!-- end chart placeholder--> <hr class="separator"> <!-- secondary stat --> <div class="secondary-stat"> <div class="row"> <div class="col-lg-4" ng-repeat="item in data.secondaryList"> <chart-secondary-stat data="{{item}}"></chart-secondary-stat> </div> </div> </div> <!-- end secondary stat --> </div> </div>'),a.put("views/templates/common/chart-mini-stat_tpl.html",'<div> <ul class="list-inline mini-stat"> <li id="{{chart.id}}" ng-repeat="chart in chartList"> <h5>{{chart.title}} <span class="stat-value {{chart.css}}"><i class="fa fa-plus-circle"></i> {{chart.value}}</span></h5> <span class="mini-bar-chart"></span> </li> </ul> </div>'),a.put("views/templates/common/chart-number-stat_tpl.html",'<div class="widget-content"> <!-- NUMBER-CHART STAT --> <div class="row"> <div class="col-md-3 col-sm-6" ng-repeat="item in data"> <div class="number-chart"> <div class="number pull-left"><span>{{item.symbol}}{{item.total | number}}</span> <span>{{item.title}}</span></div> <div class="mini-stat"> <div class="inlinesparkline">Loading...</div> <p class="text-muted"><i class="fa {{item.icon}} green-font"></i>{{item.icon == \'fa-caret-up\' ? \'高\' : \'低\'}}于上周 {{item.percent}}%</p> </div> </div> </div> </div> <!-- END NUMBER-CHART STAT --> </div>'),a.put("views/templates/common/chart-quick-access_tpl.html",'<div> <ul class="list-inline quick-access"> <li ng-repeat="chart in chartList"> <a href="javascript:void(0)" ng-click="btnTransferPage(chart.route)"> <div class="quick-access-item {{chart.css}}"> <i class="fa {{chart.icon}}"></i> <h5>{{chart.title}}</h5><em>{{chart.desc}}</em> </div> </a> </li> </ul> </div>'),a.put("views/templates/common/chart-secondary-stat_tpl.html",'<div> <div class="secondary-stat-item big-number-stat clearfix"> <div class="data"> <span class="col-left big-number">{{data.total}}</span> <span class="col-right"><em>{{data.title}}</em><em>{{data.percent}} <i class="fa {{data.icon}}"></i></em></span> </div> <div class="inlinesparkline"></div> </div> </div>'),a.put("views/templates/common/print-flyingexpress-blank_tpl.html",'<div style="display:none"> <style>#print_FLYINGExpress_Template th {\n            text-align: center;\n        }\n\n        #print_FLYINGExpress_Template th,\n        td {\n            padding: 2px;\n        }\n\n        #print_FLYINGExpress_Template td.title {\n            width: 100px;\n            text-align: center;\n        }\n\n        #print_FLYINGExpress_Template .barcode {\n            margin: 0 auto;\n        }\n\n        #print_FLYINGExpress_Template .iamge {\n            width: 17%;\n        }</style> <div id="print_FLYINGExpress_Template" ng-repeat="data in dataList"> <div><img class="iamge" src="assets/img/kingadmin-logo.png"></div> <table cellpadding="2" cellspacing="0" border="1" width="100%" height="{{data.orderItems.length > 2 ? \'95%\':\'45%\'}}"> <tr> <th colspan="6">客户信息</th> </tr> <tr> <td class="title">客户编号</td> <td colspan="4">{{data.customerNumber}}</td> <td> <div class="barcode" trackingnumber="{{data.referenceOrderNumber}}"></div> </td> </tr> <tr> <td class="title">发货渠道</td> <td colspan="5"> <span>{{data.shipServiceName}}</span>  </td> </tr> <tr> <td class="title">收货地址</td> <td colspan="5" ng-if="data.shipServiceId != 9 && data.shipServiceId != 10 "> {{data.address.receivePersonName}}<span ng-show="!!data.address.cellphoneNumber">({{data.address.cellphoneNumber}})</span>{{data.address.address1}}{{data.address.receiveCompanyName}} <span ng-show="!!data.address.zipcode">({{data.address.zipcode}})</span> </td> <td colspan="5" ng-if="data.shipServiceId == 9 || data.shipServiceId == 10 "> {{data.address.receivePersonName}}<span ng-show="!!data.address.cellphoneNumber">({{data.address.cellphoneNumber}})</span>{{data.address.addressPinyin}}{{data.address.address1_before}}{{data.address.receiveCompanyName}} <span ng-show="!!data.address.zipcode">({{data.address.zipcode}})</span> </td> </tr> <tr> <th colspan="6">订单内容</th> </tr> <tr> <td class="title">申报品名</td> <td colspan="5"> <table cellpadding="5" cellspacing="0" border="1" width="100%"> <tr> <th>序号</th> <th>品牌</th> <th>商品描述</th> <th>数量</th> <th>价值($)</th> </tr> <tr ng-repeat="item in data.orderItems"> <td align="center">{{$index + 1}}</td> <td align="center">{{item.itemBrand}}</td> <td align="center" style="max-width: 300px"> <div style="display:block; overflow:hidden; text-overflow:ellipsis; max-height:44px"> {{item.description}} {{ !!item.property1 ? " " + item.property1 : "" }} {{ !!item.property2 ? " " + item.property2 : "" }} {{ !!item.property3 ? " " + item.property3 : "" }} {{ !!item.property4 ? " " + item.property4 : "" }} {{ !!item.property5 ? " " + item.property5 : "" }} </div> </td> <td align="center">{{item.quantity}}</td> <td align="center">{{item.unitprice | number:2}}</td> </tr> </table> </td> </tr> <tr> <td class="title">包裹信息</td> <td colspan="5"> <table cellpadding="5" cellspacing="0" border="1" width="100%"> <tr> <th>跟踪号</th> <th>实际重量(磅)</th> <th>发货地</th> </tr> <tr> <td align="center"> <div class="barcode" trackingnumber="{{data.trackingNumber}}"></div> </td> <td align="center">{{data.actualWeight || 0}}</td> <td align="center" style="text-align:center">{{data.warehouseName}}</td> </tr> </table> </td> </tr> <tr> <td class="title">打包人员</td> <td colspan="3">{{data.inuserName}}</td> <td class="title">生成日期</td> <td>{{data.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> </tr> </table> <hr style="margin:2.5% auto; width:100%; color: #666" ng-if="data.orderItems.length <= 2"> <div style="text-align: center"> <div class="barcode" trackingnumber="{{data.trackingNumber}}"></div> </div> <div style="height:55%" ng-if="data.orderItems.length > 2"></div> </div> </div>'),a.put("views/templates/common/print-flyingexpress-new_tpl.html",'<div style="display: none"> <style>#print_FLYINGExpress_Template th {\n            text-align: center;\n        }\n\n        #print_FLYINGExpress_Template th,\n        td {\n            padding: 2px;\n            font-size: 12px;\n            font-weight: 400;\n        }\n\n        #print_FLYINGExpress_Template td.title {\n            width: 100px;\n            text-align: center;\n        }\n\n        #print_FLYINGExpress_Template .barcode {\n            margin: 0 auto;\n        }\n\n        #print_FLYINGExpress_Template .image {\n            width: 17%;\n            float: left;\n        }</style> <div id="print_FLYINGExpress_Template" ng-repeat="data in dataList" style="height:100%;text-align: center"> <div style="width:47.62%;height: 60.61%;margin: auto"> <div> <img class="image" src="assets/img/kingadmin-logo.png"> </div> <table border="1" cellpadding="2" cellspacing="0" width="100%"> <tr> <td colspan="8"> <div> <span>寄件方：CULEXPRESS({{data.warehouseName}})</span><br> <span ng-if="data.warehouseNumber == 1">仓库地址：835 S Lawson St, City of Industry, CA 91748</span><br> <span ng-if="data.warehouseNumber == 2">仓库地址：150 quigley Blvd，NEW CASTLE，DE 19720</span><br> </div> </td> <td colspan="2"> <div> 原寄地：LAX </div> </td> </tr> <tr> <td colspan="8" ng-if="data.shipServiceId != 9 && data.shipServiceId != 10 "> <div> <span>收件方：{{data.lastName}}{{data.firstName}} 电话：{{data.address.cellphoneNumber}} </span><br> <span>收件地址：{{data.address.address1}}</span> </div> </td> <td colspan="8" ng-if="data.shipServiceId == 9 || data.shipServiceId == 10 "> <div> <span>收件方：{{data.lastName}}{{data.firstName}} 电话：{{data.address.cellphoneNumber}} </span><br> <span>收件地址：{{data.address.addressPinyin}}</span> </div> </td> <td colspan="2"> <div> 目的地： </div> </td> </tr> <tr> <td colspan="10"> <div style="text-align:center; float:left; padding:3px 15px"> <div> <label style="font-size:12px; font-weight: 100">Tel:0532-83867106</label> </div> <div> <label style="font-size:12px; font-weight: 100">Tel:0532-83867156</label> </div> </div> <div style="height: 25%; border-left: 0px none;padding:3px 15px"> <label> <div class="barcode" trackingnumber="{{data.xtTrackingNumber}}"></div> </label> <br> </div> </td> </tr> <tr> <td colspan="5"> <div style="padding-bottom: 10px">Shipper: &nbsp;{{data.xtShipInfo.shipfrom}}</div> <div><label>Tel:</label><label style="float: right">PP</label></div> </td> <td colspan="5"> <div style="padding-bottom: 10px">Consignee:&nbsp;{{data.xtShipInfo.shipto}}</div> <div> <label>Tel:</label> <label style="float: right">CC</label> </div> </td> </tr> <tr> <td colspan="10"> <table cellpadding="10" cellspacing="0" border="1" width="100%"> <tr> <td>实际重量</td> <td>计费重量</td> <td>运费</td> <td>运费合计</td> </tr> <tr> <td>{{data.actualWeight}}</td> <td>{{data.billingWeight}}</td> <td>{{data.shippingFee}}</td> <td ng-if="data.currencyCode === \'USD\'">{{data.shippingFee | currency:\'$\'}}</td> <td ng-if="data.currencyCode !== \'USD\'">{{data.shippingFee | currency:\'￥\'}}</td> </tr> </table> </td> </tr> <tr> <td colspan="10"> <table cellspacing="0" border="0" width="100%"> <tr> <td colspan="3">付款方式：转第三方付</td> <td colspan="3">月结账号：</td> <td colspan="4">第三方地区：LAX</td> </tr> <tr> <td colspan="3"></td> <td colspan="3">保费：</td> <td colspan="4"></td> </tr> <tr> <td colspan="3">代收货款金额：</td> <td colspan="3">卡号：</td> <td colspan="4"></td> </tr> <tr> <td colspan="5"></td> <td colspan="5">收方签署：</td> </tr> <tr> <td colspan="5"></td> <td colspan="5"><span style="padding-right:40px">日期：</span><span style="padding-right:40px">月</span><span>日</span></td> </tr> </table> </td> </tr> <tr> <td colspan="10"> <span>寄件方：CULEXPRESS({{data.warehouseName}}) </span> <br> <span>（909）859-1999</span> </td> </tr> <tr> <td colspan="6" ng-if="data.shipServiceId != 9 && data.shipServiceId != 10"> <div> <span>收件方：{{data.address.receiveCompanyName}} 电话：{{data.address.cellphoneNumber}} </span><br> <span>{{data.address.address1}}</span> </div> </td> <td colspan="6" ng-if="data.shipServiceId == 9 || data.shipServiceId == 10 "> <div> <span>收件方：{{data.xtShipInfo.shipto}} 电话：{{data.address.cellphoneNumber}} </span> <span>{{data.address.addressPinyin}}</span> </div> </td> <td colspan="4"> <span>订单号：</span><br> <span>{{data.orderNumber}}</span> </td> </tr> <tr> <td colspan="10"> <table cellpadding="10" cellspacing="2" border="1" width="100%"> <tr> <td>商品品牌</td> <td>商品描述</td> <td>数量</td> <td>价值($)</td> </tr> <tr ng-repeat="item in data.orderItems"> <td align="center">{{item.itemBrand}}</td> <td align="center" style="max-width: 300px"> <div style="display:block; overflow:hidden; text-overflow:ellipsis; max-height:44px"> {{item.description}} {{ !!item.property1 ? " " + item.property1 : "" }} {{ !!item.property2 ? " " + item.property2 : "" }} {{ !!item.property3 ? " " + item.property3 : "" }} {{ !!item.property4 ? " " + item.property4 : "" }} {{ !!item.property5 ? " " + item.property5 : "" }} </div> </td> <td align="center">{{item.quantity}}</td> <td align="center">{{item.unitprice | number:2}}</td> </tr> </table> </td> </tr> <tr colspan="10"> <td colspan="2">打包人员</td> <td colspan="2">{{data.inuserName}}</td> <td colspan="2">生成日期</td> <td colspan="4">{{data.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> </tr> <tr colspan="10"> <td colspan="10" style="font-size:12px; font-weight: 100; width: 100%"> <label style="float:left">Remarks:</label> <div style="clear:both"></div> <div class="barcode" style="float:left" trackingnumber="{{data.referenceOrderNumber}}"></div> <div style="float:right"> <div class="barcode" trackingnumber="{{data.trackingNumber}}"></div> </div> </td> </tr> </table> </div> </div> </div>'),a.put("views/templates/common/print-flyingexpress2_tpl.html",'<div style="display:none"> <style>#print_FLYINGExpress_Template th {\n            text-align: center;\n        }\n\n        #print_FLYINGExpress_Template th, td {\n            padding: 2px;\n        }\n\n        #print_FLYINGExpress_Template td.title {\n            width: 100px;\n            text-align: center;\n        }\n\n        #print_FLYINGExpress_Template .barcode {\n            margin: 0 auto;\n        }\n         \n        .heigth-100 {\n            height: 100%;\n        }</style> <div id="print_FLYINGExpress_Template" ng-repeat="data in dataList" class="heigth-100"> <div style="width: 30%"><img src="assets/img/kingadmin-logo.png"></div> <table cellpadding="2" cellspacing="0" border="1" width="100%" height="45%"> <tr> <th style="height: 25%; border-right: 0px none"> <div style="text-align:center; float:left"> <!-- <div><img src="assets/img/FlyingExpress.jpg" /></div> --> <div><label style="font-size:12px; font-weight: 100">Tel:0532-83867106</label></div> <div><label style="font-size:12px; font-weight: 100">Tel:0532-83867156</label></div> </div> </th> <th style="height: 25%; border-left: 0px none"> <label><div class="barcode" trackingnumber="{{data.xtTrackingNumber}}"></div></label><br> </th> </tr> <tr> <td height="30%" style=""> <label style="width:100%;height:80%">Shipper:&nbsp;{{data.xtShipInfo.shipfrom}}</label> <label style="width:45%;height:20%">Tel:</label> <label style="width:50%;height:20%; text-align:right">PP</label> </td> <td height="30%"> <label style="width:100%;height:80%">Consignee:&nbsp;{{data.xtShipInfo.shipto}}</label> <label style="width:45%;height:20%">Tel:</label> <label style="width:50%;height:20%; text-align:right">CC</label> </td> </tr> <tr> <td colspan="2" height="30%" style="font-size:12px; font-weight: 100"> <label style="width: 49%; height: 24%; padding-top: 1%; padding-bottom: 1%">Description:</label> <label style="width: 48%; height: 24%; padding-top: 1%; padding-bottom: 1%"> <span style="margin-right:5px" ng-repeat="xtProductType in data._xtProductTypeTotal">*{{xtProductType.type}}*{{xtProductType.total}}</span> </label> <label style="width: 100%; height: 54%; padding-top: 1%">PCS:</label> <label style="width: 24%; height: 18%">Shipper:</label> <label style="width: 24%; height: 18%">Pick up:</label> <label style="width: 24%; height: 18%">Deliver:</label> <label style="width: 24%; height: 18%">Consignee:</label> </td> </tr> <tr> <td colspan="2" style="font-size:12px; font-weight: 100; width: 100%"> <label style="float:left">Remarks:</label> <div style="clear:both"></div> <div class="barcode" style="float:left" trackingnumber="{{data.referenceOrderNumber}}"></div> <div style="float:right"> <div class="barcode" trackingnumber="{{data.trackingNumber}}"></div> </div> </td> </tr> </table> <hr style="margin:2.5% auto; width:100%; color: #666"> <table cellpadding="2" cellspacing="0" border="1" width="100%" height="45%"> <tr> <th style="height: 25%; border-right: 0px none"> <div style="text-align:center; float:left"> <!-- <div><img src="assets/img/FlyingExpress.jpg" /></div> --> <div><label style="font-size:12px; font-weight: 100">Tel:0532-83867106</label></div> <div><label style="font-size:12px; font-weight: 100">Tel:0532-83867156</label></div> </div> </th> <th style="height: 25%; border-left: 0px none"> <label><div class="barcode" trackingnumber="{{data.xtTrackingNumber}}"></div></label><br> </th> </tr> <tr> <td height="30%" style=""> <label style="width:100%;height:80%">Shipper:&nbsp;{{data.xtShipInfo.shipfrom}}</label> <label style="width:45%;height:20%">Tel:</label> <label style="width:50%;height:20%; text-align:right">PP</label> </td> <td height="30%"> <label style="width:100%;height:80%">Consignee:&nbsp;{{data.xtShipInfo.shipto}}</label> <label style="width:45%;height:20%">Tel:</label> <label style="width:50%;height:20%; text-align:right">CC</label> </td> </tr> <tr> <td colspan="2" height="30%" style="font-size:12px; font-weight: 100"> <label style="width: 49%; height: 24%; padding-top: 1%; padding-bottom: 1%">Description:</label> <label style="width: 48%; height: 24%; padding-top: 1%; padding-bottom: 1%"> <span style="margin-right:5px" ng-repeat="xtProductType in data._xtProductTypeTotal">*{{xtProductType.type}}*{{xtProductType.total}}</span> </label> <label style="width: 100%; height: 54%; padding-top: 1%">PCS:</label> <label style="width: 24%; height: 18%">Shipper:</label> <label style="width: 24%; height: 18%">Pick up:</label> <label style="width: 24%; height: 18%">Deliver:</label> <label style="width: 24%; height: 18%">Consignee:</label> </td> </tr> <tr> <td colspan="2" style="font-size:12px; font-weight: 100; width: 100%"> <label style="float:left">Remarks:</label> <div style="clear:both"></div> <div class="barcode" style="float:left" trackingnumber="{{data.referenceOrderNumber}}"></div> <div style="float:right"> <div class="barcode" trackingnumber="{{data.trackingNumber}}"></div> </div> </td> </tr> </table> </div> </div>'),a.put("views/templates/common/print-flyingexpress_empty_form_tpl.html",'<div id="printEmptyFlyingExpress" class="modal" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" style="width: 600px"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">打印空白特快渠道单据</h4> </div> <div class="modal-body"> <form class="form-horizontal" role="form"> <div class="form-group"> <label class="col-sm-4 control-label text-right">打印数量：</label> <div class="col-sm-6"> <input type="text" class="form-control" ng-model="data.printCount"> </div> </div> </form> </div> <div class="modal-footer"> <div class="text-center"> <button type="button" class="btn btn-primary" ng-click="btnPrint()"> <i class="fa fa-print"></i>打印 </button> <button type="button" class="btn btn-default" data-dismiss="modal"> <i class="fa fa-reply"></i>取消 </button> </div> </div> </div> <div style="display:none"> <div id="print-template" ng-include="\'views/templates/common/print-flyingexpress_empty_tpl.html\'"></div> </div> </div> </div>'),a.put("views/templates/common/print-flyingexpress_empty_tpl.html",'<style>#print_FLYINGExpress_Empty_Template th {\n        text-align: center;\n    }\n\n    #print_FLYINGExpress_Empty_Template th, td {\n        padding: 2px;\n    }\n\n    #print_FLYINGExpress_Empty_Template td.title {\n        width: 100px;\n        text-align: center;\n    }\n\n    #print_FLYINGExpress_Empty_Template .barcode {\n        margin: 0 auto;\n    }</style> <div id="print_FLYINGExpress_Empty_Template"> <div style="width: 20%"><img src="assets/img/kingadmin-logo.png"></div> <table cellpadding="2" cellspacing="0" border="1" width="100%" height="45%"> <tr> <th style="height: 25%; border-right: 0px none"> <div style="text-align:center; float:left"> <!-- <div><img src="assets/img/FlyingExpress.jpg" /></div> --> <div><label style="font-size:12px; font-weight: 100">Tel:0532-83867106</label></div> <div><label style="font-size:12px; font-weight: 100">Tel:0532-83867156</label></div> </div> </th> <th style="height: 25%; border-left: 0px none"> <br> </th> </tr> <tr> <td height="30%" style=""> <label style="width:100%;height:80%">Shipper:</label> <label style="width:45%;height:20%">Tel:</label> <label style="width:50%;height:20%; text-align:right">PP</label> </td> <td height="30%"> <label style="width:100%;height:80%">Consignee:</label> <label style="width:45%;height:20%">Tel:</label> <label style="width:50%;height:20%; text-align:right">CC</label> </td> </tr> <tr> <td colspan="2" height="30%" style="font-size:12px; font-weight: 100"> <label style="width: 49%; height: 24%; padding-top: 1%; padding-bottom: 1%">Description:</label> <label style="width: 48%; height: 24%; padding-top: 1%; padding-bottom: 1%"> </label> <label style="width: 100%; height: 54%; padding-top: 1%">PCS:</label> <label style="width: 24%; height: 18%">Shipper:</label> <label style="width: 24%; height: 18%">Pick up:</label> <label style="width: 24%; height: 18%">Deliver:</label> <label style="width: 24%; height: 18%">Consignee:</label> </td> </tr> <tr> <td colspan="2" style="font-size:12px; font-weight: 100; width: 100%"> <label style="float:left">Remarks:</label> <div style="clear:both"></div> <div style="float:right"> <div class="barcode" trackingnumber="${trackingNumber}"></div> </div> </td> </tr> </table> <hr style="margin:2.5% auto; width:100%; color: #666"> <table cellpadding="2" cellspacing="0" border="1" width="100%" height="45%"> <tr> <th style="height: 25%; border-right: 0px none"> <div style="text-align:center; float:left"> <!-- <div><img src="assets/img/FlyingExpress.jpg" /></div> --> <div><label style="font-size:12px; font-weight: 100">Tel:0532-83867106</label></div> <div><label style="font-size:12px; font-weight: 100">Tel:0532-83867156</label></div> </div> </th> <th style="height: 25%; border-left: 0px none"> <br> </th> </tr> <tr> <td height="30%" style=""> <label style="width:100%;height:80%">Shipper:</label> <label style="width:45%;height:20%">Tel:</label> <label style="width:50%;height:20%; text-align:right">PP</label> </td> <td height="30%"> <label style="width:100%;height:80%">Consignee:</label> <label style="width:45%;height:20%">Tel:</label> <label style="width:50%;height:20%; text-align:right">CC</label> </td> </tr> <tr> <td colspan="2" height="30%" style="font-size:12px; font-weight: 100"> <label style="width: 49%; height: 24%; padding-top: 1%; padding-bottom: 1%">Description:</label> <label style="width: 48%; height: 24%; padding-top: 1%; padding-bottom: 1%"> </label> <label style="width: 100%; height: 54%; padding-top: 1%">PCS:</label> <label style="width: 24%; height: 18%">Shipper:</label> <label style="width: 24%; height: 18%">Pick up:</label> <label style="width: 24%; height: 18%">Deliver:</label> <label style="width: 24%; height: 18%">Consignee:</label> </td> </tr> <tr> <td colspan="2" style="font-size:12px; font-weight: 100; width: 100%"> <label style="float:left">Remarks:</label> <div style="clear:both"></div> <div style="float:right"> <div class="barcode" trackingnumber="${trackingNumber}"></div> </div> </td> </tr> </table> </div>'),a.put("views/templates/common/print-flyingexpress_tpl.html",'<div style="display:none"> <style>#print_FLYINGExpress_Template th {\n            text-align: center;\n        }\n\n        #print_FLYINGExpress_Template th,\n        td {\n            padding: 2px;\n        }\n\n        #print_FLYINGExpress_Template td.title {\n            width: 100px;\n            text-align: center;\n        }\n\n        #print_FLYINGExpress_Template .barcode {\n            margin: 0 auto;\n        }\n\n        #print_FLYINGExpress_Template .iamge {\n            width: 17%;\n        }</style> <div id="print_FLYINGExpress_Template" ng-repeat="data in dataList"> <div><img class="iamge" src="assets/img/kingadmin-logo.png"></div> <table cellpadding="2" cellspacing="0" border="1" width="100%" height="{{data.orderItems.length > 2 ? \'95%\':\'45%\'}}"> <tr> <th colspan="6">客户信息</th> </tr> <tr> <td class="title">客户编号</td> <td colspan="4">{{data.customerNumber}}</td> <td> <div class="barcode" trackingnumber="{{data.referenceOrderNumber}}"></div> </td> </tr> <tr> <td class="title">发货渠道</td> <td colspan="5"> <span>{{data.shipServiceName}}</span>  </td> </tr> <tr> <td class="title">收货地址</td> <td colspan="5" ng-if="data.shipServiceId != 9 && data.shipServiceId != 10 "> {{data.address.receivePersonName}}<span ng-show="!!data.address.cellphoneNumber">({{data.address.cellphoneNumber}})</span>{{data.address.address1}}{{data.address.receiveCompanyName}} <span ng-show="!!data.address.zipcode">({{data.address.zipcode}})</span> </td> <td colspan="5" ng-if="data.shipServiceId == 9 || data.shipServiceId == 10 "> {{data.address.receivePersonName}}<span ng-show="!!data.address.cellphoneNumber">({{data.address.cellphoneNumber}})</span>{{data.address.addressPinyin}}{{data.address.address1_before}}{{data.address.receiveCompanyName}} <span ng-show="!!data.address.zipcode">({{data.address.zipcode}})</span> </td> </tr> <tr> <th colspan="6">订单内容</th> </tr> <tr> <td class="title">申报品名</td> <td colspan="5"> <table cellpadding="5" cellspacing="0" border="1" width="100%"> <tr> <th>序号</th> <th>品牌</th> <th>商品描述</th> <th>数量</th> <th>价值($)</th> </tr> <tr ng-repeat="item in data.orderItems"> <td align="center">{{$index + 1}}</td> <td align="center">{{item.itemBrand}}</td> <td align="center" style="max-width: 300px"> <div style="display:block; overflow:hidden; text-overflow:ellipsis; max-height:44px"> {{item.description}} {{ !!item.property1 ? " " + item.property1 : "" }} {{ !!item.property2 ? " " + item.property2 : "" }} {{ !!item.property3 ? " " + item.property3 : "" }} {{ !!item.property4 ? " " + item.property4 : "" }} {{ !!item.property5 ? " " + item.property5 : "" }} </div> </td> <td align="center">{{item.quantity}}</td> <td align="center">{{item.unitprice | number:2}}</td> </tr> </table> </td> </tr> <tr> <td class="title">包裹信息</td> <td colspan="5"> <table cellpadding="5" cellspacing="0" border="1" width="100%"> <tr> <th>跟踪号</th> <th>实际重量(磅)</th> <th>发货地</th> </tr> <tr> <td align="center"> <div class="barcode" trackingnumber="{{data.trackingNumber}}"></div> </td> <td align="center">{{data.actualWeight || 0}}</td> <td align="center" style="text-align:center">{{data.warehouseName}}</td> </tr> </table> </td> </tr> <tr> <td class="title">打包人员</td> <td colspan="3">{{data.inuserName}}</td> <td class="title">生成日期</td> <td>{{data.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> </tr> </table> <hr style="margin:2.5% auto; width:100%; color: #666" ng-if="data.orderItems.length <= 2"> <table cellpadding="2" cellspacing="0" border="1" width="100%" height="45%" style="margin-top:2%"> <tr> <th style="height: 25%; border-right: 0px none"> <div style="text-align:center; float:left"> <!-- <div><img src="assets/img/FlyingExpress.jpg" /></div> --> <div><label style="font-size:12px; font-weight: 100">Tel:0532-83867106</label></div> <div><label style="font-size:12px; font-weight: 100">Tel:0532-83867156</label></div> </div> </th> <th style="height: 25%; border-left: 0px none"> <label><div class="barcode" trackingnumber="{{data.xtTrackingNumber}}"></div></label><br> </th> </tr> <tr> <td height="30%"> <label style="width:100%;height:60%">Shipper:&nbsp;{{data.xtShipInfo.shipfrom}}</label> <label style="width:45%;height:20%">Tel:</label> <label style="width:50%;height:20%; text-align:right">PP</label> </td> <td height="30%"> <label style="width:100%;height:60%">Consignee:&nbsp;{{data.xtShipInfo.shipto}}</label> <label style="width:45%;height:20%">Tel:</label> <label style="width:50%;height:20%; text-align:right">CC</label> </td> </tr> <tr> <td colspan="2" height="30%" style="font-size:12px; font-weight: 100"> <label style="width: 49%; height: 24%; padding-top: 1%; padding-bottom: 1%">Description:</label> <label style="width: 48%; height: 24%; padding-top: 1%; padding-bottom: 1%"> <span style="margin-right:5px" ng-repeat="xtProductType in data._xtProductTypeTotal">*{{xtProductType.type}}*{{xtProductType.total}}</span> </label> <label style="width: 100%; height: 54%; padding-top: 1%">PCS:</label> <label style="width: 24%; height: 18%">Shipper:</label> <label style="width: 24%; height: 18%">Pick up:</label> <label style="width: 24%; height: 18%">Deliver:</label> <label style="width: 24%; height: 18%">Consignee:</label> </td> </tr> <tr> <td colspan="2" style="font-size:12px; font-weight: 100; width: 100%"> <label style="float:left">Remarks:</label> <div style="clear:both"></div> <div class="barcode" style="float:left" trackingnumber="{{data.referenceOrderNumber}}"></div> <div style="float:right"> <div class="barcode" trackingnumber="{{data.trackingNumber}}"></div> </div> </td> </tr> </table> <div style="height:55%" ng-if="data.orderItems.length > 2"></div> </div> </div>'),a.put("views/templates/common/print-helper_tpl.html",'<div style="display:none"> <!-- 入库标签 - 入库标签 --> <div id="receipt-tag-inbound-tag" ng-include="\'views/templates/common/prints/receipt-tag-inbound-tag_tpl.html\'"></div> <!-- 入库标签 - 清点标签 --> <div id="receipt-tag-check-tag" ng-include="\'views/templates/common/prints/receipt-tag-check-tag_tpl.html\'"></div> <!-- 入库标签 - 异常标签 --> <div id="receipt-tag-exception-tag" ng-include="\'views/templates/common/prints/receipt-tag-exception-tag_tpl.html\'"></div> <!-- 清点操作 - 错误商品记录 --> <div id="receipt-tag-exception-log" ng-include="\'views/templates/common/prints/receipt-tag-exception-log_tpl.html\'"></div> <!-- 架位标签 --> <div id="shelf-management-tag" ng-include="\'views/templates/common/prints/shelf-management-tag_tpl.html\'"></div> </div>'),
a.put("views/templates/common/print-idcard_tpl.html",'<div style="display:none"> <style>.image {\n            width: 30%;\n            height: 30%;\n            margin: 80px 0;\n            ;\n        }\n        \n        .title {\n            text-align: center;\n            font-size: 22px;\n            margin-left: 40%;\n        }</style> <div id="printTemplate"> <!--<span class="title"> 身份证打印</span>--> <div ng-if="dataList.length != 1"> <div style="height:100%" ng-repeat="data in dataList track by $index"> <div> <div>收货人姓名：{{data.receivePersonName}}</div> <div>身份证号：{{data.idCard}}</div> <div> <div class="image"> <img ng-src="{{data.idCardFrontUrl}}"> </div> <div class="image"> <img ng-src="{{data.idCardBackUrl}}"> </div> </div> </div> </div> </div> <div ng-if="dataList.length == 1"> <div style="height:90%" ng-repeat="data in dataList track by $index"> <div> <div>收货人姓名：{{data.receivePersonName}}</div> <div>身份证号：{{data.idCard}}</div> <div> <div class="image"> <img ng-src="{{data.idCardFrontUrl}}"> </div> <div class="image"> <img ng-src="{{data.idCardBackUrl}}"> </div> </div> </div> </div> </div> </div></div>'),a.put("views/templates/common/print-idcardimg_tpl.html",'<div style="display:none"> <style>.image1 {\n            width: 90%;\n            margin-left:5%;\n            margin-right:5%;\n            height: 43%;          \n            margin-top: 10px;\n        }\n        .image2 {\n            width: 90%;\n            margin-left:5%;\n            margin-right:5%;\n            height: 43%;\n            padding-top: 5px;\n        }\n        .image1 img,\n        .image2 img {\n            height:410px;\n        }\n        .title {\n            text-align: center;\n            font-size: 22px;\n            margin-left: 40%;\n        }</style> <div id="printTemplate"> <!--<span class="title"> 身份证打印</span>--> <div ng-if="dataList.length != 1"> <div style="height:100%" ng-repeat="data in dataList track by $index"> <div> <div>收货人姓名：{{data.receivePersonName}}</div> <div>身份证号：{{data.idCard}}</div> <div> <div class="image1"> <img ng-src="{{data.idCardFrontUrl}}"> </div> <div class="image2"> <img ng-src="{{data.idCardBackUrl}}"> </div> </div> </div> </div> </div> <div ng-if="dataList.length == 1"> <div style="height:90%" ng-repeat="data in dataList track by $index"> <div> <div>收货人姓名：{{data.receivePersonName}}</div> <div>身份证号：{{data.idCard}}</div> <div> <div class="image"> <img ng-src="{{data.idCardFrontUrl}}"> </div> <div class="image"> <img ng-src="{{data.idCardBackUrl}}"> </div> </div> </div> </div> </div> </div></div>'),a.put("views/templates/common/print-inboundpackage_tpl.html",'<div style="display:none"> <style>#printTemplate div {\n            text-align: center;\n            font-size: 10px;\n        }\n        /*#printTemplate hr {\n            margin-top: 2px !important;\n            margin-bottom: 2px !important;\n            border-style: dashed;\n        }*/\n\n        .row:not(:last-child) {\n            border-bottom: 1px solid #ccc;\n        }\n\n        .col-xs-4:not(:last-child) {\n            border-right: 1px solid #ccc;\n        }\n\n        /*#printTemplate th, td {\n            padding: 2px;\n        }*/\n        #printTemplate .barcode {\n            margin: 2 auto;\n        }</style> <div id="printTemplate"> <!--<div>--> <!--<img src="assets/img/kingadmin-logo.png" />--> <!--<span>CUL 中美速递 www.culexpress.com</span>--> <!--</div>--> <div class="row"> <span style="font-size:36px">{{dataOne.receipt}}</span> <i class="fa fa-bolt" style="font-size:26px" ng-if="dataOne.isFastShip == 1"></i> <!--<img src="/images/fast-icon.1a01d289.png" style="width:20px; height:10px;" ng-if="data.isFastShip == 1"/>--> </div> <!--<hr>--> <div class="row"> <div class="barcode" itemnumber="{{dataOne.receiptNumber}}" style="font-size:40px"></div> </div> <!--<hr>--> <div class="row"> <div class="col-xs-6" style="text-align:right;font-size:16px"><small>{{dataOne.receiveIdentity}}</small></div> <div class="col-xs-6" style="text-align:left;font-size:16px"><small>{{dataOne.customerNumber}}</small></div> </div> <!--<hr>--> <div class="row"> <div class="col-xs-6" style="text-align:right;font-size:16px">{{dataOne.packageWeight}}</div> <div class="col-xs-6" style="text-align:left;font-size:16px">{{dataOne.createDate | date:\'yyyy-MM-dd HH:mm\'}}</div> </div> <!--<hr>--> <!--<table cellpadding="2" cellspacing="0" border="1" width="280px" ng-repeat="data in dataList">\n        <tr>\n            <th colspan="3">\n                <label style="font-size:20px;">{{data.receipt}}</label>\n            </th>\n        </tr>\n        <tr>\n            <td colspan="3">\n                <div class="barcode" itemNumber="{{data.receiptNumber}}"></div>\n            </td>\n        </tr>\n\n        <tr>\n            <td style="text-align:center;" colspan="1">\n                 <img src="/images/fast-icon.1a01d289.png" style="width:30px; height:20px;" ng-if="data.isFastShip == 1" />\n            </td>\n            <td colspan="2">\n                <label style="margin-right: 30px;">{{data.receiveIdentity}}</label>\n                <label>{{data.customerNumber}}</label>\n            </td>\n        </tr>\n        <tr>\n            <td colspan="1" style="width: 80px;text-align:right;">{{data.packageWeight}}</td>\n            <td colspan="2">{{data.createDate | date:\'yy-MM-dd HH:mm\'}}</td>\n        </tr>\n    </table>--> </div> </div>'),a.put("views/templates/common/print-order_tpl.html",'<div style="display:none"> <style>#printTemplate>table {\n            margin-bottom: 30px;\n        }\n\n        #printTemplate th {\n            text-align: center;\n        }\n\n        #printTemplate th,\n        td {\n            padding: 2px;\n        }\n\n        #printTemplate td.title {\n            width: 100px;\n            text-align: center;\n        }\n\n        #printTemplate .barcode {\n            margin: 0 auto;\n        }\n\n        #printTemplate .image {\n            width: 50%;\n        }\n\n        #printTemplate .float-left {\n            float: left;\n        }\n\n        #printTemplate .print-date {\n            float: right;\n            margin-top: 10px;\n        }\n\n        #printTemplate .list {\n            margin-top: 40px;\n        }\n\n        #printTemplate .height-100 {\n            height: 100%;\n            display: inline-block;\n            /* overflow: hidden; */\n        }\n\n        #printTemplate .block{\n            display: inline-block;\n        }\n\n        #printTemplate .packages>tr>td { \n            align: center;\n        }</style> <div id="printTemplate"> <div ng-repeat="data in dataList track by $index"> <div class="block" ng-if="data.flag != \'shelf\'"> <div class="float-left"><img class="image" src="assets/img/kingadmin-logo.png"></div> <div class="print-date"><label>打印时间：{{printDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</label></div> <table cellpadding="2" cellspacing="0" border="1" width="100%"> <tr> <th colspan="4">客户信息</th> </tr> <tr> <td class="title">客户编号</td> <td>{{data.customer.customerNumber}}</td> <td rowspan="2" colspan="2"> <div class="barcode" ordernumber="{{data.orderNumber}}"></div> </td> </tr> <tr> <td class="title">订单编号</td> <td> {{data.orderNumber}} <span ng-if="data.isFastOrder == 1" title="极速原箱"> <i class="fa fa-bolt" aria-hidden="true" ng-if="data.isFastOrder == 1" style="color:#ff6a00;font-size:30px"></i> </span> </td> </tr> <tr> <td class="title">客户账号</td> <td>{{data.customer.userName}}</td> <td class="title">客户姓名</td> <td>{{data.customer.lastName}}{{data.customer.firstName}}</td> </tr> <tr> <td class="title">订单状态</td> <td>{{data._orderStatus}}</td> <td class="title">生成日期</td> <td>{{data.orderDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> </tr> <tr> <td class="title">发货渠道</td> <td colspan="3"> <span>{{data.shipServiceName}}</span>  </td> </tr> <tr ng-repeat="item in data.shipToAddresses"> <td class="title">收货地址</td> <td ng-if="data.shipServiceId != 9" colspan="3"> <span ng-if="data.shipServiceId != 10">{{item.receivePersonName}}<span ng-show="!!item.cellphoneNumber">({{item.cellphoneNumber}})</span>{{item.address1}}{{item.receiveCompanyName}} <span ng-show="!!item.zipcode">({{item.zipcode}})</span> </span> </td> <td ng-if="data.shipServiceId == 9 || data.shipServiceId == 10" colspan="3"> <span>{{item.receivePersonName}}<span ng-show="!!item.cellphoneNumber">({{item.cellphoneNumber}})</span>({{item.short}}_{{item.shortCity}}){{item.addressPinyin}}{{item.address1_before}}{{item.receiveCompanyName}} <span ng-show="!!item.zipcode">({{item.zipcode}})</span> </span> </td> </tr> <tr> <td class="title">出库包裹</td> <td colspan="3"> <table cellpadding="5" cellspacing="0" border="0" width="100%"> <tr ng-repeat="item in data.outboundPackages"> <td> <div class="barcode" trackingnumber="{{item.trackingNumber}}"></div> </td> </tr> </table> </td> </tr> <!--<tr ng-repeat="item in data.outboundPackages">\n                        <td class="title">CUL包裹单号</td>\n                        <td>{{item.trackingNumber}}</td>\n                        <td colspan="2">\n                            <div class="barcode" trackingNumber="{{item.trackingNumber}}"></div>\n                        </td>\n                    </tr>--> <tr> <th colspan="4">订单内容</th> </tr> <tr> <td class="title">申报品名</td> <td colspan="3"> <table cellpadding="5" cellspacing="0" border="1" width="100%"> <tr> <th>序号</th> <th>品牌</th> <!--<th>商品描述</th>--> <th>数量</th> <th>价值($)</th> </tr> <tr ng-repeat="item in data.orderItems"> <td align="center">{{$index + 1}}</td> <td align="center">{{item.itemBrand}}</td> <!--<td style="max-width: 300px;">\n                                        <div style="display:block; overflow:hidden; text-overflow:ellipsis; max-height:44px;">\n                                            {{item.description}}\n                                            {{ !!item.property1 ? " " + item.property1 : "" }}\n                                            {{ !!item.property2 ? " " + item.property2 : "" }}\n                                            {{ !!item.property3 ? " " + item.property3 : "" }}\n                                            {{ !!item.property4 ? " " + item.property4 : "" }}\n                                            {{ !!item.property5 ? " " + item.property5 : "" }}\n                                        </div>\n                                    </td>--> <td align="center">{{item.quantity}}</td> <td align="center">{{item.unitprice | number:2}}</td> </tr> </table> </td> </tr> <tr> <td class="title">商品描述</td> <td colspan="3"> <label ng-repeat="item in data.orderItems"> {{item.itemBrand}}<label>&nbsp;</label> {{item.description}} {{ !!item.property1 ? " " + item.property1 : "" }} {{ !!item.property2 ? " " + item.property2 : "" }} {{ !!item.property3 ? " " + item.property3 : "" }} {{ !!item.property4 ? " " + item.property4 : "" }} {{ !!item.property5 ? " " + item.property5 : "" }} </label> </td> </tr> <tr> <td class="title">收货明细</td> <td colspan="3"> <table cellpadding="5" cellspacing="0" border="0" width="100%" bor> <tr style="border-bottom:#6f6b6b solid 1px"> <th>单号</th> <th>重量(磅)</th> <th>架位</th> <th>备注</th> </tr> <tr ng-repeat="item in data.inboundPackages"> <td align="center">{{item.trackingNumber}}</td> <td align="center">{{item.packageWeight || 0}}</td> <td align="center">{{item.shelfNumber}}</td> <td align="center">{{item.packageNote || \'\'}}</td> </tr> </table> </td> </tr> <tr> <td class="title">包裹件数</td> <td>{{data.outboundPackages.length}}</td> <td class="title">打包人员</td> <td>{{data.inuserName}}</td> </tr> <tr> <td class="title">合计</td> <td>{{data._shippingFeeTotal || 0}}</td> <td class="title">小费</td> <td>{{data.tip | number:2}}</td> </tr> <tr> <td class="title">备注</td> <td colspan="3">{{data._orderMessage || \'\'}}</td> </tr> <tr> <td class="title">附加服务</td> <td colspan="3"> <div class="form-group"> <span class="col-sm-1" ng-if="data.pack_takeoutInvoice == 1"> <i class="fa fa-check-circle"></i><label class="control-label">取出发票</label> </span> <span class="col-sm-1" ng-if="data.pack_urgentProcess == 1"> <i class="fa fa-check-circle"></i><label class="control-label">加急处理</label> </span> <span class="col-sm-1" ng-if="data.pack_steadyInner == 1"> <i class="fa fa-check-circle"></i><label class="control-label">内件加固</label> </span> <span class="col-sm-1" ng-if="data.pack_replaceCarton == 1"> <i class="fa fa-check-circle"></i><label class="control-label">更换外箱</label> </span> <span class="col-sm-1" ng-if="data.pack_removeInner == 1"> <i class="fa fa-check-circle"></i><label class="control-label">去鞋盒/包装</label> </span> <span class="col-sm-1" ng-if="data.pack_addCarton == 1"> <i class="fa fa-check-circle"></i><label class="control-label">加套外箱</label> </span> <!-- <span class="col-sm-1" ng-if="data.pack_checkCount == 1">\n                                    <i class="fa fa-check-circle"></i><label class="control-label">清点拍照 ({{data.userEmail}})</label>\n                                </span> --> </div> </td> </tr> </table> </div> <div ng-if="data.flag ==\'shelf\'" class="height-100"> <table cellpadding="2" cellspacing="0" border="0" width="100%" class="list"> <tr> <th width="10%">入库单号(后6位)</th> <th width="13%">架位</th> <th width="11%">客户编号</th> <th width="24%">订单编号</th> <th width="8%">重量（磅）</th> <th width="10%">件数</th> <th width="15%">&nbsp;&nbsp;&nbsp;生成日期</th> <th width="9%">小费</th> </tr> <table cellpadding="2" cellspacing="0" border="0" width="100%" class="packages"> <tr ng-repeat="item in data.data " style="border-bottom:#6f6b6b solid 1px"> <td width="10%">{{item.trackingNumber | intercept}}</td> <td width="15%">{{item.shelfNumber}}</td> <td width="10%">{{item.customerNumber}}</td> <td width="26%">{{item.orderNumber}}</td> <td width="8%">{{item.packageWeight || 0}}</td> <td width="10%">{{item.cartonCount + \'-1\' || 0}}</td> <td width="15%">{{item.payDate | date:\'MM/dd/yyyy\'}}</td> <td width="6%">{{item.tip | number:2}}</td> </tr> </table> </table> </div> </div> </div> </div>'),a.put("views/templates/common/print-package_offline.html",'<div style="display:none"> <style>#print_Package_Template th {\n            text-align: center;\n        }\n\n        #print_Package_Template th, td {\n            padding: 2px;\n        }\n\n        #print_Package_Template td.title {\n            width: 100px;\n            text-align: center;\n        }\n\n        #print_Package_Template .barcode {\n            margin: 0 auto;\n        }\n        #print_Package_Template .image {\n            width:17%;\n        }\n        #print_Package_Template .heigth-100 {\n            height: 100%;\n        }</style> <div id="print_Package_Template" ng-repeat="data in dataList"> <div class="heigth-100"> <div><img class="image" src="assets/img/kingadmin-logo.png"></div> <table cellpadding="2" cellspacing="0" border="1" width="100%" height="{{data.orderItems.length > 2 ? \'95%\' : \'45%\'}}"> <tr> <th colspan="6">客户信息</th> </tr> <tr> <td class="title">客户编号</td> <td>{{data.customerNumber}}</td> <td class="title">客户姓名</td> <td>{{data.lastName}}{{data.firstName}}</td> <td class="title">客户账号</td> <td>{{data.userName}}</td> </tr> <tr> <td class="title">收货地址</td> <td colspan="5"> {{data.address.receivePersonName}}<span ng-show="!!data.address.cellphoneNumber">({{data.address.cellphoneNumber}})</span>{{data.address.address1}}{{data.address.receiveCompanyName}}<span ng-show="!!data.address.zipcode">({{data.address.zipcode}})</span> </td> </tr> <tr> <th colspan="6">订单内容</th> </tr> <tr> <td class="title">申报品名</td> <td colspan="5"> <table cellpadding="5" cellspacing="0" border="1" width="100%"> <tr> <th>序号</th> <th>品牌</th> <th>商品描述</th> <th>数量</th> <th>价值($)</th> </tr> <tr ng-repeat="item in data.orderItems"> <td align="center">{{$index + 1}}</td> <td align="center">{{item.itemBrand}}</td> <td align="center" style="max-width: 300px"> <div style="display:block; overflow:hidden; text-overflow:ellipsis; max-height:44px"> {{item.description}} {{ !!item.property1 ? " " + item.property1 : "" }} {{ !!item.property2 ? " " + item.property2 : "" }} {{ !!item.property3 ? " " + item.property3 : "" }} {{ !!item.property4 ? " " + item.property4 : "" }} {{ !!item.property5 ? " " + item.property5 : "" }} </div> </td> <td align="center">{{item.quantity}}</td> <td align="center">{{item.unitprice | number:2}}</td> </tr> </table> </td> </tr> <tr> <td class="title">包裹信息</td> <td colspan="4"> <table cellpadding="5" cellspacing="0" border="1" width="100%"> <tr> <th>跟踪号</th> <th>实际重量(磅)</th> <th>运费价格($)</th> </tr> <tr> <td align="center"><div class="barcode" trackingnumber="{{data.trackingNumber}}"></div></td> <td align="center">{{data.actualWeight || 0}}</td> <td align="center">{{data.shippingFee || 0}}</td> </tr> </table> </td> <td><div class="barcode" trackingnumber="{{data.referenceOrderNumber}}"></div></td> </tr> <tr> <td class="title">打包人员</td> <td>{{data.inuserName}}</td> <td class="title">合计</td> <td>${{data.shippingFee || 0}}</td> <td class="title">生成日期</td> <td>{{data.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> </tr> </table> <hr style="margin:2.5% auto; width:100%; color: #666" ng-if="data.orderItems.length <= 2"> <div style="height: 5%" ng-if="data.orderItems.length > 2"><img src="assets/img/kingadmin-logo.png"></div> </div> </div> </div>'),a.put("views/templates/common/print-package_tpl.html",'<div style="display:none"> <style>#print_Package_Template th {\n            text-align: center;\n        }\n        #print_Package_Template th, td {\n            padding: 2px;\n        }\n        #print_Package_Template td.title {\n            width: 100px;\n            text-align: center;\n        }\n        #print_Package_Template .barcode {\n            margin: 0 auto;\n        }\n        #print_Package_Template .image {\n            width:100px;\n        }\n        #print_Package_Template .heigth-100 {\n            height: 100%;\n        }</style> <div id="print_Package_Template" ng-repeat="data in dataList"> <div class="heigth-100"> <div ng-if="data.orderItems.length <= 2"> <img class="image" src="assets/img/kingadmin-logo.png"> </div> <div style="height: 5%" ng-if="data.orderItems.length > 2"> <img class="image" src="assets/img/kingadmin-logo.png"> </div> <table cellpadding="2" cellspacing="0" border="1" width="100%" height="{{data.orderItems.length > 2 ? \'95%\' : \'45%\'}}"> <tr> <th colspan="6">客户信息</th> </tr> <tr> <td class="title">客户编号</td> <td>{{data.customerNumber}}</td> <td class="title">客户姓名</td> <td>{{data.lastName}}{{data.firstName}}</td> <td class="title">客户账号</td> <td>{{data.userName}}</td> </tr> <tr> <td class="title">收货地址</td> <td colspan="5"> {{data.address.receivePersonName}}<span ng-show="!!data.address.cellphoneNumber">({{data.address.cellphoneNumber}})</span>{{data.address.address1}}{{data.address.receiveCompanyName}}<span ng-show="!!data.address.zipcode">({{data.address.zipcode}})</span> </td> </tr> <tr> <th colspan="6">订单内容</th> </tr> <tr> <td class="title">申报品名</td> <td colspan="5"> <table cellpadding="5" cellspacing="0" border="1" width="100%"> <tr> <th>序号</th> <th>品牌</th> <th>商品描述</th> <th>数量</th> <th>价值($)</th> </tr> <tr ng-repeat="item in data.orderItems"> <td align="center">{{$index + 1}}</td> <td align="center">{{item.itemBrand}}</td> <td align="center" style="max-width: 300px"> <div style="display:block; overflow:hidden; text-overflow:ellipsis; max-height:44px"> {{item.description}} {{ !!item.property1 ? " " + item.property1 : "" }} {{ !!item.property2 ? " " + item.property2 : "" }} {{ !!item.property3 ? " " + item.property3 : "" }} {{ !!item.property4 ? " " + item.property4 : "" }} {{ !!item.property5 ? " " + item.property5 : "" }} </div> </td> <td align="center">{{item.quantity}}</td> <td align="center">{{item.unitprice | number:2}}</td> </tr> </table> </td> </tr> <tr> <td class="title">包裹信息</td> <td colspan="4"> <table cellpadding="5" cellspacing="0" border="1" width="100%"> <tr> <th>跟踪号</th> <th>实际重量(磅)</th> <th>运费价格($)</th> </tr> <tr> <td align="center"><div class="barcode" trackingnumber="{{data.trackingNumber}}"></div></td> <td align="center">{{data.actualWeight || 0}}</td> <td align="center">{{data.shippingFee || 0}}</td> </tr> </table> </td> <td><div class="barcode" trackingnumber="{{data.referenceOrderNumber}}"></div></td> </tr> <tr> <td class="title">打包人员</td> <td>{{data.inuserName}}</td> <td class="title">合计</td> <td>${{data.shippingFee || 0}}</td> <td class="title">生成日期</td> <td>{{data.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> </tr> </table> <hr style="margin:2.5% auto; width:100%; color: #666" ng-if="data.orderItems.length <=2"> </div> </div> </div>'),a.put("views/templates/common/print-trackingnumber_tpl.html",'<div style="display:none"> <style>#print_TrackingNumber_Template th {\n            text-align: center;\n        }\n\n        #print_TrackingNumber_Template th, td {\n            padding: 2px;\n        }\n\n        #print_TrackingNumber_Template td.title {\n            width: 100px;\n            text-align: center;\n        }\n\n        #print_TrackingNumber_Template .barcode {\n            margin: 0 auto;\n        }</style> <div id="print_TrackingNumber_Template" ng-repeat="data in dataList"> <div style="display:inline-block"> <label style="float:left"><div class="barcode" trackingnumber="{{data.trackingNumber}}"></div></label> <label style="float:left;font-size:30px" ng-if="data._shipServiceId == 9">USPS</label> <label style="float:left;font-size:30px"><i class="fa fa-bolt" ng-if="data._isFastOrder == 1"></i></label> </div> </div> </div>'),a.put("views/templates/common/print-unshelf_tpl.html",'<div style="display:none"> <style>#print_unshelf_Template th {\n            text-align: center;\n        }\n        \n        #print_unshelf_Template th,\n        td {\n            padding: 2px;\n        }\n        \n        #print_unshelf_Template td.title {\n            width: 100px;\n            text-align: center;\n        }\n        \n        #print_unshelf_Template .barcode {\n            margin: 0 auto;\n        }</style> <div id="print_unshelf_Template"> <div style="height: 5%"><img src="assets/img/kingadmin-logo.png"></div> <hr style="margin:1% auto; width:100%; color: #666"> <div style="clear:both"> <label style="width:50%; float:left">打印时间: {{ currentDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</label> <label style="width:50%; float:left">打印人: {{$root.userInfo.userName}}</label> </div> <hr style="margin:1% auto; width:100%; color: #666"> <!-- 寄送库存 --> <div ng-if="!!dataList[\'1\']"> <div><label>商品类型: 寄送库存</label></div> <div style="clear:both"> <table cellpadding="2" cellspacing="0" border="1" width="100%"> <tr> <th>商品编号</th> <th>收货单据编号</th> <th>数量</th> <th>架位编号</th> </tr> <tr ng-repeat="data in dataList[\'1\']"> <td> <div class="barcode" trackingnumber="{{data.itemNumber}}"></div> </td> <td> <div class="barcode" trackingnumber="{{data.receiptNumber}}"></div> </td> <td>{{data.unShelfCount}}</td> <td></td> </tr> </table> </div> </div> <!-- 海淘包裹 --> <div ng-if="!!dataList[\'2\']"> <div><label>商品类型: 海淘包裹</label></div> <div style="clear:both"> <table cellpadding="2" cellspacing="0" border="1" width="100%"> <tr> <th>商品编号</th> <th>收货单据编号</th> <th>数量</th> <th>架位编号</th> </tr> <tr ng-repeat="data in dataList[\'2\']"> <td> <div class="barcode" trackingnumber="{{data.itemNumber}}"></div> </td> <td> <div class="barcode" trackingnumber="{{data.receiptNumber}}"></div> </td> <td>{{data.unShelfCount}}</td> <td>{{data.shelfNumber}}</td> </tr> </table> </div> </div> <!-- 海淘包裹 --> <div ng-if="!!dataList[\'3\']"> <div><label>商品类型: 员工包裹</label></div> <div style="clear:both"> <table cellpadding="2" cellspacing="0" border="1" width="100%"> <tr> <th>商品编号</th> <th>收货单据编号</th> <th>数量</th> <th>架位编号</th> </tr> <tr ng-repeat="data in dataList[\'3\']"> <td> <div class="barcode" trackingnumber="{{data.itemNumber}}"></div> </td> <td> <div class="barcode" trackingnumber="{{data.receiptNumber}}"></div> </td> <td>{{data.unShelfCount}}</td> <td>{{data.shelfNumber}}</td> </tr> </table> </div> </div> <!-- 海淘包裹 --> <div ng-if="!!dataList[\'4\']"> <div><label>商品类型: 异常包裹</label></div> <div style="clear:both"> <table cellpadding="2" cellspacing="0" border="1" width="100%"> <tr> <th>商品编号</th> <th>收货单据编号</th> <th>数量</th> <th>架位编号</th> </tr> <tr ng-repeat="data in dataList[\'4\']"> <td> <div class="barcode" trackingnumber="{{data.itemNumber}}"></div> </td> <td> <div class="barcode" trackingnumber="{{data.receiptNumber}}"></div> </td> <td>{{data.unShelfCount}}</td> <td>{{data.shelfNumber}}</td> </tr> </table> </div> </div> </div> </div>'),a.put("views/templates/common/prints/receipt-tag-check-tag_tpl.html",'<div> <div style="width:300px; height:120px; padding:10px; border:1px solid black"> <div style="background-color: #fff;z-index:1"> <div><span>UMI-L2</span></div> </div> <div style="margin-top:20px"> <div style="float:right; margin-top:10px; min-width:80px; text-align:center"><span>NOT COUNT</span></div> <div style="float:right" class="barcode" barcodenumber="{{data.receiptNumber}}"></div> <div style="clear:both"></div> </div> </div> </div>'),a.put("views/templates/common/prints/receipt-tag-exception-log_tpl.html",'<div> <div ng-repeat="item in data"><span style="font-size:14px">{{item}}</span></div> </div>'),a.put("views/templates/common/prints/receipt-tag-exception-tag_tpl.html",'<div> <div style="width:300px; height:120px; padding:10px; border:1px solid black"> <div style="background-color: #fff;z-index:1"> <div><span>CUL-L3</span></div> </div> <div style="margin-top:20px"> <div style="margin:0px auto" class="barcode" barcodenumber="{{data.exceptionNumber}}"></div> </div> </div> </div>'),a.put("views/templates/common/prints/receipt-tag-inbound-tag_tpl.html",'<div> <div style="width:300px; height:120px; padding:10px; border:1px solid black"> <div style="background-color: #fff;z-index:1"> <div><span>UMI-L1</span></div> </div> <div style="margin-top:20px"> <div style="float:right; margin-top:10px; min-width:80px; text-align:center"><span>X {{data._number}}</span></div> <div style="float:right" class="barcode" barcodenumber="{{data.receiptNumber}}"></div> <div style="clear:both"></div> </div> </div> </div>'),a.put("views/templates/common/prints/shelf-management-tag_tpl.html",'<!--<div>\n    <div>\n        <div class="barcode" style="margin:0px auto;" barcodeNumber="{{data.shelfNumber}}"></div>\n    </div>\n</div>--> <div class="row"> <div class="col-xs-12 barcode" barcodenumber="{{data.shelfNumber}}"></div> </div>'),a.put("views/templates/common/ticket-table_tpl.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-tasks"></i> {{title}}</h3> <em>- {{desc}}</em> <div class="btn-group widget-header-toolbar"> <a href="javascript:void(0);" id="tour-focus" title="Focus" class="btn-borderless btn-focus"><i class="fa fa-eye"></i></a> <a href="javascript:void(0);" title="Expand/Collapse" class="btn-borderless btn-toggle-expand"><i class="fa fa-chevron-up"></i></a> </div> <div class="widget-header-toolbar" ng-if="criticalTotal > 0"> <div class="label label-danger"><i class="fa fa-warning"></i> {{criticalTotal}} 紧急问题</div> </div> </div> <div class="widget-content"> <table id="ticket-table" class="table table-sorting"> <thead> <tr> <th>编号</th> <th>时间</th> <th>分类</th> <th>名字</th> <th>标题</th> <th>优先级</th> </tr> </thead> <tbody> <tr ng-repeat="item in data.dataList"> <td><a href="javascript:void(0)">{{item.number}}</a></td> <td>{{item.date | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>{{item.category}}</td> <td>{{item.name}}</td> <td><a href="javascript:void(0)">{{item.title}}</a></td> <td> <span class="label label-critical" ng-if="item.priority == 1">#1 - Critical</span> <span class="label label-emergency" ng-if="item.priority == 2">#2 - Emergency</span> <span class="label label-urgent" ng-if="item.priority == 3">#3 - Urgent</span> <span class="label label-high" ng-if="item.priority == 4">#4 - High</span> <span class="label label-medium" ng-if="item.priority == 5">#5 - Medium</span> <span class="label label-low" ng-if="item.priority == 6">#6 - Low</span> </td> </tr> </tbody> </table> </div> </div>'),a.put("views/templates/inbox.html",'<div class="main-header"> <h2>Inbox</h2> <em>3 unread messages</em> </div> <div class="main-content"> <!-- INBOX --> <div class="inbox"> <div class="row"> <div class="col-lg-10 col-lg-offset-2"> <!-- search box --> <form class="searchbox"> <div class="input-group input-group-sm"> <input type="search" class="form-control"> <span class="input-group-btn"> <button class="btn btn-primary" type="button"><i class="fa fa-search"></i> Search</button> </span> </div> </form> <!-- end search box --> </div> </div> <div class="top"> <div class="row"> <div class="col-lg-2"> <button class="btn btn-primary btn-block btn-compose"><i class="fa fa-pencil"></i> COMPOSE</button> </div> <div class="col-lg-10"> <div class="top-menu"> <label class="control-inline fancy-checkbox fancy-checkbox-all"> <input type="checkbox"> <span>&nbsp;</span> </label> <ul class="list-inline top-menu-group1 hide"> <li> <button type="button" class="btn"><i class="fa fa-trash-o"></i> DELETE</button> </li> <li> <button type="button" class="btn"><i class="fa fa-warning"></i> SPAM</button> </li> <li> <div class="btn-group"> <button type="button" class="btn dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-folder"></i> MOVE <span class="caret"></span> </button> <ul class="dropdown-menu"> <li><a href="#">My Folder</a></li> <li><a href="#">My Other Folder</a></li> </ul> </div> </li> </ul> <ul class="list-inline top-menu-group2"> <li class="top-menu-label hide"> <div class="btn-group"> <button type="button" class="btn dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-tags"></i> LABEL <span class="caret"></span> </button> <ul class="dropdown-menu"> <li><a href="#">Blog Comments</a></li> <li><a href="#">New Users</a></li> <li><a href="#">Password</a></li> </ul> </div> </li> <li class="top-menu-more"> <div class="btn-group"> <button type="button" class="btn dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-list"></i> MORE <span class="caret"></span> </button> <ul class="dropdown-menu"> <li class="mark-all"><a href="#">Mark All As Read</a></li> <li class="hide mark-read"><a href="#">Mark As Read</a></li> <li class="hide mark-unread"><a href="#">Mark As Unread</a></li> <li class="hide add-star"><a href="#">Add Star</a></li> </ul> </div> </li> </ul> <div class="navigation"> <button type="button" class="btn btn-link hidden-sm hidden-md hidden-lg inbox-nav-toggle"><i class="fa fa-bars"></i></button> <div class="pager-wrapper"> <span class="info">Showing 1-10 of 32</span> <ul class="pager"> <li><a href="#"><i class="fa fa-angle-left"></i></a></li> <li><a href="#"><i class="fa fa-angle-right"></i></a></li> </ul> </div> </div> </div> <!-- /top-menu --> </div> </div> <!-- /row --> </div> <!-- /top --> <div class="bottom"> <div class="row"> <!-- inbox left menu --> <div class="col-xs-12 col-sm-3 col-lg-2 inbox-left-menu"> <h3 class="sr-only">Inbox Menu</h3> <ul class="list-unstyled left-menu"> <li class="active"><a href="#"><i class="fa fa-inbox"></i> Inbox <span class="badge pull-right">32</span></a></li> <li><a href="#"><i class="fa fa-star"></i> Starred</a></li> <li><a href="#"><i class="fa fa-edit"></i> Drafts</a></li> <li><a href="#"><i class="fa fa-external-link"></i> Sent</a></li> <li><a href="#"><i class="fa fa-warning"></i> Spam <span class="badge pull-right">1</span></a></li> <li><a href="#"><i class="fa fa-trash-o"></i> Trash</a></li> </ul> <div class="labels"> <h3>LABELS</h3> <ul class="list-unstyled"> <li><a href="#">Blog Comments</a> <i class="fa fa-stop pull-right label1"></i></li> <li><a href="#">New User</a> <i class="fa fa-stop pull-right label2"></i></li> <li><a href="#">Password</a> <i class="fa fa-stop pull-right label3"></i></li> </ul> </div> </div> <!-- end inbox left menu --> <!-- right main content, the messages --> <div class="col-xs-12 col-sm-9 col-lg-10"> <div class="messages"> <table class="table-condensed message-table"> <colgroup> <col class="col-check"> <col class="col-star"> <col class="col-from"> <col class="col-title"> <col class="col-attachment"> <col class="col-timestamp"> </colgroup> <tbody> <tr> <td> <label class="fancy-checkbox"> <input type="checkbox"> <span>&nbsp;</span> </label> </td> <td><i class="fa fa-star-o"></i></td> <td><span class="from">Alice</span></td> <td> <span class="message-label label2">New User</span> <span class="title">New User Registration</span> <span class="preview">- A new user has been registered on your site but not yet activated. You can activate this user on </span> </td> <td><span class="icon-attachment"><i class="fa fa-paperclip"></i></span></td> <td><span class="timestamp">12:01 PM</span></td> </tr> <tr class="unread"> <td> <label class="fancy-checkbox"> <input type="checkbox"> <span>&nbsp;</span> </label> </td> <td><i class="fa fa-star-o"></i></td> <td><span class="from">Jordan Smith</span></td> <td><span class="title">Can I Change My Username?</span> <span class="preview">- I\'ve been wondering if we actually can change our username on the front-end. This should be</span></td> <td><span class="icon-attachment"><i class="fa fa-paperclip"></i></span></td> <td><span class="timestamp">10:46 AM</span></td> </tr> <tr class="unread"> <td> <label class="fancy-checkbox"> <input type="checkbox"> <span>&nbsp;</span> </label> </td> <td><i class="fa fa-star-o"></i></td> <td><span class="from">Michael Doe</span></td> <td> <span class="message-label label3">Password</span> <span class="title">Request For New Password</span> <span class="preview">- Hi Stacy, I try to reset maybe you can check some of my example. I was\'t really understand why this is happening ...</span> </td> <td>&nbsp;</td> <td><span class="timestamp">09:22 AM</span></td> </tr> <tr> <td> <label class="fancy-checkbox"> <input type="checkbox"> <span>&nbsp;</span> </label> </td> <td><i class="fa fa-star-o"></i></td> <td><span class="from">Blog</span></td> <td> <span class="message-label label1">Blog Comments</span> <span class="title">New Comment on Post</span> <span class="preview">- A new comment on a blog post awating for moderation. Please consider that you can</span> </td> <td>&nbsp;</td> <td><span class="timestamp">Dec 16</span></td> </tr> <tr class="unread"> <td> <label class="fancy-checkbox"> <input type="checkbox"> <span>&nbsp;</span> </label> </td> <td><i class="fa fa-star-o"></i></td> <td><span class="from">Stella Roger</span></td> <td><span class="title">User Setting Updates</span> <span class="preview">- Hello Stacy, I figured out that weeks ago the user setting has been updated. But unfortunately</span></td> <td><span class="icon-attachment"><i class="fa fa-paperclip"></i></span></td> <td><span class="timestamp">Dec 11</span></td> </tr> <tr> <td> <label class="fancy-checkbox"> <input type="checkbox"> <span>&nbsp;</span> </label> </td> <td><i class="fa fa-star-o"></i></td> <td><span class="from">Blog</span></td> <td> <span class="message-label label1">Blog Comments</span> <span class="title">New Comment on Post</span> <span class="preview">- A new comment on a blog post awating for moderation. Please consider that you can</span> </td> <td>&nbsp;</td> <td><span class="timestamp">Dec 11</span></td> </tr> <tr> <td> <label class="fancy-checkbox"> <input type="checkbox"> <span>&nbsp;</span> </label> </td> <td><i class="fa fa-star-o"></i></td> <td><span class="from">Blog</span></td> <td> <span class="message-label label1">Blog Comments</span> <span class="title">New Comment on Post</span> <span class="preview">- A new comment on a blog post awating for moderation. Please consider that you can</span> </td> <td><span class="icon-attachment"><i class="fa fa-paperclip"></i></span></td> <td><span class="timestamp">Dec 10</span></td> </tr> <tr> <td> <label class="fancy-checkbox"> <input type="checkbox"> <span>&nbsp;</span> </label> </td> <td><i class="fa fa-star-o"></i></td> <td><span class="from">Stella Roger</span></td> <td><span class="title">User Setting Updates</span> <span class="preview">- Hello Stacy, I figured out that weeks ago the user setting has been updated. But unfortunately</span></td> <td><span class="icon-attachment"><i class="fa fa-paperclip"></i></span></td> <td><span class="timestamp">Dec 9</span></td> </tr> <tr> <td> <label class="fancy-checkbox"> <input type="checkbox"> <span>&nbsp;</span> </label> </td> <td><i class="fa fa-star-o"></i></td> <td><span class="from">Jordan Smith</span></td> <td><span class="title">Can I Change My Username?</span> <span class="preview">- I\'ve been wondering if we actually can change our username on the front-end. This should be</span></td> <td>&nbsp;</td> <td><span class="timestamp">10:46 AM</span></td> </tr> <tr> <td> <label class="fancy-checkbox"> <input type="checkbox"> <span>&nbsp;</span> </label> </td> <td><i class="fa fa-star-o"></i></td> <td><span class="from">Michael Doe</span></td> <td> <span class="message-label label3">Password</span> <span class="title">Help, Can\'t Login</span> <span class="preview">- It\'s been 3 days I can\'t login to the site, I did receive admin email about</span> </td> <td>&nbsp;</td> <td><span class="timestamp">09:22 AM</span></td> </tr> </tbody> </table> </div> </div> <!-- end right main content, the messages --> </div> </div> </div> <!-- END INBOX --> </div> <!-- /main-content -->'),
a.put("views/templates/invoice.html",'<div class="main-header"> <h2>Invoice</h2> <em>printer friendly invoice, try to print it to see the result</em> </div> <div class="main-content"> <!-- INVOICE --> <div class="invoice"> <!-- invoice header --> <div class="invoice-header"> <div class="row"> <div class="col-lg-3 col-print-3"> <img src="assets/img/kingadmin-logo.png" alt="KingAdmin Logo"> </div> <div class="col-lg-9 col-print-9"> <ul class="list-inline"> <li>Invoice #: <strong>15240776</strong></li> <li>Invoice Date: <strong>Nov 22, 2013</strong></li> <li>Total Amount: <strong>$12,221</strong></li> </ul> </div> </div> </div> <!-- end invoice header --> <!-- invoice address --> <div class="invoice-from-to"> <div class="row"> <div class="col-sm-6 col-print-6"> <span>FROM</span> <p class="name">The Develovers</p> <address> 12345 North Main Street <br> New York, 2233845 <br> <div class="contact"> <p><span>Email:</span> email@example.com</p> <p><span>Phone:</span> (1800) 765 - 4321</p> <p><span>Fax:</span> (1800) 765 - 4322</p> </div> </address> </div> <div class="col-sm-6 col-print-6"> <span>TO</span> <p class="name">Hardware Studio Inc.</p> <address> 28435 East Main Street <br> New York, 2233845 <br> <div class="contact"> <p><span>Email:</span> email@example.com</p> <p><span>Phone:</span> (1800) 888 - 4321</p> <p><span>Fax:</span> (1800) 888 - 4322</p> </div> </address> </div> </div> </div> <!-- end invoice address --> <!-- invoice item table --> <div class="table-responsive"> <table class="table invoice-table"> <thead> <tr> <th>#</th> <th>Item Name</th> <th>Quantity</th> <th>Unit Price</th> <th>Total</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>LED Monitor 23"</td> <td>4</td> <td>$250</td> <td>$10,000</td> </tr> <tr> <td>2</td> <td>Wireless Keyboard</td> <td>8</td> <td>$80</td> <td>$640</td> </tr> <tr> <td>3</td> <td>Wireless Mouse</td> <td>8</td> <td>$40</td> <td>$320</td> </tr> <tr> <td>4</td> <td>UPS</td> <td>1</td> <td>$150</td> <td>$150</td> </tr> </tbody> </table> </div> <!-- end invoice item table --> <!-- invoice footer --> <div class="invoice-footer"> <div class="row"> <div class="col-sm-5 col-sm-offset-1 col-print-4 col-print-offset-2 right-col"> <div class="invoice-total"> <div class="row"> <div class="col-xs-4 col-xs-offset-4 col-print-6 col-print-offset-2"> <p>Subtotal</p> <p>VAT (10%)</p> <p>Total</p> </div> <div class="col-xs-4 text-right col-print-4"> <p>$11,110</p> <p>$1,111</p> <p>$12,221</p> </div> </div> </div> </div> <div class="col-sm-6 col-print-6 left-col"> <blockquote class="invoice-notes"> <strong>Notes:</strong> <p>Competently brand interactive expertise and interactive solutions. Proactively orchestrate viral innovation vis-a-vis customized leadership.</p> </blockquote> </div> </div> </div> <!-- end invoice footer --> <!-- invoice action buttons --> <div class="invoice-buttons"> <button class="btn btn-default print-btn"><i class="fa fa-print"></i> Print</button> <a href="#" class="btn btn-custom-primary"><i class="fa fa-arrow-right"></i> Proceed to Payment</a> </div> <!-- end invoice action buttons --> </div> <!-- INVOICE --> </div> <!-- /main-content -->'),a.put("views/templates/knowledgebase.html",'<div class="main-header"> <h2>Knowledge Base</h2> <em>browse and search our knowledge base or open a support ticket</em> </div> <div class="main-content"> <!-- KNOWLEDGE SEARCH BOX --> <form class="form-knowledge-search"> <div class="input-group input-group-lg"> <input type="search" placeholder="enter a search term" class="form-control"> <span class="input-group-btn"><button class="btn btn-primary" type="button"><i class="fa fa-search"></i> Search</button></span> </div> </form> <!-- END KNOWLEDGE SEARCH BOX --> <div class="row"> <!-- LEFT SIDE, MAIN CONTENT --> <div class="col-lg-9"> <div class="row"> <div class="col-md-5"> <div class="knowledge"> <h3><a href="#"><i class="fa fa-folder"></i> General <span class="pull-right">22</span></a></h3> <ul class="list-unstyled"> <li><i class="fa fa-file-text-o pull-left pull-left"></i><a href="#">What is KINGADMIN admin dashboard?</a></li> <li><i class="fa fa-file-text-o pull-left pull-left"></i><a href="#">How do I change my password?</a></li> </ul> </div> </div> <div class="col-md-5 col-md-offset-1"> <div class="knowledge"> <h3><a href="#"><i class="fa fa-folder"></i> Customer Support <span class="pull-right">15</span></a></h3> <ul class="list-unstyled"> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">Payment Problems</a></li> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">Shopping Cart</a></li> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">Discount Policy</a></li> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">How do I use promo code?</a></li> </ul> </div> </div> </div> <div class="row"> <div class="col-md-5"> <div class="knowledge"> <h3><a href="#"><i class="fa fa-folder"></i> Products <span class="pull-right">27</span></a></h3> <ul class="list-unstyled"> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">How to review a product</a></li> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">Recommend a product</a></li> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">I can\'t see the product stock</a></li> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">Back Order</a></li> </ul> </div> </div> <div class="col-md-5 col-md-offset-1"> <div class="knowledge"> <h3><a href="#"><i class="fa fa-folder"></i> Shipping<span class="pull-right">14</span></a></h3> <ul class="list-unstyled"> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">Shipping Cost</a></li> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">Shipping &amp; Warranty</a></li> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">Where do we ship?</a></li> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">How can I find my shipping code?</a></li> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">How to track my shipping?</a></li> </ul> </div> </div> </div> <div class="row"> <div class="col-md-5"> <div class="knowledge"> <h3><a href="#"><i class="fa fa-folder"></i> Downloads <span class="pull-right">6</span></a></h3> <ul class="list-unstyled"> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">Find out downloadable products type.</a></li> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">Where can I find the link for my digital product</a></li> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">Link Expiration</a></li> </ul> </div> </div> <div class="col-md-5 col-md-offset-1"> <div class="knowledge"> <h3><a href="#"><i class="fa fa-folder"></i> Technical Support<span class="pull-right">17</span></a></h3> <ul class="list-unstyled"> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">Turn on my browser cookies</a></li> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">The page keeps reloading</a></li> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">Report a broken link</a></li> <li><i class="fa fa-file-text-o pull-left"></i><a href="#">Contact Technical Support</a></li> </ul> </div> </div> </div> <div class="well well-lg knowledge-recent-popular"> <div class="row"> <div class="col-md-6"> <h4>Most Popular</h4> <ol> <li><a href="#">I can\'t add otem to Shopping Cart, what should I do?</a></li> <li><a href="#">Error When Uploading File</a></li> <li><a href="#">How to Deposit Money?</a></li> </ol> </div> <div class="col-md-6"> <h4>Recent Articles</h4> <ol> <li><a href="#">Avoid Any Type of Scam, Now!</a></li> <li><a href="#">Update to Terms &amp; Agreements</a></li> <li><a href="#">A Step-by-Step Guide to Participate in CSR Program</a></li> <li><a href="#">Where Can I Find My Order History?</a></li> </ol> </div> </div> </div> </div> <!-- END LEFT SIDE, MAIN CONTENT --> <!-- RIGHT SIDEBAR --> <div class="col-lg-3"> <h3>Categories</h3> <ul class="nav nav-pills nav-stacked nav-categories"> <li><a href="#">General <span class="badge pull-right">22</span></a></li> <li><a href="#">Customer Support <span class="badge pull-right">15</span></a></li> <li><a href="#">Downloads <span class="badge pull-right">6</span></a></li> <li><a href="#">Products <span class="badge pull-right">27</span></a></li> <li><a href="#">Buying <span class="badge pull-right">20</span></a></li> <li><a href="#">Shipping <span class="badge pull-right">14</span></a></li> <li><a href="#">Email <span class="badge pull-right">8</span></a></li> <li><a href="#">Technical Support <span class="badge pull-right">17</span></a></li> </ul> <div class="ticket-box"> <p>Please submit a ticket only if you can\'t find a solution to your problem in our knowledge base</p> <a href="#" class="btn btn-primary">Open a Ticket</a> </div> </div> <!-- END RIGHT SIDEBAR --> </div> </div> <!-- /main-content -->'),a.put("views/templates/master/alert_tpl.html",'<div class="alert alert-danger top-general-alert"> <span> 欢迎使用中美速递全新改版后台管理系统！当前版本最后更新时间为2015/07/28 PDT.目前新系统正在开发中，功能还待完善。如果您找不到您所使用的功能， 请登录<a href="http://www.culexpress.com/jfk/Login.aspx">旧版本</a> </span> <button type="button" class="close">&times;</button> </div>'),a.put("views/templates/master/breadcrumb_tpl.html",'<ul class="breadcrumb"> <li style="padding-right:5px" ng-repeat="route in routePath" ng-class="{\'active\': routePath.length-1 == $index}"> <i class="fa {{route.icon}}" ng-if="$index == 0"></i> <a href="javascript:void(0);" ng-click="btnTransfer(route)" ng-if="!!route.url">{{route.title}}</a> <span ng-if="!route.url">{{route.title}}</span> </li> </ul>'),a.put("views/templates/master/left-sidebar_tpl.html",'<div class="col-md-2 left-sidebar"> <!-- main-nav --> <nav class="main-nav"> <ul class="main-menu"> <li ng-repeat="menu in menus track by $index" ng-class="{\'active\':currentMenu.title == menu.title}"> <a href="javascript:void(0);" ng-class="{\'js-sub-menu-toggle\': !menu.url}"> <i class="fa {{menu.icon}} fa-fw"></i><span class="text"> {{menu.title}} <span class="badge element-bg-color-blue" ng-if="!!menu.tip">{{menu.tip}}</span> </span> <i class="toggle-icon fa fa-angle-left"></i> </a> <ul class="sub-menu" ng-if="menu.childs.length > 0"> <li ng-repeat="child in menu.childs track by $index" ng-class="{\'active\': currentMenu.title == child.title}"> <a href="javascript:void(0);" ng-click="btnChangeRouter(child)"> <span class="text">{{child.title}}</span> <span class="badge element-bg-color-blue">{{child.tip}}</span> </a> </li> </ul> </li> <!--<li class="active">\n                <a href="javascript:void(0);" class="js-sub-menu-toggle">\n                    <i class="fa fa-dashboard fa-fw"></i><span class="text">仪表盘</span>\n                    <i class="toggle-icon fa fa-angle-down"></i>\n                </a>\n                <ul class="sub-menu open">\n                    <li class="active"><a href="#/"><span class="text">任务中心</span></a></li>\n                    <li><a href="#/"><span class="text">统计中心<span class="badge element-bg-color-blue">New</span></span></a></li>\n                </ul>\n            </li>\n            <li>\n                <a href="javascript:void(0);" class="js-sub-menu-toggle">\n                    <i class="fa fa-users fa-fw"></i><span class="text">客户系统</span>\n                    <i class="toggle-icon fa fa-angle-left"></i>\n                </a>\n                <ul class="sub-menu ">\n                    <li><a href="#/profile"><span class="text">Profile</span></a></li>\n                    <li><a href="#/invoice"><span class="text">Invoice</span></a></li>\n                </ul>\n            </li>\n            <li>\n                <a href="javascript:void(0);" class="js-sub-menu-toggle">\n                    <i class="fa fa-shopping-cart fw"></i><span class="text">订单管理</span>\n                    <i class="toggle-icon fa fa-angle-left"></i>\n                </a>\n                <ul class="sub-menu ">\n                    <li><a href="charts-statistics.html"><span class="text">Charts</span></a></li>\n                </ul>\n            </li>\n            <li>\n                <a href="javascript:void(0);" class="js-sub-menu-toggle">\n                    <i class="fa fa-building fw"></i><span class="text">仓储管理</span>\n                    <i class="toggle-icon fa fa-angle-left"></i>\n                </a>\n                <ul class="sub-menu ">\n                    <li><a href="form-inplace-editing.html"><span class="text">In-place Editing</span></a></li>\n                </ul>\n            </li>\n            <li>\n                <a href="javascript:void(0);" class="js-sub-menu-toggle">\n                    <i class="fa fa-truck fw"></i><span class="text">物流管理</span>\n                    <i class="toggle-icon fa fa-angle-left"></i>\n                </a>\n                <ul class="sub-menu ">\n                    <li><a href="ui-elements-general.html"><span class="text">General Elements</span></a></li>\n                </ul>\n            </li>\n            <li>\n                <a href="widgets.html">\n                    <i class="fa fa-bar-chart fa-fw"></i><span class="text">报表管理 <span class="badge element-bg-color-blue">Updated</span></span>\n                </a>\n            </li>\n            <li>\n                <a href="javascript:void(0);" class="js-sub-menu-toggle">\n                    <i class="fa fa-gears fw"></i><span class="text">系统设置</span>\n                    <i class="toggle-icon fa fa-angle-left"></i>\n                </a>\n                <ul class="sub-menu ">\n                    <li><a href="components-wizard.html"><span class="text">Wizard (with validation)</span></a></li>\n                </ul>\n            </li>--> </ul> </nav> <!-- /main-nav --> <div class="sidebar-minified js-toggle-minified"> <i class="fa fa-angle-left"></i> </div> <!-- sidebar content --> <div class="sidebar-content" style="display:none"> <div class="panel panel-default"> <div class="panel-heading"> <h5><i class="fa fa-lightbulb-o"></i> 系统维护通知</h5> </div> <div class="panel-body"> <p>08/01/2015凌晨3点到7点系统将进行日常维护，在此时间段系统将无法登陆和使用。敬请谅解!</p> </div> </div> <h5 class="label label-default"><i class="fa fa-info-circle"></i> 个人任务栏</h5> <ul class="list-unstyled list-info-sidebar bottom-30px"> <li class="data-row"> <div class="data-name">货物预报处理进度</div> <div class="data-value"> 34 / 89 <div class="progress progress-xs"> <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100" style="width: 10%"> <span class="sr-only">10%</span> </div> </div> </div> </li> <li class="data-row"> <div class="data-name">订单处理进度</div> <div class="data-value"> 230 / 780 <div class="progress progress-xs"> <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="46" aria-valuemin="0" aria-valuemax="100" style="width: 46%"> <span class="sr-only">46%</span> </div> </div> </div> </li> <li class="data-row"> <span class="data-name">已入库货物</span> <span class="data-value">578件</span> </li> </ul> </div> <!-- end sidebar content --> </div>'),a.put("views/templates/master/right-content-navs_tpl.html",'<div class="row"> <div class="col-md-4"> <master-bread-crumbs></master-bread-crumbs> </div> <div class="col-md-8"> <div class="top-content"> <chart-quick-access></chart-quick-access> </div> </div> </div>'),a.put("views/templates/master/style-swicher_tpl.html",'<div class="del-style-switcher"> <div class="del-switcher-toggle toggle-hide"></div> <form> <section class="del-section del-section-skin"> <h5 class="del-switcher-header">选择皮肤色调:</h5> <ul> <li><a href="javascript:void(0);" title="Slate Gray" class="switch-skin slategray" data-skin="assets/css/skins/slategray.css">Slate Gray</a></li> <li><a href="javascript:void(0);" title="Dark Blue" class="switch-skin darkblue" data-skin="assets/css/skins/darkblue.css">Dark Blue</a></li> <li><a href="javascript:void(0);" title="Dark Brown" class="switch-skin darkbrown" data-skin="assets/css/skins/darkbrown.css">Dark Brown</a></li> <li><a href="javascript:void(0);" title="Light Green" class="switch-skin lightgreen" data-skin="assets/css/skins/lightgreen.css">Light Green</a></li> <li><a href="javascript:void(0);" title="Orange" class="switch-skin orange" data-skin="assets/css/skins/orange.css">Orange</a></li> <li><a href="javascript:void(0);" title="Red" class="switch-skin red" data-skin="assets/css/skins/red.css">Red</a></li> <li><a href="javascript:void(0);" title="Teal" class="switch-skin teal" data-skin="assets/css/skins/teal.css">Teal</a></li> <li><a href="javascript:void(0);" title="Yellow" class="switch-skin yellow" data-skin="assets/css/skins/yellow.css">Yellow</a></li> </ul> <button type="button" class="switch-skin-full fulldark" data-skin="assets/css/skins/fulldark.css">暗色主题</button> <button type="button" class="switch-skin-full fullbright" data-skin="assets/css/skins/fullbright.css">亮色主题</button> </section> <label class="fancy-checkbox"> <input type="checkbox" id="fixed-top-nav"><span>固定头部导航栏</span> </label> <p><a href="javascript:void(0);" title="Reset Style" class="del-reset-style">重设样式</a></p> </form> </div>'),a.put("views/templates/master/top_tpl.html",'<div class="top-bar"> <div class="container"> <div class="row" style="padding-bottom: 6px; height:30px"> <!-- logo --> <div style="top:0px" class="col-md-2 logo"> <a href="#/"><img src="images/culadmin-logo-white.cebac71f.png" style="width:45%" alt="CULExpress - Admin Dashboard"></a> <h1 class="sr-only">CULExpress Admin Dashboard</h1> </div> <!-- end logo --> <div class="col-md-10"> <div class="row"> <div class="col-md-12"> <div class="top-bar-right"> <!-- responsive menu bar icon --> <a href="javascript:void(0);" class="hidden-md hidden-lg main-nav-toggle"><i class="fa fa-bars"></i></a> <!-- end responsive menu bar icon --> <div class="notifications"> <ul> <li class="notification-item inbox role" data-role="92"> <div class="btn-group"> <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-credit-card"></i><span class="count" ng-if="idCardLength != 0">{{idCardLength}}</span> <span class="circle"></span> </a> <ul class="dropdown-menu" role="menu" style="max-height: 350px;overflow:auto"> <li class="notification-header"> <em>您有 {{idCardLength}} 条未处理身份证审核</em> </li> <li class="inbox-item unread clearfix" ng-repeat="message in idMessage" ng-click="btnViewAddressMessage(message);"> <a href="javascript:void(0);"> <div class="media"> <div class="media-left"> <i class="fa fa-envelope green-font"></i> </div> <div class="media-body"> <h5 class="media-heading name">客户 - {{message.customerNumber}}</h5> <p class="text">{{message.message | cutText:true:30}}</p> <span class="timestamp">{{message.indate| date:\'yyyy-MM-dd hh:mm\'}}</span> </div> </div> </a> </li> <li class="notification-footer"> <a href="javascript:void(0);" ng-click="btnVieIdauthList();">查看所有身份认证信息</a> <a href="javascript:void(0);" ng-click="updateAllIdMessageOperate();">标记所有为已读</a> </li> </ul> </div> </li> <li class="notification-item inbox role" data-role="92"> <div class="btn-group"> <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-envelope"></i><span class="count" ng-if="tipMessageLength != 0">{{tipMessageLength}}</span> <span class="circle"></span> </a> <ul class="dropdown-menu" role="menu" style="max-height: 350px;overflow:auto"> <li class="notification-header"> <em>您有 {{tipMessageLength}} 条未处理客户留言</em> </li> <!--<li ng-repeat="message in tipMessage" ng-if="$index < 15" class="inbox-item clearfix" ng-click="btnViewMessage(message);">\n                                                    <a href="javascript:void(0);">\n                                                        <i class="fa fa-envelope green-font"></i>\n                                                        <span class="text">客户{{message.customerNumber}}:{{message.message | cutText:true:10}}</span>\n                                                        <span class="timestamp">{{message.indate| date:\'MM-dd h:mm\'}} 前</span>\n                                                    </a>\n                                                </li>--> <!--<li class="inbox-item unread clearfix" ng-repeat="message in tipMessage" ng-if="$index < 5" ng-click="btnViewMessage(message);">--> <li class="inbox-item unread clearfix" ng-repeat="message in tipMessage" ng-click="btnViewMessage(message);"> <a href="javascript:void(0);"> <div class="media"> <div class="media-left"> <i class="fa fa-envelope green-font"></i> </div> <div class="media-body"> <h5 class="media-heading name">客户 - {{message.customerNumber}}</h5> <p class="text">{{message.message | cutText:true:30}}</p> <span class="timestamp">{{message.indate| date:\'yyyy-MM-dd hh:mm\'}}</span> </div> </div> </a> </li> <!--<li class="inbox-item unread clearfix">\n                                                    <a href="javascript:void(0);">\n                                                        <div class="media">\n                                                            <div class="media-left">\n                                                                <img class="media-object" src="assets/img/user3.png" alt="Antonio">\n                                                            </div>\n                                                            <div class="media-body">\n                                                                <h5 class="media-heading name">Stella</h5>\n                                                                <p class="text">Ok now I can see the status for each item. Thanks! :D</p>\n                                                                <span class="timestamp">Oct 6</span>\n                                                            </div>\n                                                        </div>\n                                                    </a>\n                                                </li>\n                                                <li class="inbox-item clearfix">\n                                                    <a href="javascript:void(0);">\n                                                        <div class="media">\n                                                            <div class="media-left">\n                                                                <img class="media-object" src="assets/img/user4.png" alt="Antonio">\n                                                            </div>\n                                                            <div class="media-body">\n                                                                <h5 class="media-heading name">Jane Doe</h5>\n                                                                <p class="text"><i class="fa fa-reply"></i> Please check the status of your ...</p>\n                                                                <span class="timestamp">Oct 2</span>\n                                                            </div>\n                                                        </div>\n                                                    </a>\n                                                </li>\n                                                <li class="inbox-item clearfix">\n                                                    <a href="javascript:void(0);">\n                                                        <div class="media">\n                                                            <div class="media-left">\n                                                                <img class="media-object" src="assets/img/user5.png" alt="Antonio">\n                                                            </div>\n                                                            <div class="media-body">\n                                                                <h5 class="media-heading name">John Simmons</h5>\n                                                                <p class="text"><i class="fa fa-reply"></i> I\'ve fixed the problem :)</p>\n                                                                <span class="timestamp">Sep 12</span>\n                                                            </div>\n                                                        </div>\n                                                    </a>\n                                                </li>--> <li class="notification-footer"> <a href="javascript:void(0);" ng-click="btnViewMessageList();">查看所有客户留言</a> </li> </ul> </div> </li> <li class="notification-item general role" data-role="93"> <div class="btn-group"> <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-user"></i><span class="count">{{vipCount}}</span> <span class="circle"></span> </a> <ul class="dropdown-menu" role="menu" style="max-height: 350px;overflow:auto"> <li class="notification-header" ng-if="vipCount != 0"> <em>您有 {{vipCount}} 条未处理客户申请</em> </li> <li ng-repeat="vip in vipData"> <a href="javascript:void(0);" ng-click="btnViewCustomer(vip);"> <i class="fa fa-user green-font"></i> <span class="text">客户{{vip.customerNumber}}提交成为VIP客户申请</span> <span class="timestamp">{{vip.lastEditUserName | date:\'MM-dd h:mm:ss\'}}前</span> </a> </li> <li class="notification-footer" ng-click="btnViewCustomerList();"> <a href="javascript:void(0);">查看所有客户资料</a> </li> </ul> </div> </li> <!--<li class="notification-item general">\n                                        <div class="btn-group">\n                                            <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown">\n                                                <i class="fa fa-bell"></i><span class="count">2</span>\n                                                <span class="circle"></span>\n                                            </a>\n                                            <ul class="dropdown-menu" role="menu">\n                                                <li class="notification-header">\n                                                    <em>您有 2 条通知</em>\n                                                </li>\n                                                <li>\n                                                    <a href="javascript:void(0);">\n                                                        <i class="fa fa-user green-font"></i>\n                                                        <span class="text">客户KX008提交成为VIP客户申请</span>\n                                                        <span class="timestamp">1 minute ago</span>\n                                                    </a>\n                                                </li>\n                                                <li>\n                                                    <a href="javascript:void(0);">\n                                                        <i class="fa fa-user green-font"></i>\n                                                        <span class="text">客户KX002提交成为VIP客户申请</span>\n                                                        <span class="timestamp">12 hours ago</span>\n                                                    </a>\n                                                </li>\n                                                <li>\n                                                    <a href="javascript:void(0);">\n                                                        <i class="fa fa-comment green-font"></i>\n                                                        <span class="text">New comment on the blog post</span>\n                                                        <span class="timestamp">18 minutes ago</span>\n                                                    </a>\n                                                </li>\n                                                <li>\n                                                    <a href="javascript:void(0);">\n                                                        <i class="fa fa-shopping-cart red-font"></i>\n                                                        <span class="text">4 new sales order</span>\n                                                        <span class="timestamp">4 hours ago</span>\n                                                    </a>\n                                                </li>\n                                                <li>\n                                                    <a href="javascript:void(0);">\n                                                        <i class="fa fa-edit yellow-font"></i>\n                                                        <span class="text">3 product reviews awaiting moderation</span>\n                                                        <span class="timestamp">1 day ago</span>\n                                                    </a>\n                                                </li>\n                                                <li>\n                                                    <a href="javascript:void(0);">\n                                                        <i class="fa fa-comment green-font"></i>\n                                                        <span class="text">New comment on the blog post</span>\n                                                        <span class="timestamp">3 days ago</span>\n                                                    </a>\n                                                </li>\n                                                <li>\n                                                    <a href="javascript:void(0);">\n                                                        <i class="fa fa-comment green-font"></i>\n                                                        <span class="text">New comment on the blog post</span>\n                                                        <span class="timestamp">Oct 15</span>\n                                                    </a>\n                                                </li>\n                                                <li>\n                                                    <a href="javascript:void(0);">\n                                                        <i class="fa fa-warning red-font"></i>\n                                                        <span class="text red-font">Low disk space!</span>\n                                                        <span class="timestamp">Oct 11</span>\n                                                    </a>\n                                                </li>\n                                                <li class="notification-footer">\n                                                    <a href="javascript:void(0);">View All Notifications</a>\n                                                </li>\n                                            </ul>\n                                        </div>\n                                    </li>--> </ul> </div> <!-- logged user and the menu --> <div class="logged-user"> <div class="btn-group"> <a href="javascript:void(0);" class="btn btn-link dropdown-toggle" data-toggle="dropdown"> <img src="assets/img/user-avatar2.png" alt="User Avatar" style="width:25px; height:25px; border:0px none"> <span class="name">{{$root.userInfo.userName}} ({{$root.userInfo.gname}})</span> <span class="caret"></span> </a> <ul class="dropdown-menu" role="menu"> <!--<li>\n                                            <a href="javascript:void(0);">\n                                                <i class="fa fa-user"></i>\n                                                <span class="text">个人信息</span>\n                                            </a>\n                                        </li>\n                                        <li>\n                                            <a href="javascript:void(0);">\n                                                <i class="fa fa-cog"></i>\n                                                <span class="text">设置</span>\n                                            </a>\n                                        </li>--> <li> <a href="javascript:void(0);" ng-click="btnLogout()"> <i class="fa fa-power-off"></i> <span class="text">退出登录</span> </a> </li> </ul> </div> </div> <!-- end logged user and the menu --> </div> <!-- /top-bar-right --> </div> </div> <!-- /row --> </div> </div> <!-- /row --> </div> <!-- /container --> </div>'),
a.put("views/templates/profile.html",'<div class="main-header"> <h2>Profile</h2> <em>user profile page</em> </div> <div class="main-content"> <!-- NAV TABS --> <ul class="nav nav-tabs nav-tabs-custom-colored tabs-iconized"> <li class="active"><a href="#profile-tab" data-toggle="tab"><i class="fa fa-user"></i> Profile</a></li> <li><a href="#activity-tab" data-toggle="tab"><i class="fa fa-rss"></i> Recent Activity</a></li> <li><a href="#settings-tab" data-toggle="tab"><i class="fa fa-gear"></i> Settings</a></li> </ul> <!-- END NAV TABS --> <div class="tab-content profile-page"> <!-- PROFILE TAB CONTENT --> <div class="tab-pane profile active" id="profile-tab"> <div class="row"> <div class="col-md-3"> <div class="user-info-left"> <img src="assets/img/profile-avatar.png" alt="Profile Picture"> <h2>Jonathan Smith <i class="fa fa-circle green-font online-icon"></i><sup class="sr-only">online</sup></h2> <div class="contact"> <a href="#" class="btn btn-block btn-custom-primary"><i class="fa fa-envelope-o"></i> Send Message</a> <a href="#" class="btn btn-block btn-custom-secondary"><i class="fa fa-book"></i> Add To Contact</a> <ul class="list-inline social"> <li><a href="#" title="Facebook"><i class="fa fa-facebook-square"></i></a></li> <li><a href="#" title="Twitter"><i class="fa fa-twitter-square"></i></a></li> <li><a href="#" title="Google Plus"><i class="fa fa-google-plus-square"></i></a></li> </ul> </div> </div> </div> <div class="col-md-9"> <div class="user-info-right"> <div class="basic-info"> <h3><i class="fa fa-square"></i> Basic Information</h3> <p class="data-row"> <span class="data-name">Username</span> <span class="data-value">jonasmith</span> </p> <p class="data-row"> <span class="data-name">Birth Date</span> <span class="data-value">Nov 20, 1988</span> </p> <p class="data-row"> <span class="data-name">Gender</span> <span class="data-value">Male</span> </p> <p class="data-row"> <span class="data-name">Website</span> <span class="data-value"><a href="#">www.jonasmith.com</a></span> </p> <p class="data-row"> <span class="data-name">Last Login</span> <span class="data-value">2 hours ago</span> </p> <p class="data-row"> <span class="data-name">Date Joined</span> <span class="data-value">Feb 22, 2012</span> </p> </div> <div class="contact_info"> <h3><i class="fa fa-square"></i> Contact Information</h3> <p class="data-row"> <span class="data-name">Email</span> <span class="data-value">me@jonasmith.com</span> </p> <p class="data-row"> <span class="data-name">Phone</span> <span class="data-value">(1800) 221 - 876543</span> </p> <p class="data-row"> <span class="data-name">Address</span> <span class="data-value">Riverside City 66, 80123 Denver<br>Colorado</span> </p> </div> <div class="about"> <h3><i class="fa fa-square"></i> About Me</h3> <p>Dramatically facilitate proactive solutions whereas professional intellectual capital. Holisticly utilize competitive e-markets through intermandated meta-services. Objectively.</p> <p>Monotonectally foster future-proof infomediaries before principle-centered interfaces. Assertively recaptiualize cutting-edge web services rather than emerging "outside the box" thinking. Phosfluorescently cultivate resource maximizing technologies and user-centric convergence. Completely underwhelm cross functional innovation vis-a-vis.</p> </div> </div> </div> </div> </div> <!-- END PROFILE TAB CONTENT --> <!-- ACTIVITY TAB CONTENT --> <div class="tab-pane activity" id="activity-tab"> <ul class="list-unstyled activity-list"> <li> <i class="fa fa-shopping-cart activity-icon pull-left"></i> <p> <a href="#">Jonathan</a> commented on <a href="#">Special Deal 2013</a> <span class="timestamp">12 minutes ago</span> </p> </li> <li> <i class="fa fa-pencil activity-icon pull-left"></i> <p> <a href="#">Jonathan</a> posted <a href="#">a new blog post</a> <span class="timestamp">4 hours ago</span> </p> </li> <li> <i class="fa fa-user activity-icon pull-left"></i> <p> <a href="#">Jonathan</a> edited his profile <span class="timestamp">11 hours ago</span> </p> </li> <li> <i class="fa fa-pencil activity-icon pull-left"></i> <p> <a href="#">Jonathan</a> has added review on <a href="#">jQuery Complete Guide</a> book <span class="timestamp">Yesterday</span> </p> </li> <li> <i class="fa fa-thumbs-up activity-icon pull-left"></i> <p> <a href="#">Jonathan</a> liked <a href="#">a post</a> <span class="timestamp">December 12</span> </p> </li> <li> <i class="fa fa-tasks activity-icon pull-left"></i> <p> <a href="#">Jonathan</a> has completed one task <span class="timestamp">December 11</span> </p> </li> <li> <i class="fa fa-picture-o activity-icon pull-left"></i> <p> <a href="#">Jonathan</a> uploaded <a href="#">new photos</a> <span class="timestamp">December 5</span> </p> </li> <li> <i class="fa fa-credit-card activity-icon pull-left"></i> <p> <a href="#">Jonathan</a> has updated his credit card info <span class="timestamp">September 28</span> </p> </li> </ul> <p class="text-center more"><a href="#" class="btn btn-custom-primary">View more <i class="fa fa-long-arrow-right"></i></a></p> </div> <!-- END ACTIVITY TAB CONTENT --> <!-- SETTINGS TAB CONTENT --> <div class="tab-pane settings" id="settings-tab"> <form class="form-horizontal" role="form"> <fieldset> <h3><i class="fa fa-square"></i> Change Password</h3> <div class="form-group"> <label for="old-password" class="col-sm-3 control-label">Old Password</label> <div class="col-sm-4"> <input type="password" id="old-password" name="old-password" class="form-control"> </div> </div> <hr> <div class="form-group"> <label for="password" class="col-sm-3 control-label">New Password</label> <div class="col-sm-4"> <input type="password" id="password" name="password" class="form-control"> </div> </div> <div class="form-group"> <label for="password2" class="col-sm-3 control-label">Repeat Password</label> <div class="col-sm-4"> <input type="password" id="password2" name="password2" class="form-control"> </div> </div> </fieldset> <fieldset> <h3><i class="fa fa-square"></i> Privacy</h3> <label class="fancy-checkbox"> <input type="checkbox"> <span>Show my display name</span> </label> <label class="fancy-checkbox"> <input type="checkbox"> <span>Show my birth date</span> </label> <label class="fancy-checkbox"> <input type="checkbox"> <span>Show my email</span> </label> <label class="fancy-checkbox"> <input type="checkbox"> <span>Show my online status on chat</span> </label> </fieldset> <h3><i class="fa fa-square"> </i>Notifications</h3> <fieldset> <div class="form-group"> <label class="col-sm-5 control-label">Receive message from administrator</label> <ul class="col-sm-7 list-inline"> <li> <input type="checkbox" checked class="bs-switch switch-small" data-off="default" data-on-label="><i class=\'glyphicon glyphicon-globe\'></i>" data-off-label="<i class=\'glyphicon glyphicon-globe\'></i>"> </li> <li> <input type="checkbox" checked class="bs-switch switch-small" data-off="default" data-on-label="><i class=\'glyphicon glyphicon-phone\'></i>" data-off-label="<i class=\'glyphicon glyphicon-phone\'></i>"> </li> <li> <input type="checkbox" checked class="bs-switch switch-small" data-off="default" data-on-label="><i class=\'glyphicon glyphicon-envelope\'></i>" data-off-label="<i class=\'glyphicon glyphicon-envelope\'></i>"> </li> </ul> </div> <div class="form-group"> <label class="col-sm-5 control-label">New product has been added</label> <ul class="col-sm-7 list-inline"> <li> <input type="checkbox" class="bs-switch switch-small" data-off="default" data-on-label="><i class=\'glyphicon glyphicon-globe\'></i>" data-off-label="<i class=\'glyphicon glyphicon-globe\'></i>"> </li> <li> <input type="checkbox" checked class="bs-switch switch-small" data-off="default" data-on-label="><i class=\'glyphicon glyphicon-phone\'></i>" data-off-label="<i class=\'glyphicon glyphicon-phone\'></i>"> </li> <li> <input type="checkbox" checked class="bs-switch switch-small" data-off="default" data-on-label="><i class=\'glyphicon glyphicon-envelope\'></i>" data-off-label="<i class=\'glyphicon glyphicon-envelope\'></i>"> </li> </ul> </div> <div class="form-group"> <label class="col-sm-5 control-label">Product review has been approved</label> <ul class="col-sm-7 list-inline"> <li> <input type="checkbox" checked class="bs-switch switch-small" data-off="default" data-on-label="><i class=\'glyphicon glyphicon-globe\'></i>" data-off-label="<i class=\'glyphicon glyphicon-globe\'></i>"> </li> <li> <input type="checkbox" class="bs-switch switch-small" data-off="default" data-on-label="><i class=\'glyphicon glyphicon-phone\'></i>" data-off-label="<i class=\'glyphicon glyphicon-phone\'></i>"> </li> <li> <input type="checkbox" checked class="bs-switch switch-small" data-off="default" data-on-label="><i class=\'glyphicon glyphicon-envelope\'></i>" data-off-label="<i class=\'glyphicon glyphicon-envelope\'></i>"> </li> </ul> </div> <div class="form-group"> <label class="col-sm-5 control-label">Others liked your post</label> <ul class="col-sm-7 list-inline"> <li> <input type="checkbox" class="bs-switch switch-small" data-off="default" data-on-label="><i class=\'glyphicon glyphicon-globe\'></i>" data-off-label="<i class=\'glyphicon glyphicon-globe\'></i>"> </li> <li> <input type="checkbox" class="bs-switch switch-small" data-off="default" data-on-label="><i class=\'glyphicon glyphicon-phone\'></i>" data-off-label="<i class=\'glyphicon glyphicon-phone\'></i>"> </li> <li> <input type="checkbox" class="bs-switch switch-small" data-off="default" data-on-label="><i class=\'glyphicon glyphicon-envelope\'></i>" data-off-label="<i class=\'glyphicon glyphicon-envelope\'></i>"> </li> </ul> </div> </fieldset> </form> <p class="text-center"><a href="#" class="btn btn-custom-primary"><i class="fa fa-floppy-o"></i> Save Changes</a></p> </div> <!-- END SETTINGS TAB CONTENT --> </div> </div>'),a.put("views/warehouse/bucket.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 打包管理——出库管理</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="col-sm-12 search-bar"> <div class="search-col" style="margin-bottom: 0px"> <button type="button" class="btn btn-primary role" data-role="68" style="margin-left:5px" ng-click="btnAction(\'create\')">新建出库总单</button> </div> </div> <div class="search-col"> <label class="search-label">所属仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select> </div> <div class="search-col"> <label class="search-label">状态：</label> <select class="form-control search-control" ng-model="searchBar.status"> <option value="">全部</option> <option value="1">开启</option> <option value="0">关闭</option> </select> </div> <div class="search-col"> <label class="search-label">开始日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">结束日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="bucketNumber">出库总单号</option> <option value="flightNo">航班号</option> <option value="trackingNumber">CUL包裹单号</option> </select> <input type="text" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th>出库总单号</th> <th>航班号</th> <th>创建时间</th> <th>状态</th> <th>Pallet总数</th> <th>Box总数</th> <th>bag总数</th> <th>包裹总数</th> <th>包裹总重</th> <th>出库人员</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.bucketNumber}}</td> <td>{{item.flightNo}}</td> <td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>{{item._status}}</td> <td>{{item.palletCount}}</td> <td>{{item.boxCount}}</td> <td>{{item.bagCount}}</td> <td>{{item.packageCount}}</td> <td>{{item.totalWeight | number: 2}}</td> <td>{{item.inuser}}</td> <td> <a href="javascript:void(0);" ng-click="btnAction(\'detail\', item)">查看</a> <a href="javascript:void(0);" class="role" data-role="69" ng-click="btnAction(\'edit\', item)" ng-if="item.status == \'1\'">编辑</a> <a href="javascript:void(0);" class="role" data-role="69" ng-click="btnAction(\'editFlightNo\', item)" ng-if="item.status == \'0\'">更新航班号</a> </td> </tr> </tbody> </table> </div> </div> <div class="row"> <div class="col-sm-5 text-left pull-left"> <form style="float:left" id="form_export_order" method="post" action="/" target="_blank"> <input id="orderStatus" name="orderStatus" type="hidden" value="{{exportOptions.orderStatus}}"> <input id="exportStatus" name="exportStatus" type="hidden" value="{{exportOptions.exportStatus}}"> <input id="warehouseNumber" name="warehouseNumber" type="hidden" value="{{exportOptions.warehouseNumber}}"> <input id="dateFrom" name="dateFrom" type="hidden" value="{{exportOptions.outDateFrom}}"> <input id="dateTo" name="dateTo" type="hidden" value="{{exportOptions.outDateTo}}"> <input id="customerNumber" name="customerNumber" type="hidden" value="{{exportOptions.customerNumber}}"> <input id="userName" name="userName" type="hidden" value="{{exportOptions.userName}}"> <input id="orderNumber" name="orderNumber" type="hidden" value="{{exportOptions.orderNumber}}"> <input id="trackingNumber" name="trackingNumber" type="hidden" value="{{exportOptions.trackingNumber}}"> <input id="receiveidentity" name="receiveidentity" type="hidden" value="{{exportOptions.receiveidentity}}"> <input id="referenceOrderNumber" name="referenceOrderNumber" type="hidden" value="{{exportOptions.referenceOrderNumber}}"> <input id="cnTrackingNumber" name="cnTrackingNumber" type="hidden" value="{{exportOptions.cnTrackingNumber}}"> <input id="hasWeight" name="hasWeight" type="hidden" value="true"> <input id="token" name="token" type="hidden" value="{{exportOptions.token}}"> <button type="submit" class="btn btn-primary role" data-role="74"> <i class="fa fa-file-excel-o" aria-hidden="true"></i> 导出订单列表 </button> </form> <form id="form_exportHT" method="post" action="/" target="_blank"> <input id="orderStatus" name="orderStatus" type="hidden" value="{{exportOptions.orderStatus}}"> <input id="exportStatus" name="exportStatus" type="hidden" value="{{exportOptions.exportStatus}}"> <input id="warehouseNumber" name="warehouseNumber" type="hidden" value="{{exportOptions.warehouseNumber}}"> <input id="dateFrom" name="dateFrom" type="hidden" value="{{exportOptions.outDateFrom}}"> <input id="dateTo" name="dateTo" type="hidden" value="{{exportOptions.outDateTo}}"> <input id="customerNumber" name="customerNumber" type="hidden" value="{{exportOptions.customerNumber}}"> <input id="userName" name="userName" type="hidden" value="{{exportOptions.userName}}"> <input id="orderNumber" name="orderNumber" type="hidden" value="{{exportOptions.orderNumber}}"> <input id="trackingNumber" name="outBoundTrackingNumber" type="hidden" value="{{exportOptions.outBoundTrackingNumber}}"> <input id="receiveidentity" name="receiveidentity" type="hidden" value="{{exportOptions.receiveidentity}}"> <input id="referenceOrderNumber" name="referenceOrderNumber" type="hidden" value="{{exportOptions.referenceOrderNumber}}"> <input id="cnTrackingNumber" name="cnTrackingNumber" type="hidden" value="{{exportOptions.cnTrackingNumber}}"> <input id="hasWeight" name="hasWeight" type="hidden" value="true"> <input id="token" name="token" type="hidden" value="{{exportOptions.token}}"> <button type="submit" class="btn btn-primary" data-role="34" style="margin-left:15px"> <i class="fa fa-file-excel-o" aria-hidden="true"></i> 将结果导出为HT订单 </button> </form> </div> <div class="col-sm-4 text-left pull-left"> <button type="button" class="btn btn-default" ng-click="btnPrev()"> <i class="fa fa-reply"></i>返回 </button> </div> <div class="col-sm-6 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/warehouse/bucketedit.html",'<div class="widget"> <div class="widget-header"> <h3 ng-show="tpl_status.actionType == \'bucket\'"><i class="fa fa-edit"></i> 出库总单明细(<span id="bucket-title">正在创建...</span>)</h3> <h3 ng-show="tpl_status.actionType == \'package\'"><i class="fa fa-edit"></i> 包裹明细(<span id="package-title"></span>)</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form" ng-show="tpl_status.actionType == \'bucket\'"> <fieldset> <legend>基本信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">所属仓库：</label> <div class="col-sm-4"> <select class="form-control search-control" ng-change="getSummaryInboundPackage()" ng-model="data.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in warehouseList"></select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">发货渠道：</label> <div class="col-sm-4"> <select class="form-control search-control" ng-change="getSummaryInboundPackage()" ng-model="data.shipServiceId" ng-options="item.shipServiceId as item.shipServiceName for item in shippingChannelList"></select> </div> </div> <div class="form-group"> <div class="col-sm-12"> <div class="contextual-summary-info contextual-background yellow-bg"> <p><i class="pull-left fa fa-check-circle" style="font-size:24px"></i> <div class="pull-left" style="font-size:24px;color:#ffffff"> <span>渠道包裹总数：[<span class="red-font">{{pkgCount.PackageCount || 0}}</span>]</span> <span>,渠道包裹总重量：[<span class="red-font">{{pkgCount.PackageTotalWeight | number: 2}}</span>] 磅</span> <!--<span >渠道包裹总数：[<span class="red-font">{{pkgCount.PackageCount || 0}}</span>]</span>\n                                    <span >,渠道包裹总重量：[<span class="red-font">{{pkgCount.PackageTotalWeight | number: 2}}</span>] 磅</span>--> </div> </p> <div class="clearfix"></div> </div> </div> </div> <div class="form-group"> <div class="col-sm-12"> <div class="contextual-summary-info contextual-background green-bg"> <p><i class="pull-left fa fa-check-circle" style="font-size:24px"></i> <div class="pull-left" style="font-size:24px;color:#ffffff"> <span>已扫描包裹总数： [<span class="red-font">{{selectPkgTotalCount || 0}}</span>]</span> <span>,已扫描包裹总重量：[<span class="red-font">{{selectPkgTotalWeight | number: 2}}</span>] 磅</span> </div> </p> <div class="clearfix"></div> </div> </div> </div> </fieldset> <fieldset> <legend>Pallet</legend> <div class="pull-left" style="margin:0 12px 12px 0" ng-repeat="item in data.detail"> <bucket-item type="pallet" ng-data="item" ng-fn-check="callback.check(item, data.detail,\'pallet\')" ng-fn-remove="callback.remove(item, \'pallet\')" ng-disabled="!!tpl_status.readonly  || !!tpl_status.editFlightNo"></bucket-item> </div> <div class="pull-left" ng-if="!tpl_status.readonly"> <button class="btn btn-danger" ng-click="btnAdd(\'pallet\')"><i class="fa fa-plus"></i>新增Pallet</button> </div> </fieldset> <fieldset ng-show="(data.detail | filter: {_selected:true}).length > 0"> <legend>Box(可选)</legend> <div class="pull-left" style="margin:0 12px 12px 0" ng-repeat="item in (data.detail | filter: {_selected:true})[0].boxes as selected_boxes"> <bucket-item type="box" ng-data="item" ng-fn-check="callback.check(item, selected_boxes,\'box\')" ng-fn-remove="callback.remove(item, \'box\')" ng-disabled="!!tpl_status.readonly  || !!tpl_status.editFlightNo"> </bucket-item> </div> <div class="pull-left" ng-if="!tpl_status.readonly"> <button class="btn btn-danger" ng-click="btnAdd(\'box\')"><i class="fa fa-plus"></i>新增Box</button> </div> </fieldset> <fieldset ng-show="(data.detail | filter: {_selected:true}).length > 0 || (selected_boxes | filter: {_selected:true}).length > 0"> <legend>Bag</legend> <div class="pull-left" style="margin:0 12px 12px 0" ng-repeat="item in ((data.detail | filter: {_selected:true})[0].bags || (selected_boxes | filter: {_selected:true})[0].bags) as selected_bags"> <bucket-item type="bag" ng-data="item" ng-fn-add="callback.add(item, selected_bags)" ng-fn-remove="callback.remove(item, \'bag\')" ng-disabled="!!tpl_status.readonly  || !!tpl_status.editFlightNo"> </bucket-item> </div> <div class="pull-left" ng-if="!tpl_status.readonly"> <button class="btn btn-danger" ng-click="btnAdd(\'bag\')"><i class="fa fa-plus"></i>新增Bag</button> </div> </fieldset> <fieldset> <div style="width:100%; display: inline-block" ng-if="tpl_status.readonly"> <legend>航班号信息</legend> <label class="col-sm-12 control-label text-left">航班号: {{data.flightNo}}</label> </div> <div ng-if="tpl_status.editFlightNo" style="width:100%; display: inline-block"> <legend>航班号信息</legend> <div class="form-group"> <div style="padding: 15px 0px"> <label class="col-sm-2 control-label text-right">原航班号： </label> <label class="col-sm-10 control-label text-left" style="line-height: 15px"> {{data.flightNo}}</label> <br> </div> <label class="col-sm-2 control-label text-right">修改航班号：</label> <div class="col-sm-4"> <input type="text" class="form-control search-control" placeholder="请输入航班号" ng-model="$parent.flightNo"> <code>{{errorFlightNo}}</code> </div> </div> </div> <div ng-if="tpl_status.editBucket" style="width:100%; display: inline-block"> <legend>航班号信息</legend> <div style="width:440px;float: left" class="flight-input"> <input type="text" class="form-control" placeholder="请输入航班号" ng-model="$parent.data.flightNo"> <code>{{errorFlightNo}}</code> </div> </div> <!--<div ng-if="tpl_status.createBucket" style="width:100%; display: inline-block;" >\n                    <legend>航班号信息</legend>\n                    <div style="width:440px;float: left;" class="flight-input">\n                        <input type="text" class="form-control" placeholder="请输入航班号" ng-model="$parent.flightNo">\n                        <code>{{errorFlightNo}}</code>\n                    </div>                       \n                </div>--> <div class="form-group"> <div class="col-md-6 text-left" ng-if="!!tpl_status.bucketNumber && !tpl_status.readonly && !tpl_status.editFlightNo"> <button type="button" class="btn btn-primary role" data-role="70" ng-click="btnClose()"><i class="fa fa-save"></i>关闭出库总单</button> </div> <div class="col-md-6 text-left" ng-if="tpl_status.editFlightNo"> <button type="button" class="btn btn-primary role" data-role="70" ng-click="btnUpdate()"><i class="fa fa-save"></i>确认修改航班号</button> </div> <div class="col-md-6 text-right"> <button type="button" class="btn btn-primary" ng-click="btnSave(\'closePage\')" ng-if="(!!tpl_status.bucketNumber && !tpl_status.readonly && !tpl_status.editFlightNo) || !tpl_status.bucketNumber"><i class="fa fa-save"></i>保存</button> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </div> </fieldset> </form> <form class="form-horizontal" role="form" ng-show="tpl_status.actionType == \'package\'"> <fieldset> <div class="form-group"> <label class="col-sm-3 control-label text-right">CUL包裹单号：</label> <div class="col-sm-6"> <input type="text" id="key_trackingNumber" class="form-control" ng-enter="btnSaveByPackage()" ng-model="_selectedPackage.trackingNumber" ng-keydown="keydownTrackingNumber($event)" ng-disabled="!!tpl_status.readonly"> </div> <div class="col-sm-2" ng-if="!tpl_status.readonly"> <button type="button" class="btn btn-primary" ng-click="btnSaveByPackage()"><i class="fa fa-check-square-o"></i>确定</button> </div> </div> <div class="form-group"> <div class="col-sm-12"> <div class="contextual-summary-info contextual-background green-bg"> <p><i class="pull-left fa fa-check-circle" style="font-size:24px"></i> <div class="pull-left" style="font-size:24px"><span>已装袋的包裹总数： {{selected_packages.length || 0}}</span></div> </p> <div class="clearfix"></div> </div> </div> </div> <div class="form-group"> <label class="col-sm-3 control-label text-right">袋子重量（磅）：</label> <div class="col-sm-6"> <input id="key_weight" type="text" class="form-control" ng-model="cul.bagWeight"> </div> </div> <div class="form-group"> <label class="col-sm-3 control-label text-right"> 称重重量（磅）：</label> <div class="col-sm-6"> <input id="key_weight" type="text" class="form-control" ng-model="_selectedPackage.totalWeight" ng-keydown="checkWeight($event)" ng-disabled="!!tpl_status.readonly"> </div> <div class="col-sm-2" ng-if="!tpl_status.readonly"> <button type="button" class="btn btn-primary" ng-click="btnCheckWeight()"><i class="fa fa-check-square-o"></i>校验</button> </div> </div> </fieldset> <fieldset> <div class="pull-left" style="margin:0 12px 12px 0" ng-repeat="item in (selected_bags | filter: {_selected:true})[0].packages as selected_packages"> <!--<bucket-item type="package" ng-data="item" ng-fn-check="callback.check(item, selected_packages)" ng-fn-remove="callback.remove(item, \'package\')" ng-disabled="!!tpl_status.readonly"></bucket-item>--> <bucket-item type="package" ng-data="item" ng-fn-remove="callback.remove(item, \'package\')" ng-disabled="!!tpl_status.readonly || !!tpl_status.editFlightNo"></bucket-item> </div> </fieldset> <div class="col-md-12 text-center"> <!-- <button type="button" class="btn btn-primary" ng-click="btnSave()" ng-if="(!!tpl_status.bucketNumber && !tpl_status.readonly && !tpl_status.editFlightNo) || !tpl_status.bucketNumber"><i class="fa fa-save"></i>保存</button> --> <button type="button" class="btn btn-default" ng-click="btnPrevByPackage(\'package\')"><i class="fa fa-reply"></i>返回</button> </div> <div class="clearfix"></div> </form> </div> </div>'),a.put("views/warehouse/deleteReceiptLog.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 删货记录</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <!--<div class="search-col">\n                    <label class="search-label">发货仓库：</label>\n                    <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select>\n                </div>--> <!--<div class="search-col">\n                    <label class="search-label">发货渠道：</label>\n                    <select class="form-control search-control" ng-model="searchBar.shipServiceId" ng-options="item.shipServiceId as item.shipServiceName for item in searchBar.shippingChannelList"></select>\n                </div>--> <!--<div class="search-col">\n                    <label class="search-label">\n                        <input type="checkbox" ng-model="searchBar.isFastOrder" />\n                        <span>极速原箱 <i class="fa fa-bolt" aria-hidden="true" style="color:#ff6a00;font-size:16px;"></i></span>\n                    </label>\n                </div>--> <div class="clearfix"></div> <!--<div class="search-col">\n                    <label class="search-label">开始日期：</label>\n                    <p class="input-group pull-left">\n                        <input type="text" class="form-control search-control" style="width:110px;" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true" />\n                        <span class="input-group-btn">\n                            <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button>\n                        </span>\n                    </p>\n                    <div class="pull-left">\n                        <label class="search-label">日</label>\n                        <select class="form-control search-control" style="width:55px; padding-left: 5px;" ng-model="searchBar.startTime_HH">\n                            <option value="0">00</option>\n                            <option value="1">01</option>\n                            <option value="2">02</option>\n                            <option value="3">03</option>\n                            <option value="4">04</option>\n                            <option value="5">05</option>\n                            <option value="6">06</option>\n                            <option value="7">07</option>\n                            <option value="8">08</option>\n                            <option value="9">09</option>\n                            <option value="10">10</option>\n                            <option value="11">11</option>\n                            <option value="12">12</option>\n                            <option value="13">13</option>\n                            <option value="14">14</option>\n                            <option value="15">15</option>\n                            <option value="16">16</option>\n                            <option value="17">17</option>\n                            <option value="18">18</option>\n                            <option value="19">19</option>\n                            <option value="20">20</option>\n                            <option value="21">21</option>\n                            <option value="22">22</option>\n                            <option value="23">23</option>\n                        </select>\n                        <label class="search-label">时</label>\n                        <input type="text" class="form-control search-control" style="width:45px;" maxlength="2" ng-model="searchBar.startTime_mm" />\n                        <label class="search-label">分</label>\n                        <input type="text" class="form-control search-control" style="width:45px;" maxlength="2" ng-model="searchBar.startTime_ss" />\n                        <label class="search-label">秒</label>\n                    </div>\n                </div>--> <!--<div class="search-col">\n                    <label class="search-label">结束日期：</label>\n                    <p class="input-group pull-left">\n                        <input type="text" class="form-control search-control" style="width:110px;" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true" />\n                        <span class="input-group-btn">\n                            <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button>\n                        </span>\n                    </p>\n                    <div class="pull-left">\n                        <label class="search-label">日</label>\n\n                        <select class="form-control search-control" style="width:55px; padding-left: 5px;" ng-model="searchBar.endTime_HH">\n                            <option value="0">00</option>\n                            <option value="1">01</option>\n                            <option value="2">02</option>\n                            <option value="3">03</option>\n                            <option value="4">04</option>\n                            <option value="5">05</option>\n                            <option value="6">06</option>\n                            <option value="7">07</option>\n                            <option value="8">08</option>\n                            <option value="9">09</option>\n                            <option value="10">10</option>\n                            <option value="11">11</option>\n                            <option value="12">12</option>\n                            <option value="13">13</option>\n                            <option value="14">14</option>\n                            <option value="15">15</option>\n                            <option value="16">16</option>\n                            <option value="17">17</option>\n                            <option value="18">18</option>\n                            <option value="19">19</option>\n                            <option value="20">20</option>\n                            <option value="21">21</option>\n                            <option value="22">22</option>\n                            <option value="23">23</option>\n                        </select>\n                        <label class="search-label">时</label>\n                        <input type="text" class="form-control search-control" style="width:45px;" maxlength="2" ng-model="searchBar.endTime_mm" />\n                        <label class="search-label">分</label>\n                        <input type="text" class="form-control search-control" style="width:45px;" maxlength="2" ng-model="searchBar.endTime_ss" />\n                        <label class="search-label">秒</label>\n                    </div>\n                </div>--> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="customerNumber">客户编号</option> <option value="receiptNumber">入库单号</option> <!--<option value="referenceOrderNumber">客户关联号</option>--> <!--<option value="cnTrackingNumber">国内物流号</option>--> </select> <textarea type="text" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"></textarea> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> <div class="col-sm-12 search-bar" ng-show="selectedListCache.length > 0"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">已选择：{{selectedListCache.length}}个订单</label> <button type="button" class="btn btn-link" ng-click="btnClearSelectedListCache();">清除已选项</button> </div> </div> </div> <table class="table table-bordered"> <thead> <tr> <!--<th>序号</th>--> <th>客户编号</th> <th>收货仓库</th> <th>入库单号</th> <th>入库状态</th> <th>上架状态</th> <th>删货备注</th> <th>删除时间</th> <th>操作人</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.customerNumber}}</td> <td>{{item.warehouseName}}</td> <td>{{item.receiptNumber}}</td> <td>{{item.inboundStatus}}</td> <td>{{item.shelfStatus}}</td> <td>{{item.memo}}</td> <td>{{item.createTime | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>{{item.operationUser}}</td> </tr> </tbody> </table> <div class="col-sm-9 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> '),
a.put("views/warehouse/editpackage.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 按单打包</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <div class="form-group"> <label for="txtRDC" class="col-sm-2 control-label text-right">是否转仓：</label> <div class="col-sm-10 text-left"> <input id="txtRDC" type="checkbox" data-on-label="是" data-off-label="否"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">入库单号：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="入库单号"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">客户编号：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="客户编号"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">客户标示：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="客户标示"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">仓库位置：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="仓库位置"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">包裹重量：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="包裹重量"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">仓库备注：</label> <div class="col-sm-10 text-left"> <textarea class="form-control" rows="5" cols="30" placeholder="仓库备注"></textarea> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="submit" class="btn btn-primary">登记</button> <button class="btn btn-primary" ng-click="cancelEdit();">取消</button> <a class="btn btn-link">打印入库单</a> </div> </div> </form> </div> </div>'),a.put("views/warehouse/editpicking.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 捡货登记</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <div class="form-group"> <label for="txtRDC" class="col-sm-2 control-label text-right">是否转仓：</label> <div class="col-sm-10 text-left"> <input id="txtRDC" type="checkbox" data-on-label="是" data-off-label="否"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">入库单号：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="入库单号"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">客户编号：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="客户编号"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">客户标示：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="客户标示"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">仓库位置：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="仓库位置"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">包裹重量：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="包裹重量"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">仓库备注：</label> <div class="col-sm-10 text-left"> <textarea class="form-control" rows="5" cols="30" placeholder="仓库备注"></textarea> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="submit" class="btn btn-primary">登记</button> <button class="btn btn-primary" ng-click="cancelEdit();">取消</button> <a class="btn btn-link">打印入库单</a> </div> </div> </form> </div> </div>'),a.put("views/warehouse/editreceipt.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 入库登记</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <div class="form-group" ng-show="data.isFastShip == 1"> <label class="col-sm-2 control-label text-right"></label> <div class="col-sm-10 text-left"> <img src="/images/fast-ship.b93af2c9.png" title="急速原单" style="width:80px; height:80px"> </div> </div> <div class="form-group"> <label for="txtRDC" class="col-sm-2 control-label text-right">是否转仓：</label> <div class="col-sm-10 text-left"> <input id="txtRDC" type="checkbox" ng-true-value="1" ng-false-value="0" ng-model="data.isTransfer"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">入库单号：</label> <div class="col-sm-10 text-left"> <input id="txtTrackingNumber" type="text" class="form-control" placeholder="入库单号" ng-model="data.trackingNumber" ng-blur="getPackageDetail()" ng-keydown="hotKey($event)"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货仓库：</label> <div class="col-sm-10 text-left"> <select class="form-control" ng-model="data.warehouseNumber" ng-disabled="tpl_status.isExist == true" ng-options="item.warehouseNumber as item.warehouseName for item in tpl_status.warehouseList"></select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">快递名称：</label> <div class="col-sm-10 text-left"> <select class="form-control" ng-model="data.carrierName" ng-disabled="tpl_status.isExist == true"> <option value="DHL">DHL</option> <option value="EMS">EMS</option> <option value="FEDEX">FEDEX</option> <option value="UPS">UPS</option> <option value="其他快递">其他快递</option> </select> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">客户编号：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="客户编号" ng-model="data.customerNumber" ng-disabled="tpl_status.isExist == true"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">客户标示：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="客户标示" ng-model="data.receiveIdentity" ng-disabled="tpl_status.isExist == true"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">运单内容：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="运单内容" ng-model="data.packageDescription" ng-disabled="tpl_status.isExist == true"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">运单备注信息：</label> <div class="col-sm-10 text-left"> <textarea class="form-control" rows="5" cols="30" placeholder="运单备注信息" ng-model="data.packageNote" ng-disabled="tpl_status.isExist == true"></textarea> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">仓库位置：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="仓库位置" ng-model="data.location"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">包裹重量：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="包裹重量" ng-model="data.packageWeight"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">仓库备注：</label> <div class="col-sm-10 text-left"> <textarea class="form-control" rows="5" cols="30" placeholder="仓库备注" ng-model="data.warehouseNote"></textarea> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary role" data-role="88" ng-click="btnSaveAndPrint()">登记并打印入库单</button> <button type="button" class="btn btn-primary role" data-role="52" ng-click="btnPrint()" ng-disabled="data.trackingNumber == null || tpl_status.isExist == false">重新打印入库单</button> <!--<button type="button" class="btn btn-primary" ng-click="btnSave()">登记</button>--> <button type="button" class="btn btn-primary" ng-click="cancelEdit();">取消</button> <!--<a class="btn btn-link" href="javascript:void(0)" ng-click="btnPrint()">打印入库单</a>--> </div> </div> </form> </div> </div> <print-inbound-package></print-inbound-package>'),a.put("views/warehouse/editshelf.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 上架登记</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <div class="form-group"> <label for="txtRDC" class="col-sm-2 control-label text-right">是否转仓：</label> <div class="col-sm-10 text-left"> <input id="txtRDC" type="checkbox" data-on-label="是" data-off-label="否"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">入库单号：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="入库单号"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">客户编号：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="客户编号"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">客户标示：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="客户标示"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">仓库位置：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="仓库位置"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">包裹重量：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="包裹重量"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">仓库备注：</label> <div class="col-sm-10 text-left"> <textarea class="form-control" rows="5" cols="30" placeholder="仓库备注"></textarea> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="submit" class="btn btn-primary">登记</button> <button class="btn btn-primary" ng-click="cancelEdit();">取消</button> <a class="btn btn-link">打印入库单</a> </div> </div> </form> </div> </div>'),a.put("views/warehouse/editshipping.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 订单签出</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <div class="form-group"> <label for="txtRDC" class="col-sm-2 control-label text-right">是否转仓：</label> <div class="col-sm-10 text-left"> <input id="txtRDC" type="checkbox" data-on-label="是" data-off-label="否"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">入库单号：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="入库单号"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">客户编号：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="客户编号"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">客户标示：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="客户标示"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">仓库位置：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="仓库位置"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">包裹重量：</label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" placeholder="包裹重量"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">仓库备注：</label> <div class="col-sm-10 text-left"> <textarea class="form-control" rows="5" cols="30" placeholder="仓库备注"></textarea> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="submit" class="btn btn-primary">登记</button> <button class="btn btn-primary" ng-click="cancelEdit();">取消</button> <a class="btn btn-link">打印入库单</a> </div> </div> </form> </div> </div>'),a.put("views/warehouse/inventory.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 库存管理</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="col-sm-12 search-bar"> <div class="search-col" style="margin-bottom: 0px"> <button type="button" class="btn btn-primary role" data-role="64" style="margin-left:5px" ng-click="btnAction(\'frozen\')">冻结库存</button> <button type="button" class="btn btn-primary role" data-role="65" style="margin-left:5px" ng-click="btnAction(\'adjust\')">纠正库存</button> <button type="button" class="btn btn-primary role" data-role="66" style="margin-left:5px" ng-click="btnAction(\'logs\')">库存修改日志</button> <button type="button" class="btn btn-primary role" data-role="66" style="margin-left:5px" ng-click="btnAction(\'check\')">盘点库存</button> </div> </div> <div class="search-col"> <label class="search-label">入库类型：</label> <select class="form-control search-control" ng-options="sendType.key as sendType.value for sendType in sendTypes" ng-model="searchBar.sendType"> </select> </div> <div class="search-col"> <label class="search-label">发货仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select> </div> <div class="search-col"> <label class="search-label">库存：</label> <select class="form-control search-control" ng-model="searchBar.inventoryCondition"> <option value="">所有</option> <option value=">">大于</option> <option value="=">等于</option> <option value="<">小于</option> </select> <input class="form-control search-control" style="width:100px" ng-model="searchBar.inventoryConditionValue" ng-show="searchBar.inventoryCondition != \'\'"> </div> <div class="search-col"> <label class="search-label">商品主类别：</label> <select class="form-control search-control" ng-model="searchBar.categoryId" ng-change="changeCategory()" ng-options="item.cateid as item.name for item in searchBar.categoryList"></select> </div> <div class="search-col"> <label class="search-label">商品子类别：</label> <select class="form-control search-control" ng-model="searchBar.categorySubId" ng-options="item.cateid as item.name for item in searchBar.categorySubList"></select> </div> <!--<div class="search-col">\n                        <label class="search-label">创建时间：</label>\n                        <select class="form-control search-control" ng-model="searchBar.dateRange" ng-change="changeDate()">\n                            <option value="">所有</option>\n                            <option value="3">最近3天</option>\n                            <option value="7">最近7天</option>\n                            <option value="range">时间范围</option>\n                        </select>\n                    </div>--> <!--<div class="search-col" ng-show="searchBar.dateRange == \'range\'">--> <div class="search-col"> <label class="search-label">创建时间：起</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <!--<div class="search-col" ng-show="searchBar.dateRange == \'range\'">--> <label class="search-label">至</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="receiptNumber">入库单号</option> <option value="userName">客户ID</option> <option value="customerNumber">客户编号</option> <!--<option value="receiveIdentity">客户标识</option>--> <option value="shelfNumber">架位编号</option> <option value="inboundUser">入库人员</option> <!--<option value="itemNumber">入库人员</option>--> <!--<option value="itemNumber">转运单号</option>\n                            <option value="itemNumber">客户编号</option>\n                            <option value="itemNumber">客户标示</option>\n                            <option value="itemNumber">客户id</option>\n                            <option value="itemNumber">仓位编号</option>\n                            <option value="itemNumber">转仓</option>\n                            <option value="itemNumber">入库人员</option>--> <!--<option value="itemNumber">商品编号</option>\n                            <option value="upccode">UPC</option>\n                            <option value="customerNumber">客户编号</option>--> </select> <input type="text" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <!--纠正库存:进入改行商品的纠正库存页面--> <tr> <th>序号</th> <th>客户编号</th> <th>客户ID</th> <th>客户标识</th> <th>商品编号</th> <th>商品描述</th> <th>架位编号</th> <th>入库类型</th> <th>入库单号</th> <th>库存</th> <th>冻结库存</th> <th>重量</th> <th>创建日期</th> <th>库存天数</th> <th>入库人员</th> <th>操作</th> <!--<th>序号</th>\n                            <th>商品编号</th>\n                            <th>UPC</th>\n                            <th>品牌</th>\n                            <th>商品描述</th>\n                            <th>属性1</th>\n                            <th>属性2</th>\n                            <th>库存</th>\n                            <th>冻结库存</th>\n                            <th>创建日期</th>--> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td>{{item.customerNumber}}</td> <td>{{item.userName}}</td> <td>{{item.receiveIdentity}}</td> <td><a href="javascript:void(0);" ng-click="btnAction(\'detail\', item)">{{item.itemNumber}}</a></td> <td class="long-cell">{{item.description}}</td> <td>{{item.shelfNumber}}</td> <td>{{item._sendType}}</td> <td>{{item.receiptNumber}}</td> <td>{{item.inventory}} <a href="javascript:void(0);" ng-click="btnAction(\'logs\', item)"><i class="fa fa-eye"></i></a></td> <td>{{item.inventory_frozen}} <a href="javascript:void(0);" ng-click="btnAction(\'frozen\', item)"><i class="fa fa-lock"></i></a></td> <td>{{item.weight | number:2}}</td> <td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>{{item.days}}</td> <td>{{item.inboundUser}}</td> <td><a href="javascript:void(0);" ng-click="btnAction(\'adjust\',item)">改库存</a></td> <!--<td>{{item.upccode}}</td>\n                            <td>{{item.brand}}</td>\n                            <td>{{item.description}}</td>\n                            <td><span ng-show="item.properties[0]">{{item.properties[0].propertyName + \': \' + item.properties[0].propertyValue}}</span></td>\n                            <td><span ng-show="item.properties[1]">{{item.properties[1].propertyName + \': \' + item.properties[1].propertyValue}}</span></td>--> <!--<td><a href="javascript:void(0);" ng-click="btnAction(\'logs\', item)">{{item.inventory}}</a></td>\n                            <td><a href="javascript:void(0);" ng-click="btnAction(\'frozen\', item)">{{item.inventory_frozen}}</a></td>--> <!--<td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td>--> </tr> </tbody> </table> </div> </div> <div class="row"> <div class="col-sm-6 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/warehouse/inventoryCopy.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 库存管理</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12 search-bar"> <div class="col-sm-12 search-bar"> <div class="search-col" style="margin-bottom: 0px"> <button type="button" class="btn btn-primary role" data-role="64" style="margin-left:5px" ng-click="btnAction(\'frozen\')">冻结库存</button> <button type="button" class="btn btn-primary role" data-role="65" style="margin-left:5px" ng-click="btnAction(\'adjust\')">纠正库存</button> <button type="button" class="btn btn-primary role" data-role="66" style="margin-left:5px" ng-click="btnAction(\'logs\')">库存修改日志</button> </div> </div> <div class="search-col"> <label class="search-label">发货仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select> </div> <div class="search-col"> <label class="search-label">库存：</label> <select class="form-control search-control" ng-model="searchBar.inventoryCondition"> <option value="">所有</option> <option value=">">大于</option> <option value="=">等于</option> <option value="<">小于</option> </select> <input class="form-control search-control" style="width:100px" ng-model="searchBar.inventoryConditionValue" ng-show="searchBar.inventoryCondition != \'\'"> </div> <div class="search-col"> <label class="search-label">商品主类别：</label> <select class="form-control search-control" ng-model="searchBar.categoryId" ng-change="changeCategory()" ng-options="item.cateid as item.name for item in searchBar.categoryList"></select> </div> <div class="search-col"> <label class="search-label">商品子类别：</label> <select class="form-control search-control" ng-model="searchBar.categorySubId" ng-options="item.cateid as item.name for item in searchBar.categorySubList"></select> </div> <!--<div class="search-col">\n                    <label class="search-label">创建时间：</label>\n                    <select class="form-control search-control" ng-model="searchBar.dateRange" ng-change="changeDate()">\n                        <option value="">所有</option>\n                        <option value="3">最近3天</option>\n                        <option value="7">最近7天</option>\n                        <option value="range">时间范围</option>\n                    </select>\n                </div>--> <!--<div class="search-col" ng-show="searchBar.dateRange == \'range\'">--> <div class="search-col"> <label class="search-label">创建时间：起</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <!--<div class="search-col" ng-show="searchBar.dateRange == \'range\'">--> <label class="search-label">至</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control"> <option value="itemNumber">转运单号</option> <option value="itemNumber">客户编号</option> <option value="itemNumber">客户标示</option> <option value="itemNumber">客户id</option> <option value="itemNumber">仓位编号</option> <option value="itemNumber">转仓</option> <option value="itemNumber">入库人员</option> <!--<option value="itemNumber">商品编号</option>\n                        <option value="upccode">UPC</option>\n                        <option value="customerNumber">客户编号</option>--> </select> <input type="text" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>商品编号</th> <th>UPC</th> <th>品牌</th> <th>商品描述</th> <th>属性1</th> <th>属性2</th> <th>库存</th> <th>冻结库存</th> <th>创建日期</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td><a href="javascript:void(0);" ng-click="btnAction(\'detail\', item)">{{item.itemNumber}}</a></td> <td>{{item.upccode}}</td> <td>{{item.brand}}</td> <td>{{item.description}}</td> <td><span ng-show="item.properties[0]">{{item.properties[0].propertyName + \': \' + item.properties[0].propertyValue}}</span></td> <td><span ng-show="item.properties[1]">{{item.properties[1].propertyName + \': \' + item.properties[1].propertyValue}}</span></td> <td><a href="javascript:void(0);" ng-click="btnAction(\'logs\', item)">{{item.inventory}}</a></td> <td><a href="javascript:void(0);" ng-click="btnAction(\'frozen\', item)">{{item.inventory_frozen}}</a></td> <td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> </tr> </tbody> </table> </div> </div> <div class="row"> <div class="col-sm-6 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div>'),a.put("views/warehouse/inventoryTime.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 库存时间</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">入库类型：</label> <select class="form-control search-control" ng-options="sendType.key as sendType.value for sendType in sendTypes" ng-model="searchBar.sendType"> </select> </div> <div class="search-col"> <label class="search-label">发货仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select> </div> <div class="search-col"> <label class="search-label">仓储时间：</label> <select class="form-control search-control" ng-model="searchBar.dayCondition"> <option value="">所有</option> <option value=">">大于</option> <option value="=">等于</option> <option value="<">小于</option> </select> <input class="form-control search-control" style="width:100px" ng-model="searchBar.dayConditionValue" ng-show="searchBar.dayCondition != \'\'"> </div> <div class="search-col"> <label class="search-label">创建时间：起</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <!--<div class="search-col" ng-show="searchBar.dateRange == \'range\'">--> <label class="search-label">至</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="receiptNumber">入库单号</option> <option value="userName">客户ID</option> <option value="customerNumber">客户编号</option> <option value="shelfNumber">架位编号</option> <option value="inboundUser">入库人员</option> </select> <input type="text" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <!--纠正库存:进入改行商品的纠正库存页面--> <tr> <th>序号</th> <th>客户编号</th> <th>客户ID</th> <th>客户标识</th> <th>架位编号</th> <th>入库类型</th> <th>入库单号</th> <th>重量</th> <th>入库日期</th> <th>是否出库</th> <th>库存天数</th> <th>入库人员</th> <th>应付金额</th> <th>已付金额</th> <th>待付金额</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td>{{item.customerNumber}}</td> <td>{{item.userName}}</td> <td>{{item.receiveIdentity}}</td> <td>{{item.shelfNumber}}</td> <td>{{item._sendType}}</td> <td>{{item.receiptNumber}}</td> <td>{{item.packageWeight | number:2}}</td> <td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>{{item.isOutInventory | _outInventory}}</td> <td>{{item.days}}</td> <td>{{item.inboundUser}}</td> <td>{{item.payMoney}}</td> <td>{{item.payInventory}}</td> <td>{{item.shouldPay}}</td> <td><a href="javascript:void(0);" ng-click="payMoney(item)">付款</a></td> </tr> </tbody> </table> </div> </div> <div class="row"> <div class="col-sm-6 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/warehouse/inventoryadjust.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 纠正库存</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="form-group"> <label class="col-sm-2 control-label text-right">商品编号：</label> <div class="col-sm-4"> <input type="text" id="tempItemNumber" class="form-control" ng-model="tempItemNumber" ng-keyup="keyDown($event)"> </div> <div class="col-sm-1 col-padding-clear"> <button id="tip_itemNumber" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> </div> </div> </fieldset> <fieldset ng-if="!!data"> <div class="form-group green"> <label class="col-sm-2 control-label text-right">已扫描商品：</label> <div class="col-sm-4 text-left"> <label class="control-label">{{data.itemNumber}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">纠正数量：</label> <div class="col-sm-4 text-left"> <input type="text" class="form-control" placeholder="纠正数量" ng-model="data.inventory"> </div> <div class="col-sm-6"> <label class="control-label">扣减库存请添加负符号</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">纠正重量：</label> <div class="col-sm-4 text-left"> <input type="text" class="form-control" placeholder="纠正重量" ng-model="data.weight"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">纠正原因：</label> <div class="col-sm-4 text-left"> <textarea class="form-control" rows="5" cols="30" placeholder="纠正原因" ng-model="data.reason"></textarea> </div> </div> </fieldset> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="btnSave()" ng-if="!!data"><i class="fa fa-save"></i>确定</button> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </div> </form> </div> </div> <script>$(function() {\n        var weight = document.getElementById("tempItemNumber").focus();\n     })</script>'),
a.put("views/warehouse/inventoryadjustweight.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i>纠正重量</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="form-group"> <label class="col-sm-2 control-label text-right">入库单号：</label> <div class="col-sm-4"> <input type="text" id="tempItemNumber" class="form-control" ng-model="tempItemNumber" ng-keyup="keyDown($event)"> </div> <div class="col-sm-1 col-padding-clear"> <button id="tip_itemNumber" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> </div> </div> </fieldset> <fieldset ng-if="!!data"> <div class="form-group green"> <label class="col-sm-2 control-label text-right">已扫描入库单号：</label> <div class="col-sm-4 text-left"> <label class="control-label">{{data.trackingNumber}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">纠正重量：</label> <div class="col-sm-4 text-left"> <input type="number" min="0" class="form-control" placeholder="纠正重量" ng-model="data.packageWeight"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">纠正原因：</label> <div class="col-sm-4 text-left"> <textarea class="form-control" rows="5" cols="30" placeholder="纠正原因" ng-model="data.reason"></textarea> </div> </div> </fieldset> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="btnSave()" ng-if="!!data"><i class="fa fa-save"></i>确定</button> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </div> </form> </div> </div> <script>$(function() {\n        var weight = document.getElementById("tempItemNumber").focus();\n     })</script>'),a.put("views/warehouse/inventorycheck.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 盘点库存</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="form-group"> <label class="col-sm-2 control-label text-right">入库单号：</label> <div class="col-sm-4"> <input type="text" id="tempTrackingNumber" class="form-control" ng-model="tempTrackingNumber" ng-keyup="keyDown($event)"> </div> <!-- <div class="col-sm-1 col-padding-clear">\n                        <button id="tip_itemNumber" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button>\n                    </div> --> </div> </fieldset> <fieldset ng-if="!!data"> <div class="form-group"> <label class="col-sm-2 control-label text-right green">已扫描商品：</label> <div class="col-sm-4 text-left"> <label class="control-label"><a href="" ng-click="btnAction(\'detail\', data)">{{data.itemNumber}}</a></label> </div> </div> <div class="form-group green"> <label class="col-sm-2 control-label text-right">入库单号：</label> <div class="col-sm-4 text-left"> <label class="control-label">{{data.trackingNumber}}</label> <a href="javascript:void(0)" ng-click="btnPrint(data)">打印入库标签</a> </div> </div> <div class="form-group green"> <label class="col-sm-2 control-label text-right">包裹状态：</label> <div class="col-sm-4 text-left"> <label class="control-label">{{data.status | _packageStatus}}</label> </div> </div> <div class="form-group green"> <label class="col-sm-2 control-label text-right">架位编号：</label> <div class="col-sm-4 text-left"> <label class="control-label">{{data.shelfNumber}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">所在仓库：</label> <div class="col-sm-4 text-left"> <label class="control-label">{{data.warehouseName}}</label> </div> </div> <div class="form-group"> <div class="col-sm-2 text-left"> </div> <div class="col-sm-8 text-left"> <table class="table table-bordered"> <thead> <tr> <th>货物区域</th> <th>货架排</th> <th>货架层</th> <th>架位</th> <th>Box</th> </tr> </thead> <tbody> <tr> <td ng-repeat="shelf in shelfs">{{shelf}}</td> <td>{{}}</td> </tr> </tbody> </table> </div> <div class="col-sm-2 text-right"> </div> </div> </fieldset> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <!-- <button type="button" class="btn btn-primary" ng-click="btnSave()" ng-if="!!data"><i class="fa fa-save"></i>确定</button> --> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </div> </form> </div> <print-helper></print-helper> <print-inbound-package></print-inbound-package> </div> <script>$(function () {\n        var weight = document.getElementById("tempTrackingNumber").focus();\n    })</script>'),a.put("views/warehouse/inventorydetail.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 商品明细</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="form-group"> <label class="col-sm-2 control-label text-right">商品编号：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="tempItemNumber" ng-change="checkItemNumber()"> </div> </div> </fieldset> <fieldset ng-if="!!data"> <legend>基本信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">客户编号：</label> <div class="col-sm-4"> <label class="control-label"><a href="javascript:void(0);" ng-click="btnOpenDetail(data,\'customerdetail\')">{{data.customerNumber}}</a></label> </div> <label class="col-sm-2 control-label text-right">收件标示：</label> <div class="col-sm-4"> <label class="control-label">{{data.receiveIdentity}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">UPC：</label> <div class="col-sm-4"> <label class="control-label">{{data.upccode}}</label> </div> <label class="col-sm-2 control-label text-right">品牌：</label> <div class="col-sm-4"> <label class="control-label">{{data.brand}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">品牌描述：</label> <div class="col-sm-4"> <label class="control-label">{{data.description}}</label> <div class="row"> <div class="col-sm-12" ng-repeat="item in data.properties"> <label class="control-label">{{item.propertyName}}：{{item.propertyValue}}</label> </div> </div> </div> </div> </fieldset> <fieldset ng-if="!!data"> <legend>仓库明细</legend> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th>收货仓库</th> <th>入库日期</th> <th>入库信息</th> </tr> </thead> <tbody> <tr ng-repeat="item in data.inventoryList"> <td>{{item.warehouseName}}</td> <td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td> <table class="table table-bordered"> <thead> <tr> <th>入库单据编号</th> <th>入库类型</th> <th>架位信息</th> <th>库存数量</th> <th>入库重量</th> </tr> </thead> <tbody> <tr ng-repeat="shelf in item.shelfList"> <td>{{shelf.receiptNumber}}</td> <td>{{shelf._sendType}}</td> <td>{{shelf.shelfNumber}}</td> <td>{{item.inventory}}</td> <td>{{item.weight}}</td> </tr> </tbody> </table> </td> </tr> </tbody> </table> </div> </div> </fieldset> <fieldset ng-if="data.frozenList.length > 0"> <legend>冻结库存</legend> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th>冻结数量</th> <th>冻结仓库</th> <th>冻结信息</th> </tr> </thead> <tbody> <tr ng-repeat="item in data.frozenList"> <td>{{item.inventory_frozen}}</td> <td>{{item.warehouseName}}</td> <td>{{item.frozenReason}}</td> </tr> </tbody> </table> </div> </div> </fieldset> <div class="form-group"> <div class="col-sm-12 text-center"> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </div> </form> </div> </div>'),a.put("views/warehouse/inventoryfrozen.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 冻结库存</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="form-group"> <label class="col-sm-2 control-label text-right">商品编号：</label> <div class="col-sm-4"> <input type="text" id="tempItemNumber" class="form-control" ng-model="tempItemNumber" ng-keyup="keyDown($event)"> </div> <div class="col-sm-1 col-padding-clear"> <button id="tip_itemNumber" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> </div> </div> </fieldset> <fieldset ng-if="!!data"> <div class="form-group green"> <label class="col-sm-2 control-label text-right">已扫描商品：</label> <div class="col-sm-4 text-left"> <label class="control-label">{{data.itemNumber}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">冻结数量：</label> <div class="col-sm-4 text-left"> <input type="text" class="form-control" placeholder="冻结数量" ng-model="data.incrementInventory_frozen"> </div> <label class="col-sm-6 control-label text-left" style="opacity:0.5">想解冻前面加-</label> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">冻结原因：</label> <div class="col-sm-4 text-left"> <textarea class="form-control" rows="5" cols="30" placeholder="冻结原因" ng-model="data.reason"></textarea> </div> </div> </fieldset> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="btnSave(4)" ng-if="!!data"><i class="fa fa-save"></i>确定</button> <button type="button" class="btn btn-primary role" data-role="67" ng-click="btnSave(5)" ng-if="!!data" ng-disabled="!tpl_status.btnRelieve"><i class="fa fa-save"></i>解除</button> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </div> </form> </div> </div> <script>$(function() {\n        var weight = document.getElementById("tempItemNumber").focus();\n     })</script>'),a.put("views/warehouse/inventoryloglist.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 库存日志</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">发货仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select> </div> <div class="search-col"> <label class="search-label">库存：</label> <select class="form-control search-control" ng-model="searchBar.inventoryCondition"> <option value="">所有</option> <option value=">">大于</option> <option value="=">等于</option> <option value="<">小于</option> </select> <input class="form-control search-control" style="width:100px" ng-model="searchBar.inventoryConditionValue" ng-show="searchBar.inventoryCondition != \'\'"> </div> <div class="search-col"> <label class="search-label">商品主类别：</label> <select class="form-control search-control" ng-model="searchBar.categoryId" ng-change="changeCategory()" ng-options="item.cateid as item.name for item in searchBar.categoryList"></select> </div> <div class="search-col"> <label class="search-label">商品子类别：</label> <select class="form-control search-control" ng-model="searchBar.categorySubId" ng-options="item.cateid as item.name for item in searchBar.categorySubList"></select> </div> <!--<div class="search-col">\n                        <label class="search-label">创建时间：</label>\n                        <select class="form-control search-control" ng-model="searchBar.dateRange" ng-change="changeDate()">\n                            <option value="">所有</option>\n                            <option value="3">最近3天</option>\n                            <option value="7">最近7天</option>\n                            <option value="range">时间范围</option>\n                        </select>\n                    </div>--> <!--<div class="search-col" ng-show="searchBar.dateRange == \'range\'">--> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">创建时间: 起</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <!--<div class="search-col" ng-show="searchBar.dateRange == \'range\'">--> <label class="search-label">至</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="itemNumber">商品编号</option> <option value="upccode">UPC</option> <option value="receiptNumber">入库单号</option> <!--<option value="customerNumber">客户编号</option>--> </select> <input type="text" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th>操作日志</th> <th>商品编号</th> <th>入库单号</th> <th>UPC</th> <th>操作类型</th> <th>引用信息</th> <th>库存变化数量</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>{{item.itemNumber}}</td> <td>{{item.receiptNumber}}</td> <td>{{item.upccode}}</td> <td>{{item._type}}</td> <td>{{item.memo}}</td> <td><div ng-show="item.changeNumber != null"><span>{{item.changeNumber > 0 ? "+" : ""}}</span>{{item.changeNumber}}</div></td> </tr> </tbody> </table> </div> </div> <div class="row"> <div class="col-sm-6 text-left pull-left"> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> <div class="col-sm-6 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/warehouse/onshelf.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 上架管理</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="col-sm-12 search-bar"> <div class="search-col" style="margin-bottom: 0px"> <button type="button" class="btn btn-primary role" data-role="60" style="margin-left:5px" ng-click="btnAction(\'onshelf\')">上架登记</button> </div> <div class="search-col" style="margin-bottom: 0px"> <button type="button" class="btn btn-primary role" data-role="62" style="margin-left:5px" ng-click="btnAction(\'onshelfbatch\')">批量上架</button> </div> </div> <div class="search-col"> <label class="search-label">入库类型：</label> <select class="form-control search-control" ng-options="sendType.key as sendType.value for sendType in sendTypes" ng-model="searchBar.sendType"> </select> </div> <div class="search-col"> <label class="search-label">上架状态：</label> <select class="form-control search-control" ng-model="searchBar.shelfStatus"> <option value="">所有</option> <option value="0">未上架</option> <option value="1">部分上架</option> <option value="2">已上架</option> </select> </div> <!--<div class="search-col">\n                        <label class="search-label">打印状态：</label>\n                        <select class="form-control search-control"\n                                ng-model="searchBar.printStatus">\n                            <option value="">所有</option>\n                            <option value="0">未打印</option>\n                            <option value="1">已打印</option>\n                        </select>\n                    </div>--> <div class="search-col"> <label class="search-label">收货仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select> </div> <!--<div class="search-col">\n                        <label class="search-label">入库时间</label>\n                        <select class="form-control search-control" ng-model="searchBar.dateRange" ng-change="changeDate()">\n                            <option value="">所有</option>\n                            <option value="3">最近3天</option>\n                            <option value="7">最近7天</option>\n                            <option value="range">时间范围</option>\n                        </select>\n                    </div>--> <!--<div class="search-col" ng-show="searchBar.dateRange == \'range\'">--> <div class="search-col"> <label class="search-label"> 上架时间: 起</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <!--<div class="search-col" ng-show="searchBar.dateRange == \'range\'">--> <label class="search-label">至</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="receiptNumber">入库单号</option> <option value="customerNumber">客户编号</option> </select> <input type="text" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>收货仓库</th> <th>入库类型</th> <th>入库单号</th> <th>客户编号</th> <th>入库时间</th> <th>登记人</th> <th>收货数量</th> <th>上架数量</th> <th>上架状态</th> <th>上架时间</th> <!--<th>打印状态</th>--> <th>操作状态</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td>{{getWarehouseName(item.warehouseNumber)}}</td> <td>{{item._sendType}}</td> <td><a href="javascript:void(0);" ng-click="btnAction(\'receipt\', item)">{{item.receiptNumber}}</a></td> <td>{{item.customerNumber}}</td> <td>{{item.inboundDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>{{item.inboundUser}}</td> <td>{{item.receiptCount}}</td> <td>{{item.onShelfCount}}</td> <td>{{item._shelfStatus}}</td> <td>{{item.shelfTime | date:"MM/dd/yyyy HH:mm:ss"}}</td> <td> <a href="javascript:void(0)" ng-hide="{{ item._shelfStatus == \'未上架\' }}" ng-click="btnAction(\'shelf\', item)">查看</a> <a href="javascript:void(0)" ng-hide="{{ item._shelfStatus == \'未上架\' }}" ng-click="btnAction(\'edit\', item)">修改架位</a> <a href="javascript:void(0)" class="role" data-role="60" ng-hide="{{ item._shelfStatus != \'未上架\' }}" ng-click="btnAction(\'onshelf\', item)">上架登记</a> </td> </tr> </tbody> </table> </div> </div> <div class="row"> <div class="col-sm-6 text-left pull-left"> <div class="btn-group"> <div class="dropup"> <button class="btn btn-primary dropdown-toggle role" data-role="61" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> 打印上架清单 <span class="caret"></span> </button> <ul class="dropdown-menu"> <li ng-repeat="item in warehouseList" ng-click="btnPrint(item.warehouseNumber)"><a href="javascript:void(0)">{{item.warehouseName}}</a></li> </ul> </div> </div> <!--<button type="button" class="btn btn-primary" ng-click="btnPrint()">打印上架清单</button>--> </div> <div class="col-sm-6 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <print-unshelf></print-unshelf> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function (event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/warehouse/onshelfdetail.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 上架登记</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="form-group"> <label class="col-sm-2 control-label text-right">入库单号</label> <!--<label class="col-sm-2 control-label text-right">收货单据/商品编号：</label>--> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="tempItemNumber" ng-keydown="keydownReceiptNumber($event)" id="tempItemNumber"> </div> <!--<div class="col-sm-1 col-padding-clear">\n                        <button id="tip_itemNumber" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button>\n                    </div>--> </div> </fieldset> <fieldset ng-if="!!data"> <div class="form-group green"> <label class="col-sm-2 control-label text-right">已扫描商品：</label> <div class="col-sm-4 text-left"> <label class="control-label">{{data.itemNumber}}</label> </div> </div> <div class="form-group" ng-show="_itemType == \'S2\'"> <label class="col-sm-2 control-label text-right">ASN单据编号：</label> <div class="col-sm-4 text-left"> <input type="text" class="form-control" placeholder="ASN单据编号" ng-keydown="keydownReceiptNumber($event)" ng-model="data.receiptNumber"> </div> <div class="col-sm-1 col-padding-clear"> <button id="tip_ASNNumber" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> </div> </div> <div class="form-group" ng-show="_itemType == \'S1\'"> <label class="col-sm-2 control-label text-right">入库单号:</label> <div class="col-sm-4 text-left"> <label class="control-label">{{ tempReceiptNumber }}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">仓库架位：</label> <div class="col-sm-4 text-left"> <input type="text" id="shelfNumber" class="form-control" ng-keydown="keydownBtnSave($event)" placeholder="仓库架位" ng-model="data.shelfNumber"> </div> <div class="col-sm-6 text-left red" ng-if="!!isModifyShelf"> <i class="fa fa-warning"><small>该商品已上架,输入不同架位编号将完成修改架位操作</small></i> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">上架数量：</label> <div class="col-sm-4 text-left"> <input type="text" class="form-control" placeholder="上架数量" ng-model="data.itemCount" ng-disabled="_itemType == \'S1\'"> </div> </div> </fieldset> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="btnSave()" ng-if="!!data"><i class="fa fa-save"></i>完成上架</button> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </div> </form> </div> </div> <script>$(function() {\n         var tempItemNumber = document.getElementById("tempItemNumber").focus();\n         var shelfNumber = document.getElementById("shelfNumber");\n      })\n      tempItemNumber.onkeydown = function(event) {\n        e = event ? event : (window.event ? window.event : null);\n        // 按下回车键且输入框值非空时  \n        var shelfNumber = document.getElementById("shelfNumber");\n        if (e.keyCode == 13 && shelfNumber) {\n            shelfNumber.focus();\n        }\n    }</script>'),a.put("views/warehouse/onshelfdetailbatch.html",'<div class="widget"> <div class="widget-header"> <h3> <i class="fa fa-edit"></i> 批量上架</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset ng-show="!!shelfInput"> <div class="form-group"> <label class="col-sm-2 control-label text-right">架位编号</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="shelfNumber" ng-keydown="keydownShelfNumber($event)" id="shelfNumber"> </div> </div> </fieldset> <fieldset ng-show="!shelfInput"> <div class="form-group"> <label class="col-sm-2 control-label text-right">入库单号</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-keydown="keydownReceiptNumber($event)" ng-model="receiptNumber" id="receiptNumber"> </div> <div class="col-sm-6 text-left red" ng-if="!!isOnShelf"> <i class="fa fa-warning"> <small>该商品已上架,不可重复上架</small> </i> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right"></label> <div class="col-sm-4"> <label style="color:#0a9e6c">架位：{{shelfNumber}}</label> </div> </div> </fieldset> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="btnPrev()"> <i class="fa fa-reply"></i>返回</button> </div> </div> </form> </div> </div> <script>$(function () {\n        var shelfNumber = document.getElementById("shelfNumber");\n        shelfNumber.focus();\n    })\n    shelfNumber.onkeydown = function (event) {\n        e = event ? event : (window.event ? window.event : null);\n        // 按下回车键且输入框值非空时  \n        var receiptNumber = document.getElementById("receiptNumber");\n        if (e.keyCode == 13 && shelfNumber) {\n            receiptNumber.focus();\n        }\n    }</script>'),a.put("views/warehouse/package.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 打包管理</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12" style="padding:0 20px 15px 12px"> <button type="button" class="btn btn-primary role" data-role="71" style="margin-left:5px" ng-click="addPackage(\'online\');">打包登记(线上订单)</button> <button type="button" class="btn btn-primary role" data-role="72" style="margin-left:5px" ng-click="addPackage(\'offline\');">打包登记(线下订单)</button> <button type="button" class="btn btn-primary role" data-role="72" style="margin-left:5px" ng-click="bucketManage();">出库管理</button> </div> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">订单状态：</label> <select class="form-control search-control" ng-model="searchBar.orderStatus"> <option value="">全部(不包括已删除)</option><!--(不包括已删除)--> <option value="Unpaid">待支付</option> <option value="Paid">已支付</option> <option value="Processing">处理中</option> <option value="WaybillUpdated">运单更新</option> <option value="Arrears">运费不足</option> <option value="PartialShipped">部分出库</option> <option value="Shipped">已出库</option> <option value="Arrived">已送达</option> <option value="Void">已删除</option> </select> </div> <div class="search-col"> <label class="search-label">导出状态：</label> <select class="form-control search-control" ng-model="searchBar.exportStatus"> <option value="">全部(不包括已删除)</option> <option value="UnExported">未导出</option> <option value="Exported">已导出</option> </select> </div> <div class="search-col"> <label class="search-label">订单类型：</label> <select class="form-control search-control" ng-model="searchBar.orderType"> <option value="">全部</option> <option value="1">线上订单</option> <option value="0">线下订单</option> </select> </div> <div class="search-col"> <label class="search-label">发货仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">打包开始日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <!--<div class="search-col" ng-show="searchBar.dateRange == \'range\'">--> <label class="search-label">打包结束日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="customerNumber">客户编号</option> <option value="userName">客户ID</option> <option value="orderNumber">订单编号</option> <option value="trackingNumber">CUL包裹单号</option> <option value="receiveTrackingNumber">入库单号</option> <option value="receiveidentity">客户标示</option> <option value="referenceOrderNumber">客户关联号</option> <option value="cnTrackingNumber">国内物流号</option> <option value="tempTrackingNumber">AU单号</option> </select> <!-- <textarea type="text"  class="form-control search-control" style="margin-left:5px; width:480px;" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()" ></textarea> --> <textarea type="text" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"></textarea> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> <div class="col-sm-12 search-bar" ng-show="selectedListCache.length > 0"> <div class="search-col" style="margin-bottom: 0px"> <label class="search-label">已选择：{{selectedListCache.length}}个订单</label> <button type="button" class="btn btn-link" ng-click="btnClearSelectedListCache();">清除已选项</button> </div> </div> </div> </form> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th><input type="checkbox" ng-change="btnSelectedItem()" ng-model="searchBar.selectedAll"></th> <th>序号</th> <th>订单编号</th> <!--<th>订单类型</th>--> <th>客户编号</th> <th>客户关联号</th> <th>CUL包裹单号</th> <th>AU单号</th> <th>收货地址</th> <th>包裹重量（磅）</th> <th>打包时间</th> <th>打包人员</th> <th>订单状态</th> <th>导出状态</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td><input type="checkbox" ng-change="btnSelectedItem(item)" ng-model="item._selected"></td> <td>{{item.rownumber}}</td> <td style="max-width: 200px"> <a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'orderdetail\')">{{item.orderNumber}}</a> <span ng-if="item.isFastOrder == 1" title="极速原箱"> <i class="fa fa-bolt" aria-hidden="true" style="color:#ff6a00;font-size:16px"></i> </span> </td> <!--<td>{{item.orderType == 0 ? \'线下订单\':\'线上订单\'}}</td>--> <td><a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'customerdetail\')">{{item.customerNumber}}</a></td> <td style="max-width: 200px">{{item.referenceOrderNumber}}</td> <td style="max-width: 150px"><a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'trackingNumber\')">{{item.trackingNumber}}</a></td> <!--<td style="max-width: 150px;"><span ng-if="item.orderStatus==\'Arrears\'">{{item.trackingNumber}}</span></td>--> <td style="max-width: 150px">{{item.tempTrackingNumber}}</td> <td> <div class="td-row" ng-repeat="ads in item._shipToAddresses">{{ads}}</div> </td> <td>{{item.actualWeight}}</td> <td>{{item.packagedDate | date:\'MM/dd/yyyy HH:mm:ss\' }}</td> <td>{{item.packagedUser}}</td> <td>{{item._orderStatus}}</td> <td>{{item._exportStatus}}</td> <td> <a href="javascript:void(0)" class="role" data-role="73" ng-click="btnPrint(item,\'flyingexpress\')">打印特快渠道面单</a> </td> </tr> </tbody> </table> <div class="row"> <div class="col-sm- text-left pull-left"> <form style="float:left" id="form_export_order" method="post" action="/" target="_blank"> <input id="orderStatus" name="orderStatus" type="hidden" value="{{exportOptions.orderStatus}}"> <input id="exportStatus" name="exportStatus" type="hidden" value="{{exportOptions.exportStatus}}"> <input id="warehouseNumber" name="warehouseNumber" type="hidden" value="{{exportOptions.warehouseNumber}}"> <input id="dateFrom" name="dateFrom" type="hidden" value="{{exportOptions.outDateFrom}}"> <input id="dateTo" name="dateTo" type="hidden" value="{{exportOptions.outDateTo}}"> <input id="customerNumber" name="customerNumber" type="hidden" value="{{exportOptions.customerNumber}}"> <input id="userName" name="userName" type="hidden" value="{{exportOptions.userName}}"> <input id="orderNumber" name="orderNumber" type="hidden" value="{{exportOptions.orderNumber}}"> <input id="trackingNumber" name="trackingNumber" type="hidden" value="{{exportOptions.trackingNumber}}"> <input id="receiveidentity" name="receiveidentity" type="hidden" value="{{exportOptions.receiveidentity}}"> <input id="receiveTrackingNumber" name="receiveTrackingNumber" type="hidden" value="{{exportOptions.receiveTrackingNumber}}"> <input id="referenceOrderNumber" name="referenceOrderNumber" type="hidden" value="{{exportOptions.referenceOrderNumber}}"> <input id="cnTrackingNumber" name="cnTrackingNumber" type="hidden" value="{{exportOptions.cnTrackingNumber}}"> <input id="hasWeight" name="hasWeight" type="hidden" value="true"> <input id="token" name="token" type="hidden" value="{{exportOptions.token}}"> <input id="onlineOrder" name="orderType" type="hidden" value="1"> <button type="submit" class="btn btn-primary role" data-role="74">导出订单列表(线上订单)</button> </form> <form style="float:left; margin:0px 4px" id="form_export_send" method="post" action="/" target="_blank"> <input id="orderStatus" name="orderStatus" type="hidden" value="{{exportOptions.orderStatus}}"> <input id="exportStatus" name="exportStatus" type="hidden" value="{{exportOptions.exportStatus}}"> <input id="warehouseNumber" name="warehouseNumber" type="hidden" value="{{exportOptions.warehouseNumber}}"> <input id="dateFrom" name="dateFrom" type="hidden" value="{{exportOptions.outDateFrom}}"> <input id="dateTo" name="dateTo" type="hidden" value="{{exportOptions.outDateTo}}"> <input id="customerNumber" name="customerNumber" type="hidden" value="{{exportOptions.customerNumber}}"> <input id="userName" name="userName" type="hidden" value="{{exportOptions.userName}}"> <input id="orderNumber" name="orderNumber" type="hidden" value="{{exportOptions.orderNumber}}"> <input id="trackingNumber" name="trackingNumber" type="hidden" value="{{exportOptions.trackingNumber}}"> <input id="receiveidentity" name="receiveidentity" type="hidden" value="{{exportOptions.receiveidentity}}"> <input id="referenceOrderNumber" name="referenceOrderNumber" type="hidden" value="{{exportOptions.referenceOrderNumber}}"> <input id="cnTrackingNumber" name="cnTrackingNumber" type="hidden" value="{{exportOptions.cnTrackingNumber}}"> <input id="hasWeight" name="hasWeight" type="hidden" value="true"> <input id="token" name="token" type="hidden" value="{{exportOptions.token}}"> <input id="onlineOrder" name="orderType" type="hidden" value="1"> <button type="submit" class="btn btn-primary role" data-role="75">导出发货清单(线上订单)</button> </form> <div class="clearfix"></div> <!-- <button style="float:left" type="button" class="btn btn-primary" ng-click="btnBatchOutBound()">批量出库</button> --> <!-- <button style="float:left" id="tip_batchOutbound" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> --> <form style="float:left;margin:10px 4px 0px 0px" id="form_export_order_offline" method="post" action="/" target="_blank"> <input id="orderStatus" name="orderStatus" type="hidden" value="{{exportOptions.orderStatus}}"> <input id="exportStatus" name="exportStatus" type="hidden" value="{{exportOptions.exportStatus}}"> <input id="warehouseNumber" name="warehouseNumber" type="hidden" value="{{exportOptions.warehouseNumber}}"> <input id="dateFrom" name="dateFrom" type="hidden" value="{{exportOptions.outDateFrom}}"> <input id="dateTo" name="dateTo" type="hidden" value="{{exportOptions.outDateTo}}"> <input id="customerNumber" name="customerNumber" type="hidden" value="{{exportOptions.customerNumber}}"> <input id="userName" name="userName" type="hidden" value="{{exportOptions.userName}}"> <input id="orderNumber" name="orderNumber" type="hidden" value="{{exportOptions.orderNumber}}"> <input id="trackingNumber" name="trackingNumber" type="hidden" value="{{exportOptions.trackingNumber}}"> <input id="receiveidentity" name="receiveidentity" type="hidden" value="{{exportOptions.receiveidentity}}"> <input id="referenceOrderNumber" name="referenceOrderNumber" type="hidden" value="{{exportOptions.referenceOrderNumber}}"> <input id="cnTrackingNumber" name="cnTrackingNumber" type="hidden" value="{{exportOptions.cnTrackingNumber}}"> <input id="hasWeight" name="hasWeight" type="hidden" value="true"> <input id="token" name="token" type="hidden" value="{{exportOptions.token}}"> <input id="offlineOrder" name="orderType" type="hidden" value="0"> <button type="submit" class="btn btn-primary role" data-role="74">导出订单列表(线下订单)</button> </form> <form style="float:left; margin:10px 4px 0px 0px" id="form_export_send_offline" method="post" action="/" target="_blank"> <input id="orderStatus" name="orderStatus" type="hidden" value="{{exportOptions.orderStatus}}"> <input id="exportStatus" name="exportStatus" type="hidden" value="{{exportOptions.exportStatus}}"> <input id="warehouseNumber" name="warehouseNumber" type="hidden" value="{{exportOptions.warehouseNumber}}"> <input id="dateFrom" name="dateFrom" type="hidden" value="{{exportOptions.outDateFrom}}"> <input id="dateTo" name="dateTo" type="hidden" value="{{exportOptions.outDateTo}}"> <input id="customerNumber" name="customerNumber" type="hidden" value="{{exportOptions.customerNumber}}"> <input id="userName" name="userName" type="hidden" value="{{exportOptions.userName}}"> <input id="orderNumber" name="orderNumber" type="hidden" value="{{exportOptions.orderNumber}}"> <input id="trackingNumber" name="trackingNumber" type="hidden" value="{{exportOptions.trackingNumber}}"> <input id="receiveidentity" name="receiveidentity" type="hidden" value="{{exportOptions.receiveidentity}}"> <input id="referenceOrderNumber" name="referenceOrderNumber" type="hidden" value="{{exportOptions.referenceOrderNumber}}"> <input id="cnTrackingNumber" name="cnTrackingNumber" type="hidden" value="{{exportOptions.cnTrackingNumber}}"> <input id="hasWeight" name="hasWeight" type="hidden" value="true"> <input id="token" name="token" type="hidden" value="{{exportOptions.token}}"> <!-- <input id="offlineOrder" name="offlineOrder" type="hidden" value="offline" /> --> <input id="offlineOrder" name="orderType" type="hidden" value="0"> <button type="submit" class="btn btn-primary role" data-role="75">导出发货清单(线下订单)</button> </form> <div class="clearfix"></div> <form id="form_exportHT" method="post" action="/" target="_blank" style="float:left; margin:10px 4px 0px 0px"> <input id="USPS_dateFrom" name="dateFrom" type="hidden" value="{{exportOptions.dateFrom}}"> <input id="USPS_dateTo" name="dateTo" type="hidden" value="{{exportOptions.dateTo}}"> <input id="USPS_orderStatus" name="orderStatus" type="hidden" value="{{exportOptions.orderStatus}}"> <input id="USPS_printStatus" name="printStatus" type="hidden" value="{{exportOptions.printStatus}}"> <input id="USPS_warehouseNumber" name="warehouseNumber" type="hidden" value="{{exportOptions.warehouseNumber}}"> <input id="USPS_shipServiceId" name="shipServiceId" type="hidden" value="{{exportOptions.shipServiceId}}"> <input id="USPS_customerNumber" name="customerNumber" type="hidden" value="{{exportOptions.customerNumber}}"> <input id="USPS_userName" name="userName" type="hidden" value="{{exportOptions.userName}}"> <input id="USPS_orderNumber" name="orderNumber" type="hidden" value="{{exportOptions.cOrderNumber}}"> <input id="USPS_outBoundTrackingNumber" name="outBoundTrackingNumber" type="hidden" value="{{exportOptions.outBoundTrackingNumber}}"> <input id="USPS_receiveidentity" name="receiveidentity" type="hidden" value="{{exportOptions.receiveidentity}}"> <input id="USPS_referenceOrderNumber" name="referenceOrderNumber" type="hidden" value="{{exportOptions.referenceOrderNumber}}"> <input id="USPS_cnTrackingNumber" name="cnTrackingNumber" type="hidden" value="{{exportOptions.cnTrackingNumber}}"> <input id="USPS_token" name="token" type="hidden" value="{{exportOptions.token}}"> <button type="submit" class="btn btn-primary" data-role="34"> <i class="fa fa-file-excel-o" aria-hidden="true"></i> 将结果导出为HT订单</button> </form> <button style="float:left; margin:10px 4px 0px 0px" type="button" class="btn btn-primary" ng-click="btnBatchOutBound()">批量出库</button> <!-- <button style="float:left" id="tip_batchOutbound" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> --> </div> <div class="col-sm-6 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> </div> </div> <print-flying-express></print-flying-express> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    // search.addEventListener(\'keypress\', function(event) {\n    //     if (event.keyCode == 13) {\n    //         event.preventDefault();\n    //         document.getElementById(\'submit\').click();\n    //     }\n    // });</script>'),
a.put("views/warehouse/picking.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 捡货管理</h3> </div> <div class="widget-content"> <div class="row"> <div class="col-sm-12" style="padding:0 20px 15px 12px"> <button type="button" class="btn btn-danger" style="margin-left:5px" ng-click="addPicking();">创建拣货单</button> </div> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">开始日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">结束日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control"> <option>转运单号</option> <option>客户编号</option> <option>客户ID</option> <option>客户标识</option> </select> <input type="text" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-enter="btnSearch()"> <button type="button" class="btn btn-primary" style="margin-left:5px">搜索</button> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>转运公司</th> <th>转运单号</th> <th>客户编号</th> <th>客户ID</th> <th>标识</th> <th>描述</th> <th>是否转仓</th> <th>填写日期</th> <th>客户备注</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.id}}</td> <td>{{item.transCompany}}</td> <td><a href="javascript:void(0);">{{item.transOrderNumber}}</a></td> <td><a href="javascript:void(0);">{{item.number}}</a></td> <td>{{item.userId}}</td> <td>{{item.tag}}</td> <td>{{item.desc}}</td> <td> <span ng-if="item.isChanged===true">是</span> <span ng-if="item.isChanged===false">否</span> </td> <td>{{item.ceatetime}}</td> <td>{{item.memo}}</td> <td> <a href="javascript:void(0);">编辑</a> <a href="javascript:void(0);">下架</a> <a href="javascript:void(0);">删除</a> </td> </tr> </tbody> </table> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.total" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div>'),a.put("views/warehouse/receipt.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 收货管理</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12" style="padding:0 20px 15px 12px"> <button type="button" class="btn btn-primary role" data-role="51" style="margin-left:5px" ng-click="addReceipt();">入库登记</button> </div> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">开始日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">结束日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="trackingNumber">运单单号</option> <option value="customerNumber">客户编号</option> <option value="userName">客户账号</option> <option value="receiveIdentity">客户标识</option> </select> <input type="text" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th style="min-width:50px">序号</th> <th style="min-width:100px">转运公司</th> <th style="min-width:80px">转运单号</th> <th style="min-width:100px">客户编号</th> <th style="min-width:100px">客户账号</th> <th style="min-width:00px">客户标识</th> <th style="min-width:80px">是否转仓</th> <th style="min-width:100px">填写日期</th> <th style="min-width:50px">状态</th> <th style="min-width:50px">订单类型</th> <th style="min-width:80px">仓库位置</th> <th style="min-width:80px">入库重量</th> <th style="min-width:80px">入库时间</th> <th style="min-width:110px">操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td>{{item.carrierName}}</td> <td><a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'trackingDetail\');">{{item.trackingNumber}}</a></td> <td><a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'customerDetail\');">{{item.customerNumber}}</a></td> <td>{{item.userName}}</td> <td>{{item.receiveIdentity}}</td> <td>{{item.isTransfer == 0 ? \'否\' : \'是\'}}</td> <td>{{item.createDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>{{item._status}}</td> <td class="text-center" style="padding:2px"> <img src="/images/fast-ship.b93af2c9.png" title="急速原单" style="width:30px; height:30px" ng-show="item.isFastShip == 1"> </td> <td>{{item.location}}</td> <td><span ng-show="item.packageWeight != 0">{{item.packageWeight}}</span></td> <td><span ng-show="item.inboundDate != \'0000-00-00 00:00:00\'">{{item.inboundDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</span></td> <td> <a href="javascript:void(0);" ng-click="btnOpenDetail(item,\'trackingDetail\');" ng-show="item.status == \'Intransit\'">查看</a> <a href="javascript:void(0);" class="role" data-role="52" ng-click="btnPrint(item);" ng-show="item.status == \'Inbound\'">打印入库单</a> <!--<a href="javascript:void(0);" ng-click="btnActions(item,\'void\')">废弃</a>--> <a href="javascript:void(0);" class="role" data-role="53" ng-click="btnActions(item,\'delete\')">删除</a> </td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> </div> </div> <print-inbound-package></print-inbound-package> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/warehouse/receipt2.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 收货管理</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12" style="padding:0 20px 15px 12px"> <button type="button" class="btn btn-primary role" data-role="54" style="margin-left:5px" ng-click="btnAction(\'inbound\')">入库登记</button> <button type="button" class="btn btn-primary role" data-role="55" style="margin-left:5px" ng-click="btnAction(\'exception\')">异常管理</button> <button type="button" class="btn btn-primary role" data-role="55" style="margin-left:5px" ng-click="deleteLog()">删货记录</button> </div> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">入库类型：</label> <select class="form-control search-control" ng-options="sendType.key as sendType.value for sendType in sendTypes" ng-model="searchBar.sendType"> </select> </div> <div class="search-col"> <label class="search-label">入库状态：</label> <select class="form-control search-control" ng-model="searchBar.inboundStatus"> <option value="">所有</option> <option value="0">等待登记</option> <option value="1">等待清点</option> <option value="2">部分收货</option> <option value="3">已收货</option> </select> </div> <div class="search-col"> <label class="search-label">收货仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select> </div> <!--<div class="search-col">\n                    <label class="search-label">登记时间</label>\n                    <select class="form-control search-control" ng-model="searchBar.dateRange" ng-change="changeDate()">\n                        <option value="">所有</option>\n                        <option value="3">最近3天</option>\n                        <option value="7">最近7天</option>\n                        <option value="range">时间范围</option>\n                    </select>\n                </div>--> <!--<div class="search-col" ng-show="searchBar.dateRange == \'range\'">--> <div class="search-col"> <label class="search-label">登记时间: 起</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate\n= true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <!--<div class="search-col" ng-show="searchBar.dateRange == \'range\'">--> <label class="search-label">至</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate\n= true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="receiptNumber">入库单号</option>> <option value="customerNumber">客户编号</option>> <option value="receiveIdentity">客户标识</option>> <option value="userName">客户ID</option>> </select> <input type="text" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>收货仓库</th> <th>入库类型</th> <th>快递名称</th> <th>入库单号</th> <th>运单内容</th> <th>客户备注</th> <th>重量</th> <th>客户编号</th> <th>客户ID</th> <th>客户标识</th> <th>登记时间</th> <th>登记人</th> <th>入库状态</th> <th>上架状态</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td>{{item.warehouseName}}</td> <td>{{item._sendType}}</td> <td>{{item.carrierName}}</td> <td> <a href="javascript:void(0)" ng-click="btnAction(\'inbound\', item)">{{item.receiptNumber}}</a> <span ng-if="item.isFastOrder == 1" title="极速原箱"> <i class="fa fa-bolt" aria-hidden="true" style="color:#ff6a00;font-size:16px"></i> </span> </td> <td class="long-cell"> {{ item.packageDescription }} </td> <td class="long-cell"> {{ item.packageNote }} </td> <td class="long-cell"> {{ item.packageWeight }} </td> <!--<td ng-mouseenter="show=true" ng-mouseleave="show=false">\n                                <div class=\'requirement_css\'>\n                                    <span class="m-l">{{item.packageDescription1}}<span ng-show="item.packageDescriptionFlag">...</span></span>\n                                </div>\n                                <div ng-show="show" style="padding:10px 0;font-size: 14px;line-height: 100% ; background-color:#f3f3f3; ">\n                                    <a>{{ item.packageDescription }}</a>\n                                </div>\n                            </td> \n                            <td ng-mouseenter="show1=true" ng-mouseleave="show1=false">\n                                <div class=\'requirement_css\'>\n                                    <span class="m-l">{{item.packageNote1}}<span ng-show="item.packageNoteFlag">...</span></span>\n                                </div>\n                                <div ng-show="show1" style="padding:10px 0;font-size: 14px;line-height: 100% ; background-color:#f3f3f3; ">\n                                    <a>{{ item.packageNote }}</a>\n                                </div>\n\n                            </td>--> <td><a href="javascript:void(0)" ng-click="btnOpenDetail(\'customerDetail\',item)"> {{item.customerNumber}}</a></td> <td>{{item.userName}}</td> <td>{{item.receiveIdentity}}</td> <td>{{item.inboundDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>{{item.inboundUser}}</td> <td>{{item._inboundStatus}}</td> <td>{{item._shelfStatus}}</td> <td> <a href="javascript:void(0)" class="role" data-role="54" ng-click="btnAction(\'inbound\', item)" ng-if="item.inboundStatus <= 1">登记入库</a> <a href="javascript:void(0)" ng-click="btnOpenDetail(\'receiptDetail\', item)" ng-if="item.inboundStatus > 1">查看</a> <a href="javascript:void(0)" class="role" data-role="89" ng-click="btnAction(\'check\', item)" ng-if="item.sendType == 1 && item.inboundStatus == 1">清点</a> <!--<a href="javascript:void(0)" class="role" data-role="56" ng-click="btnAction(\'delete\', item)" ng-if="item.inboundStatus <= 1">删除</a>--> <a href="javascript:void(0);" ng-click="adjustWeight(item)">改重量</a> <a href="javascript:void(0)" class="role" data-role="56" ng-click="btnAction(\'delete\', item)">删除</a> </td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> </div> </div> <style></style> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/warehouse/receiptNoASN.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 入库登记</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <!--<div class="form-group">\n                <label class="col-sm-2  text-right">是否是员工包裹<span class="required-indicator" style="color:red">*</span></label>\n                <label><input name="pro"  type="radio"  value=true /> 是</label>\n                <label><input name="pro"  type="radio" checked value=false /> 否</label>\n            </div>--> <div class="form-group"> <label class="col-sm-2 control-label text-right">入库单号：<span class="required-indicator" style="color:red">*</span></label> <div class="col-sm-10 text-left"> <input id="txtTrackingNumber" type="text" class="form-control" placeholder="入库单号" ng-model="data.trackingNumber" ng-keyup="myKeyup_1($event)"> <span ng-if="data.isFastOrder == 1" title="极速原箱"> <i class="fa fa-bolt" aria-hidden="true" style="color: #ff6a00;font-size: 16px;display: flex;margin-left: 150px; margin-top: -26px"></i> </span> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货仓库：<span class="required-indicator" style="color:red">*</span></label> <div class="col-sm-8 text-left"> <!-- <select class="form-control" id="warehouseNumber" ng-model="data.warehouseNumber" ng-disabled="tpl_status.isExist == true" ng-options="item.key as item.value for item in warehouseList">\n                    </select> --> <select class="form-control" id="warehouseNumber" ng-model="data.warehouseNumber" ng-options="item.key as item.value for item in warehouseList"> </select> </div> <div class="col-sm-2 text-left"> <button type="button" class="btn btn-primary" ng-click="updateWarehouse(data.warehouseNumber)">更新仓库信息</button> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">快递名称：</label> <div class="col-sm-10 text-left"> <select class="form-control" id="carrierName" ng-model="data.carrierName" ng-disabled="tpl_status.isExist == true"> <option value="">请选择快递名称</option> <option value="DHL">DHL</option> <option value="EMS">EMS</option> <option value="FEDEX">FEDEX</option> <option value="UPS">UPS</option> <option value="其他快递">其他快递</option> </select> </div> </div> <!--ng-blur="checkReceiveIdentity()"--> <div class="form-group"> <label class="col-sm-2 text-right">客户标示：<span class="required-indicator" style="color:red">*</span></label> <div class="col-sm-10 text-left"> <input type="text" class="form-control" ng-keyup="checkReceiveIdentity($event)" placeholder="客户标示" id="receiveIdentity" ng-model="data.receiveIdentity" ng-disabled="tpl_status.isExist == true"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">客户编号：<span class="required-indicator" style="color:red">*</span></label> <div class="col-sm-10 text-left"> <input focus type="text" placeholder="客户编号" class="form-control" ng-keyup="checkReceive($event);" ng-model="data.customerNumber" id="customerNumber" ng-disabled="tpl_status.isExist == true"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">运单内容：</label> <div class="col-sm-10 text-left"> <input type="text" id="packageDescription" class="form-control" placeholder="运单内容" ng-model="data.packageDescription" ng-disabled="tpl_status.isExist == true"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">运单备注信息：</label> <div class="col-sm-10 text-left"> <textarea id="packageNote" class="form-control" rows="5" cols="30" placeholder="运单备注信息" ng-model="data.packageNote" ng-disabled="tpl_status.isExist == true"></textarea> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">包裹重量：<span class="required-indicator" style="color:red">*</span></label> <div class="col-sm-6 text-left"> <input type="number" ng-keyup="myKeyup($event)" id="packageWeight" class="form-control" placeholder="包裹重量" ng-model="data.packageWeight" ng-disabled="tpl_status.isExist_p == true"> </div> <div class="col-sm-1 col-padding-clear"> <button id="tip_pkg_weight" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> </div> </div> <!--<div class="form-group" ng-if="data.packageWeight > 0">\n                <label class="col-sm-2  text-right">包裹重量：<span class="required-indicator" style="color:red">*</span></label>\n                <div class="col-sm-10 text-left">\n                    <input type="number" ng-keyup="myKeyup($event)" id="packageWeight1" class="form-control" placeholder="包裹重量" ng-model="data.packageWeight" ng-disabled="tpl_status.isExist == true">\n                </div>             \n            </div>--> <div class="form-group"> <label class="col-sm-2 control-label text-right">仓库备注：</label> <div class="col-sm-10 text-left"> <textarea class="form-control" id="warehouseNote" rows="5" cols="30" placeholder="仓库备注" ng-model="data.warehouseNote"></textarea> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <input type="hidden" ng-keyup="myKeyup($event)" id="inboundStatus" class="form-control" placeholder="包裹重量" ng-model="data.inboundStatus"> <button type="button" class="btn btn-primary" ng-click="register()" ng-if="data.inboundStatus <= 1">登记并打印入库单</button> <button type="button" class="btn btn-primary" ng-click="print()" ng-if="data.inboundStatus > 1">重新打印入库单</button> <button type="button" class="btn btn-primary" ng-click="btnException()" ng-if="!!data"><i class="fa fa-warning"></i>异常登记</button> <button type="button" class="btn btn-primary" ng-click="btnPrev();">返回</button> </div> </div> </form> </div> </div> <print-inbound-package></print-inbound-package> <print-helper></print-helper> <script>var trackingNumber = document.getElementById("txtTrackingNumber");\n    var receiveIdentity = document.getElementById("receiveIdentity");\n    var carrierName = document.getElementById("carrierName");\n    var warehouseNumber = document.getElementById("warehouseNumber");\n    var packageDescription = document.getElementById("packageDescription");\n    var packageNote = document.getElementById("packageNote");\n    var packageWeight = document.getElementById("packageWeight");\n    var warehouseNote = document.getElementById("warehouseNote");\n    var customerNumber = document.getElementById("customerNumber");\n    var inboundStatus = document.getElementById("inboundStatus");\n\n\n\n    // trackingNumber.onkeydown = function(event) {\n    //     e = event ? event : (window.event ? window.event : null);\n    //     // 按下回车键且输入框值非空时  \n    //     if (e.keyCode == 13 && trackingNumber.value) {\n    //         warehouseNumber.focus();\n    //     }\n    // }\n    warehouseNumber.onkeydown = function(event) {\n        e = event ? event : (window.event ? window.event : null);\n        // 按下回车键且输入框值非空时  \n        if (e.keyCode == 13 && warehouseNumber.value) {\n            carrierName.focus();\n        }\n    }\n    carrierName.onkeydown = function(event) {\n            e = event ? event : (window.event ? window.event : null);\n            // 按下回车键且输入框值非空时  \n            if (e.keyCode == 13 && carrierName.value) {\n                receiveIdentity.focus();\n            }\n        }\n        // receiveIdentity.onkeydown = function(event) {\n        //     e = event ? event : (window.event ? window.event : null);\n        //     // 按下回车键且输入框值非空时  \n        //     if (e.keyCode == 13 && receiveIdentity.value) {\n        //         customerNumber.focus();\n        //     }\n        // }\n        // customerNumber.onkeydown = function(event) {\n        //     e = event ? event : (window.event ? window.event : null);\n        //     // 按下回车键且输入框值非空时  \n        //     if (e.keyCode == 13 && customerNumber.value) {\n        //         packageDescription.focus();\n        //     }\n        // }\n    packageDescription.onkeydown = function(event) {\n        e = event ? event : (window.event ? window.event : null);\n        // 按下回车键时\n        if (e.keyCode == 13) {\n            packageNote.focus();\n        }\n    }\n    packageNote.onkeydown = function(event) {\n        e = event ? event : (window.event ? window.event : null);\n        if (e.keyCode == 13) {\n            packageWeight.focus();\n        }\n    }</script>'),a.put("views/warehouse/receiptcheck2.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 入库清点</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货单据编号：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="tempReceiptNumber" ng-change="checkReceiptNumber()"> </div> <div class="col-sm-1 col-padding-clear"> <button id="tip_receiptNumber_receipcheck2" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> </div> </div> </fieldset> <div class="form-group green" ng-if="!!data"> <label class="col-sm-2 control-label text-right">已扫描单据：</label> <div class="col-sm-4 text-left"> <label class="control-label">{{data.receiptNumber}}</label> </div> </div> <div class="form-group" ng-hide="!data"> <label class="col-sm-2 control-label text-right">扫描UPC/商品条码：</label> <div class="col-sm-4 text-left"> <input type="text" class="form-control" ng-model="tempItemNumber" ng-change="checkItemNumber()"> </div> <div class="clearfix"></div> <label id="check_success_alert" class="col-sm-offset-2 col-sm-4 control-label green" style="margin-right:12px; display:none"></label> <label id="check_fail_alert" class="col-sm-offset-2 col-sm-4 control-label red" style="margin-right:12px; display:none"></label> </div> <fieldset ng-if="!!data"> <legend>清点明细</legend> <table class="table table-bordered"> <thead> <tr> <th>商品编号</th> <th>UPC</th> <th>品牌</th> <th>商品描述</th> <th>属性1</th> <th>属性2</th> <th>寄送数量</th> <th>已扫描数量</th> <th>单件重量（磅）</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in data.items | filter: {_isShow:true}"> <td style="vertical-align: middle">{{item.itemNumber}}</td> <td style="vertical-align: middle">{{item.upccode}}</td> <td style="vertical-align: middle">{{item.brand}}</td> <td style="vertical-align: middle">{{item.description}}</td> <td style="vertical-align: middle"><span ng-show="item.properties[0]">{{item.properties[0].propertyName + \': \' + item.properties[0].propertyValue}}</span></td> <td style="vertical-align: middle"><span ng-show="item.properties[1]">{{item.properties[1].propertyName + \': \' + item.properties[1].propertyValue}}</span></td> <td style="vertical-align: middle">{{item.sendCount}}</td> <td style="vertical-align: middle; width:140px"> <input type="text" class="form-control" ng-model="item.scanCount"> </td> <td style="vertical-align: middle; width:140px"> <input type="text" class="form-control" ng-model="item.weight"> </td> <td style="vertical-align: middle"> <a href="javascript:void(0)" ng-click="btnPrint(\'inbound\', item)">打印入库标签</a> </td> </tr> </tbody> </table> <div class="form-group"> <div class="col-sm-12"> <label class="control-label text-left green" style="margin-right:12px">清点商品数量 x {{(data.items | filter: {_isShow:true}).length}}</label> <label class="control-label text-left red"> 错误商品数量 x {{checkedItemsForFailed.length}} <i class="fa fa-eye" style="margin-left: 6px; font-size:16px; cursor:pointer" ng-click="btnFailedItemsDetail()"></i> </label> </div> </div> </fieldset> <div class="form-group" ng-if="!!data"> <label class="col-sm-2 control-label text-right">收货备注：</label> <div class="col-sm-6"> <textarea class="form-control" ng-model="data.memo"></textarea> </div> </div> <div class="form-group"> <div class="col-sm-12 text-center"> <button type="button" class="btn btn-primary" ng-click="btnSave()" ng-if="!!data"><i class="fa fa-save"></i>完成清点</button> <button type="button" class="btn btn-primary" ng-click="btnException()" ng-if="!!data"><i class="fa fa-warning"></i>异常登记</button> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </div> </form> </div> <script id="failedItemsDetail" type="text/html"><div>\n            <div style="margin-bottom:12px;"><h5>查看错误商品</h5></div>\n            <div style="padding-left:12px;">\n                <div ng-repeat="item in checkedItemsForFailed"><span>{{item}}</span></div>\n            </div>\n            <div style="margin-top:12px;">\n                <button type="button" class="btn btn-primary pull-left" ng-click="btnPrint(\'exception\')"><i class="fa fa-print"></i>打印记录</button>\n                <button type="button" class="btn btn-default pull-right" ng-click="btnFailedItemsClose($event)"><i class="fa fa-reply"></i>返回</button>\n            </div>\n            <div class="clearfix"></div>\n        </div></script> <print-helper></print-helper> </div>'),a.put("views/warehouse/receiptdetail2.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 入库登记查看</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <div class="form-group green"> <label class="col-sm-2 control-label text-right">查看单据：</label> <div class="col-sm-4 text-left"> <label class="control-label">{{data.receiptNumber}}</label> </div> </div> <fieldset ng-if="!!data"> <legend>基本信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">客户编号：</label> <div class="col-sm-4"> <label class="control-label"> <a href="javascript:void(0);" ng-click="btnOpenDetail(data,\'customerdetail\')">{{data.customerNumber}}</a> </label> </div> <label class="col-sm-2 control-label text-right">客户标示：</label> <div class="col-sm-4"> <label class="control-label">{{data.receiveIdentity}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货仓库：</label> <div class="col-sm-4"> <label class="control-label">{{data.warehouseName}}</label> </div> <label class="col-sm-2 control-label text-right">创建日期：</label> <div class="col-sm-4"> <label class="control-label">{{data.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">入库状态：</label> <div class="col-sm-4"> <label class="control-label">{{data._inboundStatus}}</label> </div> <label class="col-sm-2 control-label text-right">入库日期：</label> <div class="col-sm-4"> <label class="control-label">{{data.inboundDate | date:\'MM/dd/yyyy HH:mm:ss\'}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">架位信息：</label> <div class="col-sm-4"> <div class="row"> <div class="col-sm-4" ng-repeat="item in data.shelfDetails"> <label class="control-label"> <a href="javascript:void(0)" ng-click="linkToShelfDetail(item)">{{item.shelfNumber}} x {{data.itemCount}}</a> </label> </div> </div> </div> <label class="col-sm-2 control-label text-right">登记人：</label> <div class="col-sm-4"> <label class="control-label">{{data.inboundUser}}</label> </div> </div> </fieldset> <fieldset ng-if="!!data"> <legend>收货明细</legend> <table class="table table-bordered"> <thead> <tr> <th>商品编号</th> <th>UPC</th> <th>品牌</th> <th>商品描述</th> <th>属性1</th> <th>属性2</th> <th>数量</th> <th ng-show="data.sendType == 1">寄送数量</th> <th ng-show="data.sendType == 1">收货数量</th> <th ng-show="data.sendType == 2">单件重量（磅）</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in data.items"> <td>{{item.itemNumber}}</td> <td>{{item.upccode}}</td> <td>{{item.brand}}</td> <td>{{item.description}}</td> <td><span ng-show="item.properties[0]">{{item.properties[0].propertyName + \': \' + item.properties[0].propertyValue}}</span></td> <td><span ng-show="item.properties[1]">{{item.properties[1].propertyName + \': \' + item.properties[1].propertyValue}}</span></td> <td>{{item.sendCount}}</td> <td ng-show="data.sendType == 1">{{item.sendCount}}</td> <td ng-show="data.sendType == 1">{{item.receiptCount}}</td> <td ng-show="data.sendType == 2">{{item.weight}}</td> <td style="vertical-align: middle"> <a href="javascript:void(0)" ng-click="btnPrint(item)" ng-show="data.sendType == 1">打印清单标签</a><!-- 寄送库存 --> <a href="javascript:void(0)" ng-click="btnPrint(item)" ng-show="data.sendType == 2">打印入库标签</a><!-- 海淘包裹 --> </td> </tr> </tbody> </table> </fieldset> <div class="form-group" ng-if="!!data"> <label class="col-sm-2 control-label text-right">收货备注：</label> <div class="col-sm-6"> <textarea class="form-control" ng-model="data.warehouseNote" ng-disabled="true"></textarea> </div> </div> <div class="form-group"> <div class="col-sm-12 text-center"> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </div> </form> </div> <print-helper></print-helper> <print-inbound-package></print-inbound-package> </div>'),
a.put("views/warehouse/receiptedit2.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 入库登记</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货单据编号：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="tempReceiptNumber" ng-keyup="checkReceiptNumber($event)" id="tempReceiptNumber"> </div> <div class="col-sm-1 col-padding-clear"> <button id="tip_receiptNumber_receiptedit2" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right"></label> <!--<div class="col-sm-4">\n                        <a href="javascript:void();" ng-click="btnNoASN()"><i class="fa fa-exclamation-circle" aria-hidden="true"></i> 无货物预报信息?点击这里</a>\n                    </div>--> </div> </fieldset> <div class="form-group green" ng-if="!!data"> <label class="col-sm-2 control-label text-right">已扫描单据：</label> <div class="col-sm-4 text-left"> <label class="control-label">{{data.receiptNumber}}</label> </div> <label ng-if="data.sendType == 2" class="col-sm-2 control-label text-right">快递名称：</label> <div ng-if="data.sendType == 2" class="col-sm-4 text-left"> <label class="control-label">{{data.carrierName}}</label> </div> </div> <fieldset ng-if="!!data"> <legend>基本信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">客户编号：</label> <div class="col-sm-4"> <label class="control-label"><a href="javascript:void(0);" ng-click="btnOpenDetail(data,\'customerdetail\')">{{data.customerNumber}}</a></label> </div> <label class="col-sm-2 control-label text-right">客户标示：</label> <div class="col-sm-4"> <label class="control-label">{{data.receiveIdentity}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货仓库：</label> <div class="col-sm-4"> <label class="control-label">{{data.warehouseName}}</label> </div> <label class="col-sm-2 control-label text-right">创建日期：</label> <div class="col-sm-4"> <label class="control-label">{{data.editdate | date:\'MM/dd/yyyy HH:mm:ss\'}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">是否是员工包裹: </label> <div class="col-sm-4"> <label><input name="pro" type="radio" value="true"> 是</label> <label><input name="pro" type="radio" checked value="false"> 否</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">客户备注信息：</label> <div class="col-sm-10"> <label class="control-label">{{data.packageNote}}</label> </div> </div> </fieldset> <fieldset ng-if="!!data"> <legend>收货明细</legend> <table class="table table-bordered"> <thead> <tr> <th>商品编号</th> <th>UPC</th> <th>品牌</th> <th>商品描述</th> <th>属性1</th> <th>属性2</th> <th>数量</th> <th ng-show="data.sendType == 2">单件重量（磅）</th> <th>操作</th> </tr> </thead> <input id="weight" type="text" class="form-control" ng-model="item.weight"> <tbody> <tr ng-repeat="item in data.items"> <td style="vertical-align: middle">{{item.itemNumber}}</td> <td style="vertical-align: middle">{{item.upccode}}</td> <td style="vertical-align: middle">{{item.brand}}</td> <td style="vertical-align: middle">{{item.description}}</td> <td style="vertical-align: middle"><span ng-show="item.properties[0]">{{item.properties[0].propertyName + \': \' + item.properties[0].propertyValue}}</span></td> <td style="vertical-align: middle"><span ng-show="item.properties[1]">{{item.properties[1].propertyName + \': \' + item.properties[1].propertyValue}}</span></td> <td style="vertical-align: middle">{{item.sendCount}}</td> <td style="vertical-align: middle; width:140px" ng-show="data.sendType == 2"> <input name="weight" type="text" class="form-control" ng-model="item.weight" ng-keyup="myKeyup($event,item)"> </td> <td style="vertical-align: middle"> <a href="javascript:void(0)" ng-click="btnPrint(item)" ng-show="data.sendType == 1">打印清单标签</a> <!-- 寄送库存 --> <a href="javascript:void(0)" ng-click="btnPrint(item)" ng-show="data.sendType == 2">打印入库标签</a> <!-- 海淘包裹 --> </td> </tr> </tbody> </table> </fieldset> <div class="form-group"> <div class="col-sm-12 text-center"> <button type="button" class="btn btn-primary role" data-role="90" ng-click="btnSave()" ng-if="!!data"><i class="fa fa-save"></i>完成登记</button> <button type="button" class="btn btn-primary role" data-role="57" ng-click="btnException()" ng-if="!!data"><i class="fa fa-warning"></i>异常登记</button> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </div> </form> </div> <print-helper></print-helper> <print-inbound-package></print-inbound-package> </div> <script>$(function() {\n        var weight = document.getElementById("tempReceiptNumber");\n        weight.focus();\n    })</script>'),a.put("views/warehouse/receiptexception.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 异常管理</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12" style="padding:0 20px 15px 12px"> <button type="button" class="btn btn-primary role" data-role="57" style="margin-left:5px" ng-click="btnAction(\'exceptionRegister\')">异常登记</button> <button type="button" class="btn btn-primary role" data-role="57" style="margin-left:5px" ng-click="btnAction(\'staff\')">员工包裹</button> </div> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">入库类型：</label> <select class="form-control search-control" ng-model="searchBar.sendType"> <option value="">所有</option> <option value="2">海淘包裹</option> <option value="1">寄送库存</option> </select> </div> <div class="search-col"> <label class="search-label">异常状态：</label> <select class="form-control search-control" ng-model="searchBar.status"> <option value="">所有</option> <option value="1">未解决</option> <option value="2">已关闭</option> <option value="-1">已删除</option> </select> </div> <div class="search-col"> <label class="search-label">收货仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select> </div> <!--<div class="search-col">\n                        <label class="search-label">登记时间：</label>\n                        <select class="form-control search-control" ng-model="searchBar.dateRange" ng-change="changeDate()">\n                            <option value="">所有</option>\n                            <option value="3">最近3天</option>\n                            <option value="7">最近7天</option>\n                            <option value="range">时间范围</option>\n                        </select>\n                    </div>--> <div class="search-col"> <label class="search-label">开始日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">结束日期：</label> <p class="input-group pull-left"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="receiptNumber">入库单号</option> <option value="exceptionNumber">异常编号</option> <option value="customerNumber">客户编号</option> </select> <input type="text" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>收货仓库</th> <th>入库类型</th> <th>异常编号</th> <th>入库单号</th> <th>客户编号</th> <th>登记时间</th> <th>登记人</th> <th>异常类型</th> <th>异常状态</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td>{{item.warehouseName}}</td> <td>{{item._sendtype}}</td> <td>{{item.exceptionNumber}}</td> <td><a href="javascript:void(0)" ng-click="btnOpenDetail(\'receiptDetail\', item)">{{item.receiptNumber}}</a></td> <td><a href="javascript:void(0)" ng-click="btnOpenDetail(\'customerDetail\',item)">{{item.customerNumber}}</a></td> <td>{{item.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</td> <td>{{item.inuser}}</td> <td>{{item._type}}</td> <td>{{item._status}}</td> <td> <a href="javascript:void(0)" ng-click="btnOpenDetail(\'exceptionDetail\', item)">查看</a> <a href="javascript:void(0)" class="role" data-role="58" ng-click="btnAction(\'close\', item)" ng-if="item.status == 1">关闭异常</a> <a href="javascript:void(0)" class="role" data-role="59" ng-click="btnAction(\'delete\', item)" ng-if="item.status == 1">删除</a> </td> </tr> </tbody> </table> <div class="row"> <div class="col-sm-12 text-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> <div class="form-group"> <div class="col-sm-12 text-center"> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </div> </div> </div> </div> </div> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/warehouse/receiptexceptiondetail.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 异常查看</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="form-group green"> <label class="col-sm-2 control-label text-right">已扫描单据：</label> <div class="col-sm-4 text-left"> <label class="control-label">{{data.receiptNumber}}</label> </div> </div> </fieldset> <fieldset> <legend>基本信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">客户编号：</label> <div class="col-sm-4"> <label class="control-label"> <a href="javascript:void(0);" ng-click="btnOpenDetail(\'customerDetail\',data)">{{data.customerNumber}}</a> </label> </div> <label class="col-sm-2 control-label text-right">客户标示：</label> <div class="col-sm-4"> <label class="control-label">{{data.receiveIdentity}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">入库类型：</label> <div class="col-sm-4"> <label class="control-label">{{data._sendtype}}</label> </div> <label class="col-sm-2 control-label text-right">收货单据：</label> <div class="col-sm-4"> <label class="control-label">{{data.receiptNumber}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货仓库：</label> <div class="col-sm-4"> <label class="control-label">{{data.warehouseName}}</label> </div> <label class="col-sm-2 control-label text-right">异常日期：</label> <div class="col-sm-4"> <label class="control-label">{{data.indate | date:\'MM/dd/yyyy HH:mm:ss\'}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">异常状态：</label> <div class="col-sm-4"> <label class="control-label">{{data._status}}</label> </div> <label class="col-sm-2 control-label text-right">登记人：</label> <div class="col-sm-4"> <label class="control-label">{{data.inuser}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">关闭时间：</label> <div class="col-sm-4"> <label class="control-label">{{data.editdate | date:\'MM/dd/yyyy HH:mm:ss\'}}</label> </div> <label class="col-sm-2 control-label text-right">关闭人：</label> <div class="col-sm-4"> <label class="control-label">{{data.edituser}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">异常类型：</label> <div class="col-sm-4"> <label class="control-label">{{data._type}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">备注：</label> <div class="col-sm-4 text-left"> <label class="control-label">{{data.memo}}</label> </div> </div> </fieldset> <div class="form-group"> <div class="col-sm-12 text-center"> <button type="button" class="btn btn-primary role" data-role="58" ng-click="btnAction(\'close\')" ng-if="data.status == 1"><i class="fa fa-check"></i>关闭异常</button> <button type="button" class="btn btn-primary" ng-click="btnPrint()"><i class="fa fa-print"></i>打印异常标签</button> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </div> </form> </div> <print-helper></print-helper> </div>'),a.put("views/warehouse/receiptexceptionedit.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 异常登记</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货单据编号：</label> <div class="col-sm-4"> <input type="text" class="form-control" id="tempReceiptNumber" ng-model="tempReceiptNumber" ng-keyup="keyDown($event)"> </div> <div class="col-sm-1 col-padding-clear"> <button id="tip_receiptNumber_receip" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> </div> </div> </fieldset> <fieldset ng-if="!!data"> <div class="form-group green"> <label class="col-sm-2 control-label text-right">已扫描单据：</label> <div class="col-sm-4 text-left"> <label class="control-label">{{data.receiptNumber}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货仓库：</label> <div class="col-sm-4 text-left"> <input type="text" class="form-control" ng-model="data.warehouseName" disabled> <!--<select class="form-control search-control" ng-model="data.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in warehouseList"></select>   --> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">异常类型：</label> <div class="col-sm-4 text-left"> <select class="form-control search-control" ng-model="data.type"> <option value="1" ng-if="data.sendType == 2">无预报记录</option> <!--海淘包裹--> <option value="2" ng-if="data.sendType == 2">物品损坏</option> <!--海淘包裹--> <option value="7" ng-if="data.sendType == 2">员工包裹</option> <!--海淘包裹--> <option value="3" ng-if="data.sendType == 1">错送</option> <!--寄送库存--> <option value="4" ng-if="data.sendType == 1">少送</option> <!--寄送库存--> <option value="5" ng-if="data.sendType == 1">多送</option> <!--寄送库存--> <option value="6">其他</option> </select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">备注：</label> <div class="col-sm-4 text-left"> <textarea class="form-control" placeholder="最多允许输入500个字符" ng-model="data.memo"></textarea> </div> </div> </fieldset> <div class="form-group"> <div class="col-sm-12 text-center"> <button type="button" class="btn btn-primary" ng-click="btnSave()" ng-if="!!data"><i class="fa fa-save"></i>完成登记并打印异常标签</button> <!--<button type="button" class="btn btn-primary" ng-click="btnPrint()"><i class="fa fa-print"></i>打印异常标签</button>--> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </div> </form> </div> <print-helper></print-helper> </div> <script>$(function() {\n        var tempReceiptNumber = document.getElementById("tempReceiptNumber").focus();\n     })</script>'),a.put("views/warehouse/receiptstaff.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 员工包裹</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货单据编号：</label> <div class="col-sm-4"> <input type="text" class="form-control" id="tempReceiptNumber" ng-model="tempReceiptNumber" ng-keyup="keyDown($event)"> </div> <div class="col-sm-1 col-padding-clear"> <button id="tip_receiptNumber_staff" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> </div> </div> </fieldset> <fieldset ng-if="!!data"> <div class="form-group green"> <label class="col-sm-2 control-label text-right">已扫描单据：</label> <div class="col-sm-4 text-left"> <label class="control-label">{{data.receiptNumber}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">收货仓库：</label> <div class="col-sm-4 text-left"> <select class="form-control search-control" ng-model="data.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in warehouseList"></select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">异常类型：</label> <div class="col-sm-4 text-left"> <select class="form-control search-control" ng-model="data.type"> <option value="1" ng-if="data.sendType == 2">无预报记录</option> <!--海淘包裹--> <option value="2" ng-if="data.sendType == 2">物品损坏</option> <!--海淘包裹--> <option value="7" ng-if="data.sendType == 2">员工包裹</option> <!--海淘包裹--> <option value="3" ng-if="data.sendType == 1">错送</option> <!--寄送库存--> <option value="4" ng-if="data.sendType == 1">少送</option> <!--寄送库存--> <option value="5" ng-if="data.sendType == 1">多送</option> <!--寄送库存--> <option value="6">其他</option> </select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">备注：</label> <div class="col-sm-4 text-left"> <textarea class="form-control" placeholder="最多允许输入500个字符" ng-model="data.memo"></textarea> </div> </div> </fieldset> <div class="form-group"> <div class="col-sm-12 text-center"> <button type="button" class="btn btn-primary" ng-click="btnSave()" ng-if="!!data"><i class="fa fa-save"></i>完成登记并打印异常标签</button> <!--<button type="button" class="btn btn-primary" ng-click="btnPrint()"><i class="fa fa-print"></i>打印异常标签</button>--> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </div> </form> </div> <print-helper></print-helper> </div> <script>$(function() {\n        var tempReceiptNumber = document.getElementById("tempReceiptNumber").focus();\n     })</script>'),a.put("views/warehouse/registerpackageoffline.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 打包登记——线下订单</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="form-group"> <label class="col-sm-2 control-label text-right">CUL包裹单号：</label> <div class="col-sm-4"> <input type="text" id="tempOutboundPackageNumber" class="form-control" ng-model="tempOutboundPackageNumber" ng-keyup="keyDown($event)"> </div> <div class="col-sm-1 col-padding-clear"> <button id="tip_umipackage" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> </div> </div> </fieldset> <fieldset ng-show="!!data"> <legend>基本信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">客户编号：</label> <div class="col-sm-4"> <!--<label class="control-label"><a target="_blank" ng-href="/#/customer/customerdetail?customerNumber={{data.customer.customerNumber}}">{{data.customer.customerNumber}}</a></label>--> <label class="control-label">{{data.customer.customerNumber}}</label> </div> <label class="col-sm-2 control-label text-right">客户姓名：</label> <div class="col-sm-4"> <label class="control-label">{{data.customer.lastName}} {{data.customer.firstName}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">订单编号：</label> <div class="col-sm-4"> <!--<label class="control-label"><a target="_blank" ng-href="/#/order/orderdetail?orderNumber={{data.orderNumber}}">{{data.orderNumber}}</a></label>--> <label class="control-label">{{data.orderNumber}}</label> </div> <label class="col-sm-2 control-label text-right">客户关联号：</label> <div class="col-sm-4"> <label class="control-label">{{data.referenceOrderNumber}}</label> </div> </div> </fieldset> <fieldset ng-show="!!data"> <legend>订单明细</legend> <div class="row col-sm-8 col-sm-offset-1" ng-repeat="item in data.outboundPackages"> <table class="table"> <thead> <tr> <th style="width: 10%" class="text-center">已扫描</th> <th style="width: 15%">CUL包裹编号</th> <th style="width: 15%">AU单号</th> <th style="width: 15%">实际重量（磅）</th> <th style="width: 50%">商品信息</th> <th style="width: 10%">操作</th> </tr> </thead> <tbody> <tr> <td class="text-center"><i class="fa fa-check btn-icon green" ng-show="item.checked"></i></td> <td>{{item.trackingNumber}}</td> <td> <input type="text" class="form-control" ng-model="item.tempTrackingNumber"> </td> <td> <span ng-show="!item.checked">{{item.actualWeight}}</span> <input type="text" class="form-control" ng-model="item.actualWeight" ng-change="weightChanged()" ng-show="item.checked"> </td> <td> <table> <thead> <tr> <th style="width: 30%">品牌</th> <th style="width: 60%">商品描述</th> <th style="width: 10%">数量</th> </tr> </thead> <tbody> <tr ng-repeat="_item in item.items"> <td>{{_item.itemBrand}}</td> <td>{{_item.description}}</td> <td>{{_item.quantity}}</td> </tr> </tbody> </table> </td> <td ng-if="item.status != \'Shipped\' && item.status != \'Arrived\'"> <a href="javascript:void(0);" ng-click="btnPrint(\'flyingexpress\',data)" style="white-space:nowrap">打印特快渠道面单</a> <a href="javascript:void(0);" ng-click="btnPrint(\'flyingexpress_new\',data)" style="white-space:nowrap">打印QD渠道面单</a> <a href="javascript:void(0);" ng-click="btnPrint(\'trackingNumber\',item)" style="white-space:nowrap">打印包裹号</a> <a href="javascript:void(0);" ng-click="btnSplitPackage(item)" style="white-space:nowrap" ng-show="!!item.checked">分箱</a> <a href="javascript:void(0);" ng-click="btnDelPackage(item)" style="white-space:nowrap">删除</a> </td> </tr> </tbody> </table> </div> <div class="clearfix"></div> </fieldset> <div class="form-group text-center"> <button type="button" class="btn btn-primary" ng-click="btnSave()" ng-show="!!data"> <i class="fa fa-save"></i>确认 </button> <button type="button" class="btn btn-primary" ng-click="btnOutBound()" ng-show="!!data" ng-disabled="!outboundEnable"> <i class="fa fa-truck"></i>订单出库 </button> <button id="tip_outbound" type="button" class="btn btn-link btn-help" style="padding-left: 0px" ng-show="!!data"><i class="fa fa-question-circle"></i></button> <button type="button" class="btn btn-default" ng-click="btnPrev()"> <i class="fa fa-reply"></i>返回 </button> </div> </form> </div> </div> <print-flying-express></print-flying-express> <print-flying-express-new></print-flying-express-new> <script>$(function() {\n        var weight = document.getElementById("tempOutboundPackageNumber").focus();\n     })</script>'),a.put("views/warehouse/registerpackageonline.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 打包登记——线上订单</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="form-group"> <label class="col-sm-2 control-label text-right">入库单号：</label> <div class="col-sm-4"> <input type="text" id="tempInboundPackageNumber" class="form-control" ng-model="tempInboundPackageNumber" ng-keyup="keyDown($event)"> </div> </div> </fieldset> <fieldset ng-show="!!data"> <legend>基本信息</legend> <div class="form-group"> <label class="col-sm-2 control-label text-right">客户编号：</label> <div class="col-sm-4"> <label class="control-label">{{data.customer.customerNumber}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">订单编号：</label> <div class="col-sm-4"> <label class="control-label">{{data.orderNumber}}</label> </div> </div> </fieldset> <fieldset ng-show="!!data"> <legend>收货明细</legend> <div class="row col-sm-8 col-sm-offset-1" ng-repeat="item in data.inboundPackages"> <table class="table"> <thead> <tr> <th style="width: 30%">入库单号</th> <th style="width: 30%">重量（磅）</th> <th style="width: 30%" class="text-center">已扫描</th> </tr> </thead> <tbody> <tr> <td>{{item._trackingNumber}}</td> <td>{{item.packageWeight}}</td> <td class="text-center"><i class="fa fa-check btn-icon green" ng-show="item.checked"></i> <!-- <input type="checkbox" ng-model="item.checked"> --> </td> </tr> </tbody> </table> </div> <div class="clearfix"></div> <div class="form-group"> <label class="col-sm-2 control-label text-right">申报价值：</label> <div class="col-sm-4"> <label class="control-label">{{data.declareGoodsValue}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right"></label> <div class="col-sm-6"> <table class="table"> <thead> <tr> <th style="width: 30%">申报品名</th> <th style="width: 30%">商品描述</th> <th style="width: 40%">申报数量</th> </tr> </thead> <tbody> <tr ng-repeat="item in data.orderItems"> <td>{{item.itemBrand}}</td> <td>{{item.description}}</td> <td>{{item.quantity}}</td> </tr> </tbody> </table> </div> </div> </fieldset> <fieldset ng-show="!!data"> <legend>打包明细</legend> <div class="row col-sm-8 col-sm-offset-1"> <table class="table"> <thead> <tr> <th style="width: 20%">转运包裹编号</th> <th style="width: 20%">AU单号</th> <th style="width: 20%">实际重量（磅）</th> <th style="width: 20%">货物子品名</th> <th style="width: 20%">数量</th> <th style="width: 40%" class="text-center">操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in data.outboundPackages"> <td>{{item.trackingNumber}}</td> <td> <input type="text" class="form-control" ng-model="item.tempTrackingNumber"> </td> <td> <input type="text" class="form-control" ng-model="item.actualWeight"> </td> <td> <input type="text" class="form-control" ng-model="item.subDeclareGoodsName"> </td> <td> <input type="number" class="form-control" ng-blur="checkNum(item)" ng-model="item.subGoodNumber"> </td> <td class="" style="height:65px;width:300px"> <div class="btn-tootip-left"> <span ng-if="!isPrint">&nbsp;&nbsp;&nbsp;&nbsp;</span> </div> <div class="" ng-show="data.orderStatus != \'Shipped\'"> <a href="javascript:void(0);" ng-click="btnPrint(item)" ng-mouseover="isPrint = true" ng-mouseleave="isPrint = fasle" style="float: left"><i class="fa fa-print btn-icon red"></i></a> <a href="javascript:void(0);" ng-click="btnSplitPackage(item)" ng-mouseover="isSplit = true" ng-mouseleave="isSplit = fasle" style="float: left"><i class="fa fa-cubes btn-icon red"></i></a> <a href="javascript:void(0);" ng-click="btnDelPackage(item, $index)" ng-mouseover="isDel = true" ng-mouseleave="isDel = false" style="float: left"><i class="fa fa-delicious btn-icon red"></i></a> </div> <div class="btn-tootip-right"> </div> <div class="btn-tootip-bom"> <div style="width:31px;float: left"> <span ng-if="!isPrint">&nbsp;&nbsp;&nbsp;&nbsp;</span> <span ng-if="isPrint">打印</span> </div> <div style="width:31px;float: left"> <span ng-if="!isSplit">&nbsp;&nbsp;&nbsp;&nbsp;</span> <span ng-if="isSplit">分箱</span> </div> <div style="width:31px;float: left"> <span ng-if="!isDel">&nbsp;&nbsp;&nbsp;&nbsp;</span> <span ng-if="isDel">删除</span> </div> </div> </td> </tr> </tbody> </table> </div> </fieldset> <div class="form-group text-center"> <button type="button" class="btn btn-primary" ng-click="btnSave()" ng-show="!!data"> <i class="fa fa-save"></i>确认 </button> <button type="button" class="btn btn-default" ng-click="btnPrev()"> <i class="fa fa-reply"></i>返回 </button> </div> </form> </div> </div> <script>$(function () {\n        var weight = document.getElementById("tempInboundPackageNumber").focus();\n    })</script>'),a.put("views/warehouse/shelf.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 上架管理 - 架位管理</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="col-sm-12 search-bar"> <div class="search-col" style="margin-bottom: 0px"> <button type="button" class="btn btn-primary role" data-role="91" style="margin-left:5px" ng-click="btnAction(\'edit\')">修改商品架位</button> </div> </div> <div class="search-col"> <label class="search-label">所在仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="shelfNumber">架位编号</option> <option value="receiptNumber">入库单号</option> <option value="customerNumber">客户编号</option> <option value="itemNumber">商品编号</option> </select> <input type="text" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>所在仓库</th> <th>入库单号</th> <th>架位编号</th> <th>商品类型</th> <th>商品编号</th> <th>商品关联编号</th> <th>客户编号</th> <th>商品数量</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td>{{getWarehouseName(item.warehouseNumber)}}</td> <td>{{item.receiptNumber}}</td> <td>{{item.shelfNumber}}</td> <td>{{item._sendType}}</td> <td>{{item.itemNumber}}</td> <td></td> <td>{{item.customerNumber}}</td> <td>{{item.itemCount}}</td> <td> <a href="javascript:void(0)" class="role" data-role="91" ng-click="btnAction(\'edit\', item)">修改架位</a> </td> </tr> </tbody> </table> </div> </div> <div class="row"> <!--<div class="col-sm-6 text-left pull-left">\n                <button type="button" class="btn btn-primary">导出架位信息</button>\n            </div>--> <div class="col-sm-6 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> <div class="form-group"> <div class="col-sm-12"> <button type="button" class="btn btn-default" ng-click="btnPrev()" style="margin-left:5px;margin-bottom:5px"><i class="fa fa-reply"></i>返回</button> </div> </div> </div> </div> <print-unshelf></print-unshelf> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),
a.put("views/warehouse/shelfdetail.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 修改商品架位</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="form-group"> <label class="col-sm-2 control-label text-right">当前架位：</label> <div class="col-sm-4 text-left"> <input type="text" class="form-control" placeholder="当前架位" ng-model="data.originShelfNumber"> </div> <div class="col-sm-1 col-padding-clear"> <button id="tip_originShelfNumber" type="button" class="btn btn-link btn-help"><i class="fa fa-question-circle"></i></button> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">商品编号：</label> <div class="col-sm-4 text-left"> <input type="text" class="form-control" placeholder="商品编号" ng-model="data.itemNumber"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">目标仓库：</label> <div class="col-sm-4 text-left"> <input type="text" class="form-control" placeholder="" value="{{data.warehouseName}}" readonly> <!--<select class="form-control search-control" ng-readonly="true" ng-model="data.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in warehouseList"></select>--> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">目标架位：</label> <div class="col-sm-4 text-left"> <input type="text" class="form-control" placeholder="目标架位" ng-model="data.targetShelfNumber"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">移动数量：</label> <div class="col-sm-4 text-left"> <input type="number" class="form-control" placeholder="移动数量" ng-model="data.moveItemCount"> </div> </div> </fieldset> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="btnSave()" ng-if="!!data"><i class="fa fa-save"></i>完成修改</button> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </div> </form> </div> </div>'),a.put("views/warehouse/shelfmanagement.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 架位管理</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="col-sm-12 search-bar"> <div class="search-col" style="margin-bottom: 0px"> <button type="button" class="btn btn-primary role" data-role="62" style="margin-left:5px" ng-click="btnAction(\'create\')">创建架位</button> </div> </div> <div class="search-col"> <label class="search-label">架位类型：</label> <select class="form-control search-control" ng-model="searchBar.type"> <option value="">所有</option> <option value="A">海淘客户</option> <option value="B">大客户</option> <option value="C">异常包裹</option> <option value="D">员工包裹</option> </select> </div> <div class="search-col"> <label class="search-label">所在仓库：</label> <select class="form-control search-control" ng-model="searchBar.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in searchBar.warehouseList"></select> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="shelfNumber">架位编号</option> <option value="customerNumber">客户编号</option> <option value="itemNumber">商品编号</option> <option value="trackingNumber">入库单号</option> </select> <input type="text" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>所在仓库</th> <th>架位类型</th> <th>架位编号</th> <th>商品数量</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td>{{getWarehouseName(item.warehouseNumber)}}</td> <td>{{item._type}}</td> <td> {{item.shelfNumber}} <a href="javascript:void(0)" ng-click="btnAction(\'detail\', item)"><i class="fa fa-eye"></i></a> </td> <td>{{item.itemCount}}</td> <td> <a href="javascript:void(0)" ng-click="btnAction(\'detail\', item)">查看</a> <a href="javascript:void(0)" class="role" data-role="62" ng-click="btnPrint(item)">打印架位标签</a> <a href="javascript:void(0)" ng-click="deleteShelf(item)">删除</a> </td> </tr> </tbody> </table> </div> </div> <div class="row"> <div class="col-sm-6 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <print-helper></print-helper> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/warehouse/shelfmanagementcreate.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 创建架位</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="form-group"> <label class="col-sm-2 control-label text-right">所在仓库：</label> <div class="col-sm-4 text-left"> <select class="form-control search-control" ng-model="data.warehouseNumber" ng-options="item.warehouseNumber as item.warehouseName for item in warehouseList"></select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">货物区域：</label> <div class="col-sm-4 text-left"> <select class="form-control search-control" ng-model="data.area" ng-options="item.value as item.title for item in shelfOptions.area"></select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">货架排：</label> <div class="col-sm-4 text-left"> <select class="form-control search-control" ng-model="data.row" ng-options="item.value as item.title for item in shelfOptions.row"></select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">货架层：</label> <div class="col-sm-4 text-left"> <select class="form-control search-control" ng-model="data.layer" ng-options="item.value as item.title for item in shelfOptions.layer"></select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">货位：</label> <div class="col-sm-4 text-left"> <select class="form-control search-control" ng-model="data.position" ng-options="item.value as item.title for item in shelfOptions.position"></select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right"></label> <div class="col-sm-4 text-left"> <input id="isBox" type="checkbox" ng-model="isBox"> <span style="font-size:17px"> box</span> </div> </div> </fieldset> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="btnSave()"><i class="fa fa-save"></i>确认</button> <button type="button" class="btn btn-primary role" data-role="62" ng-click="btnPrint()"><i class="fa fa-print"></i>打印架位标签</button> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </div> </form> </div> <print-helper></print-helper> </div>'),a.put("views/warehouse/shelfmanagementdetail.html",'<div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> 查看架位</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="form-group green"> <label class="col-sm-2 control-label text-right">架位编号：</label> <div class="col-sm-4 text-left"> <label class="control-label">{{data.shelfNumber}}</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">所在仓库：</label> <div class="col-sm-4 text-left"> <label class="control-label">{{ warehouseName }}</label> </div> </div> <div class="row"> <div class="col-sm-offset-2 col-sm-6"> <table class="table table-bordered"> <thead> <tr> <th>货物区域</th> <th>货架排</th> <th>货架层</th> <th>货位</th> </tr> </thead> <tbody> <tr> <td>{{data.shelfArea}}</td> <td>{{data.shelfRow}}</td> <td>{{data.shelfLayer}}</td> <td>{{data.shelfPosition}}</td> </tr> </tbody> </table> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">商品总数：</label> <div class="col-sm-4 text-left"> <label class="control-label">{{data.itemCount}}</label> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-6"> <div class="row"> <div class="col-sm-4" ng-repeat="item in data.shelfItemList"> <label class="control-label"> <a href="javascript:void(0)" ng-click="btnAction(\'detail\',item)">{{item.itemNumber}} x {{item.itemCount}}</a> </label> </div> </div> </div> </div> </fieldset> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </div> </form> </div> </div>'),a.put("views/warehouse/shipping.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 出货管理</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12" style="padding:0 20px 15px 12px"> <button type="button" class="btn btn-danger" style="margin-left:5px" ng-click="addShipping();">订单签出</button> </div> <div class="col-sm-12 search-bar"> <div class="search-col"> <label class="search-label">开始日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.startDate" is-open="searchBar.opened.startDate" show-button-bar="false" ng-click="searchBar.opened.startDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">结束日期：</label> <p class="input-group"> <input type="text" class="form-control search-control" style="width:110px" uib-datepicker-popup ng-model="searchBar.endDate" is-open="searchBar.opened.endDate" show-button-bar="false" ng-click="searchBar.opened.endDate = true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.endDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control"> <option>转运单号</option> <option>客户编号</option> <option>客户ID</option> <option>仓位编号</option> <option>客户标识</option> </select> <input type="text" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px">搜索</button> </div> </div> </div> </form> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>转运单号</th> <th>客户编号</th> <th>客户ID</th> <th>标识</th> <th>重量</th> <th>入库时间</th> <th>库存天数</th> <th>位置</th> <th>客户备注</th> <th>仓库备注</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.id}}</td> <td><a href="javascript:void(0);" ng-click="linkToExpressWebSite(item);">{{item.expressNumber}}</a></td> <td><a href="javascript:void(0);" ng-click="linkToCustomerInfoPage(item.number);">{{item.number}}</a></td> <td>{{item.userId}}</td> <td>{{item.tag}}</td> <td>{{item.weight}}</td> <td>{{item.ceatetime}}</td> <td>{{item.days}}</td> <td>{{item.location}}</td> <td>{{item.custMemo}}</td> <td>{{item.memo}}</td> <td> <a href="javascript:void(0);">编辑</a> <a href="javascript:void(0);">删除</a> </td> </tr> </tbody> </table> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.total" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/web/announce.html",'<div class="widget widget-table"> <div class="widget-header"> <h3><i class="fa fa-table"></i> 公告管理</h3> </div> <div class="widget-content"> <form> <div class="row"> <div class="col-sm-12 search-bar"> <div class="col-sm-12 search-bar"> <div class="search-col" style="margin-bottom: 0px"> <button type="button" class="btn btn-primary role" data-role="62" style="margin-left:5px" ng-click="btnAction(\'create\')">新建公告</button> </div> </div> <div class="search-col"> <label class="search-label">公告类型：</label> <select class="form-control search-control" ng-model="searchBar.type"> <option value="">所有</option> <option value="1">登入公告</option> <option value="2">普通公告</option> <option value="3">促销活动</option> <option value="4">弹出广告</option> </select> </div> <div class="search-col"> <label class="search-label">状态：</label> <select class="form-control search-control" ng-model="searchBar.status"> <option value="">所有</option> <option value="1">启用</option> <option value="0">\b禁用</option> </select> </div> <div class="clearfix"></div> <div class="search-col"> <label class="search-label">搜索条目：</label> <select class="form-control search-control" ng-model="searchBar.keywordType"> <option value="title">标题</option> </select> <input type="text" name="search" id="search" class="form-control search-control" style="margin-left:5px; width:480px" placeholder="请输入查询关键字" ng-model="searchBar.keywords" ng-enter="btnSearch()"> <button type="button" id="submit" class="btn btn-primary" style="margin-left:5px" ng-click="btnSearch()">搜索</button> </div> </div> </div> </form> <div class="row"> <div class="col-sm-12"> <table class="table table-bordered"> <thead> <tr> <th>序号</th> <th>公告标题</th> <th style="width:30%">公告正文</th> <th>公告时间</th> <th>公告类型</th> <th>状态</th> <th>公开</th> <th>开始时间</th> <th>结束时间</th> <th>最后修改用户</th> <th>最后修改时间</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in dataList"> <td>{{item.rownumber}}</td> <td>{{item.title}}</td> <td>{{item.content}}</td> <td>{{item.openTime | date:"yyyy-MM-dd"}}</td> <td>{{item.type | webType}}</td> <td>{{item.status | webstatus}}</td> <td>{{item.openAll | webopenAll}}</td> <td>{{item.start | date:"yyyy-MM-dd"}}</td> <td>{{item.end | date:"yyyy-MM-dd"}}</td> <td>{{item.lastEditUser}}</td> <td>{{item.lastEditTime | date:"yyyy-MM-dd hh:mm:ss"}}</td> <td> <a href="javascript:void(0)" ng-click="update(item)">修改</a> <a href="javascript:void(0)" ng-click="btnDelete(item)">删除</a> </td> </tr> </tbody> </table> </div> </div> <div class="row"> <div class="col-sm-6 text-right pull-right"> <uib-pagination class="pagination pagination-rewrite pull-right" boundary-links="true" max-size="5" total-items="pagination.totalCount" items-per-page="pagination.pageSize" ng-model="pagination.pageIndex" ng-change="getData()" previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"> </uib-pagination> <select class="form-control pull-right" style="width:70px" ng-model="pagination.pageSize" ng-change="getData()"> <option value="10">10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option> </select> </div> </div> </div> </div> <print-helper></print-helper> <script>var search = document.getElementById(\'search\');\n    search.focus();\n    search.addEventListener(\'keypress\', function(event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n            document.getElementById(\'submit\').click();\n        }\n    });</script>'),a.put("views/web/new-announce.html",'<style>/* override styles here */\n        .pell-content {\n          background-color: pink;\n        }</style> <div class="widget"> <div class="widget-header"> <h3><i class="fa fa-edit"></i> \b创建公告</h3> </div> <div class="widget-content"> <form class="form-horizontal" role="form"> <fieldset> <div class="form-group"> <label class="col-sm-2 control-label text-right">公告标题：</label> <div class="col-sm-5 text-left"> <input type="text" id="txtTitle" class="form-control" placeholder="公告标题" ng-model="data.title"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">公告时间：</label> <div class="col-sm-5 text-left"> <p class="input-group pull-left"> <input type="text" class="form-control search-control" uib-datepicker-popup ng-model="data.openTime" is-open="searchBar.opened.startDate" show-button-bar="false"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.startDate = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">\b展示时间起：</label> <div class="col-sm-2 text-left"> <p class="input-group pull-left"> <input type="text" class="form-control search-control" uib-datepicker-popup ng-model="data.start" is-open="searchBar.opened.openTime" show-button-bar="false"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.openTime = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> <label class="col-sm-1 control-label" style="text-align:center">\b至</label> <div class="col-sm-2 text-left"> <p class="input-group pull-left"> <input type="text" class="form-control search-control" uib-datepicker-popup ng-model="data.end" is-open="searchBar.opened.end" show-button-bar="false"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="searchBar.opened.end = true"><i class="fa fa-calendar"></i></button> </span> </p> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">公告类型：</label> <div class="col-sm-4 text-left"> <select class="form-control search-control" ng-change="changeOpenAll(data.type)" ng-model="data.type" style="color:black"> <option value="">请选择公告类型</option> <option value="1" ng-selected="data.type == 1">登入公告</option> <option value="2" ng-selected="data.type == 2">普通公告</option> <option value="3" ng-selected="data.type == 3">促销活动</option> <option value="4" ng-selected="data.type == 4">弹出广告</option> </select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">公告排序:</label> <div class="col-sm-3 text-left"> <input type="number" class="form-control" ng-model="data.sort"> </div> </div> <div class="form-group"> <label class="col-sm-2 text-right">状态：</label> <div class="col-sm-4 text-left"> <label> <input type="radio" name="status" id="status1" value="1" ng-model="data.status"> 启用 </label> &nbsp; <label> <input type="radio" name="status" id="status2" value="0" ng-model="data.status"> 禁用 </label> </div> </div> <div class="form-group" ng-show="openFlag != 1"> <label class="col-sm-2 text-right">是否公开：</label> <div class="col-sm-4 text-left"> <label> <input type="radio" name="openAll" id="status3" value="1" ng-model="data.openAll" ng-disabled="disabledFlag == 1"> 是 </label> &nbsp; <label> <input type="radio" name="openAll" id="status4" value="0" ng-model="data.openAll" ng-disabled="disabledFlag == 1"> 否 </label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label text-right">公告正文：</label> <div id="pell" class="col-sm-10 text-left"> <!-- <div id="froala-editor">\n                                    <p>This example illustrates how to clear the text using a button external to the Froala WYSIWYG HTML Editor interface.</p>\n                                  </div> --> <textarea type="text" id="content" rows="20" class="form-control" placeholder="公告正文" ng-model="data.content"></textarea> </div> </div> </fieldset> <div class="form-group"> <div ng-if="flag !=\'1\'" class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="btnSave()"><i class="fa fa-save"></i>创建</button> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> <div ng-if="flag ==\'1\'" class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="updateAnnounce()"><i class="fa fa-save"></i>更新</button> <button type="button" class="btn btn-default" ng-click="btnPrev()"><i class="fa fa-reply"></i>返回</button> </div> </div> </form> </div> <print-helper></print-helper> </div> <script>var txtTitle = document.getElementById("txtTitle");\n    txtTitle.focus();\n\n    // $(function() {\n    //     $(\'div#froala-editor\')\n    //       .on(\'froalaEditor.initialized\', function (e, editor) {\n'+"    //         editor.events.bindClick($('body'), 'a#get-text', function () {\n    //           editor.html.set('');\n    //           editor.events.focus();\n    //         });\n    //       })\n    //       .froalaEditor()\n    //   });\n\n// editor.content<HTMLElement>\n// To change the editor's content:</script>")}]);